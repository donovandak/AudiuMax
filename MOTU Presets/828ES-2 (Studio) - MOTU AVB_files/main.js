!function(e){function t(t){for(var n,i,o=t[0],a=t[1],s=0,u=[];s<o.length;s++)i=o[s],r[i]&&u.push(r[i][0]),r[i]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(l&&l(t);u.length;)u.shift()()}var n={},r={0:0};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var o=window.webpackJsonp=window.webpackJsonp||[],a=o.push.bind(o);o.push=t,o=o.slice();for(var s=0;s<o.length;s++)t(o[s]);var l=a;i(i.s=430)}([function(e,t,n){"use strict";e.exports=n(415)},function(e,t,n){(function(e,r){var i;
/**
 * @license
 * Lo-Dash 2.4.1 (Custom Build) lodash.com/license | Underscore.js 1.5.2 underscorejs.org/LICENSE
 * Build: `lodash modern -o ./dist/lodash.js`
 */(function(){function o(e,t,n){n=(n||0)-1;for(var r=e?e.length:0;++n<r;)if(e[n]===t)return n;return-1}function a(e,t){var n=typeof t;if(e=e.l,"boolean"==n||null==t)return e[t]?0:-1;"number"!=n&&"string"!=n&&(n="object");var r="number"==n?t:x+t;return e=(e=e[n])&&e[r],"object"==n?e&&-1<o(e,t)?0:-1:e?0:-1}function s(e){var t=this.l,n=typeof e;if("boolean"==n||null==e)t[e]=!0;else{"number"!=n&&"string"!=n&&(n="object");var r="number"==n?e:x+e;t=t[n]||(t[n]={});"object"==n?(t[r]||(t[r]=[])).push(e):t[r]=!0}}function l(e){return e.charCodeAt(0)}function u(e,t){for(var n=e.m,r=t.m,i=-1,o=n.length;++i<o;){var a=n[i],s=r[i];if(a!==s){if(a>s||void 0===a)return 1;if(a<s||void 0===s)return-1}}return e.n-t.n}function c(e){var t=-1,n=e.length,r=e[0],i=e[n/2|0],o=e[n-1];if(r&&"object"==typeof r&&i&&"object"==typeof i&&o&&"object"==typeof o)return!1;for((r=d()).false=r.null=r.true=r.undefined=!1,(i=d()).k=e,i.l=r,i.push=s;++t<n;)i.push(e[t]);return i}function h(e){return"\\"+X[e]}function p(){return b.pop()||[]}function d(){return y.pop()||{k:null,l:null,m:null,false:!1,n:0,null:!1,number:null,object:null,push:null,string:null,true:!1,undefined:!1,o:null}}function f(e){e.length=0,b.length<w&&b.push(e)}function v(e){var t=e.l;t&&v(t),e.k=e.l=e.m=e.object=e.number=e.string=e.o=null,y.length<w&&y.push(e)}function m(e,t,n){t||(t=0),void 0===n&&(n=e?e.length:0);var r=-1;n=n-t||0;for(var i=Array(0>n?0:n);++r<n;)i[r]=e[t+r];return i}var g,b=[],y=[],C=0,x=+new Date+"",_=75,w=40,S=" \t\v\f \ufeff\n\r\u2028\u2029 ᠎             　",k=/\b__p\+='';/g,T=/\b(__p\+=)''\+/g,E=/(__e\(.*?\)|\b__t\))\+'';/g,P=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,I=/\w*$/,B=/^\s*function[ \n\r\t]+\w/,N=/<%=([\s\S]+?)%>/g,M=RegExp("^["+S+"]*0+(?=.$)"),O=/($^)/,A=/\bthis\b/,L=/['\n\r\t\u2028\u2029\\]/g,D="Array Boolean Date Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setTimeout".split(" "),R="[object Arguments]",F="[object Array]",V="[object Boolean]",U="[object Date]",j="[object Function]",H="[object Number]",z="[object Object]",G="[object RegExp]",q="[object String]",W={};W[j]=!1,W[R]=W[F]=W[V]=W[U]=W[H]=W[z]=W[G]=W[q]=!0;var K={leading:!1,maxWait:0,trailing:!1},Q={configurable:!1,enumerable:!1,value:null,writable:!1},Y={boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1},X={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},$=Y[typeof window]&&window||this,Z=Y[typeof t]&&t&&!t.nodeType&&t,J=Y[typeof e]&&e&&!e.nodeType&&e,ee=(J&&J.exports,Y[typeof r]&&r);!ee||ee.global!==ee&&ee.window!==ee||($=ee);var te=function e(t){function n(e,t,n){if(!e||!Y[typeof e])return e;t=t&&void 0===n?t:Z(t,n,3);for(var r=-1,i=Y[typeof e]&&Ot(e),o=i?i.length:0;++r<o&&!1!==t(e[n=i[r]],n,e););return e}function r(e,t,n){var r;if(!e||!Y[typeof e])return e;for(r in t=t&&void 0===n?t:Z(t,n,3),e)if(!1===t(e[r],r,e))break;return e}function i(e,t,n){var r,i=e,o=i;if(!i)return o;for(var a=arguments,s=0,l="number"==typeof n?2:a.length;++s<l;)if((i=a[s])&&Y[typeof i])for(var u=-1,c=Y[typeof i]&&Ot(i),h=c?c.length:0;++u<h;)void 0===o[r=c[u]]&&(o[r]=i[r]);return o}function s(e,t,n){var r,i=e,o=i;if(!i)return o;var a=arguments,s=0,l="number"==typeof n?2:a.length;if(3<l&&"function"==typeof a[l-2])var u=Z(a[--l-1],a[l--],2);else 2<l&&"function"==typeof a[l-1]&&(u=a[--l]);for(;++s<l;)if((i=a[s])&&Y[typeof i])for(var c=-1,h=Y[typeof i]&&Ot(i),p=h?h.length:0;++c<p;)o[r=h[c]]=u?u(o[r],i[r]):i[r];return o}function b(e){return e&&"object"==typeof e&&!Mt(e)&&ft.call(e,"__wrapped__")?e:new y(e)}function y(e,t){this.__chain__=!!t,this.__wrapped__=e}function w(e,t,r,i,o){if(r){var a=r(e);if(void 0!==a)return a}if(!be(e))return e;var l=st.call(e);if(!W[l])return e;var u=It[l];switch(l){case V:case U:return new u(+e);case H:case q:return new u(e);case G:return(a=u(e.source,I.exec(e))).lastIndex=e.lastIndex,a}if(l=Mt(e),t){var c=!i;i||(i=p()),o||(o=p());for(var h=i.length;h--;)if(i[h]==e)return o[h];a=l?u(e.length):{}}else a=l?m(e):s({},e);return l&&(ft.call(e,"index")&&(a.index=e.index),ft.call(e,"input")&&(a.input=e.input)),t?(i.push(e),o.push(a),(l?Te:n)(e,function(e,n){a[n]=w(e,t,r,i,o)}),c&&(f(i),f(o)),a):a}function X(e){return be(e)?Ct(e):{}}function Z(e,t,n){if("function"!=typeof e)return ze;if(void 0===t||!("prototype"in e))return e;var r=e.__bindData__;if(void 0===r&&(Bt.funcNames&&(r=!e.name),!(r=r||!Bt.funcDecomp))){var i=pt.call(e);Bt.funcNames||(r=!B.test(i)),r||(r=A.test(i),Nt(e,r))}if(!1===r||!0!==r&&1&r[1])return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return je(e,t)}function J(e,t){var n=-1,r=ue(),i=e?e.length:0,s=i>=_&&r===o,l=[];if(s){var u=c(t);u?(r=a,t=u):s=!1}for(;++n<i;)0>r(t,u=e[n])&&l.push(u);return s&&v(t),l}function ee(e,t,n,r){r=(r||0)-1;for(var i=e?e.length:0,o=[];++r<i;){var a=e[r];if(a&&"object"==typeof a&&"number"==typeof a.length&&(Mt(a)||de(a))){t||(a=ee(a,t,n));var s=-1,l=a.length,u=o.length;for(o.length+=l;++s<l;)o[u++]=a[s]}else n||o.push(a)}return o}function ne(e,t,n,i,o,a){if(n&&void 0!==(d=n(e,t)))return!!d;if(e===t)return 0!==e||1/e==1/t;if(e==e&&!(e&&Y[typeof e]||t&&Y[typeof t]))return!1;if(null==e||null==t)return e===t;var s=st.call(e),l=st.call(t);if(s==R&&(s=z),l==R&&(l=z),s!=l)return!1;switch(s){case V:case U:return+e==+t;case H:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case G:case q:return e==nt(t)}if(!(l=s==F)){var u=ft.call(e,"__wrapped__"),c=ft.call(t,"__wrapped__");if(u||c)return ne(u?e.__wrapped__:e,c?t.__wrapped__:t,n,i,o,a);if(s!=z)return!1;if((s=e.constructor)!=(u=t.constructor)&&!(ge(s)&&s instanceof s&&ge(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}for(s=!o,o||(o=p()),a||(a=p()),u=o.length;u--;)if(o[u]==e)return a[u]==t;var h=0,d=!0;if(o.push(e),a.push(t),l){if(u=e.length,h=t.length,(d=h==u)||i)for(;h--;)if(l=u,c=t[h],i)for(;l--&&!(d=ne(e[l],c,n,i,o,a)););else if(!(d=ne(e[h],c,n,i,o,a)))break}else r(t,function(t,r,s){return ft.call(s,r)?(h++,d=ft.call(e,r)&&ne(e[r],t,n,i,o,a)):void 0}),d&&!i&&r(e,function(e,t,n){return ft.call(n,t)?d=-1<--h:void 0});return o.pop(),a.pop(),s&&(f(o),f(a)),d}function re(e,t,r,i,o){(Mt(t)?Te:n)(t,function(t,n){var a,s,l=t,u=e[n];if(t&&((s=Mt(t))||Ft(t))){for(l=i.length;l--;)if(a=i[l]==t){u=o[l];break}var c;a||(r&&(c=void 0!==(l=r(u,t)))&&(u=l),c||(u=s?Mt(u)?u:[]:Ft(u)?u:{}),i.push(t),o.push(u),c||re(u,t,r,i,o))}else r&&void 0===(l=r(u,t))&&(l=t),void 0!==l&&(u=l);e[n]=u})}function ie(e,t){return e+ht(Pt()*(t-e+1))}function oe(e,t,n){var r=-1,i=ue(),s=e?e.length:0,l=[],u=!t&&s>=_&&i===o,h=n||u?p():l;for(u&&(h=c(h),i=a);++r<s;){var d=e[r],m=n?n(d,r,e):d;(t?!r||h[h.length-1]!==m:0>i(h,m))&&((n||u)&&h.push(m),l.push(d))}return u?(f(h.k),v(h)):n&&f(h),l}function ae(e){return function(t,r,i){var o={};r=b.createCallback(r,i,3),i=-1;var a=t?t.length:0;if("number"==typeof a)for(;++i<a;){var s=t[i];e(o,s,r(s,i,t),t)}else n(t,function(t,n,i){e(o,t,r(t,n,i),i)});return o}}function se(e,t,n,r,i,o){var a=1&t,s=4&t,l=16&t,u=32&t;if(!(2&t||ge(e)))throw new rt;l&&!n.length&&(t&=-17,l=n=!1),u&&!r.length&&(t&=-33,u=r=!1);var c=e&&e.__bindData__;return c&&!0!==c?((c=m(c))[2]&&(c[2]=m(c[2])),c[3]&&(c[3]=m(c[3])),!a||1&c[1]||(c[4]=i),!a&&1&c[1]&&(t|=8),!s||4&c[1]||(c[5]=o),l&&vt.apply(c[2]||(c[2]=[]),n),u&&bt.apply(c[3]||(c[3]=[]),r),c[1]|=t,se.apply(null,c)):(1==t||17===t?function(e){function t(){if(r){var e=m(r);vt.apply(e,arguments)}if(this instanceof t){var o=X(n.prototype);return be(e=n.apply(o,e||arguments))?e:o}return n.apply(i,e||arguments)}var n=e[0],r=e[2],i=e[4];return Nt(t,e),t}:function e(t){function n(){var t=u?s:this;if(o){var f=m(o);vt.apply(f,arguments)}return(a||h)&&(f||(f=m(arguments)),a&&vt.apply(f,a),h&&f.length<l)?(i|=16,e([r,p?i:-4&i,f,null,s,l])):(f||(f=arguments),c&&(r=t[d]),this instanceof n?(t=X(r.prototype),be(f=r.apply(t,f))?f:t):r.apply(t,f))}var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=1&i,c=2&i,h=4&i,p=8&i,d=r;return Nt(n,t),n})([e,t,n,r,i,o])}function le(e){return At[e]}function ue(){var e=(e=b.indexOf)===Le?o:e;return e}function ce(e){return"function"==typeof e&&lt.test(e)}function he(e){var t,n;return!!(e&&st.call(e)==z&&(t=e.constructor,!ge(t)||t instanceof t))&&(r(e,function(e,t){n=t}),void 0===n||ft.call(e,n))}function pe(e){return Lt[e]}function de(e){return e&&"object"==typeof e&&"number"==typeof e.length&&st.call(e)==R||!1}function fe(e,t,n){var r=Ot(e),i=r.length;for(t=Z(t,n,3);i--&&!1!==t(e[n=r[i]],n,e););return e}function ve(e){var t=[];return r(e,function(e,n){ge(e)&&t.push(n)}),t.sort()}function me(e){for(var t=-1,n=Ot(e),r=n.length,i={};++t<r;){var o=n[t];i[e[o]]=o}return i}function ge(e){return"function"==typeof e}function be(e){return!(!e||!Y[typeof e])}function ye(e){return"number"==typeof e||e&&"object"==typeof e&&st.call(e)==H||!1}function Ce(e){return"string"==typeof e||e&&"object"==typeof e&&st.call(e)==q||!1}function xe(e){for(var t=-1,n=Ot(e),r=n.length,i=Qe(r);++t<r;)i[t]=e[n[t]];return i}function _e(e,t,r){var i=-1,o=ue(),a=e?e.length:0,s=!1;return r=(0>r?kt(0,a+r):r)||0,Mt(e)?s=-1<o(e,t,r):"number"==typeof a?s=-1<(Ce(e)?e.indexOf(t,r):o(e,t,r)):n(e,function(e){return++i<r?void 0:!(s=e===t)}),s}function we(e,t,r){var i=!0;t=b.createCallback(t,r,3),r=-1;var o=e?e.length:0;if("number"==typeof o)for(;++r<o&&(i=!!t(e[r],r,e)););else n(e,function(e,n,r){return i=!!t(e,n,r)});return i}function Se(e,t,r){var i=[];t=b.createCallback(t,r,3),r=-1;var o=e?e.length:0;if("number"==typeof o)for(;++r<o;){var a=e[r];t(a,r,e)&&i.push(a)}else n(e,function(e,n,r){t(e,n,r)&&i.push(e)});return i}function ke(e,t,r){t=b.createCallback(t,r,3),r=-1;var i,o=e?e.length:0;if("number"!=typeof o)return n(e,function(e,n,r){return t(e,n,r)?(i=e,!1):void 0}),i;for(;++r<o;){var a=e[r];if(t(a,r,e))return a}}function Te(e,t,r){var i=-1,o=e?e.length:0;if(t=t&&void 0===r?t:Z(t,r,3),"number"==typeof o)for(;++i<o&&!1!==t(e[i],i,e););else n(e,t);return e}function Ee(e,t,r){var i=e?e.length:0;if(t=t&&void 0===r?t:Z(t,r,3),"number"==typeof i)for(;i--&&!1!==t(e[i],i,e););else{var o=Ot(e);i=o.length,n(e,function(e,n,r){return n=o?o[--i]:--i,t(r[n],n,r)})}return e}function Pe(e,t,r){var i=-1,o=e?e.length:0;if(t=b.createCallback(t,r,3),"number"==typeof o)for(var a=Qe(o);++i<o;)a[i]=t(e[i],i,e);else a=[],n(e,function(e,n,r){a[++i]=t(e,n,r)});return a}function Ie(e,t,n){var r=-1/0,i=r;if("function"!=typeof t&&n&&n[t]===e&&(t=null),null==t&&Mt(e)){n=-1;for(var o=e.length;++n<o;){var a=e[n];a>i&&(i=a)}}else t=null==t&&Ce(e)?l:b.createCallback(t,n,3),Te(e,function(e,n,o){(n=t(e,n,o))>r&&(r=n,i=e)});return i}function Be(e,t,r,i){if(!e)return r;var o=3>arguments.length;t=b.createCallback(t,i,4);var a=-1,s=e.length;if("number"==typeof s)for(o&&(r=e[++a]);++a<s;)r=t(r,e[a],a,e);else n(e,function(e,n,i){r=o?(o=!1,e):t(r,e,n,i)});return r}function Ne(e,t,n,r){var i=3>arguments.length;return t=b.createCallback(t,r,4),Ee(e,function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)}),n}function Me(e){var t=-1,n=e?e.length:0,r=Qe("number"==typeof n?n:0);return Te(e,function(e){var n=ie(0,++t);r[t]=r[n],r[n]=e}),r}function Oe(e,t,r){var i;t=b.createCallback(t,r,3),r=-1;var o=e?e.length:0;if("number"==typeof o)for(;++r<o&&!(i=t(e[r],r,e)););else n(e,function(e,n,r){return!(i=t(e,n,r))});return!!i}function Ae(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var o=-1;for(t=b.createCallback(t,n,3);++o<i&&t(e[o],o,e);)r++}else if(null==(r=t)||n)return e?e[0]:g;return m(e,0,Tt(kt(0,r),i))}function Le(e,t,n){if("number"==typeof n){var r=e?e.length:0;n=0>n?kt(0,r+n):n||0}else if(n)return e[n=Re(e,t)]===t?n:-1;return o(e,t,n)}function De(e,t,n){if("number"!=typeof t&&null!=t){var r=0,i=-1,o=e?e.length:0;for(t=b.createCallback(t,n,3);++i<o&&t(e[i],i,e);)r++}else r=null==t||n?1:kt(0,t);return m(e,r)}function Re(e,t,n,r){var i=0,o=e?e.length:i;for(t=(n=n?b.createCallback(n,r,1):ze)(t);i<o;)n(e[r=i+o>>>1])<t?i=r+1:o=r;return i}function Fe(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n="function"!=typeof t&&r&&r[t]===e?null:t,t=!1),null!=n&&(n=b.createCallback(n,r,3)),oe(e,t,n)}function Ve(){for(var e=1<arguments.length?arguments:arguments[0],t=-1,n=e?Ie(Ht(e,"length")):0,r=Qe(0>n?0:n);++t<n;)r[t]=Ht(e,t);return r}function Ue(e,t){var n=-1,r=e?e.length:0,i={};for(t||!r||Mt(e[0])||(t=[]);++n<r;){var o=e[n];t?i[o]=t[n]:o&&(i[o[0]]=o[1])}return i}function je(e,t){return 2<arguments.length?se(e,17,m(arguments,2),null,t):se(e,1,null,null,t)}function He(e,t,n){function r(){c&&ct(c),a=c=h=g,(f||d!==t)&&(p=zt(),s=e.apply(u,o),c||a||(o=u=null))}function i(){var n=t-(zt()-l);0<n?c=mt(i,n):(a&&ct(a),n=h,a=c=h=g,n&&(p=zt(),s=e.apply(u,o),c||a||(o=u=null)))}var o,a,s,l,u,c,h,p=0,d=!1,f=!0;if(!ge(e))throw new rt;if(t=kt(0,t)||0,!0===n){var v=!0;f=!1}else be(n)&&(v=n.leading,d="maxWait"in n&&(kt(t,n.maxWait)||0),f="trailing"in n?n.trailing:f);return function(){if(o=arguments,l=zt(),u=this,h=f&&(c||!v),!1===d)var n=v&&!c;else{a||v||(p=l);var m=d-(l-p),g=0>=m;g?(a&&(a=ct(a)),p=l,s=e.apply(u,o)):a||(a=mt(r,m))}return g&&c?c=ct(c):c||t===d||(c=mt(i,t)),n&&(g=!0,s=e.apply(u,o)),!g||c||a||(o=u=null),s}}function ze(e){return e}function Ge(e,t,n){var r=!0,i=t&&ve(t);t&&(n||i.length)||(null==n&&(n=t),o=y,t=e,e=b,i=ve(t)),!1===n?r=!1:be(n)&&"chain"in n&&(r=n.chain);var o=e,a=ge(o);Te(i,function(n){var i=e[n]=t[n];a&&(o.prototype[n]=function(){var t=this.__chain__,n=this.__wrapped__,a=[n];if(vt.apply(a,arguments),a=i.apply(e,a),r||t){if(n===a&&be(a))return this;(a=new o(a)).__chain__=t}return a})})}function qe(){}function We(e){return function(t){return t[e]}}function Ke(){return this.__wrapped__}var Qe=(t=t?te.defaults($.Object(),t,te.pick($,D)):$).Array,Ye=t.Boolean,Xe=t.Date,$e=t.Function,Ze=t.Math,Je=t.Number,et=t.Object,tt=t.RegExp,nt=t.String,rt=t.TypeError,it=[],ot=et.prototype,at=t._,st=ot.toString,lt=tt("^"+nt(st).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),ut=Ze.ceil,ct=t.clearTimeout,ht=Ze.floor,pt=$e.prototype.toString,dt=ce(dt=et.getPrototypeOf)&&dt,ft=ot.hasOwnProperty,vt=it.push,mt=t.setTimeout,gt=it.splice,bt=it.unshift,yt=function(){try{var e={},t=ce(t=et.defineProperty)&&t,n=t(e,e,e)&&t}catch(e){}return n}(),Ct=ce(Ct=et.create)&&Ct,xt=ce(xt=Qe.isArray)&&xt,_t=t.isFinite,wt=t.isNaN,St=ce(St=et.keys)&&St,kt=Ze.max,Tt=Ze.min,Et=t.parseInt,Pt=Ze.random,It={};It[F]=Qe,It[V]=Ye,It[U]=Xe,It[j]=$e,It[z]=et,It[H]=Je,It[G]=tt,It[q]=nt,y.prototype=b.prototype;var Bt=b.support={};Bt.funcDecomp=!ce(t.a)&&A.test(e),Bt.funcNames="string"==typeof $e.name,b.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:N,variable:"",imports:{_:b}},Ct||(X=function(){function e(){}return function(n){if(be(n)){e.prototype=n;var r=new e;e.prototype=null}return r||t.Object()}}());var Nt=yt?function(e,t){Q.value=t,yt(e,"__bindData__",Q)}:qe,Mt=xt||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&st.call(e)==F||!1},Ot=St?function(e){return be(e)?St(e):[]}:function(e){var t,n=[];if(!e||!Y[typeof e])return n;for(t in e)ft.call(e,t)&&n.push(t);return n},At={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Lt=me(At),Dt=tt("("+Ot(Lt).join("|")+")","g"),Rt=tt("["+Ot(At).join("")+"]","g"),Ft=dt?function(e){if(!e||st.call(e)!=z)return!1;var t=e.valueOf,n=ce(t)&&(n=dt(t))&&dt(n);return n?e==n||dt(e)==n:he(e)}:he,Vt=ae(function(e,t,n){ft.call(e,n)?e[n]++:e[n]=1}),Ut=ae(function(e,t,n){(ft.call(e,n)?e[n]:e[n]=[]).push(t)}),jt=ae(function(e,t,n){e[n]=t}),Ht=Pe,zt=ce(zt=Xe.now)&&zt||function(){return(new Xe).getTime()},Gt=8==Et(S+"08")?Et:function(e,t){return Et(Ce(e)?e.replace(M,""):e,t||0)};return b.after=function(e,t){if(!ge(t))throw new rt;return function(){return 1>--e?t.apply(this,arguments):void 0}},b.assign=s,b.at=function(e){for(var t=-1,n=ee(r=arguments,!0,!1,1),r=r[2]&&r[2][r[1]]===e?1:n.length,i=Qe(r);++t<r;)i[t]=e[n[t]];return i},b.bind=je,b.bindAll=function(e){for(var t=1<arguments.length?ee(arguments,!0,!1,1):ve(e),n=-1,r=t.length;++n<r;){var i=t[n];e[i]=se(e[i],1,null,null,e)}return e},b.bindKey=function(e,t){return 2<arguments.length?se(t,19,m(arguments,2),null,e):se(t,3,null,null,e)},b.chain=function(e){return(e=new y(e)).__chain__=!0,e},b.compact=function(e){for(var t=-1,n=e?e.length:0,r=[];++t<n;){var i=e[t];i&&r.push(i)}return r},b.compose=function(){for(var e=arguments,t=e.length;t--;)if(!ge(e[t]))throw new rt;return function(){for(var t=arguments,n=e.length;n--;)t=[e[n].apply(this,t)];return t[0]}},b.constant=function(e){return function(){return e}},b.countBy=Vt,b.create=function(e,t){var n=X(e);return t?s(n,t):n},b.createCallback=function(e,t,n){var r=typeof e;if(null==e||"function"==r)return Z(e,t,n);if("object"!=r)return We(e);var i=Ot(e),o=i[0],a=e[o];return 1!=i.length||a!=a||be(a)?function(t){for(var n=i.length,r=!1;n--&&(r=ne(t[i[n]],e[i[n]],null,!0)););return r}:function(e){return e=e[o],a===e&&(0!==a||1/a==1/e)}},b.curry=function(e,t){return se(e,4,null,null,null,t="number"==typeof t?t:+t||e.length)},b.debounce=He,b.defaults=i,b.defer=function(e){if(!ge(e))throw new rt;var t=m(arguments,1);return mt(function(){e.apply(g,t)},1)},b.delay=function(e,t){if(!ge(e))throw new rt;var n=m(arguments,2);return mt(function(){e.apply(g,n)},t)},b.difference=function(e){return J(e,ee(arguments,!0,!0,1))},b.filter=Se,b.flatten=function(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n="function"!=typeof t&&r&&r[t]===e?null:t,t=!1),null!=n&&(e=Pe(e,n,r)),ee(e,t)},b.forEach=Te,b.forEachRight=Ee,b.forIn=r,b.forInRight=function(e,t,n){var i=[];r(e,function(e,t){i.push(t,e)});var o=i.length;for(t=Z(t,n,3);o--&&!1!==t(i[o--],i[o],e););return e},b.forOwn=n,b.forOwnRight=fe,b.functions=ve,b.groupBy=Ut,b.indexBy=jt,b.initial=function(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var o=i;for(t=b.createCallback(t,n,3);o--&&t(e[o],o,e);)r++}else r=null==t||n?1:t||r;return m(e,0,Tt(kt(0,i-r),i))},b.intersection=function(){for(var e=[],t=-1,n=arguments.length,r=p(),i=ue(),s=i===o,l=p();++t<n;){var u=arguments[t];(Mt(u)||de(u))&&(e.push(u),r.push(s&&u.length>=_&&c(t?e[t]:l)))}var h=-1,d=(s=e[0])?s.length:0,m=[];e:for(;++h<d;){var g=r[0];if(u=s[h],0>(g?a(g,u):i(l,u))){for(t=n,(g||l).push(u);--t;)if(0>((g=r[t])?a(g,u):i(e[t],u)))continue e;m.push(u)}}for(;n--;)(g=r[n])&&v(g);return f(r),f(l),m},b.invert=me,b.invoke=function(e,t){var n=m(arguments,2),r=-1,i="function"==typeof t,o=e?e.length:0,a=Qe("number"==typeof o?o:0);return Te(e,function(e){a[++r]=(i?t:e[t]).apply(e,n)}),a},b.keys=Ot,b.map=Pe,b.mapValues=function(e,t,r){var i={};return t=b.createCallback(t,r,3),n(e,function(e,n,r){i[n]=t(e,n,r)}),i},b.max=Ie,b.memoize=function(e,t){function n(){var r=n.cache,i=t?t.apply(this,arguments):x+arguments[0];return ft.call(r,i)?r[i]:r[i]=e.apply(this,arguments)}if(!ge(e))throw new rt;return n.cache={},n},b.merge=function(e){var t=arguments,n=2;if(!be(e))return e;if("number"!=typeof t[2]&&(n=t.length),3<n&&"function"==typeof t[n-2])var r=Z(t[--n-1],t[n--],2);else 2<n&&"function"==typeof t[n-1]&&(r=t[--n]);t=m(arguments,1,n);for(var i=-1,o=p(),a=p();++i<n;)re(e,t[i],r,o,a);return f(o),f(a),e},b.min=function(e,t,n){var r=1/0,i=r;if("function"!=typeof t&&n&&n[t]===e&&(t=null),null==t&&Mt(e)){n=-1;for(var o=e.length;++n<o;){var a=e[n];a<i&&(i=a)}}else t=null==t&&Ce(e)?l:b.createCallback(t,n,3),Te(e,function(e,n,o){(n=t(e,n,o))<r&&(r=n,i=e)});return i},b.omit=function(e,t,n){var i={};if("function"!=typeof t){var o=[];r(e,function(e,t){o.push(t)});for(var a=-1,s=(o=J(o,ee(arguments,!0,!1,1))).length;++a<s;){var l=o[a];i[l]=e[l]}}else t=b.createCallback(t,n,3),r(e,function(e,n,r){t(e,n,r)||(i[n]=e)});return i},b.once=function(e){var t,n;if(!ge(e))throw new rt;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},b.pairs=function(e){for(var t=-1,n=Ot(e),r=n.length,i=Qe(r);++t<r;){var o=n[t];i[t]=[o,e[o]]}return i},b.partial=function(e){return se(e,16,m(arguments,1))},b.partialRight=function(e){return se(e,32,null,m(arguments,1))},b.pick=function(e,t,n){var i={};if("function"!=typeof t)for(var o=-1,a=ee(arguments,!0,!1,1),s=be(e)?a.length:0;++o<s;){var l=a[o];l in e&&(i[l]=e[l])}else t=b.createCallback(t,n,3),r(e,function(e,n,r){t(e,n,r)&&(i[n]=e)});return i},b.pluck=Ht,b.property=We,b.pull=function(e){for(var t=arguments,n=0,r=t.length,i=e?e.length:0;++n<r;)for(var o=-1,a=t[n];++o<i;)e[o]===a&&(gt.call(e,o--,1),i--);return e},b.range=function(e,t,n){e=+e||0,n="number"==typeof n?n:+n||1,null==t&&(t=e,e=0);var r=-1;t=kt(0,ut((t-e)/(n||1)));for(var i=Qe(t);++r<t;)i[r]=e,e+=n;return i},b.reject=function(e,t,n){return t=b.createCallback(t,n,3),Se(e,function(e,n,r){return!t(e,n,r)})},b.remove=function(e,t,n){var r=-1,i=e?e.length:0,o=[];for(t=b.createCallback(t,n,3);++r<i;)t(n=e[r],r,e)&&(o.push(n),gt.call(e,r--,1),i--);return o},b.rest=De,b.shuffle=Me,b.sortBy=function(e,t,n){var r=-1,i=Mt(t),o=e?e.length:0,a=Qe("number"==typeof o?o:0);for(i||(t=b.createCallback(t,n,3)),Te(e,function(e,n,o){var s=a[++r]=d();i?s.m=Pe(t,function(t){return e[t]}):(s.m=p())[0]=t(e,n,o),s.n=r,s.o=e}),o=a.length,a.sort(u);o--;)e=a[o],a[o]=e.o,i||f(e.m),v(e);return a},b.tap=function(e,t){return t(e),e},b.throttle=function(e,t,n){var r=!0,i=!0;if(!ge(e))throw new rt;return!1===n?r=!1:be(n)&&(r="leading"in n?n.leading:r,i="trailing"in n?n.trailing:i),K.leading=r,K.maxWait=t,K.trailing=i,He(e,t,K)},b.times=function(e,t,n){e=-1<(e=+e)?e:0;var r=-1,i=Qe(e);for(t=Z(t,n,1);++r<e;)i[r]=t(r);return i},b.toArray=function(e){return e&&"number"==typeof e.length?m(e):xe(e)},b.transform=function(e,t,r,i){var o=Mt(e);if(null==r)if(o)r=[];else{var a=e&&e.constructor;r=X(a&&a.prototype)}return t&&(t=b.createCallback(t,i,4),(o?Te:n)(e,function(e,n,i){return t(r,e,n,i)})),r},b.union=function(){return oe(ee(arguments,!0,!0))},b.uniq=Fe,b.values=xe,b.where=Se,b.without=function(e){return J(e,m(arguments,1))},b.wrap=function(e,t){return se(t,16,[e])},b.xor=function(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Mt(n)||de(n))var r=r?oe(J(r,n).concat(J(n,r))):n}return r||[]},b.zip=Ve,b.zipObject=Ue,b.collect=Pe,b.drop=De,b.each=Te,b.eachRight=Ee,b.extend=s,b.methods=ve,b.object=Ue,b.select=Se,b.tail=De,b.unique=Fe,b.unzip=Ve,Ge(b),b.clone=function(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n=t,t=!1),w(e,t,"function"==typeof n&&Z(n,r,1))},b.cloneDeep=function(e,t,n){return w(e,!0,"function"==typeof t&&Z(t,n,1))},b.contains=_e,b.escape=function(e){return null==e?"":nt(e).replace(Rt,le)},b.every=we,b.find=ke,b.findIndex=function(e,t,n){var r=-1,i=e?e.length:0;for(t=b.createCallback(t,n,3);++r<i;)if(t(e[r],r,e))return r;return-1},b.findKey=function(e,t,r){var i;return t=b.createCallback(t,r,3),n(e,function(e,n,r){return t(e,n,r)?(i=n,!1):void 0}),i},b.findLast=function(e,t,n){var r;return t=b.createCallback(t,n,3),Ee(e,function(e,n,i){return t(e,n,i)?(r=e,!1):void 0}),r},b.findLastIndex=function(e,t,n){var r=e?e.length:0;for(t=b.createCallback(t,n,3);r--;)if(t(e[r],r,e))return r;return-1},b.findLastKey=function(e,t,n){var r;return t=b.createCallback(t,n,3),fe(e,function(e,n,i){return t(e,n,i)?(r=n,!1):void 0}),r},b.has=function(e,t){return!!e&&ft.call(e,t)},b.identity=ze,b.indexOf=Le,b.isArguments=de,b.isArray=Mt,b.isBoolean=function(e){return!0===e||!1===e||e&&"object"==typeof e&&st.call(e)==V||!1},b.isDate=function(e){return e&&"object"==typeof e&&st.call(e)==U||!1},b.isElement=function(e){return e&&1===e.nodeType||!1},b.isEmpty=function(e){var t=!0;if(!e)return t;var r=st.call(e),i=e.length;return r==F||r==q||r==R||r==z&&"number"==typeof i&&ge(e.splice)?!i:(n(e,function(){return t=!1}),t)},b.isEqual=function(e,t,n,r){return ne(e,t,"function"==typeof n&&Z(n,r,2))},b.isFinite=function(e){return _t(e)&&!wt(parseFloat(e))},b.isFunction=ge,b.isNaN=function(e){return ye(e)&&e!=+e},b.isNull=function(e){return null===e},b.isNumber=ye,b.isObject=be,b.isPlainObject=Ft,b.isRegExp=function(e){return e&&"object"==typeof e&&st.call(e)==G||!1},b.isString=Ce,b.isUndefined=function(e){return void 0===e},b.lastIndexOf=function(e,t,n){var r=e?e.length:0;for("number"==typeof n&&(r=(0>n?kt(0,r+n):Tt(n,r-1))+1);r--;)if(e[r]===t)return r;return-1},b.mixin=Ge,b.noConflict=function(){return t._=at,this},b.noop=qe,b.now=zt,b.parseInt=Gt,b.random=function(e,t,n){var r=null==e,i=null==t;return null==n&&("boolean"==typeof e&&i?(n=e,e=1):i||"boolean"!=typeof t||(n=t,i=!0)),r&&i&&(t=1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1?(n=Pt(),Tt(e+n*(t-e+parseFloat("1e-"+((n+"").length-1))),t)):ie(e,t)},b.reduce=Be,b.reduceRight=Ne,b.result=function(e,t){if(e){var n=e[t];return ge(n)?e[t]():n}},b.runInContext=e,b.size=function(e){var t=e?e.length:0;return"number"==typeof t?t:Ot(e).length},b.some=Oe,b.sortedIndex=Re,b.template=function(e,t,n){var r=b.templateSettings;e=nt(e||"");var o,a=i({},(n=i({},n,r)).imports,r.imports),s=(r=Ot(a),a=xe(a),0),l=n.interpolate||O,u="__p+='";l=tt((n.escape||O).source+"|"+l.source+"|"+(l===N?P:O).source+"|"+(n.evaluate||O).source+"|$","g"),e.replace(l,function(t,n,r,i,a,l){return r||(r=i),u+=e.slice(s,l).replace(L,h),n&&(u+="'+__e("+n+")+'"),a&&(o=!0,u+="';"+a+";\n__p+='"),r&&(u+="'+((__t=("+r+"))==null?'':__t)+'"),s=l+t.length,t}),u+="';",(l=n=n.variable)||(u="with("+(n="obj")+"){"+u+"}"),u=(o?u.replace(k,""):u).replace(T,"$1").replace(E,"$1;"),u="function("+n+"){"+(l?"":n+"||("+n+"={});")+"var __t,__p='',__e=_.escape"+(o?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+u+"return __p}";try{var c=$e(r,"return "+u).apply(g,a)}catch(e){throw e.source=u,e}return t?c(t):(c.source=u,c)},b.unescape=function(e){return null==e?"":nt(e).replace(Dt,pe)},b.uniqueId=function(e){var t=++C;return nt(null==e?"":e)+t},b.all=we,b.any=Oe,b.detect=ke,b.findWhere=ke,b.foldl=Be,b.foldr=Ne,b.include=_e,b.inject=Be,Ge(function(){var e={};return n(b,function(t,n){b.prototype[n]||(e[n]=t)}),e}(),!1),b.first=Ae,b.last=function(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var o=i;for(t=b.createCallback(t,n,3);o--&&t(e[o],o,e);)r++}else if(null==(r=t)||n)return e?e[i-1]:g;return m(e,kt(0,i-r))},b.sample=function(e,t,n){return e&&"number"!=typeof e.length&&(e=xe(e)),null==t||n?e?e[ie(0,e.length-1)]:g:((e=Me(e)).length=Tt(kt(0,t),e.length),e)},b.take=Ae,b.head=Ae,n(b,function(e,t){var n="sample"!==t;b.prototype[t]||(b.prototype[t]=function(t,r){var i=this.__chain__,o=e(this.__wrapped__,t,r);return i||null!=t&&(!r||n&&"function"==typeof t)?new y(o,i):o})}),b.VERSION="2.4.1",b.prototype.chain=function(){return this.__chain__=!0,this},b.prototype.toString=function(){return nt(this.__wrapped__)},b.prototype.value=Ke,b.prototype.valueOf=Ke,Te(["join","pop","shift"],function(e){var t=it[e];b.prototype[e]=function(){var e=this.__chain__,n=t.apply(this.__wrapped__,arguments);return e?new y(n,e):n}}),Te(["push","reverse","sort","unshift"],function(e){var t=it[e];b.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),Te(["concat","slice","splice"],function(e){var t=it[e];b.prototype[e]=function(){return new y(t.apply(this.__wrapped__,arguments),this.__chain__)}}),b}();$._=te,void 0===(i=function(){return te}.call(t,n,t,e))||(e.exports=i)}).call(this)}).call(this,n(120)(e),n(45))},function(e,t,n){"use strict";var r,i;r=[n(1)],void 0===(i=function(e){var t,n,r,i=[].slice,o=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};return n={},r=window,n.DbgLog=function(e){return r.console.log(e)},n.Assert=function(e,t){return r.console.assert(e,t)},n.appendChildClone=function(e,t){var n;return n=t.cloneNode(!0),e.appendChild(n),n},n.forwardMethodsSingleTarget=function(t,n,r){var i,o,a;for(e.isArray(n)||(n=[n]),i=function(e){return t[e]=function(){return r[e].apply(r,arguments)}},o=0,a=n.length;o<a;o++)i(n[o]);return null},n.forwardMethods=function(t,r,o){var a,s,l;if(!e.isArray(o))return n.forwardMethodsSingleTarget(t,r,o);for(e.isArray(r)||(r=[r]),a=function(e){return t[e]=function(){var t,n,r,a;for(t=1<=arguments.length?i.call(arguments,0):[],n=0,r=o.length;n<r;n++)"function"==typeof(a=o[n])[e]&&a[e].apply(a,t);return null}},s=0,l=r.length;s<l;s++)a(r[s]);return null},n.escapeForRegex=function(e){var t,i;return null==n.escapeForRegex.re&&(t=function(){var e,t,n,r;for(r=[],e=0,t=(n="\\^$*+?.()|{}[]").length;e<t;e++)i=n[e],r.push(i);return r}(),n.escapeForRegex.re=new r.RegExp("["+t.join("\\")+"]","g")),e.replace(n.escapeForRegex.re,"\\$&")},n.findUniqueName=function(t,i){var a,s,l,u;return o.call(i,t)<0?t:(u=/^(.*) copy( (\d+))?$/.exec(t),a=null!=u?u[1]:t,s=new r.RegExp("^"+n.escapeForRegex(a)+" copy( (\\d+))?$"),l=e.max(e.map(i,function(e){return null==(u=s.exec(e))||r.isNaN(+u[2])?null!=u&&null==u[1]?1:e===a?0:-Infinity:+u[2]})),r.isFinite(l)?0===l?a+" copy":a+" copy "+(l+1):a)},n.truncateToUTF8=function(e,t){var n,i,o,a,s,l;if(o=function(e){return 0==(128&e)||192==(192&e)},(l=r.unescape(r.encodeURIComponent(e))).length<=t)return e;for(a=0,i=n=t,s=t-4;n>=s;i=n+=-1)if(o(l.charCodeAt(i))){a=i;break}return r.decodeURIComponent(r.escape(l.slice(0,a)))},t=Date,n.debounce=function(e,n){var i,o,a,s;return i=null,s=null,o=function(){var a;return s=null,(a=new t-i)<n?s=r.setTimeout(o,n-a):e()},(a=function(){if(i=new t,null==s)return s=r.setTimeout(o,n)}).sync=function(){return this.cancel(),e()},a.cancel=function(){if(null!=s)return r.clearTimeout(s),s=null},a},n.isReturnKey=function(e){return 13===(e.keyCode||e.which)},n.isEscapeKey=function(e){return 27===(e.keyCode||e.which)},n.pointInRect=function(e,t){return e.x<t.right&&e.x>=t.left&&e.y<t.bottom&&e.y>=t.top},n.constrain=function(e,t,n){return Math.min(n,Math.max(t,e))},n.clearArray=function(e){for(;e.length>0;)e.pop()},n.platform={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},OperaMobile:function(){return navigator.userAgent.match(/Opera Mini/i)},IEMobile:function(){return navigator.userAgent.match(/IEMobile/i)},iPadOS7:function(){return navigator.userAgent.match(/iPad;.*CPU.*OS 7_\d/i)}},n.isMobile=e.any(["Android","BlackBerry","iOS","OperaMobile","IEMobile"],function(e){return n.platform[e]()}),n.isMobile&&(document.body.className+=" mobile"),n.platform.iPadOS7()&&(document.body.className+=" iPadOS7"),navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&(document.body.className+=" chrome"),n}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(2),n(1)],void 0===(i=function(e,t){var n=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};return function(){function e(){}return e.remove=function(t){var n;return e.clear(t),null!=(n=t.parentNode)?n.removeChild(t):void 0},e.removeWrap=function(t){return{remove:function(){return e.remove(t)}}},e.clear=function(e){return e.innerHTML=""},e.testClass=function(t,r){return n.call(e.getClasses(t),r)>=0},e.getClasses=function(e){return(t.isString(e.className)?e.className:e.className.baseVal).split(" ")},e.setClasses=function(e,n){return t.isString(e.className)?e.className=n.join(" "):e.className.baseVal=n.join(" ")},e.addClass=function(t,r){var i;if(i=e.getClasses(t),n.call(i,r)<0)return i.push(r),e.setClasses(t,i)},e.removeClass=function(n,r){return e.setClasses(n,t.without(e.getClasses(n),r))},e.toggleClass=function(t,n){e.testClass(t,n)?e.removeClass(t,n):e.addClass(t,n)},e.setClass=function(t,n,r){return r?e.addClass(t,n):e.removeClass(t,n)},e.offset=function(e){return{left:e.offsetLeft,top:e.offsetTop}},e.setLeft=function(e,t){return e.style.left=t+"px"},e.setTop=function(e,t){return e.style.top=t+"px"},e.getBoundingClientRect=function(e){try{return e.getBoundingClientRect()}catch(e){return e,{left:0,right:0,top:0,bottom:0,height:0,width:0}}},e.getPropWhileVisible=function(e,t){var n,r;return(n="none"===e.style.display)&&(e.style.display=""),r=e[t],n&&(e.style.display="none"),r},e.width=function(t){return e.getPropWhileVisible(t,"clientWidth")},e.setWidth=function(e,t){return e.style.width=t+(isNaN(t)?"":"px")},e.height=function(t){return e.getPropWhileVisible(t,"clientHeight")},e.setHeight=function(e,t){return e.style.height=t+(isNaN(t)?"":"px")},e.scrollX=function(e){return e.scrollLeft},e.setScrollX=function(e,t){return e.scrollLeft=t,e.setAttribute("scroll_x",t)},e.scrollY=function(e){return e.scrollTop},e.setScrollY=function(e,t){return e.scrollTop=t,e.setAttribute("scroll_y",t)},e.restoreScroll=function(e){var t,n;if((t=e.getAttribute("scroll_x"))&&(e.scrollLeft=t),n=e.getAttribute("scroll_y"))return e.scrollTop=n},e.show=function(t){return t.style.display="",e.restoreScroll(t)},e.hide=function(e){return e.style.display="none"},e.setVisible=function(t,n){return n?e.show(t):e.hide(t)},e.matches=function(e,t){var n,r,i,o,a,s;return(null!=(r=null!=(i=null!=(o=null!=(a=null!=(s=(n=window.HTMLElement).prototype.matches)?s:n.prototype.webkitMatchesSelector)?a:n.prototype.msMatchesSelector)?o:n.prototype.mozMatchesSelector)?i:n.prototype.oMatchesSelector)?r:n.prototype.matchesSelector).call(e,t)},e.removeChildren=function(e){var t;for(t=[];e.firstChild;)t.push(e.removeChild(e.firstChild));return t},e.isVisible=function(e){return"none"!==e.style.display},e.isVisibleIncludingParents=function(t){for(;null!=(null!=t?t.style:void 0);){if(!e.isVisible(t))return!1;t=t.parentNode}return!0},e.applyAttr=function(e,t,n){return 0===e.indexOf("style:")?n.style[e.split(":").slice(1).join(":")]=t:"type"!==e?n[e]=t:void 0},e.specToNode=function(e){var t,n,r,i;for(t in n=document.createElement(null!=(r=e.type)?r:"div"),e)i=e[t],this.applyAttr(t,i,n);return n},e.appendSpec=function(e,t){var n;return n=this.specToNode(t),e.appendChild(n),n},e}()}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";n.r(t),function(e,r){n.d(t,"$mobx",function(){return Rn}),n.d(t,"Reaction",function(){return un}),n.d(t,"untracked",function(){return rn}),n.d(t,"IDerivationState",function(){return Bt}),n.d(t,"createAtom",function(){return Qe}),n.d(t,"spy",function(){return b}),n.d(t,"comparer",function(){return D}),n.d(t,"isObservableObject",function(){return ae}),n.d(t,"isBoxedObservable",function(){return $}),n.d(t,"isObservableArray",function(){return ut}),n.d(t,"ObservableMap",function(){return Fe}),n.d(t,"isObservableMap",function(){return je}),n.d(t,"transaction",function(){return De}),n.d(t,"observable",function(){return Pe}),n.d(t,"computed",function(){return me}),n.d(t,"isObservable",function(){return ue}),n.d(t,"isObservableProp",function(){return ce}),n.d(t,"isComputed",function(){return pe}),n.d(t,"isComputedProp",function(){return de}),n.d(t,"extendObservable",function(){return be}),n.d(t,"extendShallowObservable",function(){return ge}),n.d(t,"observe",function(){return gn}),n.d(t,"intercept",function(){return bn}),n.d(t,"autorun",function(){return R}),n.d(t,"reaction",function(){return U}),n.d(t,"when",function(){return yn}),n.d(t,"action",function(){return T}),n.d(t,"isAction",function(){return P}),n.d(t,"runInAction",function(){return E}),n.d(t,"keys",function(){return xn}),n.d(t,"values",function(){return _n}),n.d(t,"entries",function(){return wn}),n.d(t,"set",function(){return Sn}),n.d(t,"remove",function(){return kn}),n.d(t,"has",function(){return Tn}),n.d(t,"get",function(){return En}),n.d(t,"decorate",function(){return Pn}),n.d(t,"configure",function(){return In}),n.d(t,"onBecomeObserved",function(){return qe}),n.d(t,"onBecomeUnobserved",function(){return We}),n.d(t,"flow",function(){return Nn}),n.d(t,"toJS",function(){return Ln}),n.d(t,"trace",function(){return ln}),n.d(t,"getDependencyTree",function(){return Vt}),n.d(t,"getObserverTree",function(){return jt}),n.d(t,"_resetGlobalState",function(){return Ft}),n.d(t,"_getGlobalState",function(){return Rt}),n.d(t,"getDebugName",function(){return Ge}),n.d(t,"getAtom",function(){return He}),n.d(t,"_getAdministration",function(){return ze}),n.d(t,"_allowStateChanges",function(){return x}),n.d(t,"isArrayLike",function(){return kt}),n.d(t,"_isComputingDerivation",function(){return Jt}),n.d(t,"onReactionError",function(){return cn}),n.d(t,"_interceptReads",function(){return Dn});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};function o(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e}var u={},c={};function h(e){if(!0!==e.__mobxDidRunLazyInitializers){var t=e.__mobxDecorators;if(t)for(var n in _t(e,"__mobxDidRunLazyInitializers",!0),t){var r=t[n];r.propertyCreator(e,r.prop,r.descriptor,r.decoratorTarget,r.decoratorArguments)}}}function p(e,t){return function(){var n,r,i=function(r,i,o,s){if(!0===s)return t(r,i,o,r,n),null;if(!Object.prototype.hasOwnProperty.call(r,"__mobxDecorators")){var l=r.__mobxDecorators;_t(r,"__mobxDecorators",a({},l))}return r.__mobxDecorators[i]={prop:i,propertyCreator:t,descriptor:o,decoratorTarget:r,decoratorArguments:n},function(e,t){var n=t?u:c;return n[e]||(n[e]={configurable:!0,enumerable:t,get:function(){return h(this),this[e]},set:function(t){h(this),this[e]=t}})}(i,e)};return(2===(r=arguments).length||3===r.length)&&"string"==typeof r[1]||4===r.length&&!0===r[3]?(n=ht,i.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),i)}}function d(){return!!At.spyListeners.length}function f(e){if(At.spyListeners.length)for(var t=At.spyListeners,n=0,r=t.length;n<r;n++)t[n](e)}function v(e){f(a({},e,{spyReportStart:!0}))}var m={spyReportEnd:!0};function g(e){f(e?a({},e,{spyReportEnd:!0}):m)}function b(e){return At.spyListeners.push(e),bt(function(){At.spyListeners=At.spyListeners.filter(function(t){return t!==e})})}function y(e,t){var n=function(){return C(e,t,this,arguments)};return n.isMobxAction=!0,n}function C(e,t,n,r){var i=function(e,t,n,r){var i=d()&&!!e,o=0;if(i){o=Date.now();var a=r&&r.length||0,s=new Array(a);if(a>0)for(var l=0;l<a;l++)s[l]=r[l];v({type:"action",name:e,object:n,arguments:s})}var u=on();Wt();var c=_(!0);return{prevDerivation:u,prevAllowStateChanges:c,notifySpy:i,startTime:o}}(e,0,n,r);try{return t.apply(n,r)}finally{!function(e){w(e.prevAllowStateChanges),Kt(),an(e.prevDerivation),e.notifySpy&&g({time:Date.now()-e.startTime})}(i)}}function x(e,t){var n,r=_(e);try{n=t()}finally{w(r)}return n}function _(e){var t=At.allowStateChanges;return At.allowStateChanges=e,t}function w(e){At.allowStateChanges=e}function S(){vt(!1)}function k(e){return function(t,n,r){if(r){if(r.value)return{value:y(e,r.value),enumerable:!1,configurable:!0,writable:!0};var i=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return y(e,i.call(this))}}}return function(e){return function(t,n,r){Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:function(){},set:function(t){_t(this,n,T(e,t))}})}}(e).apply(this,arguments)}}var T=function(e,t,n,r){return 1===arguments.length&&"function"==typeof e?y(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?y(e,t):1===arguments.length&&"string"==typeof e?k(e):!0!==r?k(t).apply(null,arguments):void(e[t]=y(e.name||t,n.value))};function E(e,t){return C("string"==typeof e?e:e.name||"<unnamed action>","function"==typeof e?e:t,this,void 0)}function P(e){return"function"==typeof e&&!0===e.isMobxAction}function I(e,t,n){_t(e,t,y(t,n.bind(e)))}T.bound=function(e,t,n,r){return!0===r?(I(e,t,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return I(this,t,n.value||n.initializer.call(this)),this[t]},set:S}:{enumerable:!1,configurable:!0,set:function(e){I(this,t,e)},get:function(){}}};var B=Object.prototype.toString;function N(e,t){return M(e,t)}function M(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&function(e,t,n,r){e=O(e),t=O(t);var i=B.call(e);if(i!==B.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t)}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!("function"==typeof a&&a instanceof a&&"function"==typeof s&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];var l=n.length;for(;l--;)if(n[l]===e)return r[l]===t;if(n.push(e),r.push(t),o){if((l=e.length)!==t.length)return!1;for(;l--;)if(!M(e[l],t[l],n,r))return!1}else{var u,c=Object.keys(e);if(l=c.length,Object.keys(t).length!==l)return!1;for(;l--;)if(u=c[l],!A(t,u)||!M(e[u],t[u],n,r))return!1}return n.pop(),r.pop(),!0}(e,t,n,r)}function O(e){return ut(e)?e.peek():Tt(e)||je(e)?Et(e.entries()):e}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function L(e,t){return e===t}var D={identity:L,structural:function(e,t){return N(e,t)},default:function(e,t){return function(e,t){return"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}(e,t)||L(e,t)}};function R(e,t){void 0===t&&(t=pt);var n,r=t&&t.name||e.name||"Autorun@"+ft();if(!t.scheduler&&!t.delay)n=new un(r,function(){this.track(a)},t.onError);else{var i=V(t),o=!1;n=new un(r,function(){o||(o=!0,i(function(){o=!1,n.isDisposed||n.track(a)}))},t.onError)}function a(){e(n)}return n.schedule(),n.getDisposer()}var F=function(e){return e()};function V(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:F}function U(e,t,n){void 0===n&&(n=pt),"boolean"==typeof n&&(n={fireImmediately:n},gt("Using fireImmediately as argument is deprecated. Use '{ fireImmediately: true }' instead"));var r,i,o,a=n.name||"Reaction@"+ft(),s=T(a,n.onError?(r=n.onError,i=t,function(){try{return i.apply(this,arguments)}catch(e){r.call(this,e)}}):t),l=!n.scheduler&&!n.delay,u=V(n),c=!0,h=!1,p=n.compareStructural?D.structural:n.equals||D.default,d=new un(a,function(){c||l?f():h||(h=!0,u(f))},n.onError);function f(){if(h=!1,!d.isDisposed){var t=!1;d.track(function(){var n=e(d);t=c||!p(o,n),o=n}),c&&n.fireImmediately&&s(o,d),c||!0!==t||s(o,d),c&&(c=!1)}}return d.schedule(),d.getDisposer()}var j=function(){function e(e){var t=this;this.dependenciesState=Bt.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Bt.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+ft(),this.value=new Xt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Nt.NONE,this.derivation=e.get,this.name=e.name||"ComputedValue@"+ft(),e.set&&(this.setter=y(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?D.structural:D.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,!0===e.keepAlive&&R(function(){return t.get()})}return e.prototype.onBecomeStale=function(){!function(e){if(e.lowestObserverState!==Bt.UP_TO_DATE)return;e.lowestObserverState=Bt.POSSIBLY_STALE;var t=e.observers,n=t.length;for(;n--;){var r=t[n];r.dependenciesState===Bt.UP_TO_DATE&&(r.dependenciesState=Bt.POSSIBLY_STALE,r.isTracing!==Nt.NONE&&Yt(r,e),r.onBecomeStale())}}(this)},e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.get=function(){this.isComputing&&vt("Cycle detected in computation "+this.name+": "+this.derivation),0===At.inBatch&&0===this.observers.length?Zt(this)&&(this.warnAboutUntrackedRead(),Wt(),this.value=this.computeValue(!1),Kt()):(Qt(this),Zt(this)&&this.trackAndCompute()&&function(e){if(e.lowestObserverState===Bt.STALE)return;e.lowestObserverState=Bt.STALE;var t=e.observers,n=t.length;for(;n--;){var r=t[n];r.dependenciesState===Bt.POSSIBLY_STALE?r.dependenciesState=Bt.STALE:r.dependenciesState===Bt.UP_TO_DATE&&(e.lowestObserverState=Bt.UP_TO_DATE)}}(this));var e=this.value;if($t(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if($t(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){mt(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else mt(!1,!1)},e.prototype.trackAndCompute=function(){d()&&f({object:this.scope,type:"compute",name:this.name});var e=this.value,t=this.dependenciesState===Bt.NOT_TRACKING,n=this.computeValue(!0),r=t||$t(e)||$t(n)||!this.equals(e,n);return r&&(this.value=n),r},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,At.computationDepth++,e)t=tn(this,this.derivation,this.scope);else if(!0===At.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new Xt(e)}return At.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){nn(this),this.value=void 0},e.prototype.observe=function(e,t){var n=this,r=!0,i=void 0;return R(function(){var o=n.get();if(!r||t){var a=on();e({type:"update",object:n,newValue:o,oldValue:i}),an(a)}r=!1,i=o})},e.prototype.warnAboutUntrackedRead=function(){},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return It(this.get())},e}();j.prototype[Pt()]=j.prototype.valueOf;var H=St("ComputedValue",j);function z(e){return void 0!==e.interceptors&&e.interceptors.length>0}function G(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),bt(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function q(e,t){var n=on();try{var r=e.interceptors;if(r)for(var i=0,o=r.length;i<o&&(mt(!(t=r[i](t))||t.type,"Intercept handlers should return nothing or a change object"),t);i++);return t}finally{an(n)}}function W(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function K(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),bt(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function Q(e,t){var n=on(),r=e.changeListeners;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](t);an(n)}}var Y={};!function(){if(Ve)return;Ve=function(){function e(e){void 0===e&&(e="Atom@"+ft()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Bt.NOT_TRACKING}return e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.reportObserved=function(){return Qt(this)},e.prototype.reportChanged=function(){Wt(),function(e){if(e.lowestObserverState===Bt.STALE)return;e.lowestObserverState=Bt.STALE;var t=e.observers,n=t.length;for(;n--;){var r=t[n];r.dependenciesState===Bt.UP_TO_DATE&&(r.isTracing!==Nt.NONE&&Yt(r,e),r.onBecomeStale()),r.dependenciesState=Bt.STALE}}(this),Kt()},e.prototype.toString=function(){return this.name},e}(),Ue=St("Atom",Ve)}();var X=function(e){function t(t,n,r,i){void 0===r&&(r="ObservableValue@"+ft()),void 0===i&&(i=!0);var o=e.call(this,r)||this;return o.enhancer=n,o.hasUnreportedChange=!1,o.value=n(t,void 0,r),i&&d()&&f({type:"create",name:o.name,newValue:""+o.value}),o}return o(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){var t=this.value;if((e=this.prepareNewValue(e))!==Y){var n=d();n&&v({type:"update",name:this.name,newValue:e,oldValue:t}),this.setNewValue(e),n&&g()}},t.prototype.prepareNewValue=function(e){if(en(this),z(this)){var t=q(this,{object:this,type:"update",newValue:e});if(!t)return Y;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.value!==e?e:Y},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),W(this)&&Q(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return G(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),K(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return It(this.get())},t}(Ve);X.prototype[Pt()]=X.prototype.valueOf;var $=St("ObservableValue",X),Z=function(){function e(e,t,n){this.target=e,this.name=t,this.defaultEnhancer=n,this.values={}}return e.prototype.read=function(e,t){if(this.target===e||(this.illegalAccess(e,t),this.values[t]))return this.values[t].get()},e.prototype.write=function(e,t,n){var r=this.target;r!==e&&this.illegalAccess(e,t);var i=this.values[t];if(i instanceof j)i.set(n);else{if(z(this)){if(!(l=q(this,{type:"update",object:r,name:t,newValue:n})))return;n=l.newValue}if((n=i.prepareNewValue(n))!==Y){var o=W(this),s=d(),l=o||s?{type:"update",object:r,oldValue:i.value,name:t,newValue:n}:null;s&&v(a({},l,{name:this.name,key:t})),i.setNewValue(n),o&&Q(this,l),s&&g()}}},e.prototype.remove=function(e){if(this.values[e]){var t=this.target;if(z(this))if(!(o=q(this,{object:t,name:e,type:"remove"})))return;try{Wt();var n=W(this),r=d(),i=this.values[e].get();this.keys&&this.keys.remove(e),delete this.values[e],delete this.target[e];var o=n||r?{type:"remove",object:t,oldValue:i,name:e}:null;r&&v(a({},o,{name:this.name,key:e})),n&&Q(this,o),r&&g()}finally{Kt()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return K(this,e)},e.prototype.intercept=function(e){return G(this,e)},e.prototype.getKeys=function(){var e=this;return void 0===this.keys&&(this.keys=new rt(Object.keys(this.values).filter(function(t){return e.values[t]instanceof X}),Ne,"keys("+this.name+")",!0)),this.keys.slice()},e}();function J(e,t,n){void 0===t&&(t=""),void 0===n&&(n=Be);var r=e.$mobx;return r||(xt(e)||(t=(e.constructor.name||"ObservableObject")+"@"+ft()),t||(t="ObservableObject@"+ft()),wt(e,"$mobx",r=new Z(e,t,n)),r)}function ee(e,t,n,r){var i=J(e);if(z(i)){var o=q(i,{object:e,name:t,type:"add",newValue:n});if(!o)return;n=o.newValue}n=(i.values[t]=new X(n,r,i.name+"."+t,!1)).value,Object.defineProperty(e,t,function(e){return ne[e]||(ne[e]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.read(this,e)},set:function(t){this.$mobx.write(this,e,t)}})}(t)),i.keys&&i.keys.push(t),function(e,t,n,r){var i=W(e),o=d(),s=i||o?{type:"add",object:t,name:n,newValue:r}:null;o&&v(a({},s,{name:e.name,key:n}));i&&Q(e,s);o&&g()}(i,e,t,n)}function te(e,t,n){var r=J(e);n.name=r.name+"."+t,n.context=e,r.values[t]=new j(n),Object.defineProperty(e,t,function(e){return re[e]||(re[e]={configurable:!0,enumerable:!1,get:function(){return ie(this).read(this,e)},set:function(t){ie(this).write(this,e,t)}})}(t))}var ne={},re={};function ie(e){var t=e.$mobx;return t||(h(e),e.$mobx)}var oe=St("ObservableObjectAdministration",Z);function ae(e){return!!Ct(e)&&(h(e),oe(e.$mobx))}function se(t){var n=p(!0,function(e,n,r,i,o){ee(e,n,r?r.initializer?r.initializer.call(e):r.value:void 0,t)}),r=(void 0!==e&&Object({NODE_ENV:"production"}),n);return r.enhancer=t,r}function le(e,t){if(null===e||void 0===e)return!1;if(void 0!==t){if(ae(e)){var n=e.$mobx;return n.values&&!!n.values[t]}return!1}return ae(e)||!!e.$mobx||Ue(e)||vn(e)||H(e)}function ue(e){return 1!==arguments.length&&vt(!1),le(e)}function ce(e,t){return"string"!=typeof t?vt(!1):le(e,t)}function he(e,t){if(null===e||void 0===e)return!1;if(void 0!==t){if(!1===ae(e))return!1;if(!e.$mobx.values[t])return!1;var n=He(e,t);return H(n)}return H(e)}function pe(e){return arguments.length>1?vt(!1):he(e)}function de(e,t){return"string"!=typeof t?vt(!1):he(e,t)}var fe=p(!1,function(e,t,n,r,i){var o=n.get,s=n.set,l=i[0]||{};te(e,t,a({get:o,set:s},l))}),ve=fe({equals:D.structural}),me=function(e,t,n){if("string"==typeof t)return fe.apply(null,arguments);if(null!==e&&"object"==typeof e&&1===arguments.length)return fe.apply(null,arguments);var r="object"==typeof t?t:{};return r.get=e,r.set="function"==typeof t?t:r.set,r.name=r.name||e.name||"",new j(r)};function ge(e,t,n){return gt("'extendShallowObservable' is deprecated, use 'extendObservable(target, props, { deep: false })' instead"),be(e,t,n,Ce)}function be(e,t,n,r){var i=(r=xe(r)).defaultDecorator||(!1===r.deep?ke:we);J(e,r.name,i.enhancer),Wt();try{for(var o in t){var a=Object.getOwnPropertyDescriptor(t,o);0;var s=(n&&o in n?n[o]:a.get?fe:i)(e,o,a,!0);s&&Object.defineProperty(e,o,s)}}finally{Kt()}return e}me.struct=ve;var ye={deep:!0,name:void 0,defaultDecorator:void 0},Ce={deep:!1,name:void 0,defaultDecorator:void 0};function xe(e){return null===e||void 0===e?ye:"string"==typeof e?{name:e,deep:!0}:e}function _e(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?Ne:Be}Object.freeze(ye),Object.freeze(Ce);var we=se(Be),Se=se(function(e,t,n){return void 0===e||null===e?e:ae(e)||ut(e)||je(e)?e:Array.isArray(e)?Pe.array(e,{name:n,deep:!1}):xt(e)?Pe.object(e,void 0,{name:n,deep:!1}):Tt(e)?Pe.map(e,{name:n,deep:!1}):vt(!1)}),ke=se(Ne),Te=se(function(e,t,n){0;return N(e,t)?t:e});var Ee={box:function(e,t){arguments.length>2&&Ie("box");var n=xe(t);return new X(e,_e(n),n.name)},shallowBox:function(e,t){return arguments.length>2&&Ie("shallowBox"),gt("observable.shallowBox","observable.box(value, { deep: false })"),Pe.box(e,{name:t,deep:!1})},array:function(e,t){arguments.length>2&&Ie("array");var n=xe(t);return new rt(e,_e(n),n.name)},shallowArray:function(e,t){return arguments.length>2&&Ie("shallowArray"),gt("observable.shallowArray","observable.array(values, { deep: false })"),Pe.array(e,{name:t,deep:!1})},map:function(e,t){arguments.length>2&&Ie("map");var n=xe(t);return new Fe(e,_e(n),n.name)},shallowMap:function(e,t){return arguments.length>2&&Ie("shallowMap"),gt("observable.shallowMap","observable.map(values, { deep: false })"),Pe.map(e,{name:t,deep:!1})},object:function(e,t,n){return"string"==typeof arguments[1]&&Ie("object"),be({},e,t,xe(n))},shallowObject:function(e,t){return"string"==typeof arguments[1]&&Ie("shallowObject"),gt("observable.shallowObject","observable.object(values, {}, { deep: false })"),Pe.object(e,{},{name:t,deep:!1})},ref:ke,shallow:Se,deep:we,struct:Te},Pe=function(e,t,n){if("string"==typeof arguments[1])return we.apply(null,arguments);if(ue(e))return e;var r=xt(e)?Pe.object(e,t,n):Array.isArray(e)?Pe.array(e,t):Tt(e)?Pe.map(e,t):e;if(r!==e)return r;vt(!1)};function Ie(e){vt("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}function Be(e,t,n){return ue(e)?e:Array.isArray(e)?Pe.array(e,{name:n}):xt(e)?Pe.object(e,void 0,{name:n}):Tt(e)?Pe.map(e,{name:n}):e}function Ne(e){return e}function Me(){return"function"==typeof Symbol&&Symbol.iterator||"@@iterator"}function Oe(e,t){wt(e,Me(),t)}function Ae(e){return e[Me()]=Le,e}function Le(){return this}function De(e,t){void 0===t&&(t=void 0),Wt();try{return e.apply(t)}finally{Kt()}}Object.keys(Ee).forEach(function(e){return Pe[e]=Ee[e]});var Re={},Fe=function(){function e(e,t,n){if(void 0===t&&(t=Be),void 0===n&&(n="ObservableMap@"+ft()),this.enhancer=t,this.name=n,this.$mobx=Re,this._keys=new rt(void 0,Ne,this.name+".keys()",!0),"function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){return this._hasMap.has(e)?this._hasMap.get(e).get():this._updateHasMapEntry(e,!1).get()},e.prototype.set=function(e,t){var n=this._has(e);if(z(this)){var r=q(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(z(this)&&!(i=q(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=d(),r=W(this),i=r||n?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return n&&v(a({},i,{name:this.name,key:e})),De(function(){t._keys.remove(e),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)}),r&&Q(this,i),n&&g(),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap.get(e);return n?n.setNewValue(t):(n=new X(t,Ne,this.name+"."+e+"?",!1),this._hasMap.set(e,n)),n},e.prototype._updateValue=function(e,t){var n=this._data.get(e);if((t=n.prepareNewValue(t))!==Y){var r=d(),i=W(this),o=i||r?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;r&&v(a({},o,{name:this.name,key:e})),n.setNewValue(t),i&&Q(this,o),r&&g()}},e.prototype._addValue=function(e,t){var n=this;De(function(){var r=new X(t,n.enhancer,n.name+"."+e,!1);n._data.set(e,r),t=r.value,n._updateHasMapEntry(e,!0),n._keys.push(e)});var r=d(),i=W(this),o=i||r?{type:"add",object:this,name:e,newValue:t}:null;r&&v(a({},o,{name:this.name,key:e})),i&&Q(this,o),r&&g()},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keys[Me()]()},e.prototype.values=function(){var e=this,t=0;return Ae({next:function(){return t<e._keys.length?{value:e.get(e._keys[t++]),done:!1}:{value:void 0,done:!0}}})},e.prototype.entries=function(){var e=this,t=0;return Ae({next:function(){if(t<e._keys.length){var n=e._keys[t++];return{value:[n,e.get(n)],done:!1}}return{done:!0}}})},e.prototype.forEach=function(e,t){var n=this;this._keys.forEach(function(r){return e.call(t,n.get(r),r,n)})},e.prototype.merge=function(e){var t=this;return je(e)&&(e=e.toJS()),De(function(){xt(e)?Object.keys(e).forEach(function(n){return t.set(n,e[n])}):Array.isArray(e)?e.forEach(function(e){var n=s(e,2),r=n[0],i=n[1];return t.set(r,i)}):Tt(e)?e.forEach(function(e,n){return t.set(n,e)}):null!==e&&void 0!==e&&vt("Cannot initialize map from "+e)}),this},e.prototype.clear=function(){var e=this;De(function(){rn(function(){e._keys.slice().forEach(function(t){return e.delete(t)})})})},e.prototype.replace=function(e){var t=this;return De(function(){var n,r=xt(n=e)?Object.keys(n):Array.isArray(n)?n.map(function(e){return s(e,1)[0]}):Tt(n)||je(n)?Et(n.keys()):vt("Cannot get keys from '"+n+"'");t._keys.filter(function(e){return-1===r.indexOf(e)}).forEach(function(e){return t.delete(e)}),t.merge(e)}),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e=this,t={};return this._keys.forEach(function(n){return t[""+n]=e.get(n)}),t},e.prototype.toJS=function(){var e=this,t=new Map;return this._keys.forEach(function(n){return t.set(n,e.get(n))}),t},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+this._keys.map(function(t){return t+": "+e.get(t)}).join(", ")+" }]"},e.prototype.observe=function(e,t){return K(this,e)},e.prototype.intercept=function(e){return G(this,e)},e}();Oe(Fe.prototype,function(){return this.entries()}),wt(Fe.prototype,"undefined"!=typeof Symbol?Symbol.toStringTag:"@@toStringTag","Map");var Ve,Ue,je=St("ObservableMap",Fe);function He(e,t){if("object"==typeof e&&null!==e){if(ut(e))return void 0!==t&&vt(!1),e.$mobx.atom;if(je(e)){var n=e;return void 0===t?He(n._keys):((r=n._data.get(t)||n._hasMap.get(t))||vt(!1),r)}var r;if(h(e),t&&!e.$mobx&&e[t],ae(e))return t?((r=e.$mobx.values[t])||vt(!1),r):vt(!1);if(Ue(e)||H(e)||vn(e))return e}else if("function"==typeof e&&vn(e.$mobx))return e.$mobx;return vt(!1)}function ze(e,t){return e||vt("Expecting some object"),void 0!==t?ze(He(e,t)):Ue(e)||H(e)||vn(e)?e:je(e)?e:(h(e),e.$mobx?e.$mobx:void vt(!1))}function Ge(e,t){return(void 0!==t?He(e,t):ae(e)||je(e)?ze(e):He(e)).name}function qe(e,t,n){return Ke("onBecomeObserved",e,t,n)}function We(e,t,n){return Ke("onBecomeUnobserved",e,t,n)}function Ke(e,t,n,r){var i="string"==typeof n?He(t,n):He(t),o="string"==typeof n?r:n,a=i[e];return"function"!=typeof a?vt(!1):(i[e]=function(){a.call(this),o.call(this)},function(){i[e]=a})}function Qe(e,t,n){void 0===t&&(t=yt),void 0===n&&(n=yt);var r=new Ve(e);return qe(r,t),We(r,n),r}var Ye,Xe,$e,Ze,Je=(Ye=!1,Xe={},Object.defineProperty(Xe,"0",{set:function(){Ye=!0}}),Object.create(Xe)[0]=1,!1===Ye),et=0,tt=function(){return function(){}}();$e=tt,Ze=Array.prototype,void 0!==Object.setPrototypeOf?Object.setPrototypeOf($e.prototype,Ze):void 0!==$e.prototype.__proto__?$e.prototype.__proto__=Ze:$e.prototype=Ze,Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach(function(e){Object.defineProperty(tt.prototype,e,{configurable:!0,writable:!0,value:Array.prototype[e]})});var nt=function(){function e(e,t,n,r){this.array=n,this.owned=r,this.values=[],this.lastKnownLength=0,this.atom=new Ve(e||"ObservableArray@"+ft()),this.enhancer=function(n,r){return t(n,r,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&this.values.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return G(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),K(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=t,t>0&&e+t+1>et&&st(e+t+1)},e.prototype.spliceWithArray=function(e,t,n){var r=this;en(this.atom);var i=this.values.length;if(void 0===e?e=0:e>i?e=i:e<0&&(e=Math.max(0,i+e)),t=1===arguments.length?i-e:void 0===t||null===t?0:Math.max(0,Math.min(t,i-e)),void 0===n&&(n=ht),z(this)){var o=q(this,{object:this.array,type:"splice",index:e,removedCount:t,added:n});if(!o)return ht;t=o.removedCount,n=o.added}var a=(n=0===n.length?n:n.map(function(e){return r.enhancer(e,void 0)})).length-t;this.updateArrayLength(i,a);var s=this.spliceItemsIntoValues(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice(e,n,s),this.dehanceValues(s)},e.prototype.spliceItemsIntoValues=function(e,t,n){if(n.length<1e4)return(r=this.values).splice.apply(r,l([e,t],n));var r,i=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),i},e.prototype.notifyArrayChildUpdate=function(e,t,n){var r=!this.owned&&d(),i=W(this),o=i||r?{object:this.array,type:"update",index:e,newValue:t,oldValue:n}:null;r&&v(a({},o,{name:this.atom.name})),this.atom.reportChanged(),i&&Q(this,o),r&&g()},e.prototype.notifyArraySplice=function(e,t,n){var r=!this.owned&&d(),i=W(this),o=i||r?{object:this.array,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;r&&v(a({},o,{name:this.atom.name})),this.atom.reportChanged(),i&&Q(this,o),r&&g()},e}(),rt=function(e){function t(t,n,r,i){void 0===r&&(r="ObservableArray@"+ft()),void 0===i&&(i=!1);var o=e.call(this)||this,a=new nt(r,n,o,i);return wt(o,"$mobx",a),t&&t.length&&o.spliceWithArray(0,0,t),Je&&Object.defineProperty(a.array,"0",it),o}return o(t,e),t.prototype.intercept=function(e){return this.$mobx.intercept(e)},t.prototype.observe=function(e,t){return void 0===t&&(t=!1),this.$mobx.observe(e,t)},t.prototype.clear=function(){return this.splice(0)},t.prototype.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),e.map(function(e){return ut(e)?e.peek():e}))},t.prototype.replace=function(e){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,e)},t.prototype.toJS=function(){return this.slice()},t.prototype.toJSON=function(){return this.toJS()},t.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},t.prototype.find=function(e,t,n){void 0===n&&(n=0),3===arguments.length&&gt("The array.find fromIndex argument to find will not be supported anymore in the next major");var r=this.findIndex.apply(this,arguments);return-1===r?void 0:this.get(r)},t.prototype.findIndex=function(e,t,n){void 0===n&&(n=0),3===arguments.length&&gt("The array.findIndex fromIndex argument to find will not be supported anymore in the next major");for(var r=this.peek(),i=r.length,o=n;o<i;o++)if(e.call(t,r[o],o,this))return o;return-1},t.prototype.splice=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(e);case 2:return this.$mobx.spliceWithArray(e,t)}return this.$mobx.spliceWithArray(e,t,n)},t.prototype.spliceWithArray=function(e,t,n){return this.$mobx.spliceWithArray(e,t,n)},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(n.values.length,0,e),n.values.length},t.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},t.prototype.shift=function(){return this.splice(0,1)[0]},t.prototype.unshift=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(0,0,e),n.values.length},t.prototype.reverse=function(){var e=this.slice();return e.reverse.apply(e,arguments)},t.prototype.sort=function(e){var t=this.slice();return t.sort.apply(t,arguments)},t.prototype.remove=function(e){var t=this.$mobx.dehanceValues(this.$mobx.values).indexOf(e);return t>-1&&(this.splice(t,1),!0)},t.prototype.move=function(e,t){function n(e){if(e<0)throw new Error("[mobx.array] Index out of bounds: "+e+" is negative");var t=this.$mobx.values.length;if(e>=t)throw new Error("[mobx.array] Index out of bounds: "+e+" is not smaller than "+t)}if(gt("observableArray.move is deprecated, use .slice() & .replace() instead"),n.call(this,e),n.call(this,t),e!==t){var r,i=this.$mobx.values;r=e<t?l(i.slice(0,e),i.slice(e+1,t+1),[i[e]],i.slice(t+1)):l(i.slice(0,t),[i[e]],i.slice(t,e),i.slice(e+1)),this.replace(r)}},t.prototype.get=function(e){var t=this.$mobx;if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},t.prototype.set=function(e,t){var n=this.$mobx,r=n.values;if(e<r.length){en(n.atom);var i=r[e];if(z(n)){var o=q(n,{type:"update",object:this,index:e,newValue:t});if(!o)return;t=o.newValue}(t=n.enhancer(t,i))!==i&&(r[e]=t,n.notifyArrayChildUpdate(e,t,i))}else{if(e!==r.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+r.length);n.spliceWithArray(e,0,[t])}},t}(tt);Oe(rt.prototype,function(){this.$mobx.atom.reportObserved();var e=this,t=0;return Ae({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})}),Object.defineProperty(rt.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(e){this.$mobx.setArrayLength(e)}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&_t(rt.prototype,"undefined"!=typeof Symbol?Symbol.toStringTag:"@@toStringTag","Array"),["every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach(function(e){var t=Array.prototype[e];mt("function"==typeof t,"Base function not defined on Array prototype: '"+e+"'"),_t(rt.prototype,e,function(){return t.apply(this.peek(),arguments)})}),function(e,t){for(var n=0;n<t.length;n++)_t(e,t[n],e[t[n]])}(rt.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var it=ot(0);function ot(e){return{enumerable:!1,configurable:!1,get:function(){return this.get(e)},set:function(t){this.set(e,t)}}}function at(e){Object.defineProperty(rt.prototype,""+e,ot(e))}function st(e){for(var t=et;t<e;t++)at(t);et=e}st(1e3);var lt=St("ObservableArrayAdministration",nt);function ut(e){return Ct(e)&&lt(e.$mobx)}var ct="An invariant failed, however the error is obfuscated because this is an production build.",ht=[];Object.freeze(ht);var pt={};function dt(){return"undefined"!=typeof window?window:r}function ft(){return++At.mobxGuid}function vt(e){throw mt(!1,e),"X"}function mt(e,t){if(!e)throw new Error("[mobx] "+(t||ct))}Object.freeze(pt);function gt(e,t){return!1}function bt(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var yt=function(){};function Ct(e){return null!==e&&"object"==typeof e}function xt(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function _t(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function wt(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function St(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return Ct(e)&&!0===e[n]}}function kt(e){return Array.isArray(e)||ut(e)}function Tt(e){return void 0!==dt().Map&&e instanceof dt().Map}function Et(e){for(var t=[];;){var n=e.next();if(n.done)break;t.push(n.value)}return t}function Pt(){return"function"==typeof Symbol&&Symbol.toPrimitive||"@@toPrimitive"}function It(e){return null===e?null:"object"==typeof e?""+e:e}var Bt,Nt,Mt=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","disableErrorBoundaries","runId"],Ot=function(){return function(){this.version=5,this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.disableErrorBoundaries=!1}}(),At=new Ot,Lt=!1,Dt=dt();function Rt(){return At}function Ft(){var e=new Ot;for(var t in e)-1===Mt.indexOf(t)&&(At[t]=e[t]);At.allowStateChanges=!At.enforceActions}function Vt(e,t){return Ut(He(e,t))}function Ut(e){var t,n,r={name:e.name};return e.observing&&e.observing.length>0&&(r.dependencies=(t=e.observing,n=[],t.forEach(function(e){-1===n.indexOf(e)&&n.push(e)}),n).map(Ut)),r}function jt(e,t){return Ht(He(e,t))}function Ht(e){var t,n={name:e.name};return(t=e).observers&&t.observers.length>0&&(n.observers=function(e){return e.observers}(e).map(Ht)),n}function zt(e,t){var n=e.observers.length;n&&(e.observersIndexes[t.__mapid]=n),e.observers[n]=t,e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function Gt(e,t){if(1===e.observers.length)e.observers.length=0,qt(e);else{var n=e.observers,r=e.observersIndexes,i=n.pop();if(i!==t){var o=r[t.__mapid]||0;o?r[i.__mapid]=o:delete r[i.__mapid],n[o]=i}delete r[t.__mapid]}}function qt(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,At.pendingUnobservations.push(e))}function Wt(){At.inBatch++}function Kt(){if(0==--At.inBatch){dn();for(var e=At.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.length&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof j&&n.suspend())}At.pendingUnobservations=[]}}function Qt(e){var t=At.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.length&&At.inBatch>0&&qt(e),!1)}function Yt(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===Nt.BREAK){var n=[];!function e(t,n,r){if(n.length>=1e3)return void n.push("(and many more)");n.push(""+new Array(r).join("\t")+t.name);t.dependencies&&t.dependencies.forEach(function(t){return e(t,n,r+1)})}(Vt(e),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof j?e.derivation.toString():"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}Dt.__mobxInstanceCount?(Dt.__mobxInstanceCount++,setTimeout(function(){Lt||vt(!1)},1)):Dt.__mobxInstanceCount=1,function(e){e[e.NOT_TRACKING=-1]="NOT_TRACKING",e[e.UP_TO_DATE=0]="UP_TO_DATE",e[e.POSSIBLY_STALE=1]="POSSIBLY_STALE",e[e.STALE=2]="STALE"}(Bt||(Bt={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(Nt||(Nt={}));var Xt=function(){return function(e){this.cause=e}}();function $t(e){return e instanceof Xt}function Zt(e){switch(e.dependenciesState){case Bt.UP_TO_DATE:return!1;case Bt.NOT_TRACKING:case Bt.STALE:return!0;case Bt.POSSIBLY_STALE:for(var t=on(),n=e.observing,r=n.length,i=0;i<r;i++){var o=n[i];if(H(o)){if(At.disableErrorBoundaries)o.get();else try{o.get()}catch(e){return an(t),!0}if(e.dependenciesState===Bt.STALE)return an(t),!0}}return sn(e),an(t),!1}}function Jt(){return null!==At.trackingDerivation}function en(e){var t=e.observers.length>0;At.computationDepth>0&&t&&vt(!1),At.allowStateChanges||!t&&"strict"!==At.enforceActions||vt(!1)}function tn(e,t,n){sn(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++At.runId;var r,i=At.trackingDerivation;if(At.trackingDerivation=e,!0===At.disableErrorBoundaries)r=t.call(n);else try{r=t.call(n)}catch(e){r=new Xt(e)}return At.trackingDerivation=i,function(e){for(var t=e.observing,n=e.observing=e.newObserving,r=Bt.UP_TO_DATE,i=0,o=e.unboundDepsCount,a=0;a<o;a++){var s=n[a];0===s.diffValue&&(s.diffValue=1,i!==a&&(n[i]=s),i++),s.dependenciesState>r&&(r=s.dependenciesState)}n.length=i,e.newObserving=null,o=t.length;for(;o--;){var s=t[o];0===s.diffValue&&Gt(s,e),s.diffValue=0}for(;i--;){var s=n[i];1===s.diffValue&&(s.diffValue=0,zt(s,e))}r!==Bt.UP_TO_DATE&&(e.dependenciesState=r,e.onBecomeStale())}(e),r}function nn(e){var t=e.observing;e.observing=[];for(var n=t.length;n--;)Gt(t[n],e);e.dependenciesState=Bt.NOT_TRACKING}function rn(e){var t=on(),n=e();return an(t),n}function on(){var e=At.trackingDerivation;return At.trackingDerivation=null,e}function an(e){At.trackingDerivation=e}function sn(e){if(e.dependenciesState!==Bt.UP_TO_DATE){e.dependenciesState=Bt.UP_TO_DATE;for(var t=e.observing,n=t.length;n--;)t[n].lowestObserverState=Bt.UP_TO_DATE}}function ln(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"==typeof e[e.length-1]&&(n=e.pop());var r=function(e){switch(e.length){case 0:return At.trackingDerivation;case 1:return He(e[0]);case 2:return He(e[0],e[1])}}(e);if(!r)return vt(!1);r.isTracing===Nt.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled"),r.isTracing=n?Nt.BREAK:Nt.LOG}var un=function(){function e(e,t,n){void 0===e&&(e="Reaction@"+ft()),this.name=e,this.onInvalidate=t,this.errorHandler=n,this.observing=[],this.newObserving=[],this.dependenciesState=Bt.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+ft(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Nt.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,At.pendingReactions.push(this),dn())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(Wt(),this._isScheduled=!1,Zt(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&d()&&f({name:this.name,type:"scheduled-reaction"})}catch(e){this.reportExceptionInDerivation(e)}}Kt()}},e.prototype.track=function(e){Wt();var t,n=d();n&&(t=Date.now(),v({name:this.name,type:"reaction"})),this._isRunning=!0;var r=tn(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&nn(this),$t(r)&&this.reportExceptionInDerivation(r.cause),n&&g({time:Date.now()-t}),Kt()},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(At.disableErrorBoundaries)throw e;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this;console.error(n,e),d()&&f({type:"error",name:this.name,message:n,error:""+e}),At.globalReactionErrorHandlers.forEach(function(n){return n(e,t)})}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Wt(),nn(this),Kt()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e.$mobx=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),ln(this,e)},e}();function cn(e){return At.globalReactionErrorHandlers.push(e),function(){var t=At.globalReactionErrorHandlers.indexOf(e);t>=0&&At.globalReactionErrorHandlers.splice(t,1)}}var hn=100,pn=function(e){return e()};function dn(){At.inBatch>0||At.isRunningReactions||pn(fn)}function fn(){At.isRunningReactions=!0;for(var e=At.pendingReactions,t=0;e.length>0;){++t===hn&&(console.error("Reaction doesn't converge to a stable state after "+hn+" iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction()}At.isRunningReactions=!1}var vn=St("Reaction",un);function mn(e){var t=pn;pn=function(n){return e(function(){return t(n)})}}function gn(e,t,n,r){return"function"==typeof n?function(e,t,n,r){return ze(e,t).observe(n,r)}(e,t,n,r):function(e,t,n){return ze(e).observe(t,n)}(e,t,n)}function bn(e,t,n){return"function"==typeof n?function(e,t,n){return ze(e,t).intercept(n)}(e,t,n):function(e,t){return ze(e).intercept(t)}(e,t)}function yn(e,t,n){return 1===arguments.length||t&&"object"==typeof t?function(e,t){0;var n,r=new Promise(function(r,i){var o=Cn(e,r,a({},t,{onError:i}));n=function(){o(),i("WHEN_CANCELLED")}});return r.cancel=n,r}(e,t):Cn(e,t,n||{})}function Cn(e,t,n){var r;"number"==typeof n.timeout&&(r=setTimeout(function(){if(!o.$mobx.isDisposed){o();var e=new Error("WHEN_TIMEOUT");if(!n.onError)throw e;n.onError(e)}},n.timeout)),n.name=n.name||"When@"+ft();var i=y(n.name+"-effect",t),o=R(function(t){e()&&(t.dispose(),r&&clearTimeout(r),i())},n);return o}function xn(e){return ae(e)?e.$mobx.getKeys():je(e)?e._keys.slice():vt(!1)}function _n(e){return ae(e)?xn(e).map(function(t){return e[t]}):je(e)?xn(e).map(function(t){return e.get(t)}):ut(e)?e.slice():vt(!1)}function wn(e){return ae(e)?xn(e).map(function(t){return[t,e[t]]}):je(e)?xn(e).map(function(t){return[t,e.get(t)]}):ut(e)?e.map(function(e,t){return[t,e]}):vt(!1)}function Sn(e,t,n){if(2!==arguments.length)if(ae(e)){var r=e.$mobx;r.values[t]?r.write(e,t,n):ee(e,t,n,r.defaultEnhancer)}else if(je(e))e.set(t,n);else{if(!ut(e))return vt(!1);"number"!=typeof t&&(t=parseInt(t,10)),mt(t>=0,"Not a valid index: '"+t+"'"),Wt(),t>=e.length&&(e.length=t+1),e[t]=n,Kt()}else{Wt();var i=t;try{for(var o in i)Sn(e,o,i[o])}finally{Kt()}}}function kn(e,t){if(ae(e))e.$mobx.remove(t);else if(je(e))e.delete(t);else{if(!ut(e))return vt(!1);"number"!=typeof t&&(t=parseInt(t,10)),mt(t>=0,"Not a valid index: '"+t+"'"),e.splice(t,1)}}function Tn(e,t){if(ae(e)){var n=ze(e);return n.getKeys(),n.values[t]instanceof X}return je(e)?e.has(t):ut(e)?t>=0&&t<e.length:vt(!1)}function En(e,t){if(Tn(e,t))return ae(e)?e[t]:je(e)?e.get(t):ut(e)?e[t]:vt(!1)}function Pn(e,t){var n="function"==typeof e?e.prototype:e;for(var r in t){var i=t[r],o=i(n,r,Object.getOwnPropertyDescriptor(n,r));o&&Object.defineProperty(n,r,o)}return e}function In(e){var t=e.enforceActions,n=e.computedRequiresReaction,r=e.disableErrorBoundaries,i=e.arrayBuffer,o=e.reactionScheduler;if(void 0!==t){if("boolean"!=typeof t&&"strict"!==t)return fail("Invalid configuration for 'enforceActions': "+t);At.enforceActions=t,At.allowStateChanges=!0!==t&&"strict"!==t}void 0!==n&&(At.computedRequiresReaction=!!n),!0===e.isolateGlobalState&&(Lt=!0,dt().__mobxInstanceCount--),void 0!==r&&(!0===r&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors if this is on."),At.disableErrorBoundaries=!!r),"number"==typeof i&&st(i),o&&mn(o)}var Bn=0;function Nn(e){1!==arguments.length&&vt("Flow expects one 1 argument and cannot be used as decorator");var t=e.name||"<unnamed flow>";return function(){var n,r=arguments,i=++Bn,o=T(t+" - runid: "+i+" - init",e).apply(this,r),a=void 0,s=new Promise(function(e,r){var s=0;function l(e){var n;a=void 0;try{n=T(t+" - runid: "+i+" - yield "+s++,o.next).call(o,e)}catch(e){return r(e)}c(n)}function u(e){var n;a=void 0;try{n=T(t+" - runid: "+i+" - yield "+s++,o.throw).call(o,e)}catch(e){return r(e)}c(n)}function c(t){if(!t||"function"!=typeof t.then)return t.done?e(t.value):(a=Promise.resolve(t.value)).then(l,u);t.then(c,r)}n=r,l(void 0)});return s.cancel=T(t+" - runid: "+i+" - cancel",function(){try{a&&Mn(a);var e=o.return(),t=Promise.resolve(e.value);t.then(yt,yt),Mn(t),n(new Error("FLOW_CANCELLED"))}catch(e){n(e)}}),s}}function Mn(e){"function"==typeof e.cancel&&e.cancel()}var On={detectCycles:!0,exportMapsAsObjects:!0};function An(e,t,n,r){return r.detectCycles&&e.set(t,n),n}function Ln(e,t){return ue(e)?("boolean"==typeof t&&(t={detectCycles:t}),t||(t=On),!0===t.detectCycles&&(n=new Map),function e(t,n,r){if(!ue(t))return t;if(!0===n.detectCycles&&null!==t&&"object"==typeof t&&r.has(t))return r.get(t);if(ut(t)){var i=An(r,t,[],n),o=t.map(function(t){return e(t,n,r)});i.length=o.length;for(var a=0,s=o.length;a<s;a++)i[a]=o[a];return i}if(ae(t)){for(var l in i=An(r,t,{},n),xn(t),t)i[l]=e(t[l],n,r);return i}if(je(t)){if(!1===n.exportMapsAsObjects){var u=An(r,t,new Map,n);return t.forEach(function(t,i){u.set(i,e(t,n,r))}),u}var c=An(r,t,{},n);return t.forEach(function(t,i){c[i]=e(t,n,r)}),c}return $(t)?e(t.get(),n,r):t}(e,t,n)):e;var n}function Dn(e,t,n){var r;if(je(e)||ut(e)||$(e))r=ze(e);else{if(!ae(e))return vt(!1);if("string"!=typeof t)return vt(!1);r=ze(e,t)}return void 0!==r.dehancer?vt(!1):(r.dehancer="function"==typeof t?t:n,function(){r.dehancer=void 0})}"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:b,extras:{getDebugName:Ge}});var Rn="$mobx"}.call(this,n(54),n(45))},function(e,t,n){"use strict";var r,i;r=[n(119),n(55),n(427),n(186),n(423),n(426),n(425),n(185),n(424)],void 0===(i=function(e,t,n,r,i,o,a,s,l){var u;return(u={}).Reaction=e,u.Source=t,u.ScopedSource=n,u.SubSource=r,u.GlobalSource=i,u.DispatcherSource=o,u.Function=a,u.Control=s,u.NumericControl=l,u}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=c(n(72)),o=n(115),a=(c(n(43)),n(20)),s=c(n(19)),l=n(23),u=(c(n(17)),c(n(178)),c(n(113)));function c(e){return e&&e.__esModule?e:{default:e}}var h={},p={},d={},f=(0,s.default)({},o.EventEmitter.prototype,{_initialized:!1,isReady:function(){return this._initialized},has:function(e){return h.hasOwnProperty(e)},get:function(e){return this.has(e)?h[e]:null},setInternal:function(e,t){h[e]=t},getConfig:function(e){return this.get("avb/"+e+"/current_configuration")},getSampleRate:function(e){return this.get("avb/"+e+"/cfg/"+this.getConfig(e)+"/current_sampling_rate")},getCalcCh:function(e){var t=(0,a.getCalcChPath)(e);return this.has(t)?this.get(t):null},hasPathForValue:function(e){return p.hasOwnProperty(JSON.stringify(e))},getPathForValue:function(e){return p.hasOwnProperty(JSON.stringify(e))?p[JSON.stringify(e)]:null},getPathsContainingValue:function(e){return Object.keys(h).filter(function(t){return 0==t.indexOf(e)})},getMixerChannelName:function(e){var t="2:1";f.has(e.formatPath)&&(t=this.get(e.formatPath));var n=2==parseInt(t.split(":")[0],10),r=(0,a.getStripNamePath)(e),i=f.has(r)?this.get(r):"";return n&&(i=i.slice(0,-2)),i},getDefaultMixerChannelName:function(e){var t="In "+(e.num+1)+" - No Connection";if(null!==e){var n=(0,a.getDefaultNamePath)(e),r="2:1";f.has(e.formatPath)&&(r=this.get(e.formatPath));var i=2==parseInt(r.split(":")[0],10);if(this.has(n)&&(t=-1!==(t=this.get(n)).indexOf("Computer")?"From "+t:t,i)){var o=(0,a.getDefaultNamePath)((0,a.getOtherStereoChStripInfo)(e)),s=this.has(o)?this.get(o):"";s=-1!==s.indexOf("Computer")?"From "+s:s,t=u.default.join([t,s])}if(!t)if("chan"==e.type){var c=(0,a.getStripSourceBnCn)(e);if(null!==c&&(t=(0,l.getRouterUtilities)().getChNameFromBank({Bank:"IBank"},c.bn,c.cn),i)){var h=(0,a.getStripSourceBnCn)((0,a.getOtherStereoChStripInfo)(e)),p=(0,l.getRouterUtilities)().getChNameFromBank({Bank:"IBank"},h.bn,h.cn);t=u.default.join([t,p])}}else{var d=this.getBankForMixerStripType(e.type),v=this.has(d)?this.get(d).substring(4):"";if(v.toLowerCase(v)==e.type&&(t=v+" "+(e.num+1),i)){var m=v+" "+(e.num+2);t=u.default.join([t,m])}}}return t},getLabel:function(e){var t=e.type.capitalize();if("fader"!==e.type){var n=this.getMixerChannelName(e),r=this.getDefaultMixerChannelName(e);t=""==n?r:n}return t},hasSends:function(e){for(var t=["aux","group","reverb","main"].map(function(e,t,n){var r=this.getBankForMixerStripType(e).split("/")[2];return{type:e,maxCh:this.get("ext/ibank/"+r+"/maxCh")}},this),n=0;n<t.length;n++)for(var r=0;r<t[n].maxCh;r++)if(f.has(e.basePath+"/matrix/"+t[n].type+"/"+r+"/send"))return!0;return!1},getOutputSends:function(e){return["aux","group","reverb","main"].filter(function(t,n,r){for(var i=this.getBankForMixerStripType(t).split("/")[2],o=this.get("ext/ibank/"+i+"/maxCh"),a=0;a<o;a++)if(f.has("mix/"+t+"/"+a+"/matrix/"+e.id+"/send"))return t},this)},getTalkbackOutputTypes:function(){return["aux","group","reverb","main"].filter(function(e,t,n){for(var r=this.getBankForMixerStripType(e).split("/")[2],i=this.get("ext/ibank/"+r+"/maxCh"),o=0;o<i;o++)if(f.has("mix/"+e+"/"+o+"/tb/enable"))return e},this)},getTalkbackOutputPaths:function(){var e=[];return["aux","group","reverb","main"].map(function(t,n,r){for(var i=this.getBankForMixerStripType(t).split("/")[2],o=this.get("ext/ibank/"+i+"/maxCh"),a=0;a<o;a++){var s="mix/"+t+"/"+a+"/tb/enable";f.has(s)&&e.push(s)}},this),e},getBankForMixerStripType:function(e){return r.BankRoutingNameMap.hasOwnProperty(e)?this.getPathForValue(r.BankRoutingNameMap[e]):null},getControlsFromPath:function(e,t){var n={};return this.getPathsContainingValue(e).map(function(r){var i={},o=r.split("/"),a=this.get(r);if("string"==typeof a){var s=a.split(":");if("ctrls"!==o[o.length-3]?(i.parent=o[o.length-3],i.subparent=o[o.length-2]):(i.parent=o[o.length-2],i.subparent=null),i.name=o[o.length-1],i.path=r,i.valuePath=t+"/"+e.replace("mix/ctrls/","")+"/"+i.name,i.type=s[0],"bool"==i.type)i.default=!!parseInt(s[1]);else if("enum"==i.type){i.default=parseInt(s[1]),i.values={};var l=s[2].split("=");i.values[l[0]]=l[1],l=s[3].split("="),i.values[l[0]]=l[1]}else"int"!=i.type&&"real"!=i.type||(i.default=Number(s[1]),i.min=Number(s[2]),i.max=Number(s[3]),i.unit=void 0!==s[4]?s[4]:"none");n[i.name]=i}},this),n},emitChange:function(){this.emit("change")},emitEvent:function(e){this.emit(e)},addChangeListener:function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(n)if(void 0==d[n]||null==d[n])d[n]=[[e,t]];else{for(var i=!1,o=0;o<d[n].length;o++)d[n][o][1].name==t.name&&d[n][o][0]==e&&(i=!0);i||d[n].push([e,t])}else this.on("change",t);this._initialized&&r&&t(n)},removeChangeListener:function(e,t,n){if(n){if(void 0!=d[n]&&null!=d[n])if(d[n].length>1)for(var r=0;r<d[n].length;r++)d[n][r][1].name==t.name&&d[n][r][0]==e&&d[n].splice(r,1);else d[n][0][0]==e&&(d[n]=null)}else this.removeListener(t.name,t)},unload:function(){for(var e=Object.keys(d),t=0;t<e.length;t++)if(void 0!==d[e[t]]&&null!==d[e[t]])for(var n=0;n<d[e[t]].length;n++)"function"==typeof d[e[t]][n][1]&&this.removeListener(d[e[t]][n][1].name,d[e[t]][n][1]);d={},h={},p={},this._initialized=!1}});f.setMaxListeners(0),f.dispatchToken=i.default.register(function(e){var t=e.type,n=t==r.ActionTypes.RECEIVE_RAW_CHANGESET||t==r.ActionTypes.CLIENT_INTERACTION;if(n){void 0!==e.changes.uid&&f.has("uid")&&f.get("uid")!==e.changes.uid&&(f.unload(),f._initialized=!1);for(var i=Object.keys(e.changes),o=0;o<i.length;o++){var a=i[o],s=e.changes[a],l=h[a];if(h[a]=s,f.hasPathForValue(s))if(""==s&&null!==f.getPathForValue(l)){var u=f.getPathForValue(l);u.constructor==Array?u.forEach(function(e,t,n){e==a&&p[JSON.stringify(l)].splice(t,1)},this):delete p[JSON.stringify(u)]}else{var c=f.getPathForValue(s);if(c.constructor==Array){for(var v=[],m=0;m<c.length;m++)""!==f.get(c[m])&&c[m]!==a&&v.push(c[m]);""!==f.get(a)&&-1==v.indexOf(a)&&v.push(a),p[JSON.stringify(s)]=1==v.length?v[0]:v}else{v=[];""!==f.get(c)&&c!==a&&v.push(c),""!==f.get(a)&&v.push(a),p[JSON.stringify(s)]=1==v.length?v[0]:v}}else p[JSON.stringify(s)]=a;var g=d[a];if(g)for(m=0;m<g.length;m++){var b=g[m][1];b(a),b=null}a=null,s=null}i=null,t=null,n=null,0==f._initialized&&(f._initialized=!0,f.emitChange())}}),t.default=f},function(e,t,n){var r,i,o={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),s=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),l=null,u=0,c=[],h=n(404);function p(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(b(r.parts[a],t))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(b(r.parts[a],t));o[r.id]={id:r.id,refs:1,parts:s}}}}function d(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function f(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=c[c.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),c.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=s(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,i)}}function v(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function m(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),g(t,e.attrs),f(e,t),t}function g(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function b(e,t){var n,r,i,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var a=u++;n=l||(l=m(t)),r=x.bind(null,n,a,!1),i=x.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",g(t,e.attrs),f(e,t),t}(t),r=function(e,t,n){var r=n.css,i=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(r=h(r));i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),i=function(){v(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){v(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=d(e,t);return p(n,t),function(e){for(var r=[],i=0;i<n.length;i++){var a=n[i];(s=o[a.id]).refs--,r.push(s)}e&&p(d(e,t),t);for(i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete o[s.id]}}}};var y,C=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function x(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=C(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(o).concat([i]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelTypeDisplayNames=t.LevelerSettingsOrder=t.ReverbSettingsOrder=t.CompSettingsOrder=t.GateSettingsOrder=t.EQSettingsOrder=t.Orientations=t.DisplayModes=t.MeterFillColors=t.SliderTrackColors=t.SliderTrackAnchorTypes=t.FaderStripTypes=t.BankRoutingNameMap=t.MaxThumbs=t.StripThumbPriority=t.FocusChannelTabControls=t.EQBandButtonStyles=t.EQBands=t.FocusChannelDefaultHeights=t.FocusChannelTabs=t.PerformanceLevels=t.ActionTypes=t.StripOrder=t.FaderModeTypes=t.MixerTabIndexOffset=t.MiniMapHeight=t.MixerMinControlsHeight=t.FocusChannelMinHeight=t.FaderMaxHeight=t.FaderStripWidth=t.ThumbnailHeight=t.FormatButtonHeight=t.SettingsThumbHeight=t.Colors=t.MobileBrowserRegex2=t.MobileBrowserRegex=void 0;var r,i=n(181),o=(r=i)&&r.__esModule?r:{default:r},a=n(37);t.MobileBrowserRegex=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,t.MobileBrowserRegex2=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i;var s=t.Colors={blue:"#348EE8",teal:"#1F9E9D",purple:"#AE53CD",red:"#C21720",yellow:"#FFA600",lighterGray:"#CCCCCC",lightGray:"#BBBBBB",gray:"#555555",darkGray:"#353535",darkerGray:"#282828",almostBlack:"#181818",blacker:"#131313",white:"#FFFFFF",black:"#000000",meter:"#348EE8",meterClip:"#FF0000",gate:"#1F9E9D",gainReduction:"#9D182A",faderTrack:"#1A1A1A",selectedChannelColor:"#C4C4C4",aux:"#35AFAD",reverb:"#DD5C5E",fader:"#348EE8",group:"#D9AF4F",main:"#AF7FC4"};t.SettingsThumbHeight=38,t.FormatButtonHeight=36,t.ThumbnailHeight=72,t.FaderStripWidth=110,t.FaderMaxHeight=242,t.FocusChannelMinHeight=350,t.MixerMinControlsHeight=450,t.MiniMapHeight=36,t.MixerTabIndexOffset=100,t.FaderModeTypes={"aux-mixing":["aux","group","reverb"],"touch-console":["fader","main","aux","group","reverb"]},t.StripOrder={"aux-mixing":["chan","group","reverb"],"touch-console":["chan","group","reverb","monitor","main","aux"]},t.ActionTypes=(0,o.default)({RECEIVE_RAW_CHANGESET:null,RECEIVE_RAW_METERS:null,CLIENT_INTERACTION:null,FADER_VISIBILITY_CHANGE:null}),t.PerformanceLevels=(0,o.default)({BAD:null,GOOD:null}),t.FocusChannelTabs=(0,o.default)({SETTINGS:null,EQUALIZER:null,GATE:null,COMPRESSOR:null,REVERB:null,LEVELER:null,SENDS:null}),t.FocusChannelDefaultHeights={SETTINGS:432,EQUALIZER:465,GATE:465,COMPRESSOR:465,REVERB:465,LEVELER:419,SENDS:512},t.EQBands={lowshelf:"Low",mid1:"Low-Mid",mid2:"High-Mid",highshelf:"High"},t.EQBandButtonStyles={hpf:a.ButtonStyles.LIGHT_GRAY,lowshelf:a.ButtonStyles.BLUE,mid1:a.ButtonStyles.TEAL,mid2:a.ButtonStyles.YELLOW,highshelf:a.ButtonStyles.PURPLE},t.FocusChannelTabControls={SETTINGS:"",EQUALIZER:"eq:hpf",GATE:"gate",COMPRESSOR:"comp",REVERB:"reverb",LEVELER:"leveler",SENDS:"matrix"},t.StripThumbPriority={chan:["eq","dynamics","sends"],aux:["eq"],group:["eq","leveler","sends"],reverb:["eq","leveler","reverb","sends"],monitor:["monitorfollowdropdown","monitorsolobuttons"],main:["eq","leveler"]},t.MaxThumbs=4,t.BankRoutingNameMap={chan:"Mix In",monitor:"Mix Monitor",main:"Mix Main",aux:"Mix Aux",group:"Mix Group",reverb:"Mix Reverb",fader:"Mix Fader"},t.FaderStripTypes=(0,o.default)({INPUT:null,OUTPUT:null}),t.SliderTrackAnchorTypes=(0,o.default)({LEFT_TO_RIGHT:null,CENTER:null,RIGHT_TO_LEFT:null}),t.SliderTrackColors={aux:s.aux,reverb:s.reverb,fader:s.meter,group:s.group,main:s.main},t.MeterFillColors={chan:s.meter,aux:s.aux,reverb:s.reverb,group:s.group,monitor:s.main,main:s.main},t.DisplayModes=(0,o.default)({FULL_SIZE:null,TABLET:null,MOBILE:null}),t.Orientations=(0,o.default)({LANDSCAPE:null,PORTRAIT:null}),t.EQSettingsOrder=["enable","mode","gain","freq","bw"],t.GateSettingsOrder=["enable","threshold","attack","release"],t.CompSettingsOrder=["enable","peak","makeup","threshold","ratio","trim","attack","release"],t.ReverbSettingsOrder=["enable","reverbtime","mod","predelay","tailspread","hf","hfratio","mf","mfratio"],t.LevelerSettingsOrder=["enable","limit","makeup","reduction"],t.ChannelTypeDisplayNames={solo:"Solo Bus",main:"Main Mix",aux:"Aux",group:"Group",reverb:"Reverb"};String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},Number.prototype.countDecimals=function(){return Math.floor(this.valueOf())===this.valueOf()?0:this.toString().split(".")[1].length||0}},function(e,t){e.exports={options:{usePureJavaScript:!1}}},function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&e.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}void 0!==e&&e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"propTypes",function(){return T}),n.d(t,"PropTypes",function(){return T}),n.d(t,"onError",function(){return ae}),n.d(t,"observer",function(){return X}),n.d(t,"Observer",function(){return $}),n.d(t,"renderReporter",function(){return D}),n.d(t,"componentByNodeRegistery",function(){return L}),n.d(t,"componentByNodeRegistry",function(){return L}),n.d(t,"trackComponents",function(){return z}),n.d(t,"useStaticRendering",function(){return G}),n.d(t,"Provider",function(){return oe}),n.d(t,"inject",function(){return B});var r=n(4),i=n(0),o=n.n(i),a=n(13);"undefined"!=typeof window?window:void 0!==e||"undefined"!=typeof self&&self;var s,l=(function(e,t){var n,r,i,o,a,s,l,u;e.exports=(n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i=Object.defineProperty,o=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,s=Object.getOwnPropertyDescriptor,l=Object.getPrototypeOf,u=l&&l(Object),function e(t,c,h){if("string"!=typeof c){if(u){var p=l(c);p&&p!==u&&e(t,p,h)}var d=o(c);a&&(d=d.concat(a(c)));for(var f=0;f<d.length;++f){var v=d[f];if(!(n[v]||r[v]||h&&h[v])){var m=s(c,v);try{i(t,v,m)}catch(e){}}}return t}return t})}(s={exports:{}},s.exports),s.exports),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=(function(){function e(e){this.value=e}function t(t){var n,r;function i(n,r){try{var a=t[n](r),s=a.value;s instanceof e?Promise.resolve(s.value).then(function(e){i("next",e)},function(e){i("throw",e)}):o(a.done?"return":"normal",a.value)}catch(e){o("throw",e)}}function o(e,t){switch(e){case"return":n.resolve({value:t,done:!0});break;case"throw":n.reject(t);break;default:n.resolve({value:t,done:!1})}(n=n.next)?i(n.key,n.arg):r=null}this._invoke=function(e,t){return new Promise(function(o,a){var s={key:e,arg:t,resolve:o,reject:a,next:null};r?r=r.next=s:(n=r=s,i(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},d=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},f=function(){function e(){c(this,e),this.listeners=[]}return h(e,[{key:"on",value:function(e){var t=this;return this.listeners.push(e),function(){var n=t.listeners.indexOf(e);-1!==n&&t.listeners.splice(n,1)}}},{key:"emit",value:function(e){this.listeners.forEach(function(t){return t(e)})}}]),e}();function v(e){function t(t,n,i,o,a,s){for(var l=arguments.length,u=Array(l>6?l-6:0),c=6;c<l;c++)u[c-6]=arguments[c];return Object(r.untracked)(function(){if(o=o||"<<anonymous>>",s=s||i,null==n[i]){if(t){var r=null===n[i]?"null":"undefined";return new Error("The "+a+" `"+s+"` is marked as required in `"+o+"`, but its value is `"+r+"`.")}return null}return e.apply(void 0,[n,i,o,a,s].concat(u))})}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function m(e){var t=void 0===e?"undefined":u(e);return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function g(e,t){return v(function(n,i,o,a,s){return Object(r.untracked)(function(){if(e&&m(n[i])===t.toLowerCase())return null;var a=void 0;switch(t){case"Array":a=r.isObservableArray;break;case"Object":a=r.isObservableObject;break;case"Map":a=r.isObservableMap;break;default:throw new Error("Unexpected mobxType: "+t)}var l=n[i];if(!a(l)){var u=function(e){var t=m(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}(l),c=e?" or javascript `"+t.toLowerCase()+"`":"";return new Error("Invalid prop `"+s+"` of type `"+u+"` supplied to `"+o+"`, expected `mobx.Observable"+t+"`"+c+".")}return null})})}function b(e,t){return v(function(n,i,o,a,s){for(var l=arguments.length,u=Array(l>5?l-5:0),c=5;c<l;c++)u[c-5]=arguments[c];return Object(r.untracked)(function(){if("function"!=typeof t)return new Error("Property `"+s+"` of component `"+o+"` has invalid PropType notation.");var r=g(e,"Array")(n,i,o);if(r instanceof Error)return r;for(var l=n[i],c=0;c<l.length;c++)if((r=t.apply(void 0,[l,c,o,a,s+"["+c+"]"].concat(u)))instanceof Error)return r;return null})})}var y=g(!1,"Array"),C=b.bind(null,!1),x=g(!1,"Map"),_=g(!1,"Object"),w=g(!0,"Array"),S=b.bind(null,!0),k=g(!0,"Object"),T=Object.freeze({observableArray:y,observableArrayOf:C,observableMap:x,observableObject:_,arrayOrObservableArray:w,arrayOrObservableArrayOf:S,objectOrObservableObject:k});var E={mobxStores:k};Object.seal(E);var P={contextTypes:{get:function(){return E},set:function(e){console.warn("Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`")},configurable:!0,enumerable:!1},isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}};function I(e,t,n){var r,o,a="inject-"+(t.displayName||t.name||t.constructor&&t.constructor.name||"Unknown");n&&(a+="-with-"+n);var s=(o=r=function(n){function r(){var e,t,n;c(this,r);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=n=d(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(o))),n.storeRef=function(e){n.wrappedInstance=e},d(n,t)}return p(r,n),h(r,[{key:"render",value:function(){var n={};for(var r in this.props)this.props.hasOwnProperty(r)&&(n[r]=this.props[r]);var o=e(this.context.mobxStores||{},n,this.context)||{};for(var a in o)n[a]=o[a];return function(e){return!(e.prototype&&e.prototype.render)}(t)||(n.ref=this.storeRef),Object(i.createElement)(t,n)}}]),r}(i.Component),r.displayName=a,o);return l(s,t),s.wrappedComponent=t,Object.defineProperties(s,P),s}function B(){var e=void 0;if("function"==typeof arguments[0])return e=arguments[0],function(t){var n=I(e,t);return n.isMobxInjector=!1,(n=X(n)).isMobxInjector=!0,n};for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e=function(e){return function(t,n){return e.forEach(function(e){if(!(e in n)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");n[e]=t[e]}}),n}}(t),function(n){return I(e,n,t.join("-"))}}var N=r.$mobx||"$mobx",M=!1,O=!1,A=!1,L="undefined"!=typeof WeakMap?new WeakMap:void 0,D=new f;function R(e){return"function"==typeof Symbol?Symbol(e):"$mobxReactProp$"+e+Math.random()}var F=R("skipRender"),V=R("isForcingUpdate");function U(e,t,n){Object.hasOwnProperty(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writeable:!0,value:n})}function j(e){if(a.findDOMNode)try{return Object(a.findDOMNode)(e)}catch(e){return null}return null}function H(e){var t=j(e);t&&L&&L.set(t,e),D.emit({event:"render",renderTime:e.__$mobRenderEnd-e.__$mobRenderStart,totalTime:Date.now()-e.__$mobRenderStart,component:e,node:t})}function z(){if("undefined"==typeof WeakMap)throw new Error("[mobx-react] tracking components is not supported in this browser.");M||(M=!0)}function G(e){O=e}var q=new f;function W(e,t){if(K(e,t))return!0;if("object"!==(void 0===e?"undefined":u(e))||null===e||"object"!==(void 0===t?"undefined":u(t))||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!hasOwnProperty.call(t,n[i])||!K(e[n[i]],t[n[i]]))return!1;return!0}function K(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var Q={componentWillUnmount:function(){if(!0!==O&&(this.render[N]&&this.render[N].dispose(),this.__$mobxIsUnmounted=!0,M)){var e=j(this);e&&L&&L.delete(e),D.emit({event:"destroy",component:this,node:e})}},componentDidMount:function(){M&&H(this)},componentDidUpdate:function(){M&&H(this)},shouldComponentUpdate:function(e,t){return O&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!W(this.props,e)}};function Y(e,t){var n=R(t+" value holder"),i=R(t+" atom holder");function o(){return this[i]||U(this,i,Object(r.createAtom)("reactive "+t)),this[i]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return o.call(this).reportObserved(),this[n]},set:function(e){this[V]||W(this[n],e)?U(this,n,e):(U(this,n,e),U(this,F,!0),o.call(this).reportChanged(),U(this,F,!1))}})}function X(e,t){if("string"==typeof e)throw new Error("Store names should be provided as array");if(Array.isArray(e))return A||(A=!0,console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))` instead of `@observer(["store1", "store2"]) ComponentClass`')),t?B.apply(null,e)(X(t)):function(t){return X(e,t)};var n=e;if(!0===n.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),n.__proto__===i.PureComponent&&console.warn("Mobx observer: You are using 'observer' on React.PureComponent. These two achieve two opposite goals and should not be used together"),!("function"!=typeof n||n.prototype&&n.prototype.render||n.isReactClass||i.Component.isPrototypeOf(n))){var o,a,s=X((a=o=function(e){function t(){return c(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),h(t,[{key:"render",value:function(){return n.call(this,this.props,this.context)}}]),t}(i.Component),o.displayName=n.displayName||n.name,o.contextTypes=n.contextTypes,o.propTypes=n.propTypes,o.defaultProps=n.defaultProps,a));return l(s,n),s}if(!n)throw new Error("Please pass a valid component to 'observer'");var u=n.prototype||n;!function(e){["componentDidMount","componentWillUnmount","componentDidUpdate"].forEach(function(t){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e[t],i=Q[t],o=r?!0===n?function(){i.apply(this,arguments),r.apply(this,arguments)}:function(){r.apply(this,arguments),i.apply(this,arguments)}:i;e[t]=o}(e,t)}),e.shouldComponentUpdate?e.shouldComponentUpdate!==Q.shouldComponentUpdate&&console.warn("Use `shouldComponentUpdate` in an `observer` based component breaks the behavior of `observer` and might lead to unexpected results. Manually implementing `sCU` should not be needed when using mobx-react."):e.shouldComponentUpdate=Q.shouldComponentUpdate}(u),n.isMobXReactObserver=!0,Y(u,"props"),Y(u,"state");var f=u.render;return u.render=function(){return function(e){var t=this;if(!0===O)return e.call(this);function n(){var e=this;l=!1;var t=void 0,n=void 0;if(u.track(function(){M&&(e.__$mobRenderStart=Date.now());try{n=Object(r._allowStateChanges)(!1,s)}catch(e){t=e}M&&(e.__$mobRenderEnd=Date.now())}),t)throw q.emit(t),t;return n}var o=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",a=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID||this._reactInternalInstance&&this._reactInternalInstance._debugID||this._reactInternalFiber&&this._reactInternalFiber._debugID;U(this,F,!1),U(this,V,!1);var s=e.bind(this),l=!1,u=new r.Reaction(o+"#"+a+".render()",function(){if(!l&&(l=!0,"function"==typeof t.componentWillReact&&t.componentWillReact(),!0!==t.__$mobxIsUnmounted)){var e=!0;try{U(t,V,!0),t[F]||i.Component.prototype.forceUpdate.call(t),e=!1}finally{U(t,V,!1),e&&u.dispose()}}});return u.reactComponent=this,n[N]=u,this.render=n,n.call(this)}.call(this,f)},n}var $=X(function(e){var t=e.children,n=e.inject,r=e.render,i=t||r;if(void 0===i)return null;if(!n)return i();console.warn("<Observer inject=.../> is no longer supported. Please use inject on the enclosing component instead");var a=B(n)(i);return o.a.createElement(a,null)});$.displayName="Observer";var Z,J,ee=function(e,t,n,r,i){var o="children"===t?"render":"children";return"function"==typeof e[t]&&"function"==typeof e[o]?new Error("Invalid prop,do not use children and render in the same time in`"+n):"function"!=typeof e[t]&&"function"!=typeof e[o]?new Error("Invalid prop `"+i+"` of type `"+u(e[t])+"` supplied to `"+n+"`, expected `function`."):void 0};function te(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function ne(e){var t=this.constructor.getDerivedStateFromProps(e,this.state);null!==t&&void 0!==t&&this.setState(t)}function re(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}$.propTypes={render:ee,children:ee},te.__suppressDeprecationWarning=!0,ne.__suppressDeprecationWarning=!0,re.__suppressDeprecationWarning=!0;var ie={children:!0,key:!0,ref:!0},oe=(J=Z=function(e){function t(e,n){c(this,t);var r=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.state=e||{},r}return p(t,e),h(t,[{key:"render",value:function(){return i.Children.only(this.props.children)}},{key:"getChildContext",value:function(){var e={},t=this.context.mobxStores;if(t)for(var n in t)e[n]=t[n];for(var r in this.state)ie[r]||"suppressChangedStoreWarning"===r||(e[r]=this.props[r]);return{mobxStores:e}}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!e)return null;if(!t)return e;if(Object.keys(e).length!==Object.keys(t).length&&console.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!e.suppressChangedStoreWarning)for(var n in e)ie[n]||t[n]===e[n]||console.warn("MobX Provider: Provided store '"+n+"' has changed. Please avoid replacing stores as the change might not propagate to all children");return e}}]),t}(i.Component),Z.contextTypes={mobxStores:k},Z.childContextTypes={mobxStores:k.isRequired},J);if(function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,i=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?i="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(i="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==i){var o=e.displayName||e.name,a="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+o+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==i?"\n  "+i:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=te,t.componentWillReceiveProps=ne),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=re;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;s.call(this,e,t,r)}}}(oe),!i.Component)throw new Error("mobx-react requires React to be available");if(!r.spy)throw new Error("mobx-react requires mobx to be available");"function"==typeof a.unstable_batchedUpdates&&Object(r.configure)({reactionScheduler:a.unstable_batchedUpdates});var ae=function(e){return q.on(e)};if("object"===("undefined"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__?"undefined":u(__MOBX_DEVTOOLS_GLOBAL_HOOK__))){var se={spy:r.spy,extras:{getDebugName:r.getDebugName}},le={renderReporter:D,componentByNodeRegistry:L,componentByNodeRegistery:L,trackComponents:z};__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(le,se)}}.call(this,n(45))},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(413)},function(e,t,n){(function(t,r,i){var o=n(10),a=n(388),s=e.exports=o.util=o.util||{};function l(e){if(8!==e&&16!==e&&24!==e&&32!==e)throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}function u(e){if(this.data="",this.read=0,"string"==typeof e)this.data=e;else if(s.isArrayBuffer(e)||s.isArrayBufferView(e))if(void 0!==i&&e instanceof i)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(e){for(var n=0;n<t.length;++n)this.putByte(t[n])}}else(e instanceof u||"object"==typeof e&&"string"==typeof e.data&&"number"==typeof e.read)&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}!function(){if(void 0!==t&&t.nextTick)return s.nextTick=t.nextTick,void(s.setImmediate="function"==typeof r?r:s.nextTick);if("function"==typeof r)return s.setImmediate=function(){return r.apply(void 0,arguments)},void(s.nextTick=function(e){return r(e)});if(s.setImmediate=function(e){setTimeout(e,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage){var e="forge.setImmediate",n=[];s.setImmediate=function(t){n.push(t),1===n.length&&window.postMessage(e,"*")},window.addEventListener("message",function(t){if(t.source===window&&t.data===e){t.stopPropagation();var r=n.slice();n.length=0,r.forEach(function(e){e()})}},!0)}if("undefined"!=typeof MutationObserver){var i=Date.now(),o=!0,a=document.createElement("div");n=[];new MutationObserver(function(){var e=n.slice();n.length=0,e.forEach(function(e){e()})}).observe(a,{attributes:!0});var l=s.setImmediate;s.setImmediate=function(e){Date.now()-i>15?(i=Date.now(),l(e)):(n.push(e),1===n.length&&a.setAttribute("a",o=!o))}}s.nextTick=s.setImmediate}(),s.isNodejs=void 0!==t&&t.versions&&t.versions.node,s.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s.isArrayBuffer=function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer},s.isArrayBufferView=function(e){return e&&s.isArrayBuffer(e.buffer)&&void 0!==e.byteLength},s.ByteBuffer=u,s.ByteStringBuffer=u;s.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},s.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},s.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},s.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))},s.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var n=this.data;t>0;)1&t&&(n+=e),(t>>>=1)>0&&(e+=e);return this.data=n,this._optimizeConstructedString(t),this},s.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this},s.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(s.encodeUtf8(e))},s.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},s.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},s.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},s.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255))},s.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))},s.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))},s.ByteStringBuffer.prototype.putInt=function(e,t){l(t);var n="";do{t-=8,n+=String.fromCharCode(e>>t&255)}while(t>0);return this.putBytes(n)},s.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},s.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())},s.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},s.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},s.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},s.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},s.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},s.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},s.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},s.ByteStringBuffer.prototype.getInt=function(e){l(e);var t=0;do{t=(t<<8)+this.data.charCodeAt(this.read++),e-=8}while(e>0);return t},s.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),n=2<<e-2;return t>=n&&(t-=n<<1),t},s.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},s.ByteStringBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},s.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},s.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},s.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},s.ByteStringBuffer.prototype.copy=function(){var e=s.createBuffer(this.data);return e.read=this.read,e},s.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},s.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},s.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this},s.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var n=this.data.charCodeAt(t);n<16&&(e+="0"),e+=n.toString(16)}return e},s.ByteStringBuffer.prototype.toString=function(){return s.decodeUtf8(this.bytes())},s.DataBuffer=function(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var n=s.isArrayBuffer(e),r=s.isArrayBufferView(e);if(n||r)return this.data=n?new DataView(e):new DataView(e.buffer,e.byteOffset,e.byteLength),void(this.write="writeOffset"in t?t.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!==e&&void 0!==e&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)},s.DataBuffer.prototype.length=function(){return this.write-this.read},s.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},s.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var n=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),r=new Uint8Array(this.length()+t);return r.set(n),this.data=new DataView(r.buffer),this},s.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this},s.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var n=0;n<t;++n)this.data.setUint8(e);return this},s.DataBuffer.prototype.putBytes=function(e,t){if(s.isArrayBufferView(e)){var n=(r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)).byteLength-r.byteOffset;return this.accommodate(n),new Uint8Array(this.data.buffer,this.write).set(r),this.write+=n,this}if(s.isArrayBuffer(e)){var r=new Uint8Array(e);return this.accommodate(r.byteLength),new Uint8Array(this.data.buffer).set(r,this.write),this.write+=r.byteLength,this}if(e instanceof s.DataBuffer||"object"==typeof e&&"number"==typeof e.read&&"number"==typeof e.write&&s.isArrayBufferView(e.data)){r=new Uint8Array(e.data.byteLength,e.read,e.length());return this.accommodate(r.byteLength),new Uint8Array(e.data.byteLength,this.write).set(r),this.write+=r.byteLength,this}if(e instanceof s.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary","string"==typeof e){var i;if("hex"===t)return this.accommodate(Math.ceil(e.length/2)),i=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.hex.decode(e,i,this.write),this;if("base64"===t)return this.accommodate(3*Math.ceil(e.length/4)),i=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.base64.decode(e,i,this.write),this;if("utf8"===t&&(e=s.encodeUtf8(e),t="binary"),"binary"===t||"raw"===t)return this.accommodate(e.length),i=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.raw.decode(i),this;if("utf16"===t)return this.accommodate(2*e.length),i=new Uint16Array(this.data.buffer,this.write),this.write+=s.text.utf16.encode(i),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)},s.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this},s.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")},s.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this},s.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this},s.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this},s.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this},s.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this},s.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this},s.DataBuffer.prototype.putInt=function(e,t){l(t),this.accommodate(t/8);do{t-=8,this.data.setInt8(this.write++,e>>t&255)}while(t>0);return this},s.DataBuffer.prototype.putSignedInt=function(e,t){return l(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)},s.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},s.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e},s.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e},s.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e},s.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e},s.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e},s.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e},s.DataBuffer.prototype.getInt=function(e){l(e);var t=0;do{t=(t<<8)+this.data.getInt8(this.read++),e-=8}while(e>0);return t},s.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),n=2<<e-2;return t>=n&&(t-=n<<1),t},s.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},s.DataBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},s.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)},s.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this},s.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},s.DataBuffer.prototype.copy=function(){return new s.DataBuffer(this)},s.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this},s.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},s.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this},s.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var n=this.data.getUint8(t);n<16&&(e+="0"),e+=n.toString(16)}return e},s.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if("binary"===(e=e||"utf8")||"raw"===e)return s.binary.raw.encode(t);if("hex"===e)return s.binary.hex.encode(t);if("base64"===e)return s.binary.base64.encode(t);if("utf8"===e)return s.text.utf8.decode(t);if("utf16"===e)return s.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)},s.createBuffer=function(e,t){return t=t||"raw",void 0!==e&&"utf8"===t&&(e=s.encodeUtf8(e)),new s.ByteBuffer(e)},s.fillString=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>>=1)>0&&(e+=e);return n},s.xorBytes=function(e,t,n){for(var r="",i="",o="",a=0,s=0;n>0;--n,++a)i=e.charCodeAt(a)^t.charCodeAt(a),s>=10&&(r+=o,o="",s=0),o+=String.fromCharCode(i),++s;return r+=o},s.hexToBytes=function(e){var t="",n=0;for(!0&e.length&&(n=1,t+=String.fromCharCode(parseInt(e[0],16)));n<e.length;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t},s.bytesToHex=function(e){return s.createBuffer(e).toHex()},s.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],p="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";s.encode64=function(e,t){for(var n,r,i,o="",a="",s=0;s<e.length;)n=e.charCodeAt(s++),r=e.charCodeAt(s++),i=e.charCodeAt(s++),o+=c.charAt(n>>2),o+=c.charAt((3&n)<<4|r>>4),isNaN(r)?o+="==":(o+=c.charAt((15&r)<<2|i>>6),o+=isNaN(i)?"=":c.charAt(63&i)),t&&o.length>t&&(a+=o.substr(0,t)+"\r\n",o=o.substr(t));return a+=o},s.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t,n,r,i,o="",a=0;a<e.length;)t=h[e.charCodeAt(a++)-43],n=h[e.charCodeAt(a++)-43],r=h[e.charCodeAt(a++)-43],i=h[e.charCodeAt(a++)-43],o+=String.fromCharCode(t<<2|n>>4),64!==r&&(o+=String.fromCharCode((15&n)<<4|r>>2),64!==i&&(o+=String.fromCharCode((3&r)<<6|i)));return o},s.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},s.decodeUtf8=function(e){return decodeURIComponent(escape(e))},s.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:a.encode,decode:a.decode}},s.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)},s.binary.raw.decode=function(e,t,n){var r=t;r||(r=new Uint8Array(e.length));for(var i=n=n||0,o=0;o<e.length;++o)r[i++]=e.charCodeAt(o);return t?i-n:r},s.binary.hex.encode=s.bytesToHex,s.binary.hex.decode=function(e,t,n){var r=t;r||(r=new Uint8Array(Math.ceil(e.length/2)));var i=0,o=n=n||0;for(1&e.length&&(i=1,r[o++]=parseInt(e[0],16));i<e.length;i+=2)r[o++]=parseInt(e.substr(i,2),16);return t?o-n:r},s.binary.base64.encode=function(e,t){for(var n,r,i,o="",a="",s=0;s<e.byteLength;)n=e[s++],r=e[s++],i=e[s++],o+=c.charAt(n>>2),o+=c.charAt((3&n)<<4|r>>4),isNaN(r)?o+="==":(o+=c.charAt((15&r)<<2|i>>6),o+=isNaN(i)?"=":c.charAt(63&i)),t&&o.length>t&&(a+=o.substr(0,t)+"\r\n",o=o.substr(t));return a+=o},s.binary.base64.decode=function(e,t,n){var r,i,o,a,s=t;s||(s=new Uint8Array(3*Math.ceil(e.length/4))),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var l=0,u=n=n||0;l<e.length;)r=h[e.charCodeAt(l++)-43],i=h[e.charCodeAt(l++)-43],o=h[e.charCodeAt(l++)-43],a=h[e.charCodeAt(l++)-43],s[u++]=r<<2|i>>4,64!==o&&(s[u++]=(15&i)<<4|o>>2,64!==a&&(s[u++]=(3&o)<<6|a));return t?u-n:s.subarray(0,u)},s.binary.base58.encode=function(e,t){return s.binary.baseN.encode(e,p,t)},s.binary.base58.decode=function(e,t){return s.binary.baseN.decode(e,p,t)},s.text={utf8:{},utf16:{}},s.text.utf8.encode=function(e,t,n){e=s.encodeUtf8(e);var r=t;r||(r=new Uint8Array(e.length));for(var i=n=n||0,o=0;o<e.length;++o)r[i++]=e.charCodeAt(o);return t?i-n:r},s.text.utf8.decode=function(e){return s.decodeUtf8(String.fromCharCode.apply(null,e))},s.text.utf16.encode=function(e,t,n){var r=t;r||(r=new Uint8Array(2*e.length));for(var i=new Uint16Array(r.buffer),o=n=n||0,a=n,s=0;s<e.length;++s)i[a++]=e.charCodeAt(s),o+=2;return t?o-n:r},s.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))},s.deflate=function(e,t,n){if(t=s.decode64(e.deflate(s.encode64(t)).rval),n){var r=2;32&t.charCodeAt(1)&&(r=6),t=t.substring(r,t.length-4)}return t},s.inflate=function(e,t,n){var r=e.inflate(s.encode64(t)).rval;return null===r?null:s.decode64(r)};var d=function(e,t,n){if(!e)throw new Error("WebStorage not available.");var r;if(null===n?r=e.removeItem(t):(n=s.encode64(JSON.stringify(n)),r=e.setItem(t,n)),void 0!==r&&!0!==r.rval){var i=new Error(r.error.message);throw i.id=r.error.id,i.name=r.error.name,i}},f=function(e,t){if(!e)throw new Error("WebStorage not available.");var n=e.getItem(t);if(e.init)if(null===n.rval){if(n.error){var r=new Error(n.error.message);throw r.id=n.error.id,r.name=n.error.name,r}n=null}else n=n.rval;return null!==n&&(n=JSON.parse(s.decode64(n))),n},v=function(e,t,n,r){var i=f(e,t);null===i&&(i={}),i[n]=r,d(e,t,i)},m=function(e,t,n){var r=f(e,t);return null!==r&&(r=n in r?r[n]:null),r},g=function(e,t,n){var r=f(e,t);if(null!==r&&n in r){delete r[n];var i=!0;for(var o in r){i=!1;break}i&&(r=null),d(e,t,r)}},b=function(e,t){d(e,t,null)},y=function(e,t,n){var r,i=null;void 0===n&&(n=["web","flash"]);var o=!1,a=null;for(var s in n){r=n[s];try{if("flash"===r||"both"===r){if(null===t[0])throw new Error("Flash local storage not available.");i=e.apply(this,t),o="flash"===r}"web"!==r&&"both"!==r||(t[0]=localStorage,i=e.apply(this,t),o=!0)}catch(e){a=e}if(o)break}if(!o)throw a;return i};s.setItem=function(e,t,n,r,i){y(v,arguments,i)},s.getItem=function(e,t,n,r){return y(m,arguments,r)},s.removeItem=function(e,t,n,r){y(g,arguments,r)},s.clearItems=function(e,t,n){y(b,arguments,n)},s.parseUrl=function(e){var t=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;t.lastIndex=0;var n=t.exec(e),r=null===n?null:{full:e,scheme:n[1],host:n[2],port:n[3],path:n[4]};return r&&(r.fullHost=r.host,r.port?80!==r.port&&"http"===r.scheme?r.fullHost+=":"+r.port:443!==r.port&&"https"===r.scheme&&(r.fullHost+=":"+r.port):"http"===r.scheme?r.port=80:"https"===r.scheme&&(r.port=443),r.full=r.scheme+"://"+r.fullHost),r};var C=null;s.getQueryVariables=function(e){var t,n=function(e){for(var t={},n=e.split("&"),r=0;r<n.length;r++){var i,o,a=n[r].indexOf("=");a>0?(i=n[r].substring(0,a),o=n[r].substring(a+1)):(i=n[r],o=null),i in t||(t[i]=[]),i in Object.prototype||null===o||t[i].push(unescape(o))}return t};return void 0===e?(null===C&&(C="undefined"!=typeof window&&window.location&&window.location.search?n(window.location.search.substring(1)):{}),t=C):t=n(e),t},s.parseFragment=function(e){var t=e,n="",r=e.indexOf("?");r>0&&(t=e.substring(0,r),n=e.substring(r+1));var i=t.split("/");return i.length>0&&""===i[0]&&i.shift(),{pathString:t,queryString:n,path:i,query:""===n?{}:s.getQueryVariables(n)}},s.makeRequest=function(e){var t=s.parseFragment(e),n={path:t.pathString,query:t.queryString,getPath:function(e){return void 0===e?t.path:t.path[e]},getQuery:function(e,n){var r;return void 0===e?r=t.query:(r=t.query[e])&&void 0!==n&&(r=r[n]),r},getQueryLast:function(e,t){var r=n.getQuery(e);return r?r[r.length-1]:t}};return n},s.makeLink=function(e,t,n){e=jQuery.isArray(e)?e.join("/"):e;var r=jQuery.param(t||{});return n=n||"",e+(r.length>0?"?"+r:"")+(n.length>0?"#"+n:"")},s.setPath=function(e,t,n){if("object"==typeof e&&null!==e)for(var r=0,i=t.length;r<i;){var o=t[r++];if(r==i)e[o]=n;else{var a=o in e;(!a||a&&"object"!=typeof e[o]||a&&null===e[o])&&(e[o]={}),e=e[o]}}},s.getPath=function(e,t,n){for(var r=0,i=t.length,o=!0;o&&r<i&&"object"==typeof e&&null!==e;){var a=t[r++];(o=a in e)&&(e=e[a])}return o?e:n},s.deletePath=function(e,t){if("object"==typeof e&&null!==e)for(var n=0,r=t.length;n<r;){var i=t[n++];if(n==r)delete e[i];else{if(!(i in e)||"object"!=typeof e[i]||null===e[i])break;e=e[i]}}},s.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},s.format=function(e){for(var t,n,r=/%./g,i=0,o=[],a=0;t=r.exec(e);){(n=e.substring(a,r.lastIndex-2)).length>0&&o.push(n),a=r.lastIndex;var s=t[0][1];switch(s){case"s":case"o":i<arguments.length?o.push(arguments[1+i++]):o.push("<?>");break;case"%":o.push("%");break;default:o.push("<%"+s+"?>")}}return o.push(e.substring(a)),o.join("")},s.formatNumber=function(e,t,n,r){var i=e,o=isNaN(t=Math.abs(t))?2:t,a=void 0===n?",":n,s=void 0===r?".":r,l=i<0?"-":"",u=parseInt(i=Math.abs(+i||0).toFixed(o),10)+"",c=u.length>3?u.length%3:0;return l+(c?u.substr(0,c)+s:"")+u.substr(c).replace(/(\d{3})(?=\d)/g,"$1"+s)+(o?a+Math.abs(i-u).toFixed(o).slice(2):"")},s.formatSize=function(e){return e=e>=1073741824?s.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?s.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?s.formatNumber(e/1024,0)+" KiB":s.formatNumber(e,0)+" bytes"},s.bytesFromIP=function(e){return-1!==e.indexOf(".")?s.bytesFromIPv4(e):-1!==e.indexOf(":")?s.bytesFromIPv6(e):null},s.bytesFromIPv4=function(e){if(4!==(e=e.split(".")).length)return null;for(var t=s.createBuffer(),n=0;n<e.length;++n){var r=parseInt(e[n],10);if(isNaN(r))return null;t.putByte(r)}return t.getBytes()},s.bytesFromIPv6=function(e){for(var t=0,n=2*(8-(e=e.split(":").filter(function(e){return 0===e.length&&++t,!0})).length+t),r=s.createBuffer(),i=0;i<8;++i)if(e[i]&&0!==e[i].length){var o=s.hexToBytes(e[i]);o.length<2&&r.putByte(0),r.putBytes(o)}else r.fillWithByte(0,n),n=0;return r.getBytes()},s.bytesToIP=function(e){return 4===e.length?s.bytesToIPv4(e):16===e.length?s.bytesToIPv6(e):null},s.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t.join(".")},s.bytesToIPv6=function(e){if(16!==e.length)return null;for(var t=[],n=[],r=0,i=0;i<e.length;i+=2){for(var o=s.bytesToHex(e[i]+e[i+1]);"0"===o[0]&&"0"!==o;)o=o.substr(1);if("0"===o){var a=n[n.length-1],l=t.length;a&&l===a.end+1?(a.end=l,a.end-a.start>n[r].end-n[r].start&&(r=n.length-1)):n.push({start:l,end:l})}t.push(o)}if(n.length>0){var u=n[r];u.end-u.start>0&&(t.splice(u.start,u.end-u.start+1,""),0===u.start&&t.unshift(""),7===u.end&&t.push(""))}return t.join(":")},s.estimateCores=function(e,t){if("function"==typeof e&&(t=e,e={}),e=e||{},"cores"in s&&!e.update)return t(null,s.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return s.cores=navigator.hardwareConcurrency,t(null,s.cores);if("undefined"==typeof Worker)return s.cores=1,t(null,s.cores);if("undefined"==typeof Blob)return s.cores=2,t(null,s.cores);var n=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(e){for(var t=Date.now(),n=t+4;Date.now()<n;);self.postMessage({st:t,et:n})})}.toString(),")()"],{type:"application/javascript"}));!function e(r,i,o){if(0===i){var a=Math.floor(r.reduce(function(e,t){return e+t},0)/r.length);return s.cores=Math.max(1,a),URL.revokeObjectURL(n),t(null,s.cores)}!function(e,t){for(var r=[],i=[],o=0;o<e;++o){var a=new Worker(n);a.addEventListener("message",function(n){if(i.push(n.data),i.length===e){for(var o=0;o<e;++o)r[o].terminate();t(null,i)}}),r.push(a)}for(var o=0;o<e;++o)r[o].postMessage(o)}(o,function(t,n){r.push(function(e,t){for(var n=[],r=0;r<e;++r)for(var i=t[r],o=n[r]=[],a=0;a<e;++a)if(r!==a){var s=t[a];(i.st>s.st&&i.st<s.et||s.st>i.st&&s.st<i.et)&&o.push(a)}return n.reduce(function(e,t){return Math.max(e,t.length)},0)}(o,n)),e(r,i-1,o)})}([],5,16)}}).call(this,n(54),n(393).setImmediate,n(92).Buffer)},function(e,t,n){"use strict";var r=n(179);e.exports=function(e,t,n){return!r(e.props,t)||!r(e.state,n)}},function(e,t,n){"use strict";var r,i;r=[n(2),n(22),n(34),n(30),n(66),n(3),n(1)],void 0===(i=function(e,t,n,r,i,o,a){var s,l,u=function(e,t){for(var n in t)c.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},c={}.hasOwnProperty;return s={},l=document,s.Behavior=function(){function e(e){e.node}return e.prototype.remove=function(){var e;return null!=(e=this.listener)?e.remove():void 0},e}(),s.FunctionButton=function(e){function n(e){this.node=e.node,this.f=e.f,this.disabled=e.disabled,this.listener=new t.Listener({node:this.node,proxy:this,events:["dragdown"]})}return u(n,e),n.prototype.dragdown=function(e,t,n){"function"==typeof this.disabled&&this.disabled()||(t.remove(),this.f(),n.stopPropagation(),n.preventDefault())},n}(s.Behavior),s.MomentaryButton=function(e){function n(e){this.node=e.node,this.f=e.f,this.f2=e.f2,this.disabled=e.disabled,this.listener=new t.Listener({node:this.node,proxy:this,events:["dragdown","dragup"]})}return u(n,e),n.prototype.dragdown=function(e,t,n){"function"==typeof this.disabled&&this.disabled()||(this.f(),n.stopPropagation(),n.preventDefault())},n.prototype.dragup=function(e,t){"function"==typeof this.disabled&&this.disabled()||(t.remove(),"function"==typeof this.f2&&this.f2())},n}(s.Behavior),s.GlideScope=function(){var e;function t(e){this.axis=e.axis,this.boundingNode=e.boundingNode,this.members=[]}return e={x:{minBox:"left",maxBox:"right",pos:"clientX"},y:{minBox:"top",maxBox:"bottom",pos:"clientY"}},t.prototype.register=function(e){var t,n,r,i;return r=e.node,i=e.setValue,t=e.disabled,null!=(n=e.glideIndex)?(this.members[n]={node:r,setValue:i,disabled:t},n):(this.members.push({node:r,setValue:i,disabled:t}),this.members.length-1)},t.prototype.presentAndVisible=function(e){return l.body.contains(e)&&o.isVisibleIncludingParents(e)},t.prototype.glide=function(t){var n,r,i,a,s,l;if(i=t.glideIndex,n=t.clientPosition,l=t.value,r=t.drag,!(i<0||i>=this.members.length))return this.presentAndVisible(this.members[i].node)?(s=((a=o.getBoundingClientRect(this.members[i].node))[e[this.otherAxis()].minBox]+a[e[this.otherAxis()].maxBox])/2,r.focusClientPos={},r.focusClientPos[e[this.axis].pos]=n[e[this.axis].pos]):r.focusClientPos=null,null!=this.axis?this.axisGlide({otherPos:s,clientPosition:n,glideIndex:i,value:l}):void 0},t.prototype.otherAxis=function(){return"x"===this.axis?"y":"x"},t.prototype.axisGlide=function(t){var n,r,i,a,s,l,u;for(i=t.glideIndex,s=t.otherPos,r=t.clientPosition,u=t.value,l=r[e[this.axis].pos],this.boundingNode&&(l>(n=o.getBoundingClientRect(this.boundingNode))[e[this.axis].maxBox]?l=n[e[this.axis].maxBox]:l<n[e[this.axis].minBox]&&(l=n[e[this.axis].minBox])),a=i-1;a>=0&&!this.maybePerformAxisGlideForNode(a,l,s,u,!1);)a--;for(a=i+1;a<this.members.length&&!this.maybePerformAxisGlideForNode(a,l,s,u,!0);)a++},t.prototype.maybePerformAxisGlideForNode=function(t,n,r,i,a){var s,l,u;return u=this.members[t].node,!!this.presentAndVisible(u)&&(l=o.getBoundingClientRect(u),null!=r&&r>l[e[this.otherAxis()].maxBox]||r<l[e[this.otherAxis()].minBox]||(!(!a&&n<l[e[this.axis].maxBox]||a&&n>l[e[this.axis].minBox])||(("function"==typeof(s=this.members[t]).disabled?s.disabled():void 0)||this.members[t].setValue(i),!1)))},t}(),s.GlideButton=function(e){function n(e){var n,r;this.node=e.node,this.f=e.f,this.glideScope=e.glideScope,this.chooseValue=e.chooseValue,this.disabled=e.disabled,n=e.glideIndex,this.perf=e.perf,this.listener=new t.Listener({node:this.node,proxy:this,events:["dragdown","dragmove","dragup"]}),this.glideIndex=null!=(r=this.glideScope)?r.register({node:this.node,setValue:this.f,disabled:this.disabled,glideIndex:n}):void 0,("function"==typeof this.disabled?this.disabled():void 0)&&o.addClass(this.node,"disabled")}return u(n,e),n.prototype.getGlideIndex=function(){return this.glideIndex},n.prototype.dragdown=function(e,t,n){var r;if("function"!=typeof this.disabled||!this.disabled())return r=this.chooseValue(),null!=this.glideScope?(t.glideValue=r,null!=this.perf&&(t.perfMode=this.perf.addMode(new i.UserInteractionDrag))):t.remove(),this.f(r),n.stopPropagation(),n.preventDefault();t.remove()},n.prototype.dragmove=function(e,t){var n;if(n=a.pick(e,"clientX","clientY"),null!=this.glideScope&&null!=this.glideIndex)return this.glideScope.glide({glideIndex:this.glideIndex,clientPosition:n,value:t.glideValue,drag:t})},n.prototype.dragup=function(e,t){if(null!=t.perfMode&&null!=this.perf)return this.perf.removeMode(t.perfMode)},n}(s.Behavior),s.chooseToggleValue=function(e,t){var n;return-1===(n=a.indexOf(e,t))?e[0]:e[(n+1)%e.length]},s.ToggleButton=function(e){function t(e){var n,r,i,o,a;o=e.node,i=e.glideScope,this.src=e.src,this.path=e.path,this.values=e.values,r=e.glideIndex,n=e.disabled,null!=this.values&&this.values.length>0||(this.values=[1,0]),t.__super__.constructor.call(this,{node:o,glideScope:i,glideIndex:r,disabled:n,chooseValue:(a=this,function(){return a.chooseToggleValue()}),f:function(e){return function(t){return e.setValue(t)}}(this)})}return u(t,e),t.prototype.chooseToggleValue=function(){return s.chooseToggleValue(this.values,this.src.get(this.path))},t.prototype.setValue=function(e){if(e!==this.src.get(this.path))return this.src.set(this.path,e)},t}(s.GlideButton),s.Popup=function(e){function t(e){var n,r,i;r=e.node,this.control=e.control,this.args=e.args,this.dev=e.dev,n=e.disabled,t.__super__.constructor.call(this,{node:r,disabled:n,f:(i=this,function(){return i.popup()})})}return u(t,e),t.prototype.popup=function(){var e,t,r,i;if(i=this,e=function(){return i.tooltip.keepAlive(),i.tooltip.remove(0)},null==this.tooltip)return r=function(e){return function(){return e.tooltipDead=!0,a.defer(function(){return e.tooltip=null})}}(this),this.tooltipDead=!1,this.tooltip=new n({node:this.node,dev:this.dev,options:{dontKill:["new tooltip"],onremove:r}}),this.tooltip.remove("forever"),null,t=new this.control({div:this.tooltip.div,dev:this.tooltip.dev,args:this.args,close:e}),this.tooltip.controller=t;this.tooltipDead||e()},t}(s.FunctionButton),s.FunctionMenu=function(e){function n(e){this.node=e.node,this.f=e.f,this.listener=new t.Listener({node:this.node,proxy:this,events:["change"]})}return u(n,e),n.prototype.change=function(e){this.f(this.node.value),e.stopPropagation(),e.preventDefault()},n}(s.Behavior),s.DragNumeric=function(e){function l(e){var n;this.node=e.node,this.type=e.type,this.path=e.path,this.dev=e.dev,this.mode=e.mode,this.virtualSize=e.virtualSize,this.axis=e.axis,this.warp=e.warp,this.doTooltip=e.tooltip,this.disabled=e.disabled,null==this.mode&&(this.mode="differential"),null==this.virtualSize&&(this.virtualSize=100),null==this.axis&&(this.axis="y"),null==this.warp&&(this.warp=r.Identity),null==this.doTooltip&&(this.doTooltip=!1),this.lastDragDownTime=0,"differential"!==this.mode&&(this.absNode="thumb"===this.mode?this.node.parentNode:this.node),this.dragmove=a.throttle((n=this,function(e,t){return n.realDragmove(e,t)}),this.mouseThrottleTime),this.perf=this.dev.perf,this.listener=new t.Listener({node:this.node,proxy:this,events:["dragdown","dragmove","dragup","dragcancel","dblclick"]})}return u(l,e),l.prototype.dragdown=function(e,r,a){var l,u,c,h,p,d,f;{if("function"!=typeof this.disabled||!this.disabled())return a.stopPropagation(),a.preventDefault(),this.lastDragDownTime=Date.now(),this.movedSinceDragDown=!1,r.perfMode=this.perf.addMode(new i.UserInteractionDrag),r.initialVal=+this.dev.get(this.path),r.lastVal=this.warp.warp(this.type.toNormalizedValue(+this.dev.get(this.path))),"differential"===this.mode?(r.lastX=e.clientX,r.lastY=e.clientY):"absolute"===this.mode?(l=this.absoluteDragmove(e,0),r.lastVal!==l&&(r.lastVal=l,this.dev.set(this.path,this.type.dragQuantize(+this.type.fromNormalizedValue(this.warp.unwarp(r.lastVal)))))):"thumb"===this.mode&&(r.thumbOffset=this.calcThumbOffset(e)),this.doTooltip?(null!=(p=this.tooltip)&&p.keepAlive(),null!=(d=this.tooltip)&&d.remove(0),f=this,h=function(){var e;return null!=(e=f.tooltipKeyListen)&&e.remove(),f.tooltipKeyListen=null,f.tooltip=null,f.tooltipText=null},this.tooltip=new n({node:this.node,dev:this.dev,options:{onremove:h}}),o.addClass(this.tooltip.div,"toolTipText"),c=function(e){return function(){var t;return null!=(t=e.tooltip)?t.keepAlive():void 0}}(this),u=function(e){return function(){var t;return null!=(t=e.tooltip)?t.remove(0):void 0}}(this),this.tooltipKeyListen=new t.Listener({node:document.body,events:["keypress"],proxy:this}),this.tooltipText=new s.views.Readout({path:this.path,dev:this.tooltip.dev,node:this.tooltip.div,type:this.type,onfocus:c,onblur:u})):void 0;r.remove()}},l.prototype.toServerThrottleTime=200,l.prototype.fromServerThrottleTime=100,l.prototype.mouseThrottleTime=1e3/15,l.prototype.differentialDragmove=function(e,t){var n;return n=(e.clientX-t.lastX-(e.clientY-t.lastY))/this.virtualSize,t.lastX=e.clientX,t.lastY=e.clientY,t.lastVal+n},l.prototype.calcThumbOffset=function(e){var t,n,r,i;return r=o.getBoundingClientRect(this.node),n="x"===this.axis?r.left:r.top,i="x"===this.axis?r.right:r.bottom,(t=("x"===this.axis?e.clientX:e.clientY)-(n+i)/2)>(i-n)/2?t=(i-n)/2:t<-(i-n)/2&&(t=-(i-n)/2),t},l.prototype.absoluteDragmove=function(e,t){var n,r,i,a,s;return n=o.getBoundingClientRect(this.absNode),r="x"===this.axis?n.left:n.top,i="x"===this.axis?n.right:n.bottom,a="x"===this.axis?e.clientX:e.clientY,s=((a-=t)-r)/(i-r),"x"===this.axis?s:1-s},l.prototype.realDragmove=function(e,t){var n;if(this.movedSinceDragDown=!0,"differential"===this.mode?n=this.differentialDragmove(e,t):"absolute"===this.mode?n=this.absoluteDragmove(e,0):"thumb"===this.mode&&((n=this.absoluteDragmove(e,t.thumbOffset))>=1||n<=0)&&(t.thumbOffset=this.calcThumbOffset(e)),n=Math.max(Math.min(n,1),0),t.lastVal!==n)return t.lastVal=n,this.dev.set(this.path,this.type.dragQuantize(+this.type.fromNormalizedValue(this.warp.unwarp(t.lastVal))))},l.prototype.dragcancel=function(e,t){return this.dragup(e,t),this.dev.set(this.path,t.initialVal)},l.prototype.keypress=function(){if(null!=this.tooltip&&null!=this.tooltipText)return this.tooltipText.popEdit(),this.tooltipKeyListen.remove(),this.tooltipKeyListen=null},l.prototype.dragup=function(e,t){var n;return null!=(n=this.tooltip)&&n.remove(2e3),this.perf.removeMode(t.perfMode)},l.prototype.dblclick=function(){if(!("function"==typeof this.disabled&&this.disabled()||"absolute"===this.mode||this.movedSinceDragDown&&Date.now()-this.lastDragDownTime>500))return this.dev.set(this.path,s.chooseToggleValue(this.type.values,this.dev.get(this.path)))},l}(s.Behavior),s.FunctionString=function(n){function r(e){this.node=e.node,this.f=e.f,this.onfocus=e.onfocus,this.getEditableValue=e.getEditableValue,this.getOriginalValue=e.getOriginalValue,this.listener=new t.Listener({node:this.node,proxy:this,events:["focus","blur","dragdown","keydown"]}),this.origVal=null,this.blurListener=null}return u(r,n),r.prototype.focus=function(){if(!o.testClass(this.node,"selectable"))return this.node.blur()},r.prototype.blur=function(){if(o.testClass(this.node,"selectable"))return o.removeClass(this.node,"selectable"),this.f(this.node.value,this.origVal),this.origVal=null,this.blurListener.remove(),this.blurListener=null},r.prototype.popEdit=function(){var e,n;if(!o.testClass(this.node,"selectable"))return null!=this.getEditableValue&&(this.node.value=this.getEditableValue()),null!=this.getOriginalValue?this.origVal=this.getOriginalValue():this.origVal=this.node.value,null!=(e=this.blurListener)&&e.remove(),this.blurListener=new t.Listener({node:document.body,options:{capture:!0},proxy:{dragdown:(n=this,function(e){if(e.target!==n.node)return n.node.blur()})}}),o.addClass(this.node,"selectable"),this.node.focus(),this.node.select(),"function"==typeof this.onfocus?this.onfocus():void 0},r.prototype.dragdown=function(t,n,r){if(n.remove(),!o.testClass(this.node,"selectable"))return this.popEdit(),e.isMobile?void 0:r.preventDefault()},r.prototype.keydown=function(t){if(e.isReturnKey(t)||e.isEscapeKey(t))return this.node.blur(),t.preventDefault()},r}(s.Behavior),s}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r;void 0===(r=function(){return function(){function e(e){var t;this.id=e,t=this.id.split("/"),this.type=t[0],this.num=t[1],this.num=+this.num,this.basePath="mix/"+this.id,this.formatPath=this.basePath+"/config/format",this.metaPath="meta/"+this.id}return e.prototype.id=null,e.prototype.num=null,e.prototype.type=null,e.prototype.formatPath=null,e.prototype.basePath=null,e.prototype.metaPath=null,e}()}.apply(t,[]))||(e.exports=r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.receiveServerUpdate=function(e,t){if("object"===(void 0===e?"undefined":r(e))&&null!==e&&!u.default.isEmpty(e)){var n=[""];if(t)n.length>0&&o.default.dispatch({type:i.ActionTypes.RECEIVE_RAW_CHANGESET,changes:e});else if(n=Object.keys(e),f!==[]){var a={};n.filter(function(t,n,r){var i=e[t],o=!1;return f=f.filter(function(e,n,r){var a=Object.keys(e)[0],s=e[a],l=!(isNaN(parseFloat(s))||isNaN(s-0)||isNaN(parseFloat(i))||isNaN(i-0)),u=null,c=null;if(l){u=parseFloat(i),c=parseFloat(s);var h=-1!==a.indexOf("/fader")||-1!==a.indexOf("/send")?4:2;return u=parseFloat(u.toFixed(h)),c=parseFloat(c.toFixed(h)),a!=t||c!=u||(o=!0,!1)}return a!=t||s!=i||(o=!0,!1)},this),!o}).map(function(t){t&&(a[t]=e[t])}),o.default.dispatch({type:i.ActionTypes.RECEIVE_RAW_CHANGESET,changes:a})}}},t.receiveMeterUpdate=function(e){if("object"===(void 0===e?"undefined":r(e))&&null!==e){var t=Object.keys(e);t.length>0&&o.default.dispatch({type:i.ActionTypes.RECEIVE_RAW_METERS,changes:e})}},t.setAny=m,t.setMultiple=function(e){clearTimeout(d),d=setTimeout(v,2e3);for(var t={},n=0;n<e.length;n++)t[e[n].path]=e[n].value,f.push(p({},e[n].path,e[n].value));a.enqueueWrite({changes:t}),o.default.dispatch({type:i.ActionTypes.CLIENT_INTERACTION,changes:t})},t.setMixerChannelName=function(e,t){var n=(0,c.parse)(e),r=(n.root,n.type),i=n.index,o=e+"/config/format",a=!s.default.has(o)||2==+s.default.get(o).split(":")[0],u=(0,c.parse)(s.default.getBankForMixerStripType(r)),h=u.root+"/"+u.type+"/"+u.index+"/ch";if(a){var p=i-(1&i),d=p+1,f=l.default.split(t);return m(h+"/"+p+"/name",f[0]),void m(h+"/"+d+"/name",f[1])}m(h+"/"+i+"/name",t)};var i=n(9),o=h(n(72)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(23)),s=h(n(6)),l=h(n(113)),u=h(n(1)),c=n(20);function h(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=null,f=[],v=(0,h(n(93)).default)(function(){f=[],clearTimeout(d)},void 0,1);function m(e,t){clearTimeout(d),d=setTimeout(v,2e3);var n=p({},e,t);f.push(n),a.enqueueWrite({changes:n}),o.default.dispatch({type:i.ActionTypes.CLIENT_INTERACTION,changes:n})}},function(e,t,n){"use strict";var r=Object.prototype.propertyIsEnumerable;function i(e){var t=Object.getOwnPropertyNames(e);return Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e))),t.filter(function(t){return r.call(e,t)})}e.exports=Object.assign||function(e,t){for(var n,r,o=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),a=1;a<arguments.length;a++){n=arguments[a],r=i(Object(n));for(var s=0;s<r.length;s++)o[r[s]]=n[r[s]]}return o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=function(e){var t=e.split("/");return{root:t[0],type:t[1],index:+t[2],param:t[3]||null}},t.encode=function(e){return[e.root,e.type,e.index,e.param].join("/")},t.getCalcChPath=function(e){var t="chan"!==e?"Mix "+e.capitalize():"Mix In";return r.default.getPathForValue(t).replace("/name","")+"/calcCh"},t.getMixerChannelInputPath=function(e){if("chan"===e.type){var t=h(e),n=p(e),r=null!==t?t:n;return"ext/ibank/"+r.bn+"/ch/"+r.cn}return null},t.getOutputChannelInputPath=l,t.getMixerChOBankPath=u,t.getAllOBankCalcChPaths=c,t.getOutputChOBankPaths=function(e){if("chan"!==e.type){var t=l(e),n=t.split("/")[2],i=n+":"+e.num,o=[];return c().forEach(function(e,t,n){for(var a=r.default.get(e),s=0;s<a;s++){var l="ext/obank/"+t+"/ch/"+s+"/src";r.default.get(l)==i&&o.push(l)}},this),o}return null},t.getStripNamePath=function(e){if("chan"===e.type)return"ext/obank/"+(0,o.getMixOBn)()+"/ch/"+e.num+"/name";return"ext/ibank/"+(0,o.getBusMap)()[e.type]+"/ch/"+e.num+"/name"},t.getDefaultNamePath=function(e){var t="chan"===e.type?h(e):p(e);return null!==t?"ext/ibank/"+t.bn+"/ch/"+t.cn+"/defaultName":null},t.getOtherStereoChStripInfo=function(e){var t=e.num%2==0?e.num+1:e.num-1;return new a.default(e.type+"/"+t)},t.getBnCn=function(e){if(e){var t=e.split("/"),n={bn:null,cn:null};return t.forEach(function(e,t,r){var i=e==parseInt(e);i&&null==n.bn?n.bn=parseInt(e):i&&null!==n.bn&&null==n.cn&&(n.cn=parseInt(e))},this),n}return null},t.getStripSourceBnCn=h,t.getOutputChannelBnCn=function(e){if("chan"!==e.type){var t=l(e).split("/");return{bn:t[2],cn:t[4]}}return null},t.getStripBnCn=p,t.getChannelIndexFromBankNumber=function(e,t){for(var n=0;n<t.length;n++)if(t[n].num===e)return n},t.getSendPath=function(e){var t=e.type,n=e.num,r="/matrix/"+t;"fader"!==t&&(r+="/"+n+"/send");return r},t.getPanPath=function(e){var t=e.type,n=e.num,r="/matrix/"+("fader"!==t?t:"pan");"fader"!==t&&(r+="/"+n+"/pan");return r};var r=s(n(6)),i=n(9),o=n(23),a=s(n(17));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return"chan"!==e.type?r.default.getPathForValue(i.BankRoutingNameMap[e.type]).replace("/name","")+"/ch/"+e.num:null}function u(e){return"chan"===e.type?"ext/obank/"+(0,o.getMixOBn)()+"/ch/"+e.num:null}function c(){var e=!1,t=0,n=[];do{var i="ext/obank/"+t+"/calcCh";r.default.has(i)?n.push(i):e=!0,t++}while(0==e);return n}function h(e){if("chan"===e.type){var t=u(e)+"/src";if(!r.default.has(t))return null;if(""!==r.default.get(t)){var n=r.default.get(t).split(":");return{bn:n[0],cn:n[1]}}return null}return null}function p(e){return"chan"===e.type?{bn:(0,o.getMixOBn)(),cn:e.num}:{bn:(0,o.getBusMap)()[e.type],cn:e.num}}},function(e,t,n){"use strict";var r,i;r=[n(76),n(51)],void 0===(i=function(e,t){var n;return"TEST","1.1.1",(n={shipping:"DEBU"!=="TEST".slice(0,4),ui:"1.1.1+TEST","motu.mdns.type":"netiodevice",apiversion:"^0",apiversion_test:"0.0.0",okay:{avb:"~0.0",mixer:"~1.0",meters:"~0.0",activityMeters:"~0.0",router:"~0.0",preset:"~0.0",firmware_update:">=0.0",quick_setup:"~0.0"},req:{avb:"^0",mixer:"^1",meters:"^0",activityMeters:"^0",router:"^0",preset:"^0",firmware_update:">=0",quick_setup:"^0"}}).serviceTypeOK=function(e){var t,n;return n=e.type,t=e.cap,"netiohost"!==n||"firmware_update"!==t},n.apiVersionOK=function(t){return!!e.satisfies(t,n.apiversion)},n.canTarget=function(t){var r,i;return i=t.type,r=t.apiversion,i===n["motu.mdns.type"]&&!!e.satisfies(r,n.apiversion)},n.check=function(t){var r,i,o,a;return o=t.dev,r=t.cap,(a=null!=(i=t.capVersion)?i:null!=o?o.get("ext/caps/"+r):void 0)?e.satisfies(a,n.req[r])?e.satisfies(a,n.okay[r])?"okay":"warnVersion":"badVersion":"noCap"},n.satisfies=function(t){var n,r,i,o,a;return o=t.dev,n=t.cap,r=t.capVersion,i=t.check,!!(a=null!=r?r:null!=o?o.get("ext/caps/"+n):void 0)&&e.satisfies(a,i)},n.doAlertCheck=function(e){var r,i,o,a,s;return i=e.dev,r=e.cap,s=e.task,o=e.node,null==(a={noCap:s+" is not supported by this device",badVersion:"Cannot communicate with the "+r+" hardware because of a version mismatch.  Please download the latest version of the Web UI."}[n.check({dev:i,cap:r})])?null:new t(a,o)},n.works=function(e){var t;return"warnVersion"===(t=n.check(e))||"okay"===t},n}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(2),n(1),n(3)],void 0===(i=function(e,t,n){var r,i,o,a,s,l,u,c=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};return(i={}).FakeEvent=function(){return function(e){t.defaults(this,e),null!=this.clientX&&null!=this.clientY&&null==this.target&&(this.target=document.elementFromPoint(this.clientX,this.clientY))}}(),r=function(){function e(){this.drags={}}return e.prototype.isMouseEvent=function(e){return null!=e.type&&-1!==e.type.indexOf("mouse")},e.prototype.indexForEvent=function(e){return this.isMouseEvent(e)?"mouse":e.identifier},e.prototype.dragForEvent=function(e){return this.drags[this.indexForEvent(e)]},e.prototype.fakeMousemoveForScroll=function(){var e,t,n,r,o;for(n in o=[],r=this.drags)(e=r[n]).listener.options.fakeMousemoveOnScroll&&(t=new i.FakeEvent({clientX:e.lastCoord.clientX,clientY:e.lastCoord.clientY,type:"mousemove"}),o.push(e.mousemove(t)));return o},e.prototype.registerDrag=function(e,t){return this.drags[this.indexForEvent(e)]=t},e.prototype.clearDrag=function(e,t){return delete this.drags[this.indexForEvent(e)]},e}(),i.drags=new r,l=function(e,t){var n,r,i,o,a;for(o=[],n=r=0,i=e.changedTouches.length;0<=i?r<i:r>i;n=0<=i?++r:--r)a=e.changedTouches.item(n),o.push(t(a));return o},o=function(e,t){var n,r,i,o;for(n=r=0,i=e.changedTouches.length;0<=i?r<i:r>i;n=0<=i?++r:--r)if((o=e.changedTouches.item(n)).identifier===t)return o;return null},s=function(e){for(var t;null!=e;){if(null!=(null!=(t=e.className)?t.split:void 0)&&c.call(e.className.split(" "),"scrollContext")>=0)return e;e=e.parentNode}return null},a=function(e){return s(e.target)},i.Drag=function(){function e(e){this.mousedown=e.mousedown,this.proxy=e.proxy,this.options=e.options,this.lastCoord=t.pick(this.mousedown,["clientX","clientY"]),this.type=i.drags.isMouseEvent(this.mousedown)?"mouse":"touch",this.identifier=i.drags.indexForEvent(this.mousedown),this.options.register&&(i.drags.registerDrag(this.mousedown,this),this.registered=!0),this.listener=new i.Listener({proxy:this,events:["mousemove","mouseup","touchmove","touchend","touchcancel"],node:window,options:t.extend(t.clone(this.options),{inhibitMousemoveDuringDrag:!1,capture:!0})})}return e.prototype.type=null,e.prototype.focusClientPos=null,e.prototype.mousemove=function(e,n){var r;return this.registered&&null!=n&&n.preventDefault(),this.lastCoord=t.pick(e,["clientX","clientY"]),"function"==typeof(r=this.proxy).dragmove?r.dragmove(e,this,n):void 0},e.prototype.touchmove=function(e){var t;if("mouse"!==this.identifier&&null!=(t=o(e,this.identifier)))return this.mousemove(t,e)},e.prototype.touchend=function(e){var t;if("mouse"!==this.identifier&&null!=(t=o(e,this.identifier)))return this.mouseup(t,e)},e.prototype.touchcancel=function(e){var t;if("mouse"!==this.identifier&&null!=o(e,this.identifier))return"function"==typeof(t=this.proxy).dragcancel&&t.dragcancel(e,this),this.remove()},e.prototype.remove=function(){var e;return null!=(e=this.listener)&&e.remove(),this.registered&&i.drags.clearDrag(this.mousedown,this),this.registered=this.listener=this.proxy=null},e.prototype.mouseup=function(e,t){var n;return null==t&&(t=e),"function"==typeof(n=this.proxy).dragup&&n.dragup(e,this,t),this.remove()},e}(),u=function(e){return 0===e.scrollTop?e.scrollTop=1:e.scrollHeight-e.scrollTop<=e.clientHeight?e.scrollTop=e.scrollHeight-e.clientHeight-1:void 0},i.DragListener=function(){function t(t){var n;this.node=t.node,this.proxy=t.proxy,this.options=t.options,n=e.isMobile?["touchstart"]:["mousedown","touchstart"],this.listener=new i.Listener({proxy:this,events:n,node:this.node,options:this.options})}return t.prototype.mousedown=function(e){var t,n;return n=new i.Drag({mousedown:e,proxy:this.proxy,options:this.options}),"function"==typeof(t=this.proxy).dragdown?t.dragdown(e,n,e):void 0},t.prototype.touchstart=function(t){return l(t,(n=this,function(r){var o,s,l;if(!n.options.register||null==i.drags.dragForEvent(r))return s=new i.Drag({mousedown:r,proxy:n.proxy,options:n.options}),"function"==typeof(o=n.proxy).dragdown&&o.dragdown(r,s,t),s===i.drags.dragForEvent(r)?t.preventDefault():(e.isMobile&&null!=(l=a(r))&&u(l),n.options.register?s.remove():void 0)}));var n},t.prototype.remove=function(){return this.listener.remove()},t}(),i.Listener=function(){var e,n;function r(n){var r,o,a,s,l,u,h,p,d,f,v,m;for(this.proxy=n.proxy,this.events=n.events,this.node=n.node,this.options=n.options,null==this.events&&(this.events=t.keys(this.proxy)),null==this.options&&(this.options={}),t.defaults(this.options,{fakeMousemoveOnScroll:!0,inhibitMousemoveDuringDrag:!0,capture:!1,register:!0}),this.options.fakeMousemoveOnScroll&&this.events.push("mouseout"),c.call(this.events,"wheel")>=0&&this.events.push("mousewheel"),a={},s=0,h=(f=this.events).length;s<h;s++){for(o=f[s],l=0,p=e.length;l<p;l++)r=e[l],o=o.replace(r,"");a[o]=!0}for(this.events=t.keys(a),u=0,d=(v=this.events).length;u<d;u++)"scroll"!==(o=v[u])&&this.shouldInstall(o)&&this.node.addEventListener(o,this,this.options.capture);t.any(["dragmove","dragdown","dragup","dragcancel"],(m=this,function(e){return c.call(m.events,e)>=0}))&&(this.dragListen=new i.DragListener({node:this.node,proxy:this.proxy,options:this.options})),this.maybeSetupFakeMousemoveOnScroll()}return n={1:"middle",2:"right"},e=t.values(n),r.prototype.shouldInstall=function(e){return!("dragmove"===e||"dragdown"===e||"dragup"===e||"dragcancel"===e)},r.prototype.maybeSetupFakeMousemoveOnScroll=function(){var e;if(c.call(i,"mousemove")>=0&&this.options.fakeMousemoveOnScroll||c.call(this.events,"scroll")>=0)return this.scrollNode=s(this.node),null!=(e=this.scrollNode)?e.addEventListener("scroll",this,this.options.capture):void 0},r.prototype.maybeFakeMousemoveOnScroll=function(e){if(null!=this.scrollNode&&(null!=e.clientX&&(this.lastMouseE="mouseout"!==e.type?e:null),"scroll"===e.type&&null!=this.lastMouseE))return this.handleEvent(new i.FakeEvent({clientX:this.lastMouseE.clientX,clientY:this.lastMouseE.clientY,type:"mousemove"}))},r.prototype.handleEvent=function(e){var t,r,o;if(!("mousemove"===e.type&&null!=i.drags.dragForEvent(e)&&this.options.inhibitMousemoveDuringDrag||(this.maybeFakeMousemoveOnScroll(e),this.hackSafariMouseWheel(e))))return o=""+(null!=(r=n[e.button])?r:"")+e.type,"function"==typeof(t=this.proxy)[o]?t[o](e):void 0},r.prototype.hackSafariMouseWheel=function(e){var t;return"mousewheel"===e.type?(e.deltaY=-e.wheelDeltaY,e.deltaX=-e.wheelDeltaX,e.deltaMode=0,e.stopPropagation(),"function"==typeof(t=this.proxy).wheel&&t.wheel(e),!0):("wheel"===e.type&&e.stopPropagation(),!1)},r.prototype.remove=function(){var e,t,n,r,i,o,a;for(t=0,n=(r=this.events).length;t<n;t++)e=r[t],null!=(i=this.node)&&i.removeEventListener(e,this,this.options.capture);return this.scrollNode&&null!=(o=this.scrollNode)&&o.removeEventListener("scroll",this,this.options.capture),null!=(a=this.dragListen)&&a.remove(),this.proxy=this.node=this.scrollNode=this.dragListen=null},r}(),i.createGlobalListener=function(){return new i.Listener({node:window,options:{capture:!1},proxy:{touchmove:function(e){return l(e,function(t){if(null==i.drags.dragForEvent(t)&&null==a(t))return e.preventDefault()})},selectstart:function(e){var t;if(t=e.target instanceof window.Element?e.target:e.target.parentNode,!n.testClass(t,"selectable")&&!n.matches(t,".selectable *"))return e.preventDefault(),e.stopPropagation()},dragenter:function(e){return e.preventDefault(),e.stopPropagation()},dragover:function(e){return e.preventDefault(),e.stopPropagation()},drop:function(e){return e.preventDefault(),e.stopPropagation()}}})},i}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enqueueWrite=function(e){var t=e.changes;(0,u.default)(y,t),C()},t.setInitialData=function(e){r.receiveServerUpdate(e,!0)},t.injectDevice=function(e){null!==p&&p.remove();null!==f&&f.remove();p=e,g=new i.default(p),b=new o.default(p),x(),d||(d=a.AddDataStoreListener({perf:e.perf,baseURL:e.baseURL,callback:r.receiveServerUpdate,id:this.id}));f||(f=a.AddMeterListener({perf:e.perf,baseURL:e.baseURL,callback:(0,s.default)(r.receiveMeterUpdate,100)}));d.unpause(),f.unpause()},t.unload=function(){d.remove(),d=null,f.remove(),f=null},t.setupBusMap=x,t.getInjectedDevice=function(){return(0,l.default)(null!==p,"Tried to get a reference to the device before it was injected."),p},t.getMixerUtilities=function(){return(0,l.default)(null!==g,"Tried to get a reference to the mixer utilities before the device was injected."),g},t.getRouterUtilities=function(){return(0,l.default)(null!==b,"Tried to get a reference to the router utilities before the device was injected."),b},t.getBusMap=function(){return(0,l.default)(null!==v,"Tried to get a reference to the bus map before the device was injected."),v},t.getMixOBn=function(){return(0,l.default)(null!==m,"Tried to get a reference to the mix output bank number before the device was injected."),m},t.getMetersSource=function(){return(0,l.default)(null!==f,"Tried to get a reference to the meters source before the device was injected."),f};n(9),h(n(72));var r=c(n(18)),i=h(n(401)),o=h(n(178)),a=(h(n(6)),h(n(42)),c(n(397))),s=h(n(24)),l=h(n(114)),u=h(n(19));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e){return e&&e.__esModule?e:{default:e}}var p=null,d=null,f=null,v=null,m=null,g=null,b=null,y={},C=(0,s.default)(function(){(0,l.default)(null!==p,"ConnectionBroker cannot take writes before device is injected."),p.setMultiple(y),y={}},200);function x(){(0,l.default)(null!==b,"Tried to get a reference to the router utilities before the device was injected.");var e={bus:{},mixOBn:null};b.mapIBanks(function(e){var t=e;return function(e,n){var r;if(null!=(r={"Mix Monitor":"monitor","Mix Main":"main","Mix Aux":"aux","Mix Group":"group","Mix Reverb":"reverb"})[e])return t.bus[r[e]]=n}}(e)),b.mapOBanks(function(e){var t=e;return function(e,n){if("Mix In"===e)return t.mixOBn=n}}(e)),(0,l.default)(null!==e.mixOBn,"Must have a Mix In Channel."),v=e.bus,m=e.mixOBn}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=null;return function(){if(null===r){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];r=setTimeout(function(){e.apply(t,o),r=null},n)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r.default.createElement("div",{height:e.height,className:(0,i.default)(o.default.InsetContainer,e.className)},r.default.createElement("div",{className:o.default.InsetContainerInner},e.children))};var r=a(n(0)),i=a(n(11)),o=a(n(313));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";function r(e,t,n){for(var r=new Array(n),i=(t-e)/(n-1),o=0;o<n;o++)r[o]=e+o*i;return r}Object.defineProperty(t,"__esModule",{value:!0}),t.linspace=r,t.logspace=function(e,t,n){return r(Math.log10(e),Math.log10(t),n).map(function(e){return Math.round(100*Math.pow(10,e))/100})},t.normalize=function(e,t,n,r){return(r(n)-r(e))/(r(t)-r(e))},t.mag2db=function(e){return 20*Math.log10(e)},t.db2mag=function(e){return Math.pow(10,e/20)}},function(e,t,n){"use strict";var r,i;r=[n(1),n(378),n(377),n(95),n(158),n(374),n(182),n(376),n(375),n(16)],void 0===(i=function(e,t,n,r,i,o,a,s,l,u){var c;return c={},e.extend(c,t,n,r,i,o,a,s,l),u.views=c,c}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=a(n(0)),o=(a(n(13)),a(n(11)),a(n(24)),a(n(17)),a(n(15)),a(n(322)));a(n(6)),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(18)),n(12);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._getSVGContent=n._getSVGContent.bind(n),n._renderFaderTicks=n._renderFaderTicks.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){}},{key:"render",value:function(){var e=this.props.className?this.props.className+" "+o.default.SVGIcon:o.default.SVGIcon;return this.props.type?this._getSVGContent(this.props.type,e):null}},{key:"_getSVGContent",value:function(e,t){switch(e){case"settings":return i.default.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:this.props.width,height:this.props.height,viewBox:"0 0 896.025 896.025"},i.default.createElement("g",null,i.default.createElement("path",{style:{fill:this.props.fillColor},d:"M863.24,382.771l-88.759-14.807c-6.451-26.374-15.857-51.585-28.107-75.099l56.821-70.452 c12.085-14.889,11.536-36.312-1.205-50.682l-35.301-39.729c-12.796-14.355-34.016-17.391-50.202-7.165l-75.906,47.716 c-33.386-23.326-71.204-40.551-112-50.546l-14.85-89.235c-3.116-18.895-19.467-32.759-38.661-32.759h-53.198 c-19.155,0-35.561,13.864-38.608,32.759l-14.931,89.263c-33.729,8.258-65.353,21.588-94.213,39.144l-72.188-51.518 c-15.558-11.115-36.927-9.377-50.504,4.171l-37.583,37.61c-13.548,13.577-15.286,34.946-4.142,50.504l51.638,72.326 c-17.391,28.642-30.584,60.086-38.841,93.515l-89.743,14.985C13.891,385.888,0,402.24,0,421.435v53.156 c0,19.193,13.891,35.547,32.757,38.663l89.743,14.985c6.781,27.508,16.625,53.784,29.709,78.147L95.647,676.44 c-12.044,14.875-11.538,36.312,1.203,50.669l35.274,39.73c12.797,14.382,34.028,17.363,50.216,7.163l77-48.37 c32.581,22.285,69.44,38.664,108.993,48.37l14.931,89.25c3.048,18.896,19.453,32.76,38.608,32.76h53.198 c19.194,0,35.545-13.863,38.661-32.759l14.875-89.25c33.308-8.147,64.531-21.245,93.134-38.5l75.196,53.705 c15.53,11.155,36.915,9.405,50.478-4.186l37.598-37.597c13.532-13.536,15.365-34.893,4.127-50.479l-53.536-75.059 c17.441-28.738,30.704-60.238,38.909-93.816l88.758-14.82c18.921-3.116,32.756-19.469,32.756-38.663v-53.156 C895.998,402.24,882.163,385.888,863.24,382.771z M449.42,616.013c-92.764,0-168-75.25-168-168c0-92.764,75.236-168,168-168 c92.748,0,167.998,75.236,167.998,168C617.418,540.763,542.168,616.013,449.42,616.013z"})));case"gate":return i.default.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:this.props.width,height:this.props.height,viewBox:"0 0 151.33 154"},i.default.createElement("g",{style:{fill:"none",stroke:this.props.fillColor}},i.default.createElement("rect",{className:o.default.DynamicsPath,x:"6.5",y:"6.5",width:"138.33",height:"141"}),i.default.createElement("polyline",{className:o.default.DynamicsPath,points:"75.66 147.5 75.36 64.27 144.83 6.5"})));case"compressor":return i.default.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:this.props.width,height:this.props.height,viewBox:"0 0 155 155.36"},i.default.createElement("path",{d:"M512,276V405H383V276H512m13-13H370V418H525V263Z",transform:"translate(-370 -263)",style:{fill:this.props.fillColor}}),i.default.createElement("path",{d:"M384.32,418.36l-12.69-2.81c.67-3,16.76-74,52.34-88.12l.54-.21,97.25-19.54,2.56,12.75-96.07,19.31C404.3,349.81,388.43,399.81,384.32,418.36Z",transform:"translate(-370 -263)",style:{fill:this.props.fillColor}}));case"equalizer":return i.default.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:this.props.width,height:this.props.height,viewBox:"0 0 42 22.969"},i.default.createElement("defs",null,i.default.createElement("filter",{id:"filter",x:"19",y:"898.031",width:"42",height:"22.969",filterUnits:"userSpaceOnUse"},i.default.createElement("feGaussianBlur",{result:"blur",in:"SourceAlpha"}),i.default.createElement("feFlood",{result:"flood","flood-color":"#010d1d","flood-opacity":"0.2"}),i.default.createElement("feComposite",{result:"composite",operator:"out",in2:"blur"}),i.default.createElement("feOffset",{result:"offset"}),i.default.createElement("feComposite",{result:"composite-2",operator:"in",in2:"SourceAlpha"}),i.default.createElement("feBlend",{result:"blend",mode:"multiply",in2:"SourceGraphic"}))),i.default.createElement("path",{className:o.default.EQPath,style:{fill:this.props.fillColor},d:"M61,907.261s-11.79-21.379-19.385.9S19,919.511,19,906.93",transform:"translate(-19 -898.031)"}));case"leveler":return i.default.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:this.props.width,height:this.props.height,viewBox:"0 0 163 109.5"},i.default.createElement("g",null,i.default.createElement("g",null,i.default.createElement("path",{className:o.default.LevelerPath,style:{fill:this.props.fillColor},d:"M81.5,4C38.77,4,4,38.91,4,80.82h7.69c0-38.1,31.32-69.2,69.81-69.2s69.81,31.1,69.81,69.2H159C159,38.91,124.24,4,81.5,4Z"}),i.default.createElement("path",{className:o.default.LevelerPath,style:{fill:this.props.fillColor},d:"M163,84.82H147.31v-4c0-36-29.52-65.2-65.81-65.2S15.69,44.87,15.69,80.82v4H0v-4a79.93,79.93,0,0,1,23.9-57,81.46,81.46,0,0,1,115.2,0,79.91,79.91,0,0,1,23.9,57Z"}),i.default.createElement("path",{className:o.default.LevelerPath,style:{fill:this.props.fillColor},d:"M92.14,102.39A4.69,4.69,0,0,1,89.71,105a4.76,4.76,0,0,1-6.3-2.23C80.79,97.35,68.76,67.1,63.47,50.18,73.34,64.95,89.34,93.34,92,98.8A4.63,4.63,0,0,1,92.14,102.39Z"}),i.default.createElement("path",{className:o.default.LevelerPath,style:{fill:this.props.fillColor},d:"M87.69,109.5a8.78,8.78,0,0,1-7.89-5c-2.86-6-14.93-36.47-20.14-53.17L51.38,24.9,66.8,48C76.54,62.53,92.71,91.1,95.56,97.08a8.6,8.6,0,0,1,.33,6.67h0a8.67,8.67,0,0,1-4.49,4.92A8.81,8.81,0,0,1,87.69,109.5Zm-6-21.32c2.51,6.31,4.55,11.18,5.38,12.92a.76.76,0,0,0,.67.41.81.81,0,0,0,.35-.08.67.67,0,0,0,.34-.39.63.63,0,0,0,0-.5C87.51,98.78,85,94.12,81.64,88.18Z"}))));case"reverb":return i.default.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:this.props.width,height:this.props.height,viewBox:"0 0 73 100"},i.default.createElement("g",{style:{fill:this.props.fillColor}},i.default.createElement("text",{className:o.default.ReverbText,transform:"translate(0 68.79)"},"r"),i.default.createElement("text",{className:o.default.ReverbText,transform:"translate(23.14 89.38)"},"v")));case"sends":return i.default.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:this.props.width,height:this.props.height,viewBox:"0 0 157 134"},i.default.createElement("g",{style:{fill:this.props.fillColor}},i.default.createElement("g",{style:{fill:this.props.fillColor}},i.default.createElement("rect",{y:"103",width:"22",height:"31"}),i.default.createElement("rect",{x:"27",y:"30",width:"22",height:"104"}),i.default.createElement("rect",{x:"54",width:"22",height:"134"}),i.default.createElement("rect",{x:"81",y:"46",width:"22",height:"88"}),i.default.createElement("rect",{x:"108",y:"12",width:"22",height:"122"}),i.default.createElement("rect",{x:"135",y:"73",width:"22",height:"61"}))));case"talkback":return i.default.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:this.props.width,height:this.props.height,viewBox:"0 0 338.5 338.5"},i.default.createElement("g",{style:{fill:this.props.fillColor,stroke:this.props.strokeColor}},i.default.createElement("rect",{className:o.default.TalkbackRect,x:"10",y:"10",width:"318.5",height:"318.5",rx:"40",ry:"40"}),i.default.createElement("circle",{cx:"272",cy:"271",r:"27",transform:"translate(-110.67 302.49) rotate(-49.6)"}),i.default.createElement("rect",{x:"68",y:"105.06",width:"12.98",height:"70.81",rx:"5.5",ry:"5.5"}),i.default.createElement("rect",{x:"99.67",y:"70.24",width:"12.98",height:"140.45",rx:"5.5",ry:"5.5"}),i.default.createElement("rect",{x:"131.34",y:"51.95",width:"12.98",height:"177.03",rx:"5.5",ry:"5.5"}),i.default.createElement("rect",{x:"163.01",y:"40",width:"12.98",height:"201.82",rx:"5.5",ry:"5.5"}),i.default.createElement("rect",{x:"258.02",y:"105.06",width:"12.98",height:"70.81",rx:"5.5",ry:"5.5",transform:"translate(529.02 280.93) rotate(-180)"}),i.default.createElement("rect",{x:"226.35",y:"70.24",width:"12.98",height:"140.45",rx:"5.5",ry:"5.5",transform:"translate(465.68 280.93) rotate(-180)"}),i.default.createElement("rect",{x:"194.68",y:"51.95",width:"12.98",height:"177.03",rx:"5.5",ry:"5.5",transform:"translate(402.34 280.93) rotate(180)"})));case"talk":return i.default.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:this.props.width,height:this.props.height,viewBox:"0 0 87.459 87.459"},i.default.createElement("g",{style:{fill:this.props.fillColor}},i.default.createElement("path",{d:"M37.44,73.283H7.694V55.66C2.787,51.136,0,44.811,0,38.09c0-13.186,10.728-23.913,23.913-23.913 c10.765,0,20.254,7.251,23.074,17.634l0.088,0.32l0.178,3.921l7.217,10.12l-6.344,4.608v3.524c0,4.244-3.453,7.698-7.7,7.698 h-2.985L37.44,73.283L37.44,73.283z M13.694,67.283H31.44V56.004h8.985c0.938,0,1.7-0.763,1.7-1.699v-6.58l4.006-2.91l-4.794-6.72 l-0.227-5.016c-2.214-7.612-9.241-12.9-17.198-12.9c-9.877,0-17.913,8.036-17.913,17.913c0,5.4,2.402,10.458,6.591,13.877 l1.103,0.9L13.694,67.283L13.694,67.283z"}),i.default.createElement("path",{d:"M61.152,56.972L56.91,52.73c2.706-2.707,2.706-7.111-0.001-9.819l4.244-4.242C66.198,43.715,66.198,51.927,61.152,56.972z"}),i.default.createElement("path",{d:"M69.251,63.361l-4.242-4.242c6.229-6.229,6.229-16.366,0-22.596l4.242-4.242C77.818,40.85,77.818,54.793,69.251,63.361z"}),i.default.createElement("path",{d:"M78.555,69.351l-4.244-4.242c9.531-9.533,9.531-25.043,0.002-34.575l4.242-4.242 C90.427,38.161,90.427,57.478,78.555,69.351z"})));case"dim":return i.default.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:this.props.width,height:this.props.height,viewBox:"0 0 266.94 235.89"},i.default.createElement("g",{style:{fill:this.props.fillColor}},i.default.createElement("path",{d:"M43.23,157.33a20.11,20.11,0,0,0-20.12-20.09h-3A20.11,20.11,0,0,0,0,157.33V215.8a20.11,20.11,0,0,0,20.12,20.09h3A20.1,20.1,0,0,0,43.23,215.8Z"}),i.default.createElement("path",{d:"M98.83,127.49A20.11,20.11,0,0,0,78.71,107.4h-3A20.11,20.11,0,0,0,55.6,127.49v88.3a20.11,20.11,0,0,0,20.12,20.09h3A20.1,20.1,0,0,0,98.83,215.8Z"}),i.default.createElement("path",{d:"M154.45,97.66a20.11,20.11,0,0,0-20.12-20.09h-3a20.11,20.11,0,0,0-20.12,20.09V215.8a20.11,20.11,0,0,0,20.12,20.09h3a20.1,20.1,0,0,0,20.12-20.09Z"}),i.default.createElement("path",{d:"M210.23,20.09A20.11,20.11,0,0,0,190.11,0h-3A20.11,20.11,0,0,0,167,20.09V215.8a20.11,20.11,0,0,0,20.12,20.09h3a20.1,20.1,0,0,0,20.12-20.09Z"}),i.default.createElement("path",{d:"M266.94,127.49a20.11,20.11,0,0,0-20.12-20.09h-3a20.11,20.11,0,0,0-20.12,20.09v88.3a20.11,20.11,0,0,0,20.12,20.09h3a20.1,20.1,0,0,0,20.12-20.09Z"})));case"source":return i.default.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:this.props.width,height:this.props.height,viewBox:"0 0 266.5 255"},i.default.createElement("g",{className:o.default.TalkbackCircles,style:{fill:"none",stroke:this.props.strokeColor}},i.default.createElement("circle",{cx:"67",cy:"126",r:"57"}),i.default.createElement("circle",{cx:"213.5",cy:"202",r:"43"}),i.default.createElement("circle",{cx:"213.5",cy:"53",r:"43"})),i.default.createElement("g",{className:o.default.TalkbackCircles,style:{fill:this.props.strokeColor,stroke:this.props.strokeColor}},i.default.createElement("line",{x1:"124",y1:"155",x2:"179",y2:"183"}),i.default.createElement("line",{x1:"124",y1:"97",x2:"179",y2:"69"})),i.default.createElement("g",{style:{fill:this.props.fillColor}},i.default.createElement("circle",{cx:"67",cy:"125",r:"36"})));case"destination":return i.default.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:this.props.width,height:this.props.height,viewBox:"0 0 266.5 255"},i.default.createElement("g",{className:o.default.TalkbackCircles,style:{fill:"none",stroke:this.props.strokeColor}},i.default.createElement("circle",{cx:"67",cy:"126",r:"57"}),i.default.createElement("circle",{cx:"213.5",cy:"202",r:"43"}),i.default.createElement("circle",{cx:"213.5",cy:"53",r:"43"})),i.default.createElement("g",{className:o.default.TalkbackCircles,style:{fill:this.props.strokeColor,stroke:this.props.strokeColor}},i.default.createElement("line",{x1:"124",y1:"155",x2:"179",y2:"183"}),i.default.createElement("line",{x1:"124",y1:"97",x2:"179",y2:"69"})),i.default.createElement("g",{style:{fill:this.props.fillColor}},i.default.createElement("circle",{cx:"213.5",cy:"201.5",r:"27.5"}),i.default.createElement("circle",{cx:"213.5",cy:"52.5",r:"27.5"})));case"prepost":return i.default.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:this.props.width,height:this.props.height,viewBox:"0 0 105.98 49.99"},i.default.createElement("g",{style:{fill:this.props.fillColor}},i.default.createElement("path",{d:"M0,0H18.2C30.59,0,33,9,33,15.19c0,9-4.27,15.26-16,15.26H11.76V50H0ZM11.76,21.77H15c4.69,0,5.81-2.94,5.81-6.3,0-3.85-1.26-6.79-6-6.79h-3Z"}),i.default.createElement("path",{d:"M36.12,0H55.86c10,0,13.44,6.16,13.44,13,0,7.28-2.94,10.85-8.4,12.18v.14c7.49,1,7.91,5.74,8.05,12.46.21,9.87.56,10.85,2.24,11.55V50H58.52c-.91-1.68-1.26-4.48-1.26-10.15,0-8.68-1.19-10.5-4.9-10.5H47.88V50H36.12ZM47.88,21.07h3.64c4.76,0,6-3.57,6-6.51,0-3.78-1.4-6.3-6.09-6.3H47.88Z"}),i.default.createElement("path",{d:"M76.3,0h28.91V9.52H88.06v10h16.1v9.52H88.06V40.46H106V50H76.3Z"})));case"fullscreen":return i.default.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:this.props.width,height:this.props.height,viewBox:"0 0 32 32"},i.default.createElement("g",{style:{fill:this.props.fullscreen?this.props.enabledColor:this.props.disabledColor}},i.default.createElement("path",{d:"M32,26V2H0v24h14v2H8v2h16v-2h-6v-2H32z M2,24V4h28v20H2z"}),i.default.createElement("polygon",{points:"28,14 28,6 20,6"}),i.default.createElement("polygon",{points:"4,22 12,22 4,14"})));case"visibility":return i.default.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:this.props.width,height:this.props.height,viewBox:"0 0 558.45 558.45"},i.default.createElement("g",{style:{fill:this.props.fillColor}},i.default.createElement("path",{d:"M280.5,138.975c71.4,0,127.5,56.1,127.5,127.5c0,15.3-2.55,33.15-10.2,45.9l73.95,73.949 c38.25-33.149,68.85-73.949,86.7-119.85c-43.351-112.2-153-191.25-280.5-191.25c-35.7,0-68.85,7.65-102,17.85l56.1,56.1 C247.35,141.525,265.2,138.975,280.5,138.975z M25.5,70.125l58.65,58.65l10.2,10.2c-43.35,33.15-76.5,76.5-94.35,127.5 c43.35,112.2,153,191.25,280.5,191.25c38.25,0,76.5-7.65,112.2-20.4l10.2,10.2l73.949,73.95l33.15-33.15L58.65,36.975L25.5,70.125 z M165.75,210.375l38.25,38.25c0,7.65,0,12.75,0,17.85c0,43.35,33.15,76.5,76.5,76.5c5.1,0,10.2,0,17.85-2.55l38.25,38.25 c-17.85,10.2-35.699,15.3-56.1,15.3c-71.4,0-127.5-56.1-127.5-127.5C153,246.075,158.1,228.225,165.75,210.375z M275.4,189.975 l79.05,79.05c0-2.55,0-2.55,0-5.1c0-43.35-33.15-76.5-76.5-76.5C277.95,189.975,277.95,189.975,275.4,189.975z"})));case"sidebarfader":return i.default.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:this.props.width,height:this.props.height,viewBox:"0 0 143 151"},i.default.createElement("g",{style:{fill:this.props.fillColor}},i.default.createElement("rect",{x:"15",width:"18",height:"96",rx:"9",ry:"9"}),i.default.createElement("rect",{x:"15",y:"126",width:"18",height:"25",rx:"9",ry:"9"}),i.default.createElement("rect",{y:"103",width:"47",height:"17"}),i.default.createElement("rect",{x:"47",y:"4",width:"96",height:"18",rx:"9",ry:"9"}),i.default.createElement("rect",{x:"47",y:"130",width:"96",height:"18",rx:"9",ry:"9"}),i.default.createElement("rect",{x:"62",y:"63",width:"49",height:"28"}),i.default.createElement("polygon",{points:"96 104 96 104 96 48 96 48 143 76 96 104"})));case"aux":return i.default.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:this.props.width,height:this.props.height,viewBox:"0 0 96 72"},i.default.createElement("g",null,i.default.createElement("path",{style:{fill:this.props.fillColor},d:"M65.62,56.51c-.63-.21-20.14-8.7-21.12-9.14V41.8a5.37,5.37,0,0,1,.22-1.22c.16-.55.34-1.13.51-1.74s.45-1.44.71-2.22A24.75,24.75,0,0,0,48,30.85a29,29,0,0,0,.78-6.79,29.5,29.5,0,0,0-1-8.2,15.22,15.22,0,0,0-2.76-5.44,10.17,10.17,0,0,0-4.05-3,12.87,12.87,0,0,0-4.91-.93,13,13,0,0,0-5,1,10.22,10.22,0,0,0-4,3,15.37,15.37,0,0,0-2.73,5.42,29.13,29.13,0,0,0-1,8.14A30,30,0,0,0,24.2,31a25.1,25.1,0,0,0,2.14,5.82c.25.74.46,1.42.65,2s.3,1.08.44,1.6.24.9.3,1.17V47c-1,.45-18.3,8.07-19.37,8.49S0,58.94,0,65.24v6.3H71.92v-6.3A9,9,0,0,0,65.62,56.51Z"}),i.default.createElement("line",{style:{stroke:this.props.fillColor},className:o.default.AuxPath,x1:"69.5",x2:"69.5",y2:"24"}),i.default.createElement("rect",{style:{fill:this.props.fillColor},x:"59",y:"26.5",width:"20",height:"8",rx:"4",ry:"4"}),i.default.createElement("line",{style:{stroke:this.props.fillColor},className:o.default.AuxPath,x1:"69.5",y1:"38",x2:"69.5",y2:"67.5"}),i.default.createElement("line",{style:{stroke:this.props.fillColor},className:o.default.AuxPath,x1:"86.5",y1:"22",x2:"86.5",y2:"72"}),i.default.createElement("line",{style:{stroke:this.props.fillColor},className:o.default.AuxPath,x1:"86.5",x2:"86.5",y2:"8"}),i.default.createElement("rect",{style:{fill:this.props.fillColor},x:"76",y:"11.5",width:"20",height:"8",rx:"4",ry:"4"})));case"fader":return i.default.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:this.props.width,height:this.props.height,viewBox:"0 0 43 112"},i.default.createElement("g",{style:{fill:this.props.fillColor,stroke:this.props.fillColor}},i.default.createElement("line",{className:o.default.FaderPath,x1:"21.5",x2:"21.5",y2:"19.5"}),i.default.createElement("path",{d:"M0,19.5v73H43v-73ZM38,70.88a4.62,4.62,0,0,1-4.62,4.62H10.62A4.62,4.62,0,0,1,6,70.88H6a4.62,4.62,0,0,1,4.62-4.62H33.38A4.62,4.62,0,0,1,38,70.87Zm0-15.5A4.62,4.62,0,0,1,33.38,60H10.62A4.62,4.62,0,0,1,6,55.38H6a4.62,4.62,0,0,1,4.62-4.62H33.38A4.62,4.62,0,0,1,38,55.37Zm0-15.5a4.62,4.62,0,0,1-4.62,4.62H10.62A4.62,4.62,0,0,1,6,39.88H6a4.62,4.62,0,0,1,4.62-4.62H33.38A4.62,4.62,0,0,1,38,39.87Z"}),i.default.createElement("line",{className:o.default.FaderPath,x1:"21.5",y1:"92.5",x2:"21.5",y2:"112"})));case"group":return i.default.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:this.props.width,height:this.props.height,viewBox:"0 0 117.08 75.69"},i.default.createElement("g",null,i.default.createElement("path",{style:{fill:this.props.fillColor},d:"M91.93,58.2c-.7-.25-22.59-10.12-23.69-10.64V41.09a6.46,6.46,0,0,1,.25-1.42c.18-.65.38-1.31.57-2s.51-1.67.79-2.59a29.5,29.5,0,0,0,2.37-6.72,34.94,34.94,0,0,0,.88-7.9A35.55,35.55,0,0,0,72,10.89a18,18,0,0,0-3.09-6.33,11.44,11.44,0,0,0-4.55-3.48A14,14,0,0,0,58.83,0a14.17,14.17,0,0,0-5.57,1.11,11.52,11.52,0,0,0-4.5,3.55A18.14,18.14,0,0,0,45.7,11a35.1,35.1,0,0,0-1.11,9.47,36.16,36.16,0,0,0,.88,8.07,29.91,29.91,0,0,0,2.41,6.78c.28.86.52,1.66.73,2.38s.34,1.26.5,1.86.26,1,.34,1.36v6.31c-1.08.52-20.52,9.39-21.72,9.88s-9.39,4-9.39,11.29v7.33H99V68.36A10.33,10.33,0,0,0,91.93,58.2Zm18.28-14.88c-.78-.34-14-6.34-14.78-6.7V32.06a4.86,4.86,0,0,1,.18-1c.12-.45.26-.92.4-1.42s.37-1.18.56-1.83a20.47,20.47,0,0,0,1.67-4.74,25.22,25.22,0,0,0,.6-5.56,24.28,24.28,0,0,0-.78-6.72A12.33,12.33,0,0,0,95.9,6.34a8.07,8.07,0,0,0-3.2-2.45,9.83,9.83,0,0,0-3.87-.76,9.93,9.93,0,0,0-3.92.77,8.15,8.15,0,0,0-3.18,2.51,12.58,12.58,0,0,0-2.14,4.44,24.51,24.51,0,0,0-.78,6.67,25.31,25.31,0,0,0,.62,5.68A21.79,21.79,0,0,0,81.11,28c.19.6.37,1.17.51,1.68s.23.88.34,1.31.18.75.24,1v4.44c-.76.37-8.31,6.09-8.88,6.35,5.37,4.93,11.84,5.93,23.44,14.67h20.31v-6C117.08,46.51,111,43.67,110.21,43.32ZM44,42.69c-.57-.26-8.33-5.84-9.09-6.2V32c.05-.21.14-.53.24-1s.22-.87.34-1.32.32-1.06.51-1.67a20.18,20.18,0,0,0,1.69-4.76,24.43,24.43,0,0,0,.63-5.68A24.82,24.82,0,0,0,37.54,11a13,13,0,0,0-2.15-4.44A8.31,8.31,0,0,0,32.2,4a10,10,0,0,0-3.92-.77A9.83,9.83,0,0,0,24.4,4a8.11,8.11,0,0,0-3.2,2.45A12.47,12.47,0,0,0,19,10.93a24.87,24.87,0,0,0-.81,6.73,24.76,24.76,0,0,0,.62,5.55A21.48,21.48,0,0,0,20.52,28l.55,1.82c.14.5.29,1,.41,1.43a4.15,4.15,0,0,1,.18,1v4.55c-.78.37-16.21,7.32-16.69,7.49A7.87,7.87,0,0,0,0,51.5v5.86H20.33C31.94,48.62,38.81,47.48,44,42.69Z"})));case"main":return i.default.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:this.props.width,height:this.props.height,viewBox:"0 0 465.785 465.785"},i.default.createElement("g",{style:{fill:this.props.fillColor}},i.default.createElement("path",{d:"M232.896,346.729c-16.226,0-29.44,13.208-29.44,29.438c0,16.229,13.214,29.438,29.44,29.438 c16.229,0,29.437-13.209,29.437-29.438C262.333,359.937,249.125,346.729,232.896,346.729z"}),i.default.createElement("path",{d:"M105.979,0C84.301,0,66.727,17.578,66.727,39.25v387.282c0,21.672,17.574,39.253,39.253,39.253h253.826 c21.672,0,39.253-17.581,39.253-39.253V39.25c0-21.672-17.581-39.25-39.253-39.25H105.979z M232.896,413.456 c-20.562,0-37.291-16.731-37.291-37.289c0-20.562,16.729-37.289,37.291-37.289c20.561,0,37.287,16.727,37.287,37.289 C270.184,396.725,253.457,413.456,232.896,413.456z M232.896,297.008c-75.155,0-136.072-60.917-136.072-136.068 c0-75.153,60.917-136.078,136.072-136.078c75.153,0,136.07,60.917,136.07,136.07C368.967,236.083,308.05,297.008,232.896,297.008z"}),i.default.createElement("path",{d:"M232.896,48.818c-61.919,0-112.11,50.195-112.11,112.113c0,61.913,50.191,112.112,112.11,112.112 c61.921,0,112.105-50.199,112.105-112.112C345.002,99.013,294.817,48.818,232.896,48.818z M232.896,215.477 c-30.122,0-54.547-24.423-54.547-54.545c0-30.122,24.425-54.547,54.547-54.547s54.547,24.425,54.547,54.547 C287.443,191.054,263.019,215.477,232.896,215.477z"})));case"carat":return i.default.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:this.props.width,height:this.props.height,viewBox:"0 0 17.75 15.5"},i.default.createElement("g",{style:{fill:this.props.fillColor}},i.default.createElement("polyline",{points:"0 15.5 17.75 0 17.75 15.5"})));case"edit":return i.default.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:this.props.width,height:this.props.height,viewBox:"0 0 469.331 469.331"},i.default.createElement("g",{style:{fill:this.props.fillColor}},i.default.createElement("path",{d:"M438.931,30.403c-40.4-40.5-106.1-40.5-146.5,0l-268.6,268.5c-2.1,2.1-3.4,4.8-3.8,7.7l-19.9,147.4 c-0.6,4.2,0.9,8.4,3.8,11.3c2.5,2.5,6,4,9.5,4c0.6,0,1.2,0,1.8-0.1l88.8-12c7.4-1,12.6-7.8,11.6-15.2c-1-7.4-7.8-12.6-15.2-11.6 l-71.2,9.6l13.9-102.8l108.2,108.2c2.5,2.5,6,4,9.5,4s7-1.4,9.5-4l268.6-268.5c19.6-19.6,30.4-45.6,30.4-73.3 S458.531,49.903,438.931,30.403z M297.631,63.403l45.1,45.1l-245.1,245.1l-45.1-45.1L297.631,63.403z M160.931,416.803l-44.1-44.1 l245.1-245.1l44.1,44.1L160.931,416.803z M424.831,152.403l-107.9-107.9c13.7-11.3,30.8-17.5,48.8-17.5c20.5,0,39.7,8,54.2,22.4 s22.4,33.7,22.4,54.2C442.331,121.703,436.131,138.703,424.831,152.403z"})));case"customtext":var n=parseInt(this.props.width),r=parseInt(this.props.height);return i.default.createElement("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:this.props.width,height:this.props.height,viewBox:"0 0 "+n+" "+r},i.default.createElement("g",{style:{fill:this.props.fillColor}},i.default.createElement("text",{x:"0",y:r/2,fontSize:"12"},this.props.text)));case"fader-ticks":var a=["12","0","-12","-24","-∞"],s=this.props.width?this.props.width:56,l=Math.abs(this.props.height),u=this.props.thumbOffset;return i.default.createElement("svg",{className:t,preserveAspectRatio:"none",height:l,width:s,x:"0px",y:"0px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 "+s+" "+l},this._renderFaderTicks(4,l,u,a,!0),this._renderFaderTicks(34,l,u,a,!1));default:return null}}},{key:"_renderFaderTicks",value:function(e,t,n,r,a){for(var s=[],l=(t-2*n)/(r.length-1),u=l/2,c=0;c<r.length;c++)s.push(i.default.createElement("path",{className:o.default.FaderTick,d:"M"+(e+.5)+","+(l*c+n)+"v-1h17.2v1H4.5z"})),a&&s.push(i.default.createElement("text",{className:o.default.FaderText,x:e,y:l*c-3+n},r[c])),c<r.length&&s.push(i.default.createElement("path",{className:o.default.FaderTick,d:"M"+(e+6)+","+(l*c+n+u)+"v-1h5.4v1H11z"}));return i.default.createElement("g",null,s)}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},i=[];function o(){i.forEach(function(e){e()}),i.length=0}var a={queue:function(e){i.push(e),1===i.length&&r(o)},flush:o};t.default=a},function(e,t,n){"use strict";var r,i;r=[n(2)],void 0===(i=function(e){var t,n,r,i,o,a=function(e,t){for(var n in t)s.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},s={}.hasOwnProperty;return o={},i=Math,n=function(e){return i.pow(10,.05*e)},function(e){return 20/i.log(10)*i.log(e)},o.Warper=function(){function e(){}return e.prototype.warp=null,e.prototype.unwarp=null,e}(),o.Identity=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.warp=function(e){return e},t.prototype.unwarp=function(e){return e},t}(o.Warper),o.SquareRoot=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.warp=function(e){return i.sqrt(e)},t.prototype.unwarp=function(e){return i.pow(e,2)},t}(o.Warper),t=function(e){return o.ExponentialDetail=function(t){function n(t){this.min=t.min,this.max=t.max,this.base=e,this.logMin=i.log(this.min)/i.log(this.base),this.logMax=i.log(this.max)/i.log(this.base)}return a(n,t),n.prototype.warp=function(e){var t;return t=(this.max-this.min)*e+this.min,(i.log(t)/i.log(this.base)-this.logMin)/(this.logMax-this.logMin)},n.prototype.unwarp=function(e){var t;return t=e*(this.logMax-this.logMin)+this.logMin,(i.pow(this.base,t)-this.min)/(this.max-this.min)},n}(o.Warper)},o.Octave=t(2),o.Decibel=t(10),r=function(e){return e[0].startInput=e[0].startOutput=0,o.PieceWiseDetail=function(t){var n,s;function l(){var t,n,r;for(this.warps=[],this.infos=[],t=n=0,r=e.length;0<=r?n<r:n>r;t=0<=r?++n:--n)this.infos[t]=this.getInfo(t),this.warps.push(new o({min:this.infos[t].startInput,max:this.infos[t].nextInput}))}return a(l,t),l.prototype.getNextInfo=function(t){var n;return t===e.length-1?{nextInput:1,nextOutput:1}:{nextInput:(n=e[t+1]).startInput,nextOutput:n.startOutput}},l.prototype.getInfo=function(t){var n,r,i,a,s,l;return s=(i=e[t]).startInput,l=i.startOutput,o=i.warp,n=(a=this.getNextInfo(t)).nextInput,r=a.nextOutput,{startInput:s,startOutput:l,warp:o,nextInput:n,nextOutput:r}},s={action:"warp",startFrom:"startInput",startTo:"startOutput",nextFrom:"nextInput",nextTo:"nextOutput"},n={action:"unwarp",startFrom:"startOutput",startTo:"startInput",nextFrom:"nextOutput",nextTo:"nextInput"},l.prototype.transform=function(e){var t,r,i,o;return i=e.v,o=e.warp,t=e.info,o[(r=e.forward?s:n).action]((i-t[r.startFrom])/(t[r.nextFrom]-t[r.startFrom]))*(t[r.nextTo]-t[r.startTo])+t[r.startTo]},l.prototype.warp=function(t){var n,o,a;for(t=i.max(0,i.min(1,t)),n=o=0,a=e.length;0<=a?o<a:o>a;n=0<=a?++o:--o)if(t>=this.infos[n].startInput&&t<=this.infos[n].nextInput)return this.transform({v:t,warp:this.warps[n],info:this.infos[n],forward:!0});null!=r.everAsserted||(r.everAsserted=!0)},l.prototype.unwarp=function(t){var n,o,a;for(t=i.max(0,i.min(1,t)),n=o=0,a=e.length;0<=a?o<a:o>a;n=0<=a?++o:--o)if(t>=this.infos[n].startOutput&&t<=this.infos[n].nextOutput)return this.transform({v:t,warp:this.warps[n],info:this.infos[n],forward:!1});null!=r.everAsserted||(r.everAsserted=!0)},l}(o.Warper)},o.Meter=r([{warp:o.Identity},{warp:o.Decibel,startInput:n(-36)/4,startOutput:.2}]),o.FullScaleMeter=r([{warp:o.Identity},{warp:o.Decibel,startInput:n(-36),startOutput:.2}]),o.CompLevel=r([{warp:o.Identity},{warp:o.Decibel,startInput:n(-40),startOutput:.2}]),32.4,18,12*(18/32.4+1),o.MeterDisplayMaxScale=n(12*(18/32.4+1)),o.MeterDisplay=r([{warp:o.Identity},{warp:o.Decibel,startInput:n(-36)/o.MeterDisplayMaxScale,startOutput:.18}]),o.ActivityMeter=r([{warp:o.Identity},{warp:o.Decibel,startInput:n(-36),startOutput:.2}]),o.ActivityMeterColor=r([{warp:o.Identity},{warp:o.Identity,startInput:.1,startOutput:.3},{warp:o.Identity,startInput:.6,startOutput:.4}]),o.Threshold=r([{warp:o.Identity},{warp:o.Decibel,startInput:n(-50),startOutput:.1},{warp:o.Decibel,startInput:n(-10),startOutput:.85}]),o.OutputTrim=r([{warp:o.Identity},{warp:o.Identity,startInput:.7,startOutput:.25}]),o.ReverbTime=r([{warp:o.Identity},{warp:o.Decibel,startInput:.01,startOutput:.1}]),o}.apply(t,r))||(e.exports=i)},function(e,t){t.BLUE="#348EE8",t.TEAL="#1F9E9D",t.PURPLE="#AE53CD",t.RED="#C21720",t.YELLOW="#FFA600",t.LIGHTERGRAY="#CCCCCC",t.LIGHTGRAY="#D7D7D7",t.GRAY="#6C6C6C",t.DARKGRAY="#353535",t.DARKERGRAY="#282828",t.ALMOSTBLACK="#181818",t.BLACKER="#131313",t.BLACK="#1D1D20",t.WHITE="#FFFFFF",t.INPUTFADER="#303030",t.INPUTFADERSTART="#2A2A2A",t.INPUTFADEREND="#373737",t.OUTPUTFADER="#373737"},function(e,t,n){"use strict";var r,i;r=[n(2),n(1)],void 0===(i=function(e,t){var n,r,i,o,a=[].slice;return n=function(e){return Math.pow(10,.05*e)},r=function(e){return 20/Math.log(10)*Math.log(e)},(o={}).ms={regimes:[{maxVal:0,label:"ms",mult:1},{maxVal:.75,label:"us",mult:1e3},{maxVal:750,label:"ms",mult:1},{label:"s",mult:.001}],regimeForVal:function(e){var t,n,r,i;for(t=0,n=(r=this.regimes).length;t<n;t++)if(!(null!=(i=r[t]).maxVal&&Math.abs(+e)>i.maxVal))return i},fromReadout:function(e,t){var n;return n=+e/this.regimeForVal(t).mult,this.fromNormalizedValue(this.toNormalizedValue(n))},fromNormalizedValue:function(e){return i.int.fromNormalizedValue.call(this,e)},toEditableReadout:function(e){var t;return e=(t=this.regimeForVal(e)).mult*e,t.mult<1&&(e=(+e).toFixed(2)),e},toReadout:function(e){var t;return t=this.regimeForVal(e),this.toEditableReadout(e)+" "+t.label}},o.pan={specialValues:[{v:0,r:"L"},{v:.5,r:"C"},{v:1,r:"R"}],showUnit:!1,values:[0,-1,1]},o.linear={unit:"dB",specialConstruct:function(){return this.values=[+this.default,1]},toEditableReadout:function(e){var t;return(t=r(e).toFixed(1))>0?"+"+t:""+t},fromReadout:function(e){var t;return e=e.replace("infinity","Infinity"),t=n(+e),isNaN(t)?null:Math.min(Math.max(this.min,t),this.max)},dragQuantize:function(e){return e},validate:function(){}},o["%"]={display:function(e){return Math.round(e)}},(i={}).real={min:null,max:null,unit:null,numeric:!0,showUnit:!0,specialValues:[],construct:function(e){return this.min=+e[0],this.max=+e[1],this.unit=e[2],this.k=(this.max*this.min-Math.pow(1e3,2))/(2e3-this.max-this.min),this.maxdB=r(this.max),null!=o[this.unit]&&t.extend(this,o[this.unit]),"function"==typeof this.specialConstruct?this.specialConstruct():void 0},toNormalizedValue:function(e){return(e-this.min)/(this.max-this.min)},doUnNormalize:function(e){return+e*(this.max-this.min)+this.min},fromNormalizedValue:function(e){return e=Math.max(Math.min(e,1),0),this.doUnNormalize(e)},fromReadout:function(e){var t,n,r,i,o;for(t=0,n=(r=this.specialValues).length;t<n;t++)if((i=r[t]).r===e.replace(/^\s+|\s+$/g,"").toUpperCase())return this.fromNormalizedValue(i.v);if(o=this.fromNormalizedValue(this.toNormalizedValue(+e)),!isNaN(o))return o},dragQuantize:function(e){return+this.display(e)},display:function(e){return(+e).toFixed(2)},toEditableReadout:function(e){var t,n,r,i,o;for(r=this.toNormalizedValue(+e),t=0,n=(i=this.specialValues).length;t<n;t++)if((o=i[t]).v===r)return o.r;return""+this.display(e)},toReadout:function(e){var t;return t=(t=this.toEditableReadout(e)).replace("Infinity","∞"),null!=this.unit&&this.showUnit&&(t+=" "+this.unit),t}},i.int=t.extend(t.clone(i.real),{fromNormalizedValue:function(e){return Math.round(i.real.fromNormalizedValue.call(this,e))},display:function(e){return e}}),i.bool={construct:function(e){return this.values=[1,0]}},i.enum={construct:function(e){var n,r,i,o,a,s;for(this.enums=[],n=0,i=e.length;n<i;n++)a=(o=e[n].split("="))[0],r=o[1],this.enums.push({value:+a,label:r});return this.values=t.sortBy(t.pluck(this.enums,"value"),(s=this,function(e){return e===+s.default?0:1}))},enums:null},function(){function e(e){this.format=e[0],this.default=e[1],this.args=3<=e.length?a.call(e,2):[],this.values=[+this.default],null==this.args&&(this.args=[]),t.extend(this,i[this.format]),this.construct(this.args),"function"==typeof this.validate&&this.validate()}return e.prototype.format=null,e.prototype.serialize=function(){return[this.format,this.default].concat(a.call(this.args)).join("~")},e.unserialize=function(t){return new e(t.split("~"))},e.prototype.numeric=!1,e}()}.apply(t,r))||(e.exports=i)},function(e,t,n){(function(t,n){var r;e.exports=function e(t,n,i){function o(s,l){if(!n[s]){if(!t[s]){var u="function"==typeof r&&r;if(!l&&u)return r(s,!0);if(a)return a(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return o(n||e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,n){"use strict";t.exports=function(t,n,r){var i=e("./some_promise_array.js")(r);function o(e,t,r){var o=n(e,i,r,!0===t&&e._isBound()?e._boundTo:void 0),a=o.promise();return a.isRejected()?a:(o.setHowMany(1),o.setUnwrap(),o.init(),a)}e("./assert.js"),t.any=function(e){return o(e,!1,t.any)},t.prototype.any=function(){return o(this,!0,this.any)}}},{"./assert.js":2,"./some_promise_array.js":35}],2:[function(e,t,n){"use strict";var r;t.exports=(r=function(){function e(e){this.constructor$(e),this.message=e,this.name="AssertionError"}return e.prototype=new Error,e.prototype.constructor=e,e.prototype.constructor$=Error,e}(),function e(t,n){if(!0!==t){var i=new r(n);throw Error.captureStackTrace&&Error.captureStackTrace(i,e),console&&console.error,i}})},{}],3:[function(e,t,n){"use strict";e("./assert.js");var r=e("./schedule.js"),i=e("./queue.js"),o=e("./util.js").errorObj,a=e("./util.js").tryCatch1;function s(){this._isTickUsed=!1,this._length=0,this._lateBuffer=new i,this._functionBuffer=new i(75e3);var e=this;this.consumeFunctionBuffer=function(){e._consumeFunctionBuffer()}}s.prototype.haveItemsQueued=function(){return this._length>0},s.prototype.invokeLater=function(e,t,n){this._lateBuffer.push(e,t,n),this._queueTick()},s.prototype.invoke=function(e,t,n){var r=this._functionBuffer;r.push(e,t,n),this._length=r.length(),this._queueTick()},s.prototype._consumeFunctionBuffer=function(){for(var e=this._functionBuffer;e.length()>0;){var t=e.shift(),n=e.shift(),r=e.shift();t.call(n,r)}this._reset(),this._consumeLateBuffer()},s.prototype._consumeLateBuffer=function(){for(var e=this._lateBuffer;e.length()>0;){var t=e.shift(),n=e.shift(),r=e.shift(),i=a(t,n,r);if(i===o)throw this._queueTick(),i.e}},s.prototype._queueTick=function(){this._isTickUsed||(r(this.consumeFunctionBuffer),this._isTickUsed=!0)},s.prototype._reset=function(){this._isTickUsed=!1,this._length=0},t.exports=new s},{"./assert.js":2,"./queue.js":28,"./schedule.js":31,"./util.js":39}],4:[function(e,t,n){"use strict";var r=e("./promise.js")();t.exports=r},{"./promise.js":20}],5:[function(e,t,n){"use strict";t.exports=function(e){function t(e){var t="string"==typeof this?this:""+this;return e[t]}e.prototype.call=function(e){for(var t=arguments.length,n=new Array(t-1),r=1;r<t;++r)n[r-1]=arguments[r];return this._then(function(t){return t[e].apply(t,n)},void 0,void 0,void 0,void 0,this.call)},e.prototype.get=function(e){return this._then(t,void 0,void 0,e,void 0,this.get)}}},{}],6:[function(e,t,n){"use strict";t.exports=function(t,n){var r=e("./errors.js"),i=e("./async.js"),o=(e("./assert.js"),r.CancellationError),a={};t.prototype._cancel=function(){if(!this.isCancellable())return this;var e;if(void 0===(e=this._cancellationParent)){var t=new o;this._attachExtraTrace(t),this._rejectUnchecked(t)}else e.cancel(a)},t.prototype.cancel=function(e){return this.isCancellable()?e===a?(this._cancel(),this):(i.invokeLater(this._cancel,this,void 0),this):this},t.prototype.cancellable=function(){return this._cancellable()?this:(this._setCancellable(),this._cancellationParent=void 0,this)},t.prototype.uncancellable=function(){var e=new t(n);return e._setTrace(this.uncancellable,this),e._follow(this),e._unsetCancellable(),this._isBound()&&e._setBoundTo(this._boundTo),e},t.prototype.fork=function(e,t,n){var r=this._then(e,t,n,void 0,void 0,this.fork);return r._setCancellable(),r._cancellationParent=void 0,r}}},{"./assert.js":2,"./async.js":3,"./errors.js":10}],7:[function(e,t,n){"use strict";t.exports=function(){e("./assert.js");var t=e("./util.js").inherits,n=e("./es5.js").defineProperty,r=new RegExp("\\b(?:[\\w.]*Promise(?:Array|Spawn)?\\$_\\w+|tryCatch(?:1|2|Apply)|new \\w*PromiseArray|\\w*PromiseArray\\.\\w*PromiseArray|setTimeout|CatchFilter\\$_\\w+|makeNodePromisified|processImmediate|process._tickCallback|nextTick|Async\\$\\w+)\\b"),i=null,o=null,a=!1;function s(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{if(t=e.toString(),/\[object [a-zA-Z0-9$_]+\]/.test(t))try{var n=JSON.stringify(e);t=n}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+function(e){return e.length<41?e:e.substr(0,38)+"..."}(t)+">, no stack trace)"}function l(e,t){this.captureStackTrace(e,t)}t(l,Error),l.prototype.captureStackTrace=function(e,t){u(this,e,t)},l.possiblyUnhandledRejection=function(e){if("object"==typeof console){if("object"==typeof e||"function"==typeof e){var t=e.stack;o(t,e)}else String(e);"function"==typeof console.error||"object"==typeof console.error||"function"==typeof console.log||console.error}},a="CapturedTrace$captureStackTrace"!==l.prototype.captureStackTrace.name,l.combine=function(e,t){for(var n=e.length-1,o=t.length-1;o>=0;--o){var a=t[o];if(e[n]!==a)break;e.pop(),n--}e.push("From previous event:");for(var s=e.concat(t),l=[],o=0,u=s.length;o<u;++o)r.test(s[o])||o>0&&!i.test(s[o])&&"From previous event:"!==s[o]||l.push(s[o]);return l},l.isSupported=function(){return"function"==typeof u};var u=function e(){if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){i=/^\s*at\s*/,o=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.name+". "+t.message:s(t)};var t=Error.captureStackTrace;return function(e,n){t(e,n)}}var r=new Error;if(!a&&"string"==typeof r.stack&&"function"==typeof"".startsWith&&r.stack.startsWith("stackDetection@")&&"stackDetection"===e.name){n(Error,"stackTraceLimit",{writable:!0,enumerable:!1,configurable:!1,value:25}),i=/@/;var l=/[@\n]/;return o=function(e,t){return"string"==typeof e?t.name+". "+t.message+"\n"+e:void 0!==t.name&&void 0!==t.message?t.name+". "+t.message:s(t)},function(e,t){var n,r=t.name,i=(new Error).stack,o=i.split(l),a=o.length;for(n=0;n<a&&o[n]!==r;n+=2);o=o.slice(n+2),a=o.length-2;var s="";for(n=0;n<a;n+=2)s+=o[n],s+="@",s+=o[n+1],s+="\n";e.stack=s}}return o=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?s(t):t.name+". "+t.message},null}();return l}},{"./assert.js":2,"./es5.js":12,"./util.js":39}],8:[function(e,t,n){"use strict";t.exports=function(t){var n=e("./util.js"),r=e("./errors.js"),i=n.tryCatch1,o=n.errorObj,a=e("./es5.js").keys;function s(e,t,n){this._instances=e,this._callback=t,this._promise=n}function l(e,t){var n={},r=i(e,n,t);if(r===o)return r;var s=a(n);return s.length?(o.e=new TypeError("Catch filter must inherit from Error or be a simple predicate function"),o):r}return s.prototype.doFilter=function(e){for(var n=this._callback,a=this._promise,s=a._isBound()?a._boundTo:void 0,u=0,c=this._instances.length;u<c;++u){var h=this._instances[u],p=h===Error||null!=h&&h.prototype instanceof Error;if(p&&e instanceof h){var d=i(n,s,e);return d===o?(t.e=d.e,t):d}if("function"==typeof h&&!p){var f=l(h,e);if(f===o){var v=r.canAttach(o.e)?o.e:new Error(o.e+"");this._promise._attachExtraTrace(v),e=o.e;break}if(f){var d=i(n,s,e);return d===o?(t.e=d.e,t):d}}}return t.e=e,t},s}},{"./errors.js":10,"./es5.js":12,"./util.js":39}],9:[function(e,t,n){"use strict";var r=e("./util.js"),i=(e("./assert.js"),r.isPrimitive),o=r.wrapsPrimitiveReceiver;t.exports=function(e){var t=function(){return this},n=function(){throw this},r=function(e,t){return 1===t?function(){throw e}:2===t?function(){return e}:void 0};e.prototype.return=e.prototype.thenReturn=function(e){return o&&i(e)?this._then(r(e,2),void 0,void 0,void 0,void 0,this.thenReturn):this._then(t,void 0,void 0,e,void 0,this.thenReturn)},e.prototype.throw=e.prototype.thenThrow=function(e){return o&&i(e)?this._then(r(e,1),void 0,void 0,void 0,void 0,this.thenThrow):this._then(n,void 0,void 0,e,void 0,this.thenThrow)}}},{"./assert.js":2,"./util.js":39}],10:[function(e,t,n){"use strict";var r=e("./global.js"),i=e("./es5.js").freeze,o=e("./util.js"),a=o.inherits,s=o.notEnumerableProp,l=r.Error;function u(e,t){function n(r){if(!(this instanceof n))return new n(r);this.message="string"==typeof r?r:t,this.name=e,l.captureStackTrace&&l.captureStackTrace(this,this.constructor)}return a(n,l),n}var c=r.TypeError;"function"!=typeof c&&(c=u("TypeError","type error"));var h=r.RangeError;"function"!=typeof h&&(h=u("RangeError","range error"));var p=u("CancellationError","cancellation error"),d=u("TimeoutError","timeout error");function f(e){this.name="RejectionError",this.message=e,this.cause=e,this.isAsync=!0,e instanceof l?(this.message=e.message,this.stack=e.stack):l.captureStackTrace&&l.captureStackTrace(this,this.constructor)}a(f,l);var v="__BluebirdErrorTypes__",m=r[v];m||(m=i({CancellationError:p,TimeoutError:d,RejectionError:f}),s(r,v,m)),t.exports={Error:l,TypeError:c,RangeError:h,CancellationError:m.CancellationError,RejectionError:m.RejectionError,TimeoutError:m.TimeoutError,originatesFromRejection:function(e){return null!=e&&(e instanceof f||!0===e.isAsync)},markAsOriginatingFromRejection:function(e){try{s(e,"isAsync",!0)}catch(e){}},canAttach:function(e){return function(e){return e instanceof l}(e)}}},{"./es5.js":12,"./global.js":16,"./util.js":39}],11:[function(e,t,n){"use strict";t.exports=function(t){var n=e("./errors.js").TypeError;return function(e){var r=new n(e),i=t.rejected(r),o=i._peekContext();return null!=o&&o._attachExtraTrace(r),i}}},{"./errors.js":10}],12:[function(e,t,n){var r=function(){"use strict";return void 0===this}();if(r)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,keys:Object.keys,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r};else{var i={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype;t.exports={isArray:function(e){try{return"[object Array]"===o.call(e)}catch(e){return!1}},keys:function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(n);return t},defineProperty:function(e,t,n){return e[t]=n.value,e},freeze:function(e){return e},getPrototypeOf:function(e){try{return Object(e).constructor.prototype}catch(e){return a}},isES5:r}}},{}],13:[function(e,t,n){"use strict";t.exports=function(t){function n(e){for(var t=this._settledValue,n=t.length,r=new Array(n),i=0,o=0;o<n;++o)e[o]&&(r[i++]=t[o]);return r.length=i,r}e("./assert.js"),e("./util.js").isArray;var r={ref:null};t.filter=function(e,i){return t.map(e,i,r)._then(n,void 0,void 0,r.ref,void 0,t.filter)},t.prototype.filter=function(e){return this.map(e,r)._then(n,void 0,void 0,r.ref,void 0,this.filter)}}},{"./assert.js":2,"./util.js":39}],14:[function(e,t,n){t.exports=function(t,n){var r=e("./util.js"),i=r.wrapsPrimitiveReceiver,o=r.isPrimitive,a=r.thrower;function s(){return this}function l(){throw this}function u(e,t,n){var r,c=i&&o(t);return n?e._then(c?s:(r=t,function(){return r}),a,void 0,t,void 0,u):e._then(c?l:function(e){return function(){throw e}}(t),a,void 0,t,void 0,u)}function c(e){var r=this.promise,i=this.handler,o=r._isBound()?i.call(r._boundTo):i();if(void 0!==o){var a=t._cast(o,c,void 0);if(t.is(a))return u(a,e,r.isFulfilled())}return r.isRejected()?(n.e=e,n):e}t.prototype.lastly=t.prototype.finally=function(e){if("function"!=typeof e)return this.then();var t={promise:this,handler:e};return this._then(c,c,void 0,t,void 0,this.lastly)}}},{"./util.js":39}],15:[function(e,t,n){"use strict";t.exports=function(t,n,r){var i=e("./promise_spawn.js")(t,r),o=e("./errors.js"),a=o.TypeError;t.coroutine=function(e){if("function"!=typeof e)throw new a("generatorFunction must be a function");var t=i;return function n(){var r=e.apply(this,arguments),i=new t(void 0,void 0,n);return i._generator=r,i._next(void 0),i.promise()}},t.spawn=function(e){if("function"!=typeof e)return n("generatorFunction must be a function");var r=new i(e,this,t.spawn),o=r.promise();return r._run(t.spawn),o}}},{"./errors.js":10,"./promise_spawn.js":24}],16:[function(e,r,i){"use strict";r.exports=function(){return void 0!==this?this:void 0!==t&&void 0!==n&&"string"==typeof t.execPath?n:"undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator&&null!==navigator&&"string"==typeof navigator.appName?void 0!==window.wrappedJSObject?window.wrappedJSObject:window:void 0}()},{}],17:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){function o(e){var i=this,a=void 0;"function"!=typeof i&&(a=i.receiver,i=i.fn);var s=!1,l=new Array(e.length);if(void 0===a)for(var u=0,c=e.length;u<c;++u){var h=i(e[u],u,c);if(!s){var p=t._cast(h,o,void 0);if(p instanceof t){if(p.isFulfilled()){l[u]=p._settledValue;continue}s=!0,h=p}}l[u]=h}else for(var u=0,c=e.length;u<c;++u){var h=i.call(a,e[u],u,c);if(!s){var p=t._cast(h,o,void 0);if(p instanceof t){if(p.isFulfilled()){l[u]=p._settledValue;continue}s=!0,h=p}}l[u]=h}return s?n(l,r,o,void 0).promise():l}function a(e,t,a,s,l){if("function"!=typeof t)return i("fn must be a function");!0===a&&e._isBound()&&(t={fn:t,receiver:e._boundTo});var u=n(e,r,s,!0===a&&e._isBound()?e._boundTo:void 0).promise();return void 0!==l&&(l.ref=u),u._then(o,void 0,void 0,t,void 0,s)}e("./assert.js"),t.prototype.map=function(e,t){return a(this,e,!0,this.map,t)},t.map=function(e,n,r){return a(e,n,!1,t.map,r)}}},{"./assert.js":2}],18:[function(e,t,n){"use strict";t.exports=function(t){var n=e("./util.js"),r=e("./async.js"),i=(e("./assert.js"),n.tryCatch2),o=n.tryCatch1,a=n.errorObj;function s(e){throw e}function l(e,t){var n=i(this,t,null,e);n===a&&r.invokeLater(s,void 0,n.e)}function u(e,t){var n=o(this,t,e);n===a&&r.invokeLater(s,void 0,n.e)}t.prototype.nodeify=function(e){return"function"==typeof e&&this._then(l,u,void 0,e,this._isBound()?this._boundTo:null,this.nodeify),this}}},{"./assert.js":2,"./async.js":3,"./util.js":39}],19:[function(e,t,n){"use strict";t.exports=function(t,n){e("./assert.js");var r=e("./util.js"),i=e("./async.js"),o=e("./errors.js"),a=r.tryCatch1,s=r.errorObj;t.prototype.progressed=function(e){return this._then(void 0,void 0,e,void 0,void 0,this.progressed)},t.prototype._progress=function(e){this._isFollowingOrFulfilledOrRejected()||this._progressUnchecked(e)},t.prototype._progressHandlerAt=function(e){return 0===e?this._progressHandler0:this[e+2-5]},t.prototype._doProgressWith=function(e){var n=e.value,r=e.handler,i=e.promise,l=e.receiver;this._pushContext();var u=a(r,l,n);if(this._popContext(),u===s){if(null!=u.e&&"StopProgressPropagation"!==u.e.name){var c=o.canAttach(u.e)?u.e:new Error(u.e+"");i._attachExtraTrace(c),i._progress(u.e)}}else t.is(u)?u._then(i._progress,null,null,i,void 0,this._progress):i._progress(u)},t.prototype._progressUnchecked=function(e){if(this.isPending())for(var r=this._length(),o=0;o<r;o+=5){var a=this._progressHandlerAt(o),s=this._promiseAt(o);if(t.is(s))"function"==typeof a?i.invoke(this._doProgressWith,this,{handler:a,promise:s,receiver:this._receiverAt(o),value:e}):i.invoke(s._progress,s,e);else{var l=this._receiverAt(o);"function"==typeof a?a.call(l,e,s):t.is(l)&&l._isProxied()?l._progressUnchecked(e):n(l,s)&&l._promiseProgressed(e,s)}}}}},{"./assert.js":2,"./async.js":3,"./errors.js":10,"./util.js":39}],20:[function(e,n,r){"use strict";n.exports=function(){var n=e("./global.js"),r=(e("./assert.js"),e("./util.js")),i=e("./async.js"),o=e("./errors.js"),a=function(){},s={},l={e:null},u=e("./promise_array.js")(N,a),c=e("./captured_trace.js")(),h=e("./catch_filter.js")(l),p=e("./promise_resolver.js"),d=r.isArray,f=r.errorObj,v=r.tryCatch1,m=r.tryCatch2,g=r.tryCatchApply,b=o.RangeError,y=o.TypeError,C=o.CancellationError,x=o.TimeoutError,_=o.RejectionError,w=o.originatesFromRejection,S=o.markAsOriginatingFromRejection,k=o.canAttach,T=r.thrower,E=e("./errors_api_rejection")(N),P=function(){return new y("circular promise resolution chain")};function I(e){return void 0!==e&&e instanceof N}function B(e,t){return e instanceof u&&t>=0}function N(e){if("function"!=typeof e)throw new y("the promise constructor requires a resolver function");if(this.constructor!==N)throw new y("the promise constructor cannot be invoked directly");this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._settledValue=void 0,this._boundTo=void 0,e!==a&&this._resolveFromResolver(e)}function M(e,t,n){return L(e,u,n,!0===t&&e._isBound()?e._boundTo:void 0).promise()}N.prototype.bind=function(e){var t=new N(a);return O&&t._setTrace(this.bind,this),t._follow(this),t._setBoundTo(e),this._cancellable()&&(t._setCancellable(),t._cancellationParent=this),t},N.prototype.toString=function(){return"[object Promise]"},N.prototype.caught=N.prototype.catch=function(e){var t=arguments.length;if(t>1){var n,r=new Array(t-1),o=0;for(n=0;n<t-1;++n){var a=arguments[n];if("function"!=typeof a){var s=new y("A catch filter must be an error constructor or a filter function");return this._attachExtraTrace(s),void i.invoke(this._reject,this,s)}r[o++]=a}r.length=o,e=arguments[n],this._resetTrace(this.caught);var l=new h(r,e,this);return this._then(void 0,l.doFilter,void 0,l,void 0,this.caught)}return this._then(void 0,e,void 0,void 0,void 0,this.caught)},N.prototype.then=function(e,t,n){return this._then(e,t,n,void 0,void 0,this.then)},N.prototype.done=function(e,t,n){var r=this._then(e,t,n,void 0,void 0,this.done);r._setIsFinal()},N.prototype.spread=function(e,t){return this._then(e,t,void 0,s,void 0,this.spread)},N.prototype.isFulfilled=function(){return(268435456&this._bitField)>0},N.prototype.isRejected=function(){return(134217728&this._bitField)>0},N.prototype.isPending=function(){return!this.isResolved()},N.prototype.isResolved=function(){return(402653184&this._bitField)>0},N.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()},N.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this._settledValue,e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this._settledValue,e.isRejected=!0),e},N.prototype.all=function(){return M(this,!0,this.all)},N.is=I,N.all=function(e){return M(e,!1,N.all)},N.join=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;++n)t[n]=arguments[n];return L(t,u,N.join,void 0).promise()},N.resolve=N.fulfilled=function(e,t){var n=new N(a);return O&&n._setTrace("function"==typeof t?t:N.resolve,void 0),n._tryFollow(e)?n:(n._cleanValues(),n._setFulfilled(),n._settledValue=e,n)},N.reject=N.rejected=function(e){var t=new N(a);if(O&&t._setTrace(N.reject,void 0),S(e),t._cleanValues(),t._setRejected(),t._settledValue=e,!k(e)){var n=new Error(e+"");t._setCarriedStackTrace(n)}return t._ensurePossibleRejectionHandled(),t},N.prototype.error=function(e){return this.caught(w,e)},N.prototype._resolveFromSyncValue=function(e,t){if(e===f)this._cleanValues(),this._setRejected(),this._settledValue=e.e,this._ensurePossibleRejectionHandled();else{var n=N._cast(e,t,void 0);n instanceof N?this._follow(n):(this._cleanValues(),this._setFulfilled(),this._settledValue=e)}},N.method=function(e){if("function"!=typeof e)throw new y("fn must be a function");return function t(){var n;switch(arguments.length){case 0:n=v(e,this,void 0);break;case 1:n=v(e,this,arguments[0]);break;case 2:n=m(e,this,arguments[0],arguments[1]);break;default:for(var r=arguments.length,i=new Array(r),o=0;o<r;++o)i[o]=arguments[o];n=g(e,i,this)}var s=new N(a);return O&&s._setTrace(t,void 0),s._resolveFromSyncValue(n,t),s}},N.attempt=N.try=function(e,t,n){if("function"!=typeof e)return E("fn must be a function");var r=d(t)?g(e,t,n):v(e,n,t),i=new N(a);return O&&i._setTrace(N.attempt,void 0),i._resolveFromSyncValue(r,N.attempt),i},N.defer=N.pending=function(e){var t=new N(a);return O&&t._setTrace("function"==typeof e?e:N.defer,void 0),new p(t)},N.bind=function(e){var t=new N(a);return O&&t._setTrace(N.bind,void 0),t._setFulfilled(),t._setBoundTo(e),t},N.cast=function(e,t){"function"!=typeof t&&(t=N.cast);var n=N._cast(e,t,void 0);return n instanceof N?n:N.resolve(n,t)},N.onPossiblyUnhandledRejection=function(e){c.possiblyUnhandledRejection="function"==typeof e?e:void 0};var O=!(void 0===t||"string"!=typeof t.execPath||!Object({NODE_ENV:"production"}).BLUEBIRD_DEBUG);N.longStackTraces=function(){if(i.haveItemsQueued()&&!1===O)throw new Error("cannot enable long stack traces after promises have been created");O=c.isSupported()},N.hasLongStackTraces=function(){return O&&c.isSupported()},N.prototype._setProxyHandlers=function(e,t){var n=this._length();if(n>=1048570&&(n=0,this._setLength(0)),0===n)this._promise0=t,this._receiver0=e;else{var r=n-5;this[r+3]=t,this[r+4]=e,this[r+0]=this[r+1]=this[r+2]=void 0}this._setLength(n+5)},N.prototype._proxyPromiseArray=function(e,t){this._setProxyHandlers(e,t)},N.prototype._proxyPromise=function(e){e._setProxied(),this._setProxyHandlers(e,-1)},N.prototype._then=function(e,t,n,r,o,s){var l=void 0!==o,u=l?o:new N(a);if(O&&!l){var c=this._peekContext()===this._traceParent;u._traceParent=c?this._traceParent:this,u._setTrace("function"==typeof s?s:this._then,this)}!l&&this._isBound()&&u._setBoundTo(this._boundTo);var h=this._addCallbacks(e,t,n,u,r);return!l&&this._cancellable()&&(u._setCancellable(),u._cancellationParent=this),this.isResolved()&&i.invoke(this._queueSettleAt,this,h),u},N.prototype._length=function(){return 1048575&this._bitField},N.prototype._isFollowingOrFulfilledOrRejected=function(){return(939524096&this._bitField)>0},N.prototype._isFollowing=function(){return 536870912==(536870912&this._bitField)},N.prototype._setLength=function(e){this._bitField=-1048576&this._bitField|1048575&e},N.prototype._setFulfilled=function(){this._bitField=268435456|this._bitField},N.prototype._setRejected=function(){this._bitField=134217728|this._bitField},N.prototype._setFollowing=function(){this._bitField=536870912|this._bitField},N.prototype._setIsFinal=function(){this._bitField=33554432|this._bitField},N.prototype._isFinal=function(){return(33554432&this._bitField)>0},N.prototype._cancellable=function(){return(67108864&this._bitField)>0},N.prototype._setCancellable=function(){this._bitField=67108864|this._bitField},N.prototype._unsetCancellable=function(){this._bitField=-67108865&this._bitField},N.prototype._setRejectionIsUnhandled=function(){this._bitField=2097152|this._bitField},N.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-2097153&this._bitField},N.prototype._isRejectionUnhandled=function(){return(2097152&this._bitField)>0},N.prototype._setCarriedStackTrace=function(e){this._bitField=1048576|this._bitField,this._fulfillmentHandler0=e},N.prototype._unsetCarriedStackTrace=function(){this._bitField=-1048577&this._bitField,this._fulfillmentHandler0=void 0},N.prototype._isCarryingStackTrace=function(){return(1048576&this._bitField)>0},N.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:void 0},N.prototype._receiverAt=function(e){var t;return t=0===e?this._receiver0:this[e+4-5],this._isBound()&&void 0===t?this._boundTo:t},N.prototype._promiseAt=function(e){return 0===e?this._promise0:this[e+3-5]},N.prototype._fulfillmentHandlerAt=function(e){return 0===e?this._fulfillmentHandler0:this[e+0-5]},N.prototype._rejectionHandlerAt=function(e){return 0===e?this._rejectionHandler0:this[e+1-5]},N.prototype._unsetAt=function(e){0===e?(this._rejectionHandler0=this._progressHandler0=this._promise0=this._receiver0=void 0,this._isCarryingStackTrace()||(this._fulfillmentHandler0=void 0)):this[e-5+0]=this[e-5+1]=this[e-5+2]=this[e-5+3]=this[e-5+4]=void 0},N.prototype._resolveFromResolver=function(e){var t=this,n=O;n&&(this._setTrace(this._resolveFromResolver,void 0),this._pushContext());var r=m(e,void 0,function(e){t._tryFollow(e)||t._fulfill(e)},function(e){var n=k(e)?e:new Error(e+"");t._attachExtraTrace(n),S(e),t._reject(e,n===e?void 0:n)});if(n&&this._popContext(),void 0!==r&&r===f){var i=k(r.e)?r.e:new Error(r.e+"");t._reject(r.e,i)}},N.prototype._addCallbacks=function(e,t,n,r,i){var o=this._length();if(o>=1048570&&(o=0,this._setLength(0)),0===o)this._promise0=r,void 0!==i&&(this._receiver0=i),"function"!=typeof e||this._isCarryingStackTrace()||(this._fulfillmentHandler0=e),"function"==typeof t&&(this._rejectionHandler0=t),"function"==typeof n&&(this._progressHandler0=n);else{var a=o-5;this[a+3]=r,this[a+4]=i,this[a+0]="function"==typeof e?e:void 0,this[a+1]="function"==typeof t?t:void 0,this[a+2]="function"==typeof n?n:void 0}return this._setLength(o+5),o},N.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=8388608|this._bitField,this._boundTo=e):this._bitField=-8388609&this._bitField},N.prototype._isBound=function(){return 8388608==(8388608&this._bitField)},N.prototype._spreadSlowCase=function(e,t,n,r){var i=L(n,u,this._spreadSlowCase,r).promise()._then(function(){return e.apply(r,arguments)},void 0,void 0,s,void 0,this._spreadSlowCase);t._follow(i)},N.prototype._callSpread=function(e,t,n,r){var i=this._isBound()?this._boundTo:void 0;if(d(n))for(var o=this._settlePromiseFromHandler,a=0,s=n.length;a<s;++a)if(I(N._cast(n[a],o,void 0)))return void this._spreadSlowCase(e,t,n,i);return r&&t._pushContext(),g(e,n,i)},N.prototype._callHandler=function(e,t,n,r,i){var o;return t!==s||this.isRejected()?(i&&n._pushContext(),o=v(e,t,r)):o=this._callSpread(e,n,r,i),i&&n._popContext(),o},N.prototype._settlePromiseFromHandler=function(e,t,n,r){if(I(r)){var i=O,o=this._callHandler(e,t,r,n,i);if(!r._isFollowing())if(o===f||o===r||o===l){var a=o===r?P():o.e,s=k(a)?a:new Error(a+"");o!==l&&r._attachExtraTrace(s),r._rejectUnchecked(a,s)}else{var u=N._cast(o,i?this._settlePromiseFromHandler:void 0,r);if(I(u)){if(u.isRejected()&&!u._isCarryingStackTrace()&&!k(u._settledValue)){var s=new Error(u._settledValue+"");r._attachExtraTrace(s),u._setCarriedStackTrace(s)}r._follow(u),u._cancellable()&&(r._cancellationParent=u,r._setCancellable())}else r._fulfillUnchecked(o)}}else e.call(t,n,r)},N.prototype._follow=function(e){this._setFollowing(),e.isPending()?(e._cancellable()&&(this._cancellationParent=e,this._setCancellable()),e._proxyPromise(this)):e.isFulfilled()?this._fulfillUnchecked(e._settledValue):this._rejectUnchecked(e._settledValue,e._getCarriedStackTrace()),e._isRejectionUnhandled()&&e._unsetRejectionIsUnhandled(),O&&null==e._traceParent&&(e._traceParent=this)},N.prototype._tryFollow=function(e){if(this._isFollowingOrFulfilledOrRejected()||e===this)return!1;var t=N._cast(e,this._tryFollow,void 0);return!!I(t)&&(this._follow(t),!0)},N.prototype._resetTrace=function(e){if(O){var t=this._peekContext(),n=void 0===t;this._trace=new c("function"==typeof e?e:this._resetTrace,n)}},N.prototype._setTrace=function(e,t){if(O){var n=this._peekContext();this._traceParent=n;var r=void 0===n;void 0!==t&&t._traceParent===n?this._trace=t._trace:this._trace=new c("function"==typeof e?e:this._setTrace,r)}return this},N.prototype._attachExtraTrace=function(e){if(O){var t=this,n=e.stack;for(n="string"==typeof n?n.split("\n"):[];null!=t&&null!=t._trace;)n=c.combine(n,t._trace.stack.split("\n")),t=t._traceParent;var r=Error.stackTraceLimit+1,i=n.length;i>r&&(n.length=r),n.length<=1?e.stack="(No stack trace)":e.stack=n.join("\n")}},N.prototype._cleanValues=function(){this._cancellable()&&(this._cancellationParent=void 0)},N.prototype._fulfill=function(e){this._isFollowingOrFulfilledOrRejected()||this._fulfillUnchecked(e)},N.prototype._reject=function(e,t){this._isFollowingOrFulfilledOrRejected()||this._rejectUnchecked(e,t)},N.prototype._settlePromiseAt=function(e){var t=this.isFulfilled()?this._fulfillmentHandlerAt(e):this._rejectionHandlerAt(e),n=this._settledValue,r=this._receiverAt(e),i=this._promiseAt(e);if("function"==typeof t)this._settlePromiseFromHandler(t,r,n,i);else{var o=!1,a=this.isFulfilled();void 0!==r&&(r instanceof N&&r._isProxied()?(r._unsetProxied(),a?r._fulfillUnchecked(n):r._rejectUnchecked(n,this._getCarriedStackTrace()),o=!0):B(r,i)&&(a?r._promiseFulfilled(n,i):r._promiseRejected(n,i),o=!0)),o||(a?i._fulfill(n):i._reject(n,this._getCarriedStackTrace()))}e>=256&&this._queueGC()},N.prototype._isProxied=function(){return 4194304==(4194304&this._bitField)},N.prototype._setProxied=function(){this._bitField=4194304|this._bitField},N.prototype._unsetProxied=function(){this._bitField=-4194305&this._bitField},N.prototype._isGcQueued=function(){return-1073741824==(-1073741824&this._bitField)},N.prototype._setGcQueued=function(){this._bitField=-1073741824|this._bitField},N.prototype._unsetGcQueued=function(){this._bitField=1073741823&this._bitField},N.prototype._queueGC=function(){this._isGcQueued()||(this._setGcQueued(),i.invokeLater(this._gc,this,void 0))},N.prototype._gc=function(){var e=this._length();this._unsetAt(0);for(var t=0;t<e;t++)delete this[t];this._setLength(0),this._unsetGcQueued()},N.prototype._queueSettleAt=function(e){this._isRejectionUnhandled()&&this._unsetRejectionIsUnhandled(),i.invoke(this._settlePromiseAt,this,e)},N.prototype._fulfillUnchecked=function(e){if(this.isPending()){if(e===this){var t=P();return this._attachExtraTrace(t),this._rejectUnchecked(t,void 0)}this._cleanValues(),this._setFulfilled(),this._settledValue=e;var n=this._length();n>0&&i.invoke(this._fulfillPromises,this,n)}},N.prototype._rejectUncheckedCheckError=function(e){var t=k(e)?e:new Error(e+"");this._rejectUnchecked(e,t===e?void 0:t)},N.prototype._rejectUnchecked=function(e,t){if(this.isPending()){if(e===this){var n=P();return this._attachExtraTrace(n),this._rejectUnchecked(n)}if(this._cleanValues(),this._setRejected(),this._settledValue=e,this._isFinal())i.invokeLater(T,void 0,void 0===t?e:t);else{var r=this._length();void 0!==t&&this._setCarriedStackTrace(t),r>0?i.invoke(this._rejectPromises,this,r):this._ensurePossibleRejectionHandled()}}},N.prototype._rejectPromises=function(e){e=this._length();for(var t=0;t<e;t+=5)this._settlePromiseAt(t);this._unsetCarriedStackTrace()},N.prototype._fulfillPromises=function(e){e=this._length();for(var t=0;t<e;t+=5)this._settlePromiseAt(t)},N.prototype._ensurePossibleRejectionHandled=function(){this._setRejectionIsUnhandled(),void 0!==c.possiblyUnhandledRejection&&i.invokeLater(this._notifyUnhandledRejection,this,void 0)},N.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue,t=this._getCarriedStackTrace();this._unsetRejectionIsUnhandled(),void 0!==t&&(this._unsetCarriedStackTrace(),e=t),"function"==typeof c.possiblyUnhandledRejection&&c.possiblyUnhandledRejection(e,this)}};var A=[];function L(e,t,n,r){var i=null;return d(e)?i=e:(i=N._cast(e,n,void 0))!==e?i._setBoundTo(r):I(i)||(i=null),null!==i?new t(i,"function"==typeof n?n:L,r):{promise:function(){return E("expecting an array, a promise or a thenable")}}}N.prototype._peekContext=function(){var e=A.length-1;if(e>=0)return A[e]},N.prototype._pushContext=function(){O&&A.push(this)},N.prototype._popContext=function(){O&&A.pop()};var D=n.Promise;return N.noConflict=function(){return n.Promise===N&&(n.Promise=D),N},c.isSupported()||(N.longStackTraces=function(){},O=!1),N._makeSelfResolutionError=P,e("./finally.js")(N,l),e("./direct_resolve.js")(N),e("./thenables.js")(N,a),N.RangeError=b,N.CancellationError=C,N.TimeoutError=x,N.TypeError=y,N.RejectionError=_,e("./timers.js")(N,a),e("./synchronous_inspection.js")(N),e("./any.js")(N,L,u),e("./race.js")(N,a),e("./call_get.js")(N),e("./filter.js")(N,L,u,E),e("./generators.js")(N,E,a),e("./map.js")(N,L,u,E),e("./nodeify.js")(N),e("./promisify.js")(N,a),e("./props.js")(N,u),e("./reduce.js")(N,L,u,E,a),e("./settle.js")(N,L,u),e("./some.js")(N,L,u,E),e("./progress.js")(N,B),e("./cancel.js")(N,a),N.prototype=N.prototype,N}},{"./any.js":1,"./assert.js":2,"./async.js":3,"./call_get.js":5,"./cancel.js":6,"./captured_trace.js":7,"./catch_filter.js":8,"./direct_resolve.js":9,"./errors.js":10,"./errors_api_rejection":11,"./filter.js":13,"./finally.js":14,"./generators.js":15,"./global.js":16,"./map.js":17,"./nodeify.js":18,"./progress.js":19,"./promise_array.js":21,"./promise_resolver.js":23,"./promisify.js":25,"./props.js":27,"./race.js":29,"./reduce.js":30,"./settle.js":32,"./some.js":34,"./synchronous_inspection.js":36,"./thenables.js":37,"./timers.js":38,"./util.js":39}],21:[function(e,t,n){"use strict";t.exports=function(t,n){e("./assert.js");var r=e("./errors.js").canAttach,i=e("./util.js"),o=e("./async.js"),a={}.hasOwnProperty,s=i.isArray;function l(e){switch(e){case-1:return;case-2:return[];case-3:return{}}}function u(e,r,i){var o=this._promise=new t(n),a=void 0;t.is(e)&&(a=e,e._cancellable()&&(o._setCancellable(),o._cancellationParent=e),e._isBound()&&o._setBoundTo(i)),o._setTrace(r,a),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return u.PropertiesPromiseArray=function(){},u.prototype.length=function(){return this._length},u.prototype.promise=function(){return this._promise},u.prototype._init=function(e,n){var r=this._values;if(t.is(r)){if(!r.isFulfilled())return r.isPending()?void r._then(this._init,this._reject,void 0,this,n,this.constructor):void this._reject(r._settledValue);if(r=r._settledValue,!s(r)){var i=new t.TypeError("expecting an array, a promise or a thenable");return void this.__hardReject__(i)}this._values=r}if(0!==r.length){var c,h=r.length,p=h;c=this instanceof u.PropertiesPromiseArray?this._values:new Array(h);for(var d=!1,f=0;f<h;++f){var v=r[f];if(void 0!==v||a.call(r,f)){var m=t._cast(v,void 0,void 0);m instanceof t&&m.isPending()?m._proxyPromiseArray(this,f):d=!0,c[f]=m}else p--}if(0!==p){if(this._values=c,this._length=p,d){var g=p===h?this._scanDirectValues:this._scanDirectValuesHoled;o.invoke(g,this,h)}}else-2===n?this._resolve(c):this._resolve(l(n))}else this._resolve(l(n))},u.prototype._settlePromiseAt=function(e){var n=this._values[e];t.is(n)?n.isFulfilled()?this._promiseFulfilled(n._settledValue,e):n.isRejected()&&this._promiseRejected(n._settledValue,e):this._promiseFulfilled(n,e)},u.prototype._scanDirectValuesHoled=function(e){for(var t=0;t<e&&!this._isResolved();++t)a.call(this._values,t)&&this._settlePromiseAt(t)},u.prototype._scanDirectValues=function(e){for(var t=0;t<e&&!this._isResolved();++t)this._settlePromiseAt(t)},u.prototype._isResolved=function(){return null===this._values},u.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},u.prototype.__hardReject__=u.prototype._reject=function(e){this._values=null;var t=r(e)?e:new Error(e+"");this._promise._attachExtraTrace(t),this._promise._reject(e,t)},u.prototype._promiseProgressed=function(e,t){this._isResolved()||this._promise._progress({index:t,value:e})},u.prototype._promiseFulfilled=function(e,t){if(!this._isResolved()){this._values[t]=e;var n=++this._totalResolved;n>=this._length&&this._resolve(this._values)}},u.prototype._promiseRejected=function(e,t){this._isResolved()||(this._totalResolved++,this._reject(e))},u}},{"./assert.js":2,"./async.js":3,"./errors.js":10,"./util.js":39}],22:[function(e,t,n){"use strict";var r=e("./errors.js").TypeError;function i(e){void 0!==e?(this._bitField=e._bitField,this._settledValue=e.isResolved()?e._settledValue:void 0):(this._bitField=0,this._settledValue=void 0)}i.prototype.isFulfilled=function(){return(268435456&this._bitField)>0},i.prototype.isRejected=function(){return(134217728&this._bitField)>0},i.prototype.isPending=function(){return 0==(402653184&this._bitField)},i.prototype.value=function(){if(!this.isFulfilled())throw new r("cannot get fulfillment value of a non-fulfilled promise");return this._settledValue},i.prototype.error=function(){if(!this.isRejected())throw new r("cannot get rejection reason of a non-rejected promise");return this._settledValue},t.exports=i},{"./errors.js":10}],23:[function(e,t,n){"use strict";var r,i=e("./util.js"),o=i.maybeWrapAsError,a=e("./errors.js"),s=a.TimeoutError,l=a.RejectionError,u=e("./async.js"),c=i.haveGetters,h=e("./es5.js");function p(e){var t;return t=function(e){return e instanceof Error&&h.getPrototypeOf(e)===Error.prototype}(e)?new l(e):e,a.markAsOriginatingFromRejection(t),t}function d(e){return function(t,n){if(null!==e){if(t){var r=p(o(t));e._attachExtraTrace(r),e._reject(r)}else if(arguments.length>2){for(var i=arguments.length,a=new Array(i-1),s=1;s<i;++s)a[s-1]=arguments[s];e._fulfill(a)}else e._fulfill(n);e=null}}}if(r=c?function(e){this.promise=e}:function(e){this.promise=e,this.asCallback=d(e),this.callback=this.asCallback},c){var f={get:function(){return d(this.promise)}};h.defineProperty(r.prototype,"asCallback",f),h.defineProperty(r.prototype,"callback",f)}r._nodebackForPromise=d,r.prototype.toString=function(){return"[object PromiseResolver]"},r.prototype.resolve=r.prototype.fulfill=function(e){var t=this.promise;t._tryFollow(e)||u.invoke(t._fulfill,t,e)},r.prototype.reject=function(e){var t=this.promise;a.markAsOriginatingFromRejection(e);var n=a.canAttach(e)?e:new Error(e+"");t._attachExtraTrace(n),u.invoke(t._reject,t,e),n!==e&&u.invoke(this._setCarriedStackTrace,this,n)},r.prototype.progress=function(e){u.invoke(this.promise._progress,this.promise,e)},r.prototype.cancel=function(){u.invoke(this.promise.cancel,this.promise,void 0)},r.prototype.timeout=function(){this.reject(new s("timeout"))},r.prototype.isResolved=function(){return this.promise.isResolved()},r.prototype.toJSON=function(){return this.promise.toJSON()},r.prototype._setCarriedStackTrace=function(e){this.promise.isRejected()&&this.promise._setCarriedStackTrace(e)},t.exports=r},{"./async.js":3,"./errors.js":10,"./es5.js":12,"./util.js":39}],24:[function(e,t,n){"use strict";t.exports=function(t,n){var r=e("./errors.js"),i=r.TypeError,o=e("./util.js"),a=o.isArray,s=o.errorObj,l=o.tryCatch1;function u(e,r,i){var o=this._promise=new t(n);o._setTrace(i,void 0),this._generatorFunction=e,this._receiver=r,this._generator=void 0}return u.prototype.promise=function(){return this._promise},u.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._next(void 0)},u.prototype._continue=function e(n){if(n===s){this._generator=void 0;var o=r.canAttach(n.e)?n.e:new Error(n.e+"");return this._promise._attachExtraTrace(o),void this._promise._reject(n.e,o)}var l=n.value;if(!0===n.done)this._generator=void 0,this._promise._tryFollow(l)||this._promise._fulfill(l);else{var u=t._cast(l,e,void 0);if(!(u instanceof t)){if(!a(u))return void this._throw(new i("A value was yielded that could not be treated as a promise"));u=t.all(u)}u._then(this._next,this._throw,void 0,this,null,void 0)}},u.prototype._throw=function(e){r.canAttach(e)&&this._promise._attachExtraTrace(e),this._continue(l(this._generator.throw,this._generator,e))},u.prototype._next=function(e){this._continue(l(this._generator.next,this._generator,e))},u}},{"./errors.js":10,"./util.js":39}],25:[function(e,t,n){"use strict";t.exports=function(t,n){var r={},i=e("./util.js"),o=e("./es5.js"),a=e("./promise_resolver.js")._nodebackForPromise,s=i.withAppended,l=i.maybeWrapAsError,u=i.canEvaluate,c=i.notEnumerableProp,h=i.deprecated,p=(e("./assert.js"),new RegExp("__beforePromisified__$")),d={}.hasOwnProperty;function f(e){return!0===e.__isPromisified__}var v=function(){if(o.isES5){var e=Object.create,t=Object.getOwnPropertyDescriptor;return function(n){for(var r=n,i=[],a=e(null);null!==n;){for(var s=o.keys(n),l=0,u=s.length;l<u;++l){var c=s[l];if(!(a[c]||p.test(c)||d.call(r,c+"__beforePromisified__"))){a[c]=!0;var h=t(n,c);null==h||"function"!=typeof h.value||f(h.value)||i.push(c,h.value)}}n=o.getPrototypeOf(n)}return i}}return function(e){var t=[];for(var n in e)if(!p.test(n)&&!d.call(e,n+"__beforePromisified__")){var r=e[n];"function"!=typeof r||f(r)||t.push(n,r)}return t}}();function m(e){return/^[a-z$_][a-z$_0-9]*$/i.test(e)?"."+e:"['"+e.replace(/(['\\])/g,"\\$1")+"']"}var g=u?function(e,i,o,u){var c=Math.max(0,function(e){return"number"==typeof e.length?Math.max(Math.min(e.length,1024),0):0}(u)-1),h=function(e){for(var t=[e],n=Math.max(0,e-1-5),r=e-1;r>=n;--r)r!==e&&t.push(r);for(var r=e+1;r<=5;++r)t.push(r);return t}(c),p="string"==typeof o?o+"Async":"promisified";function d(t){for(var n=new Array(t),o=0,a=n.length;o<a;++o)n[o]="arguments["+o+"]";var s=t>0?",":"";return"string"==typeof e&&i===r?"this"+m(e)+"("+n.join(",")+s+" fn);break;":(void 0===i?"callback("+n.join(",")+s+" fn);":"callback.call("+(i===r?"this":"receiver")+", "+n.join(",")+s+" fn);")+"break;"}return new Function("Promise","callback","receiver","withAppended","maybeWrapAsError","nodebackForPromise","INTERNAL","var ret = function "+p+"("+function(e){for(var t=new Array(e),n=0;n<t.length;++n)t[n]="_arg"+n;return t.join(", ")}(c)+') {"use strict";var len = arguments.length;var promise = new Promise(INTERNAL);promise._setTrace('+p+", void 0);var fn = nodebackForPromise(promise);try {switch(len) {"+function(){for(var t="",n=0;n<h.length;++n)t+="case "+h[n]+":"+d(h[n]);return t+="default: var args = new Array(len + 1);var i = 0;for (var i = 0; i < len; ++i) {    args[i] = arguments[i];}args[i] = fn;"+("string"==typeof e?"this"+m(e)+".apply(":"callback.apply(")+(i===r?"this":"receiver")+", args); break;"}()+"}}catch(e){ var wrapped = maybeWrapAsError(e);promise._attachExtraTrace(wrapped);promise._reject(wrapped);}return promise;}; ret.__isPromisified__ = true; return ret;")(t,e,i,s,l,a,n)}:function(e,i){function o(){var u=i;i===r&&(u=this),"string"==typeof e&&(e=u[e]);var c=new t(n);c._setTrace(o,void 0);var h=a(c);try{e.apply(u,s(arguments,h))}catch(e){var p=l(e);c._attachExtraTrace(p),c._reject(p)}return c}return o.__isPromisified__=!0,o};function b(e,t,n){if(n){for(var i=v(e),o=0,a=i.length;o<a;o+=2){var s=i[o],l=i[o+1],u=s+"__beforePromisified__",h=s+"Async";c(e,u,l),e[h]=g(u,r,s,l)}return i.length,e}return g(e,t,void 0,e)}t.promisify=function(e,t){if("object"==typeof e&&null!==e)return h("Promise.promisify for promisifying entire objects is deprecated. Use Promise.promisifyAll instead."),b(e,t,!0);if("function"!=typeof e)throw new TypeError("fn must be a function");return f(e)?e:b(e,arguments.length<2?r:t,!1)},t.promisifyAll=function(e){if("function"!=typeof e&&"object"!=typeof e)throw new TypeError("the target of promisifyAll must be an object or a function");return b(e,void 0,!0)}}},{"./assert.js":2,"./es5.js":12,"./promise_resolver.js":23,"./util.js":39}],26:[function(e,t,n){"use strict";t.exports=function(t,n){e("./assert.js");var r=e("./util.js"),i=r.inherits,o=e("./es5.js");function a(e,t,n){for(var r=o.keys(e),i=new Array(r.length),a=0,s=i.length;a<s;++a)i[a]=e[r[a]];if(this.constructor$(i,t,n),!this._isResolved())for(var a=0,s=r.length;a<s;++a)i.push(r[a])}return i(a,n),a.prototype._init=function(){this._init$(void 0,-3)},a.prototype._promiseFulfilled=function(e,t){if(!this._isResolved()){this._values[t]=e;var n=++this._totalResolved;if(n>=this._length){for(var r={},i=this.length(),o=0,a=this.length();o<a;++o)r[this._values[o+i]]=this._values[o];this._resolve(r)}}},a.prototype._promiseProgressed=function(e,t){this._isResolved()||this._promise._progress({key:this._values[t+this.length()],value:e})},n.PropertiesPromiseArray=a,a}},{"./assert.js":2,"./es5.js":12,"./util.js":39}],27:[function(e,t,n){"use strict";t.exports=function(t,n){var r=e("./properties_promise_array.js")(t,n),i=e("./util.js"),o=e("./errors_api_rejection")(t),a=i.isObject;function s(e,n,i){var s,l=t._cast(e,i,void 0);return a(l)?(t.is(l)?s=l._then(t.props,void 0,void 0,void 0,void 0,i):(s=new r(l,i,!0===n&&l._isBound()?l._boundTo:void 0).promise(),n=!1),!0===n&&l._isBound()&&s._setBoundTo(l._boundTo),s):o("cannot await properties of a non-object")}t.prototype.props=function(){return s(this,!0,this.props)},t.props=function(e){return s(e,!1,t.props)}}},{"./errors_api_rejection":11,"./properties_promise_array.js":26,"./util.js":39}],28:[function(e,t,n){"use strict";function r(e,t,n,r,i){for(var o=0;o<i;++o)n[o+r]=e[o+t]}function i(e){this._capacity=function(e){return"number"!=typeof e?16:(t=Math.min(Math.max(16,e),1073741824),t>>>=0,t-=1,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,1+(t|=t>>16));var t}(e),this._length=0,this._front=0,this._makeCapacity()}e("./assert.js"),i.prototype._willBeOverCapacity=function(e){return this._capacity<e},i.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1);var n=this._front+t&this._capacity-1;this[n]=e,this._length=t+1},i.prototype.push=function(e,t,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=e,this[i+1&o]=t,this[i+2&o]=n,this._length=r},i.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},i.prototype.length=function(){return this._length},i.prototype._makeCapacity=function(){for(var e=this._capacity,t=0;t<e;++t)this[t]=void 0},i.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<3)},i.prototype._resizeTo=function(e){var t=this._front,n=this._capacity,i=new Array(n),o=this.length();if(r(this,0,i,0,n),this._capacity=e,this._makeCapacity(),this._front=0,t+o<=n)r(i,t,this,0,o);else{var a=o-(t+o&n-1);r(i,t,this,0,a),r(i,0,this,a,o-a)}},t.exports=i},{"./assert.js":2}],29:[function(e,t,n){"use strict";t.exports=function(t,n){var r=e("./errors_api_rejection.js")(t),i=e("./util.js").isArray,o=function(e){return e.then(function t(n){return s(n,t,e)})},a={}.hasOwnProperty;function s(e,s,l){var u=t._cast(e,s,void 0);if(t.is(u))return o(u);if(!i(e))return r("expecting an array, a promise or a thenable");var c=new t(n);c._setTrace(s,l),void 0!==l&&(l._isBound()&&c._setBoundTo(l._boundTo),l._cancellable()&&(c._setCancellable(),c._cancellationParent=l));for(var h=c._fulfill,p=c._reject,d=0,f=e.length;d<f;++d){var v=e[d];(void 0!==v||a.call(e,d))&&t.cast(v)._then(h,p,void 0,c,null,s)}return c}t.race=function(e){return s(e,t.race,void 0)},t.prototype.race=function(){return s(this,this.race,void 0)}}},{"./errors_api_rejection.js":11,"./util.js":39}],30:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o){function a(e,n,r,i,a){this.promise=new t(o),this.index=n,this.length=i.length,this.items=i,this.callback=e,this.receiver=a,this.accum=r}function s(e,t){var n=this,r=void 0;"function"!=typeof n&&(r=n.receiver,n=n.fn);var i=e.length,o=void 0,s=0;void 0!==t?(o=t,s=0):(s=1,i>0&&(o=e[0]));var l=s;if(l>=i)return o;var u=new a(n,l,o,e,r);return u.iterate(),u.promise}function l(e){var t=this.fn,n=this.initialValue;return s.call(t,e,n)}function u(e,o,a,c,h){if("function"!=typeof o)return i("fn must be a function");if(!0===c&&e._isBound()&&(o={fn:o,receiver:e._boundTo}),void 0!==a){if(t.is(a)){if(!a.isFulfilled())return function(e,t,n,r,i){return n._then(function n(i){return u(e,t,i,r,n)},void 0,void 0,void 0,void 0,i)}(e,o,a,c,h);a=a._settledValue}return n(e,r,h,!0===c&&e._isBound()?e._boundTo:void 0).promise()._then(l,void 0,void 0,{fn:o,initialValue:a},void 0,t.reduce)}return n(e,r,h,!0===c&&e._isBound()?e._boundTo:void 0).promise()._then(s,void 0,void 0,o,void 0,h)}e("./assert.js"),a.prototype.reject=function(e){this.promise._reject(e)},a.prototype.fulfill=function(e,t){this.accum=e,this.index=t+1,this.iterate()},a.prototype.iterate=function(){for(var e=this.index,n=this.length,r=this.items,i=this.accum,o=this.receiver,a=this.callback,s=this.iterate;e<n;++e)if((i=t._cast(a.call(o,i,r[e],e,n),s,void 0))instanceof t)return void i._then(this.fulfill,this.reject,void 0,this,e,s);this.promise._fulfill(i)},t.reduce=function(e,n,r){return u(e,n,r,!1,t.reduce)},t.prototype.reduce=function(e,t){return u(this,e,t,!0,this.reduce)}}},{"./assert.js":2}],31:[function(e,n,r){"use strict";var i,o,a,s,l=e("./global.js");if(e("./assert.js"),void 0!==t&&null!==t&&"function"==typeof t.cwd&&"function"==typeof t.nextTick)i=0===t.version.indexOf("v0.10.")?function(){var n=e("domain"),r=null,i=null;function o(){var e=i,t=r;r=null,i=null,null!=t?t.run(e):e()}return function(e){r=n.active,i=e,t.nextTick(o)}}():t.nextTick;else if("function"!=typeof l.MutationObserver&&"function"!=typeof l.WebkitMutationObserver&&"function"!=typeof l.WebKitMutationObserver||"undefined"==typeof document||"function"!=typeof document.createElement)if("function"==typeof l.postMessage&&"function"!=typeof l.importScripts&&"function"==typeof l.addEventListener&&"function"==typeof l.removeEventListener){var u="bluebird_message_key_"+Math.random();i=function(){var e=void 0;return l.addEventListener("message",function(t){if(t.source===l&&t.data===u){var n=e;e=void 0,n()}},!1),function(t){e=t,l.postMessage(u,"*")}}()}else i="function"==typeof l.MessageChannel?function(){var e=void 0,t=new l.MessageChannel;return t.port1.onmessage=function(){var t=e;e=void 0,t()},function(n){e=n,t.port2.postMessage(null)}}():l.setTimeout?function(e){setTimeout(e,4)}:function(e){e()};else o=l.MutationObserver||l.WebkitMutationObserver||l.WebKitMutationObserver,a=document.createElement("div"),s=void 0,new o(function(){var e=s;s=void 0,e()}).observe(a,{attributes:!0}),i=function(e){s=e,a.setAttribute("class","foo")};n.exports=i},{"./assert.js":2,"./global.js":16,domain:40}],32:[function(e,t,n){"use strict";t.exports=function(t,n,r){var i=e("./settled_promise_array.js")(t,r);function o(e,t,r){return n(e,i,r,!0===t&&e._isBound()?e._boundTo:void 0).promise()}t.settle=function(e){return o(e,!1,t.settle)},t.prototype.settle=function(){return o(this,!0,this.settle)}}},{"./settled_promise_array.js":33}],33:[function(e,t,n){"use strict";t.exports=function(t,n){e("./assert.js");var r=e("./promise_inspection.js"),i=e("./util.js"),o=i.inherits;function a(e,t,n){this.constructor$(e,t,n)}return o(a,n),a.prototype._promiseResolved=function(e,t){this._values[e]=t;var n=++this._totalResolved;n>=this._length&&this._resolve(this._values)},a.prototype._promiseFulfilled=function(e,t){if(!this._isResolved()){var n=new r;n._bitField=268435456,n._settledValue=e,this._promiseResolved(t,n)}},a.prototype._promiseRejected=function(e,t){if(!this._isResolved()){var n=new r;n._bitField=134217728,n._settledValue=e,this._promiseResolved(t,n)}},a}},{"./assert.js":2,"./promise_inspection.js":22,"./util.js":39}],34:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){var o=e("./some_promise_array.js")(r);function a(e,t,r,a){if((0|t)!==t||t<0)return i("expecting a positive integer");var s=n(e,o,a,!0===r&&e._isBound()?e._boundTo:void 0),l=s.promise();return l.isRejected()?l:(s.setHowMany(t),s.init(),l)}e("./assert.js"),t.some=function(e,n){return a(e,n,!1,t.some)},t.prototype.some=function(e){return a(this,e,!0,this.some)}}},{"./assert.js":2,"./some_promise_array.js":35}],35:[function(e,t,n){"use strict";t.exports=function(t){var n=e("./util.js"),r=e("./errors.js").RangeError,i=n.inherits,o=n.isArray;function a(e,t,n){this.constructor$(e,t,n),this._howMany=0,this._unwrap=!1,this._initialized=!1}return i(a,t),a.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-2);var e=o(this._values);if(this._holes=e?this._values.length-this.length():0,!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()){var t="(Promise.some) input array contains less than "+this._howMany+" promises";this._reject(new r(t))}}else this._resolve([])},a.prototype.init=function(){this._initialized=!0,this._init()},a.prototype.setUnwrap=function(){this._unwrap=!0},a.prototype.howMany=function(){return this._howMany},a.prototype.setHowMany=function(e){this._isResolved()||(this._howMany=e)},a.prototype._promiseFulfilled=function(e){this._isResolved()||(this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values)))},a.prototype._promiseRejected=function(e){this._isResolved()||(this._addRejected(e),this.howMany()>this._canPossiblyFulfill()&&(this._values.length===this.length()?this._reject([]):this._reject(this._values.slice(this.length()+this._holes))))},a.prototype._fulfilled=function(){return this._totalResolved},a.prototype._rejected=function(){return this._values.length-this.length()-this._holes},a.prototype._addRejected=function(e){this._values.push(e)},a.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},a.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},a}},{"./errors.js":10,"./util.js":39}],36:[function(e,t,n){"use strict";t.exports=function(t){var n=e("./promise_inspection.js");t.prototype.inspect=function(){return new n(this)}}},{"./promise_inspection.js":22}],37:[function(e,t,n){"use strict";t.exports=function(t,n){e("./assert.js");var r=e("./util.js"),i=e("./errors.js").canAttach,o=r.errorObj,a=r.isObject,s={}.hasOwnProperty;t._cast=function e(r,l,u){if(a(r)){if(r instanceof t)return r;if(function(e){return s.call(e,"_promise0")}(r)){var c=new t(n);return c._setTrace(l,void 0),r._then(c._fulfillUnchecked,c._rejectUncheckedCheckError,c._progressUnchecked,c,null,void 0),c._setFollowing(),c}var h=function(e){try{return e.then}catch(e){return o.e=e,o}}(r);if(h===o)return l="function"==typeof l?l:e,void 0!==u&&i(h.e)&&u._attachExtraTrace(h.e),t.reject(h.e,l);if("function"==typeof h)return function(e,n,r,o){var a=t.defer(r),s=!1;try{n.call(e,function(n){if(!s){if(s=!0,e===n){var r=t._makeSelfResolutionError();return void 0!==o&&o._attachExtraTrace(r),void a.promise._reject(r,void 0)}a.resolve(n)}},function(e){if(!s){s=!0;var t=i(e)?e:new Error(e+"");void 0!==o&&o._attachExtraTrace(t),a.promise._reject(e,t)}},function(e){if(!s){var t=a.promise;"function"==typeof t._progress&&t._progress(e)}})}catch(e){if(!s){s=!0;var l=i(e)?e:new Error(e+"");void 0!==o&&o._attachExtraTrace(l),a.promise._reject(e,l)}}return a.promise}(r,h,l="function"==typeof l?l:e,u)}return r}}},{"./assert.js":2,"./errors.js":10,"./util.js":39}],38:[function(e,t,n){"use strict";var r=e("./global.js"),i=function(e,t){for(var n=arguments.length,i=new Array(n-2),o=2;o<n;++o)i[o-2]=arguments[o];r.setTimeout(function(){e.apply(void 0,i)},t)},o={};r.setTimeout(function(e){e===o&&(i=r.setTimeout)},1,o),t.exports=function(t,n){e("./util.js"),e("./assert.js");var r=e("./errors.js"),o=(e("./errors_api_rejection")(t),t.TimeoutError),a=function(e,t,n){if(e.isPending()){"string"!=typeof t&&(t="operation timed out after "+n+" ms");var i=new o(t);r.markAsOriginatingFromRejection(i),e._attachExtraTrace(i),e._rejectUnchecked(i)}},s=function(e,t){t._fulfill(e)};t.delay=function(e,r,o){void 0===r&&(r=e,e=void 0),r=+r,"function"!=typeof o&&(o=t.delay);var a=t._cast(e,o,void 0),l=new t(n);return t.is(a)?(a._isBound()&&l._setBoundTo(a._boundTo),a._cancellable()&&(l._setCancellable(),l._cancellationParent=a),l._setTrace(o,a),l._follow(a),l.then(function(e){return t.delay(e,r)})):(l._setTrace(o,void 0),i(s,r,e,l),l)},t.prototype.delay=function(e){return t.delay(this,e,this.delay)},t.prototype.timeout=function(e,r){e=+e;var o=new t(n);return o._setTrace(this.timeout,this),this._isBound()&&o._setBoundTo(this._boundTo),this._cancellable()&&(o._setCancellable(),o._cancellationParent=this),o._follow(this),i(a,e,o,r,e),o}}},{"./assert.js":2,"./errors.js":10,"./errors_api_rejection":11,"./global.js":16,"./util.js":39}],39:[function(e,t,n){"use strict";var r=e("./global.js"),i=(e("./assert.js"),e("./es5.js")),o=function(){try{var e={};return i.defineProperty(e,"f",{get:function(){return 3}}),3===e.f}catch(e){return!1}}(),a="undefined"==typeof window||null===window||void 0===window.document||"undefined"==typeof navigator||null===navigator||"string"!=typeof navigator.appName||window!==r,s={e:{}};function l(e){return"string"==typeof e?e:""+e}function u(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}var c=function(){return"string"!==this}.call("string"),h={thrower:function(e){throw e},isArray:i.isArray,haveGetters:o,notEnumerableProp:function(e,t,n){var r={value:n,configurable:!0,enumerable:!1,writable:!0};return i.defineProperty(e,t,r),e},isPrimitive:u,isObject:function(e){return!u(e)},canEvaluate:a,deprecated:function(e){"undefined"!=typeof console&&null!==console&&console.warn},errorObj:s,tryCatch1:function(e,t,n){try{return e.call(t,n)}catch(e){return s.e=e,s}},tryCatch2:function(e,t,n,r){try{return e.call(t,n,r)}catch(e){return s.e=e,s}},tryCatchApply:function(e,t,n){try{return e.apply(n,t)}catch(e){return s.e=e,s}},inherits:function(e,t){var n={}.hasOwnProperty;function r(){for(var r in this.constructor=e,this.constructor$=t,t.prototype)n.call(t.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=t.prototype[r])}return r.prototype=t.prototype,e.prototype=new r,e.prototype},withAppended:function(e,t){var n,r=e.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=e[n];return i[n]=t,i},asString:l,maybeWrapAsError:function(e){return u(e)?new Error(l(e)):e},wrapsPrimitiveReceiver:c};t.exports=h},{"./assert.js":2,"./es5.js":12,"./global.js":16}],40:[function(e,t,n){},{}]},{},[4])(4)}).call(this,n(54),n(45))},function(e,t,n){"use strict";var r,i;r=[n(3),n(1),n(22),n(2)],void 0===(i=function(e,t,n,r){var i=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};return function(){function o(r){var i,a,s,l,u,c,h,p;i=r.dev,a=r.node,u=null!=(c=null!=(u=r.options)?u:t.clone(u))?c:{},t.defaults(u,{position:"corner",dontKill:[]}),this.dontKill=u.dontKill,this.onremove=u.onremove,o.killAllZombies("new tooltip"),o.allTooltips.push(this),this.useCount=1,this.div=e.appendSpec(document.body,{className:"toolTip"}),null!=i&&(this.dev=new i.SubDevice(i)),h=e.getBoundingClientRect(a),document.documentElement.clientHeight,window.innerHeight,l=document.body.scrollTop,s=document.body.scrollLeft,{corner:(p=this,function(){return h.top-p.safeDistanceFromTop<0?e.setTop(p.div,h.bottom+l):e.setTop(p.div,h.top-p.safeDistanceFromTop+l),h.right+p.safeDistanceFromLeft>window.innerWidth?e.setLeft(p.div,h.left-p.safeDistanceFromLeft+s):e.setLeft(p.div,h.right+s)}),cover:function(t){return function(){return e.setLeft(t.div,h.left),e.setTop(t.div,h.top)}}(this)}[u.position](),this.listener=new n.Listener({proxy:this,events:["dragdown","keydown"],node:document,options:{capture:!0}}),e.show(this.div)}return o.prototype.keepAlive=function(){return this.useCount+=1,this.cancelZombie()},o.prototype.remove=function(e){if(null==e&&(e=0),this.useCount-=1,this.useCount<=0)return 0==+e?this.doRemove():this.startZombie(+e)},o.prototype.safeDistanceFromLeft=75,o.prototype.safeDistanceFromTop=15,o.nodeIsContainedByToolTip=function(t){for(;null!=t;){try{if(e.testClass(t,"toolTip"))return!0}catch(e){}t=t.parentNode}return!1},o.prototype.dragdown=function(e,t){if(t.remove(),!o.nodeIsContainedByToolTip(e.target))return null!=this.zombie?this.doRemove():void 0},o.prototype.keydown=function(e){if(r.isEscapeKey(e)&&null!=this.zombie)return this.doRemove()},o.tooltipID=0,o.allTooltips=[],o.killSomeZombies=function(e){var t,n,r,i,o;for(r=[],t=0,n=(o=this.allTooltips.slice(0)).length;t<n;t++)e(i=o[t])?r.push(null!=i.zombie?i.doRemove():void 0):r.push(void 0);return r},o.killAllZombies=function(e){return this.killSomeZombies(function(t){return!(null!=e&&i.call(t.dontKill,e)>=0)})},o.removeTooltip=function(e){return this.allTooltips=t.without(this.allTooltips,e)},o.prototype.startZombie=function(e){return window.isNaN(e)?this.zombie="infinity zombie":this.zombie=window.setTimeout((t=this,function(){return t.fadeOut(e/2)}),e/2);var t},o.prototype.fadeOut=function(t){return this.div.style.Transition="opacity "+t+"ms",this.div.style.MozTransition="opacity "+t+"ms",this.div.style.WebkitTransition="opacity "+t+"ms",e.addClass(this.div,"toolTipInvisible"),this.zombie=window.setTimeout((n=this,function(){return n.doRemove()}),t);var n},o.prototype.cancelZombie=function(){if(null!=this.zombie&&"infinity zombie"!==this.zombie)return this.div.style.Transition="",this.div.style.MozTransition="",this.div.style.WebkitTransition="",e.removeClass(this.div,"toolTipInvisible"),window.clearTimeout(this.zombie),delete this.zombie},o.prototype.doRemove=function(){var t,n;return o.removeTooltip(this),null!=(t=this.controller)&&t.remove(),this.cancelZombie(),null!=(n=this.dev)&&n.remove(),e.remove(this.div),this.listener.remove(),"function"==typeof this.onremove?this.onremove():void 0},o}()}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gainToYPos=function(e,t){return e>0?t/2-e/24*t/2:t/2+-e/24*t/2},t.freqToXPos=function(e,t,n){return i(2*e/(.001*t))/i(1e3)*(n-1)},t.yPosToGain=function(e,t,n){var r=(1-2*e/n)*t;return r=(r=r>20?20:r)<-20?-20:r},t.xPosToFreq=function(e,t,n,r,a){var s=.001*t/2*o(i(1e3)*e/(a-1));return s=(s=s>r?r:s)<n?n:s},t.gainToSliderPos=function(e){var t=0;t=e<0?.5-s(e/45):e>0?s(e/45)+.5:.5;return t},t.freqToSliderPos=function(e){return i(2*e/44.1)/i(1e3)},t.bwToSliderPos=function(e){return l(a(2,e))/(a(2,e)-1)/10},t.sliderValueToGain=function(e){var t=0;e<.5?t=-s(45*(.5-e)):e>.5&&(t=s(45*(e-.5)));return t},t.sliderValueToFrequency=function(e){return 22.05*o(i(1e3)*e)},t.sliderValueToBandwidth=function(e){var t=10*e;t<.45&&(t=.45);return 2/Math.log(2)*Math.asinh(1/(2*t))},t.sliderValueToGateThreshold=function(e){return 20/Math.log(10)*Math.log(e)},t.gateThresholdToSliderValue=function(e){return Math.pow(10,.05*e)};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(39));var i=Math.log,o=Math.exp,a=Math.pow,s=Math.abs,l=Math.sqrt;new r.Threshold(Object)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=n(332),o=(r=i)&&r.__esModule?r:{default:r};t.default=o.default,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlideButton=t.PowerButton=t.Button=t.ButtonStyles=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=h(n(0)),o=(h(n(13)),h(n(11))),a=h(n(24)),s=h(n(17)),l=(h(n(15)),h(n(406))),u=h(n(6)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(18));n(12);function h(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.ButtonStyles={RED:l.default.ButtonRed,YELLOW:l.default.ButtonYellow,PURPLE:l.default.ButtonPurple,BLUE:l.default.ButtonBlue,TEAL:l.default.ButtonTeal,LIGHT_GRAY:l.default.ButtonLightGray,BLACK:l.default.ButtonBlack},t.Button=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,i.default.Component),r(t,[{key:"render",value:function(){var e=(0,o.default)(l.default.Button,this.props.className);return i.default.createElement("button",{id:this.props.id,style:this.props.style,className:e,onClick:this.props.onClick},this.props.children)}}]),t}(),t.PowerButton=function(e){function t(e){p(this,t);var n=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._onTogglePower=n._onTogglePower.bind(n),n._onClick=n._onClick.bind(n),n}return f(t,i.default.Component),r(t,[{key:"render",value:function(){return i.default.createElement("div",{className:(0,o.default)(l.default.PowerButton,this.props.className)},i.default.createElement("a",{href:"#",onClick:this._onTogglePower,className:l.default.PowerButtonPowerToggle},"⏻"),i.default.createElement("a",{href:"#",onClick:this._onClick,className:l.default.PowerButtonText},this.props.children))}},{key:"_onTogglePower",value:function(e){e.preventDefault(),this.props.onTogglePower()}},{key:"_onClick",value:function(e){e.preventDefault(),this.props.onClick()}}]),t}(),t.GlideButton=function(e){function t(e){p(this,t);var n=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._dragging=!1,n.setValue=n.setValue.bind(n),n.onFormatChange=n.onFormatChange.bind(n),n._onMouseDown=n._onMouseDown.bind(n),n._onTouchStart=n._onTouchStart.bind(n),n._onInteractionStart=n._onInteractionStart.bind(n),n._onMouseMove=(0,a.default)(n._onMouseMove,n,1e3/30),n._onMouseUp=n._onMouseUp.bind(n),n.lastFormatChange={type:null,first:null,last:null},n}return f(t,i.default.Component),r(t,[{key:"componentDidMount",value:function(){this.refs.button&&(this.rect=this.refs.button.getBoundingClientRect())}},{key:"componentWillReceiveProps",value:function(e){}},{key:"render",value:function(){var e=(0,o.default)(l.default.Button,this.props.className);return i.default.createElement("button",{ref:"button",id:this.props.id,className:e,onMouseDown:this._onMouseDown,onTouchStart:this._onTouchStart},this.props.children)}},{key:"setValue",value:function(e){void 0!==this.props.glidePath&&c.setAny(this.props.glidePath,e)}},{key:"onFormatChange",value:function(e){if(u.default.has(e.formatPath)){var t=2===parseInt(u.default.get(e.formatPath).split(":")[0],10),n=e.num%2==0,r=n?e.num+1:e.num-1,i=new s.default(e.type+"/"+r),o=[],a="";t?(a="stereotomono",o.push({path:e.formatPath,value:"1:0"}),o.push({path:i.formatPath,value:"1:0"})):(a="monotostereo",o.push({path:e.formatPath,value:"2:"+(n?"0":"1")}),o.push({path:i.formatPath,value:"2:"+(n?"1":"0")})),a!==this.lastFormatChange.type&&null!==this.lastFormatChange.type||(c.setMultiple(o),this.lastFormatChange={type:a,first:e,second:i})}}},{key:"_onMouseDown",value:function(e){if(this.hasBeenTouchedRecently)return!1;this._onInteractionStart(e)}},{key:"_onTouchStart",value:function(e){var t=this;e.touches&&(this.hasBeenTouchedRecently=!0,setTimeout(function(){t.hasBeenTouchedRecently=!1},500),this._onInteractionStart(e))}},{key:"_onInteractionStart",value:function(e){this.refs.button&&0==this.rect.width&&(this.rect=this.refs.button.getBoundingClientRect()),window.document.addEventListener("mouseup",this._onMouseUp),window.document.addEventListener("mousemove",this._onMouseMove),window.document.addEventListener("touchend",this._onMouseUp),window.document.addEventListener("touchcancel",this._onMouseUp),window.document.addEventListener("touchmove",this._onMouseMove);var t="number"==typeof e.clientY?e.clientY:e.touches[0].clientY,n={clientX:"number"==typeof e.clientX?e.clientX:e.touches[0].clientX,clientY:t};this.initialClientPosition=n,"format"===this.props.type?this.onFormatChange(this.props.stripInfo):void 0!==this.props.glidePath&&(this.glideValue=u.default.get(this.props.glidePath)?0:1,c.setAny(this.props.glidePath,this.glideValue)),this._dragging=!0,e.preventDefault()}},{key:"_onMouseMove",value:function(e){if(this._dragging){var t="number"==typeof e.clientY?e.clientY:e.touches[0].clientY,n="number"==typeof e.clientX?e.clientX:e.touches[0].clientX,r={clientX:n,clientY:t};this.initialClientPosition.clientX;if(Math.abs(r.clientX-this.initialClientPosition.clientX)>=this.rect.width)if("format"===this.props.type){var i=document.elementFromPoint(n,t);if(null!==i&&-1!==i.id.indexOf("formatButton")&&i.id!==this.props.id){var o=i.id.split("_"),a=new s.default(o[1]+"/"+o[2]);if(u.default.has(a.formatPath)){parseInt(u.default.get(a.formatPath).split(":")[0],10);var l=a.num%2==0?a.num+1:a.num-1,c=new s.default(a.type+"/"+l);a.id!==this.lastFormatChange.first.id&&a.id!==this.lastFormatChange.second.id&&c.id!==this.lastFormatChange.first.id&&c.id!==this.lastFormatChange.second.id&&this.onFormatChange(a)}}}else void 0!==this.props.glideScope&&void 0!==this.glideValue&&this.props.glideScope.glide({glideIndex:this.props.observableState.glideIndexes[this.props.stripInfo.id],clientPosition:r,value:this.glideValue,drag:this})}}},{key:"_onMouseUp",value:function(e){window.document.removeEventListener("mouseup",this._onMouseUp),window.document.removeEventListener("mousemove",this._onMouseMove),window.document.removeEventListener("touchend",this._onMouseUp),window.document.removeEventListener("touchcancel",this._onMouseUp),window.document.removeEventListener("touchmove",this._onMouseMove),this._dragging=!1,this.lastFormatChange={type:null,first:null,last:null}}}]),t}()},function(e,t,n){"use strict";var r,i;r=[n(1),n(33)],void 0===(i=function(e,t){var n,r,i,o,a,s,l,u,c=[].slice;return n=function(e){var t,n,r,i;return i=e.url,r=e.status,n=e.message,(t=new Error(n)).url=i,t.status=r,t.name="CancellationError",t},l=window,s=function(t,r,i,o){var a,s,u;if(null!=t){for(s in a=new l.FormData,t)u=t[s],a.append(s,u instanceof l.ArrayBuffer?new l.Blob([u]):u);t=a}return e.defer(function(){var e;if(r.readyState===l.XMLHttpRequest.OPENED||(e=i.promise.inspect()).isFulfilled()||e.isRejected())return r.send(t);i.reject(n({url:o,status:0,message:"XHR closed by the time we tried to send!"}))})},i={},o=function(e){return e.split("?")[0]},r=function(e){var t,n,r,i;return i=e.url,r=e.status,n=e.message,(t=new Error(n)).url=i,t.status=r,t.name="XHRError",t},a=function(e){var i,o,a;return o=e.target,a=e.url,i=t.defer(),o.onload=function(){return i.resolve()},o.onerror=function(){return 1<=arguments.length?c.call(arguments,0):[],i.reject(r({url:a,status:0,message:"Error communicating with server at "+a}))},o.ontimeout=function(){return 1<=arguments.length?c.call(arguments,0):[],i.reject(r({url:a,status:0,message:"Timed out waiting for server for "+a+"."}))},o.onprogress=function(e){var t,n,r;return t=e.lengthComputable,n=e.loaded,r=e.total,t?i.progress(+n/+r):i.progress()},o.onabort=function(){return 1<=arguments.length?c.call(arguments,0):[],i.reject(n({url:a,status:0,message:"Aborted request for "+a+"."}))},i},(u=function(e){var n,u,c,h,p,d,f,v,m,g,b,y,C,x,_,w;return w=e.verb,_=e.url,u=e.data,C=e.timeout,p=e.ifNoneMatch,h=e.ifMatch,b=e.responseType,x=e.upload,c=e.guid,(v=new l.XMLHttpRequest).open(null!=w?w:"GET",_),v.responseType=null!=b?b:"text",m=(g=a({target:v,url:_})).promise.then(function(){var e,n;return v.status>=400?(n=v.response?"Error message received from server: "+v.response+" (Code "+v.status+")":"Error code received from server: "+v.status,t.reject(r({url:_,status:v.status,message:n}))):(304!==v.status&&(p||h)&&null!=(e=v.getResponseHeader("ETag"))&&(i[o(_)]=e),t.resolve(v))}),v.timeout=null!=C?C:3e4,p&&v.setRequestHeader("If-None-Match",null!=(d=i[o(_)])?d:null),h&&v.setRequestHeader("If-Match",null!=(f=i[o(_)])?f:null),"POST"===w&&null!=c&&(y="MOTUAuth:"+c,null!==(n=sessionStorage.getItem(y))&&v.setRequestHeader("Authorization","Basic "+n)),s(u,v,g,_),m.cancel=function(){return v.abort()},m.upload=x?a({url:_,target:v.upload}).promise:null,m}).clearETag=function(e){return null!=e?delete i[o(e)]:i={}},u}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(2)],void 0===(i=function(e){var t,n,r,i,o,a=function(e,t){for(var n in t)s.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},s={}.hasOwnProperty;return o={},i=Math,n=function(e){return i.pow(10,.05*e)},function(e){return 20/i.log(10)*i.log(e)},o.Warper=function(){function e(){}return e.prototype.warp=null,e.prototype.unwarp=null,e}(),o.Identity=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.warp=function(e){return e},t.prototype.unwarp=function(e){return e},t}(o.Warper),o.SquareRoot=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.warp=function(e){return i.sqrt(e)},t.prototype.unwarp=function(e){return i.pow(e,2)},t}(o.Warper),t=function(e){return o.ExponentialDetail=function(t){function n(t){this.min=t.min,this.max=t.max,this.base=e,this.logMin=i.log(this.min)/i.log(this.base),this.logMax=i.log(this.max)/i.log(this.base)}return a(n,t),n.prototype.warp=function(e){var t;return t=(this.max-this.min)*e+this.min,(i.log(t)/i.log(this.base)-this.logMin)/(this.logMax-this.logMin)},n.prototype.unwarp=function(e){var t;return t=e*(this.logMax-this.logMin)+this.logMin,(i.pow(this.base,t)-this.min)/(this.max-this.min)},n}(o.Warper)},o.Octave=t(2),o.Decibel=t(10),r=function(e){return e[0].startInput=e[0].startOutput=0,o.PieceWiseDetail=function(t){var n,s;function l(){var t,n,r;for(this.warps=[],this.infos=[],t=n=0,r=e.length;0<=r?n<r:n>r;t=0<=r?++n:--n)this.infos[t]=this.getInfo(t),this.warps.push(new o({min:this.infos[t].startInput,max:this.infos[t].nextInput}))}return a(l,t),l.prototype.getNextInfo=function(t){var n;return t===e.length-1?{nextInput:1,nextOutput:1}:{nextInput:(n=e[t+1]).startInput,nextOutput:n.startOutput}},l.prototype.getInfo=function(t){var n,r,i,a,s,l;return s=(i=e[t]).startInput,l=i.startOutput,o=i.warp,n=(a=this.getNextInfo(t)).nextInput,r=a.nextOutput,{startInput:s,startOutput:l,warp:o,nextInput:n,nextOutput:r}},s={action:"warp",startFrom:"startInput",startTo:"startOutput",nextFrom:"nextInput",nextTo:"nextOutput"},n={action:"unwarp",startFrom:"startOutput",startTo:"startInput",nextFrom:"nextOutput",nextTo:"nextInput"},l.prototype.transform=function(e){var t,r,i,o;return i=e.v,o=e.warp,t=e.info,o[(r=e.forward?s:n).action]((i-t[r.startFrom])/(t[r.nextFrom]-t[r.startFrom]))*(t[r.nextTo]-t[r.startTo])+t[r.startTo]},l.prototype.warp=function(t){var n,o,a;for(t=i.max(0,i.min(1,t)),n=o=0,a=e.length;0<=a?o<a:o>a;n=0<=a?++o:--o)if(t>=this.infos[n].startInput&&t<=this.infos[n].nextInput)return this.transform({v:t,warp:this.warps[n],info:this.infos[n],forward:!0});null!=r.everAsserted||(r.everAsserted=!0)},l.prototype.unwarp=function(t){var n,o,a;for(t=i.max(0,i.min(1,t)),n=o=0,a=e.length;0<=a?o<a:o>a;n=0<=a?++o:--o)if(t>=this.infos[n].startOutput&&t<=this.infos[n].nextOutput)return this.transform({v:t,warp:this.warps[n],info:this.infos[n],forward:!1});null!=r.everAsserted||(r.everAsserted=!0)},l}(o.Warper)},o.Meter=r([{warp:o.Identity},{warp:o.Decibel,startInput:n(-36)/4,startOutput:.2}]),o.FullScaleMeter=r([{warp:o.Identity},{warp:o.Decibel,startInput:n(-36),startOutput:.2}]),o.CompLevel=r([{warp:o.Identity},{warp:o.Decibel,startInput:n(-40),startOutput:.2}]),32.4,18,12*(18/32.4+1),o.MeterDisplayMaxScale=n(12*(18/32.4+1)),o.MeterDisplay=r([{warp:o.Identity},{warp:o.Decibel,startInput:n(-36)/o.MeterDisplayMaxScale,startOutput:.18}]),o.ActivityMeter=r([{warp:o.Identity},{warp:o.Decibel,startInput:n(-36),startOutput:.2}]),o.ActivityMeterColor=r([{warp:o.Identity},{warp:o.Identity,startInput:.1,startOutput:.3},{warp:o.Identity,startInput:.6,startOutput:.4}]),o.Threshold=r([{warp:o.Identity},{warp:o.Decibel,startInput:n(-50),startOutput:.1},{warp:o.Decibel,startInput:n(-10),startOutput:.85}]),o.OutputTrim=r([{warp:o.Identity},{warp:o.Identity,startInput:.7,startOutput:.25}]),o.ReverbTime=r([{warp:o.Identity},{warp:o.Decibel,startInput:.01,startOutput:.1}]),o}.apply(t,r))||(e.exports=i)},function(e,t,n){var r=n(10);n(53),n(169),n(168),n(14),r.random&&r.random.getBytes?e.exports=r.random:function(t){var n={},i=new Array(4),o=r.util.createBuffer();function a(){var e=r.prng.create(n);return e.getBytes=function(t,n){return e.generate(t,n)},e.getBytesSync=function(t){return e.generate(t)},e}n.formatKey=function(e){var t=r.util.createBuffer(e);return(e=new Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),r.aes._expandKey(e,!1)},n.formatSeed=function(e){var t=r.util.createBuffer(e);return(e=new Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),e},n.cipher=function(e,t){return r.aes._updateBlock(e,t,i,!1),o.putInt32(i[0]),o.putInt32(i[1]),o.putInt32(i[2]),o.putInt32(i[3]),o.getBytes()},n.increment=function(e){return++e[3],e},n.md=r.md.sha256;var s=a(),l=null;if("undefined"!=typeof window){var u=window.crypto||window.msCrypto;u&&u.getRandomValues&&(l=function(e){return u.getRandomValues(e)})}if(r.options.usePureJavaScript||!r.util.isNodejs&&!l){if("undefined"==typeof window||window.document,s.collectInt(+new Date,32),"undefined"!=typeof navigator){var c="";for(var h in navigator)try{"string"==typeof navigator[h]&&(c+=navigator[h])}catch(e){}s.collect(c),c=null}t&&(t().mousemove(function(e){s.collectInt(e.clientX,16),s.collectInt(e.clientY,16)}),t().keypress(function(e){s.collectInt(e.charCode,8)}))}if(r.random)for(var h in s)r.random[h]=s[h];else r.random=s;r.random.createInstance=a,e.exports=r.random}("undefined"!=typeof jQuery?jQuery:null)},function(e,t,n){"use strict";var r,i;r=[n(3),n(16),n(33),n(1)],void 0===(i=function(e,t,n,r){var i,o=[].slice,a=function(e,t){for(var n in t)s.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},s={}.hasOwnProperty;return function(e){var t;return(t=new window.Error(e)).name="CancellationError",t},(i=function(){function r(n){var r,i,o,a,s,l,u,c,h;for(u=n.node,this.oncancel=n.oncancel,c=n.prompt,i=null!=(o=n.extraCss)?o:"modal visiblyModal",this.modal=e.appendSpec(u,{className:i}),this.node=e.appendSpec(this.modal,{className:"spinner-container"}),c&&this.makePrompt(c),l=e.appendSpec(this.node,{className:"spinner"}),a=s=1;s<=9;a=++s)e.appendSpec(l,{className:"rect"+a});null!=this.oncancel&&(r=e.appendSpec(this.node,{className:"cancel utilityBtn",textContent:"Cancel"}),this.cancelListen=new t.FunctionButton({node:r,f:(h=this,function(){return h.oncancel()})}))}return r.prototype.remove=function(){var t;return null!=(t=this.cancelListen)&&t.remove(),e.remove(this.modal)},r.prototype.makePrompt=function(t){return this.prompt=e.specToNode({className:"prompt",textContent:t}),this.node.insertBefore(this.prompt,this.node.firstChild)},r.prototype.changePrompt=function(e){return null!=this.prompt?this.prompt.textContent=e:this.makePrompt(e)},r.RunPromise=function(e){var t,r,i,a,s,l,u,c,h,p,d;return u=e.promise,s=e.node,t=e.cancel,c=e.prompt,p=e.src,r=e.extraCss,h=new this({node:s,oncancel:t?function(){return u.cancel()}:null,prompt:c,src:p,extraCss:r}),d=function(){var e;return e=1<=arguments.length?o.call(arguments,0):[],h.remove(),n.resolve.apply(n,e)},i=function(){var e;return e=1<=arguments.length?o.call(arguments,0):[],h.remove(),n.reject.apply(n,e)},l=function(){var e;return e=1<=arguments.length?o.call(arguments,0):[],"function"==typeof h.changeProgress?h.changeProgress.apply(h,e):void 0},(a=u.then(d,i,l)).spinner=h,a},r}()).DelayedSpinner=function(t){function n(t){var n,i,o,a,s;this.parent=t.node,this.oncancel=t.oncancel,this.prompt=t.prompt,a=t.src,n=null!=(i=t.extraCss)?i:"modal",this.modal=e.appendSpec(this.parent,{className:n}),this.spinner=null,this.cancelled=!1,s=this,o=function(){return s.show()},(null!=a?a.get("performance/alwaysShowDelayedSpinners"):void 0)?r.defer(o):r.delay(o,500)}return a(n,i),n.prototype.show=function(){if(!this.cancelled)return this.spinner=new i({node:this.parent,oncancel:this.oncancel,prompt:this.prompt,noWrapper:!0}),e.remove(this.modal),this.modal=null},n.prototype.remove=function(){return null!=this.modal&&(e.remove(this.modal),this.modal=null),null!=this.spinner&&(this.spinner.remove(),this.spinner=null),this.cancelled=!0},n}(),i.ProgressBar=function(n){function r(n){var r,i,o,a,s,l;a=n.node,this.oncancel=n.oncancel,s=n.prompt,i=null!=(o=n.extraCss)?o:"modal visiblyModal",this.node=e.appendSpec(a,{className:i}),s&&this.makePrompt(s),this.bar=e.appendSpec(this.node,{className:"progressBarFrame"}),this.fillBar=e.appendSpec(this.bar,{className:"progressBar"}),this.fillBar.style.left="0px",this.fillBar.style.width="0%",this.unknownProgress=0,this.unknownProgressDelta=.05,this.unknownProgressWidth=.3,null!=this.oncancel&&(r=e.appendSpec(this.node,{className:"cancel utilityBtn",textContent:"Cancel"}),this.cancelListen=new t.FunctionButton({node:r,f:(l=this,function(){return l.oncancel()})}))}return a(r,i),r.prototype.doUnknownProgress=function(){return this.unknownProgress+=this.unknownProgressDelta,(this.unknownProgress<0||this.unknownProgress>1-this.unknownProgressWidth)&&(this.unknownProgressDelta=-this.unknownProgressDelta),this.fillBar.style.width=~~(100*this.unknownProgressWidth)+"%",this.fillBar.style.left=~~(100*this.unknownProgress)+"%"},r.prototype.changeProgress=function(e){if(!this.cancelled)return null==e?this.doUnknownProgress():(this.fillBar.style.left="0px",this.fillBar.style.width=~~(100*+e)+"%")},r.prototype.remove=function(){return e.remove(this.node),this.cancelled=!0},r}(),i}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=l(n(72)),o=n(115),a=l(n(6)),s=(l(n(114)),l(n(19)));n(23),l(n(24));function l(e){return e&&e.__esModule?e:{default:e}}var u=(0,s.default)({},o.EventEmitter.prototype,{_initialized:!1,_events:[],_levels:null,get:function(e){for(var t=Object.keys(this._levels).filter(function(t){return 0==t.indexOf(e)},this),n=[],r=0;r<t.length;r++)n.push(this._levels[t[r]]);return 1==n.length&&"mix/level/"!==e?n[0]:n},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e),this._events.push(e),this._initialized&&e()},removeChangeListener:function(e){this.removeListener("change",e)},unload:function(){for(var e in this._events)"function"==typeof e&&this.removeListener("change",e);this._events=[]}});u.setMaxListeners(0),u.dispatchToken=i.default.register(function(e){var t=e.type===r.ActionTypes.RECEIVE_RAW_METERS;i.default.waitFor([a.default.dispatchToken]),t&&(u._initialized=!0,u._levels=e.changes,u.emitChange())}),t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=h(n(72)),o=h(n(6)),a=n(115),s=h(n(17)),l=h(n(19)),u=n(20),c=n(23);function h(e){return e&&e.__esModule?e:{default:e}}var p=new Map;var d=(0,l.default)({},a.EventEmitter.prototype,{_initialized:!1,getMeterIndex:function(e,t,n){if("input"!==e){var r=e+":"+t,i=p.get(r),a=n;return!o.default.has("mix/"+t+"/0/config/format")&&"level"!==e&&(a/=2),i+a}},getIBankMeterIndex:function(e,t,n){var r=new s.default(t+"/"+n),i=(0,u.getStripSourceBnCn)(r),o=(0,u.getStripBnCn)(r),a=null!==i?i:o;return(0,c.getRouterUtilities)().getIBankChMeterIndex({bn:a.bn,cn:a.cn})},getOBankMeterIndex:function(e,t){return(0,c.getRouterUtilities)().getOBankChMeterIndex({bn:e,cn:t})},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e),this._initialized&&e()},removeChangeListener:function(e){this.removeListener("change",e)},_buildMeterIndexMap:function(){var e=o.default.get("mix/meterStripOrder").split(":"),t=["comp","leveler","gate","level"],n={};t.forEach(function(e){n[e]=0}),e.forEach(function(e){var r=new Set(o.default.get("mix/ctrls/"+e).split(":"));t.forEach(function(t){if(r.has(t)||"level"===t){var i=(s=e,l=(0,u.parse)(o.default.getBankForMixerStripType(s)),+o.default.get(l.root+"/"+l.type+"/"+l.index+"/calcCh"));!o.default.has("mix/"+e+"/0/config/format")&&"level"!==t&&(i/=2);var a=t+":"+e;p.set(a,n[t]),n[t]+=i}var s,l})})}});d.setMaxListeners(0),d.dispatchToken=i.default.register(function(e){var t=e.type,n=t===r.ActionTypes.RECEIVE_RAW_CHANGESET||t===r.ActionTypes.CLIENT_INTERACTION;i.default.waitFor([o.default.dispatchToken]),n&&(p.clear(),d._buildMeterIndexMap(),d._initialized=!0,d.emitChange())}),t.default=d},function(e,t,n){"use strict";var r,i;r=[n(2),n(34),n(22),n(3)],void 0===(i=function(e,t,n,r){var i,o,a,s=function(e,t){return function(){return e.apply(t,arguments)}};return a={sizeProp:"height",SizeProp:"Height",scrollCmd:"scrollY",setScrollCmd:"setScrollY",scrollBarClass:"yScroll",scrollClass:"scrollV",wheelDelta:"deltaY",mousePos:"clientY",posProp:"y",header:"yHeaderWrapper",dirProp:"top",DirProp:"Top",maxDirProp:"bottom"},o={sizeProp:"width",SizeProp:"Width",scrollCmd:"scrollX",setScrollCmd:"setScrollX",scrollClass:"scrollH",scrollBarClass:"xScroll",wheelDelta:"deltaX",mousePos:"clientX",posProp:"x",header:"xHeaderWrapper",dirProp:"left",DirProp:"Left",maxDirProp:"right"},20,2,16,"#242424",{rx:8,ry:8,fill:"#242424",stroke:"none"},16,{rx:7,ry:7,stroke:"none"},10,i=function(){function i(r){var i,l,u,c;this.updateSize=s(this.updateSize,this),this.pane=r.pane,this.dir=null!=(u=r.dir)?u:"v",null!=r.id&&null!=r.dev&&(this.dev=r.dev,this.prefPath="preferences/scrollpos/"+r.id,this.autoScroll=r.dev.get(this.prefPath),this.autoScroll||(this.autoScroll=null)),l=e.debounce(this.updateSize,100),i={childList:!0,attributes:!0,characterData:!1,subtree:!0,attributeFilter:["class","style"]},new MutationObserver(l).observe(this.pane.content,i),window.addEventListener("resize",l),"v"===this.dir?(this.opts=a,this.opOpts=o):(this.opts=o,this.opOpts=a),this.insideTooltip=t.nodeIsContainedByToolTip(this.pane.container),this.paneListen=new n.Listener({proxy:{dragdown:(c=this,function(e,t){return c.panedragmove(e,t)}),dragmove:function(e){return function(t,n){return e.panedragmove(t,n)}}(this),dragup:function(e){return function(t){return e.panedragup(t)}}(this),dragcancel:function(e){return function(t){return e.panedragup(t)}}(this),wheel:function(e){return function(t){return e.mousewheel(t)}}(this)},node:this.pane.container,options:{fakeMousemoveOnScroll:!1,register:!1,capture:!1}}),this.scrollListen=new n.Listener({proxy:{scroll:function(e){return function(){return e.panescroll()}}(this)},node:this.pane.contentWrapper,options:{fakeMousemoveOnScroll:!1}}),this.headerListen=new n.Listener({proxy:{scroll:function(e){return function(){return e.headerscroll()}}(this),dragdown:function(){}},node:this.pane[this.opts.header],options:{fakeMousemoveOnScroll:!1,register:!1}})}return i.prototype.dragScrollInterval=100,i.prototype.dragScrollThreshold=20,i.prototype.dragScrollScale=function(e){return e/4},i.prototype.getScrollForFocus=function(e,t){var n,r,i;return i=t?this.dragScrollThreshold:0,n=Math.max(0,this.containerBegin+i-e[this.opts.mousePos]),r=Math.max(0,e[this.opts.mousePos]-(this.containerBegin+this.containerSize-i)),n>0?-n:r},i.prototype.getDragScroll=function(e){var t,r;return null==(t=null!=(r=n.drags.dragForEvent(e.mousedown))?r.focusClientPos:void 0)||null==t[this.opts.mousePos]?0:this.dragScrollScale(this.getScrollForFocus(t,!0))},i.prototype.scrollToClientPos=function(e){return this.doScroll(this.getScrollForFocus(e,!1))},i.prototype.scrollToClientRect=function(e){var t;return t={},e[this.opts.dirProp]<this.containerBegin?(t[this.opts.mousePos]=e[this.opts.dirProp],this.doScroll(this.getScrollForFocus(t,!1))):e[this.opts.maxDirProp]>this.containerBegin+this.containerSize?(t[this.opts.mousePos]=e[this.opts.maxDirProp],this.doScroll(this.getScrollForFocus(t,!1))):void 0},i.prototype.dragScroll=function(e){return this.doScroll(this.getDragScroll(e))},i.prototype.startDragScroll=function(e){if(null==this.dragScrollIntervalHandle)return this.dragScrollIntervalHandle=window.setInterval((t=this,function(){return t.dragScroll(e)}),this.dragScrollInterval);var t},i.prototype.endDragScroll=function(){if(null!=this.dragScrollIntervalHandle)return window.clearInterval(this.dragScrollIntervalHandle),delete this.dragScrollIntervalHandle},i.prototype.panedragmove=function(e,t){return 0!==this.getDragScroll(t)?this.startDragScroll(t):this.endDragScroll()},i.prototype.panedragup=function(){return this.endDragScroll()},i.prototype.mousewheel=function(e){var t;if(t=e[this.opts.wheelDelta],2!==e.deltaMode)return 1===e.deltaMode&&(t*=12),this.doScroll(t);this.doPage(t)},i.prototype.headerscroll=function(){if(!this.forcedHeader)return this.forcedPane=!0,r[this.opts.setScrollCmd](this.pane.contentWrapper,r[this.opts.scrollCmd](this.pane[this.opts.header]));this.forcedHeader=!1},i.prototype.panescroll=function(){if(this.insideTooltip||t.killAllZombies("scroll"),n.drags.fakeMousemoveForScroll(),this.autoScroll=null,null!=this.dev&&this.dev.set(this.prefPath,r[this.opts.scrollCmd](this.pane.contentWrapper)),!this.forcedPane)return this.forcedHeader=!0,r[this.opts.setScrollCmd](this.pane[this.opts.header],r[this.opts.scrollCmd](this.pane.contentWrapper));this.forcedPane=!1},i.prototype.doPage=function(e){return this.doScroll(e*this.containerSize)},i.prototype.doScroll=function(e){var t;return t=r[this.opts.scrollCmd](this.pane.contentWrapper),t=Math.max(Math.min(t+e,this.contentSize-this.containerSize),0),this.scrolling=!0,r[this.opts.setScrollCmd](this.pane.contentWrapper,t),this.scrolling=null},i.prototype.updateSize=function(){var e,t;return e=r.getBoundingClientRect(this.pane.contentWrapper),this.containerBegin=e[this.opts.dirProp],this.containerSize=this.pane.contentWrapper["client"+this.opts.SizeProp],this.contentSize=this.pane.contentWrapper["scroll"+this.opts.SizeProp],t=this.pane.contentWrapper["offset"+this.opts.SizeProp]-this.containerSize,this.pane[this.opts.header].style[this.opts.maxDirProp]=t+"px",null!=this.autoScroll&&r[this.opts.setScrollCmd](this.pane.contentWrapper,this.autoScroll),this.doScroll(0)},i.prototype.remove=function(){return this.paneListen.remove()},i}(),function(){function e(e){var t,n,o,a,s,l,u;a=e.node,s=e.scrollX,l=e.scrollY,u=e.spec,n=e.extraCss,o=e.id,t=e.dev,null==l&&(l=!0),null==u&&(u={className:"scrollContent"}),this.container=r.appendSpec(a,{className:"scrollContainer "+(null!=n?n:"")}),this.xHeaderWrapper=r.appendSpec(this.container,{className:"scrollH xHeader scrollContext"}),this.xHeader=r.appendSpec(this.xHeaderWrapper,{}),this.yHeaderWrapper=r.appendSpec(this.container,{className:"scrollV yHeader scrollContext"}),this.yHeader=r.appendSpec(this.yHeaderWrapper,{}),this.xyHeader=r.appendSpec(this.container,{className:"xyHeader"}),this.contentWrapper=r.appendSpec(this.container,{className:"scrollWrapper scrollContext"}),this.content=r.appendSpec(this.contentWrapper,u),s&&(this.scrollX=new i({pane:this,dir:"h",dev:t,id:null!=o?o+"x":null}),r.addClass(this.contentWrapper,"scrollWrapperX")),l&&(this.scrollY=new i({pane:this,dir:"v",dev:t,id:null!=o?o+"y":null}),r.addClass(this.contentWrapper,"scrollWrapperY")),this.hideYHeader(),this.hideXHeader()}return e.prototype.hideShowInternal=function(e,t){var n,i,s,l;return l=t?a:o,s=t?o:a,i=e?"":"none",n=e?"":"0",this[l.header].style.display=i,this[s.header].style[s.dirProp]=n,this.contentWrapper.style[s.dirProp]=n,r.restoreScroll(this[l.header]),r.isVisible(this.xHeaderWrapper)&&r.isVisible(this.yHeaderWrapper)?r.show(this.xyHeader):r.hide(this.xyHeader)},e.prototype.hideYHeader=function(){return this.hideShowInternal(!1,!0)},e.prototype.showYHeader=function(){return this.hideShowInternal(!0,!0)},e.prototype.hideXHeader=function(){return this.hideShowInternal(!1,!1)},e.prototype.showXHeader=function(){return this.hideShowInternal(!0,!1)},e.prototype.scrollToClientPos=function(e){var t,n;return null!=(t=this.scrollX)&&t.scrollToClientPos(e),null!=(n=this.scrollY)?n.scrollToClientPos(e):void 0},e.prototype.scrollToClientRect=function(e){var t,n;return null!=(t=this.scrollX)&&t.scrollToClientRect(e),null!=(n=this.scrollY)?n.scrollToClientRect(e):void 0},e.prototype.content=null,e.prototype.remove=function(){var e,t;return null!=this.container&&r.remove(this.container),null!=(e=this.scrollY)&&e.remove(),null!=(t=this.scrollX)?t.remove():void 0},e.prototype.setHeight=function(e){var t;return r.setHeight(this.container,e),null!=(t=this.scrollY)?t.updateSize():void 0},e.prototype.height=function(){return r.height(this.contentWrapper)},e}()}.apply(t,r))||(e.exports=i)},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(10);e.exports=r.md=r.md||{},r.md.algorithms=r.md.algorithms||{}},function(e,t,n){var r=n(10);n(14),n(52);var i=e.exports=r.asn1=r.asn1||{};function o(e,t,n){if(n>t){var r=new Error("Too few bytes to parse DER.");throw r.available=e.length(),r.remaining=t,r.requested=n,r}}i.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},i.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},i.create=function(e,t,n,o,a){if(r.util.isArray(o)){for(var s=[],l=0;l<o.length;++l)void 0!==o[l]&&s.push(o[l]);o=s}var u={tagClass:e,type:t,constructed:n,composed:n||r.util.isArray(o),value:o};return a&&"bitStringContents"in a&&(u.bitStringContents=a.bitStringContents,u.original=i.copy(u)),u},i.copy=function(e,t){var n;if(r.util.isArray(e)){n=[];for(var o=0;o<e.length;++o)n.push(i.copy(e[o],t));return n}return"string"==typeof e?e:(n={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:i.copy(e.value,t)},t&&!t.excludeBitStringContents&&(n.bitStringContents=e.bitStringContents),n)},i.equals=function(e,t,n){if(r.util.isArray(e)){if(!r.util.isArray(t))return!1;if(e.length!==t.length)return!1;for(var o=0;o<e.length;++o)if(!i.equals(e[o],t[o]))return!1;return!0}if(typeof e!=typeof t)return!1;if("string"==typeof e)return e===t;var a=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&i.equals(e.value,t.value);return n&&n.includeBitStringContents&&(a=a&&e.bitStringContents===t.bitStringContents),a},i.getBerValueLength=function(e){var t=e.getByte();if(128!==t)return 128&t?e.getInt((127&t)<<3):t};var a=function(e,t){var n=e.getByte();if(t--,128!==n){var r;if(128&n){var i=127&n;o(e,t,i),r=e.getInt(i<<3)}else r=n;if(r<0)throw new Error("Negative length: "+r);return r}};i.fromDer=function(e,t){return void 0===t&&(t={strict:!0,decodeBitStrings:!0}),"boolean"==typeof t&&(t={strict:t,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),"string"==typeof e&&(e=r.util.createBuffer(e)),function e(t,n,r,s){var l;o(t,n,2);var u=t.getByte();n--;var c=192&u;var h=31&u;l=t.length();var p=a(t,n);n-=l-t.length();if(void 0!==p&&p>n){if(s.strict){var d=new Error("Too few bytes to read ASN.1 value.");throw d.available=t.length(),d.remaining=n,d.requested=p,d}p=n}var f;var v;var m=32==(32&u);if(m)if(f=[],void 0===p)for(;;){if(o(t,n,2),t.bytes(2)===String.fromCharCode(0,0)){t.getBytes(2),n-=2;break}l=t.length(),f.push(e(t,n,r+1,s)),n-=l-t.length()}else for(;p>0;)l=t.length(),f.push(e(t,p,r+1,s)),n-=l-t.length(),p-=l-t.length();void 0===f&&c===i.Class.UNIVERSAL&&h===i.Type.BITSTRING&&(v=t.bytes(p));if(void 0===f&&s.decodeBitStrings&&c===i.Class.UNIVERSAL&&h===i.Type.BITSTRING&&p>1){var g=t.read,b=n,y=0;if(h===i.Type.BITSTRING&&(o(t,n,1),y=t.getByte(),n--),0===y)try{l=t.length();var C={verbose:s.verbose,strict:!0,decodeBitStrings:!0},x=e(t,n,r+1,C),_=l-t.length();n-=_,h==i.Type.BITSTRING&&_++;var w=x.tagClass;_!==p||w!==i.Class.UNIVERSAL&&w!==i.Class.CONTEXT_SPECIFIC||(f=[x])}catch(e){}void 0===f&&(t.read=g,n=b)}if(void 0===f){if(void 0===p){if(s.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");p=n}if(h===i.Type.BMPSTRING)for(f="";p>0;p-=2)o(t,n,2),f+=String.fromCharCode(t.getInt16()),n-=2;else f=t.getBytes(p)}var S=void 0===v?null:{bitStringContents:v};return i.create(c,h,m,f,S)}(e,e.length(),0,t)},i.toDer=function(e){var t=r.util.createBuffer(),n=e.tagClass|e.type,o=r.util.createBuffer(),a=!1;if("bitStringContents"in e&&(a=!0,e.original&&(a=i.equals(e,e.original))),a)o.putBytes(e.bitStringContents);else if(e.composed){e.constructed?n|=32:o.putByte(0);for(var s=0;s<e.value.length;++s)void 0!==e.value[s]&&o.putBuffer(i.toDer(e.value[s]))}else if(e.type===i.Type.BMPSTRING)for(s=0;s<e.value.length;++s)o.putInt16(e.value.charCodeAt(s));else e.type===i.Type.INTEGER&&e.value.length>1&&(0===e.value.charCodeAt(0)&&0==(128&e.value.charCodeAt(1))||255===e.value.charCodeAt(0)&&128==(128&e.value.charCodeAt(1)))?o.putBytes(e.value.substr(1)):o.putBytes(e.value);if(t.putByte(n),o.length()<=127)t.putByte(127&o.length());else{var l=o.length(),u="";do{u+=String.fromCharCode(255&l),l>>>=8}while(l>0);t.putByte(128|u.length);for(s=u.length-1;s>=0;--s)t.putByte(u.charCodeAt(s))}return t.putBuffer(o),t},i.oidToDer=function(e){var t,n,i,o,a=e.split("."),s=r.util.createBuffer();s.putByte(40*parseInt(a[0],10)+parseInt(a[1],10));for(var l=2;l<a.length;++l){t=!0,n=[],i=parseInt(a[l],10);do{o=127&i,i>>>=7,t||(o|=128),n.push(o),t=!1}while(i>0);for(var u=n.length-1;u>=0;--u)s.putByte(n[u])}return s},i.derToOid=function(e){var t;"string"==typeof e&&(e=r.util.createBuffer(e));var n=e.getByte();t=Math.floor(n/40)+"."+n%40;for(var i=0;e.length()>0;)i<<=7,128&(n=e.getByte())?i+=127&n:(t+="."+(i+n),i=0);return t},i.utcTimeToDate=function(e){var t=new Date,n=parseInt(e.substr(0,2),10);n=n>=50?1900+n:2e3+n;var r=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),o=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),s=0;if(e.length>11){var l=e.charAt(10),u=10;"+"!==l&&"-"!==l&&(s=parseInt(e.substr(10,2),10),u+=2)}if(t.setUTCFullYear(n,r,i),t.setUTCHours(o,a,s,0),u&&("+"===(l=e.charAt(u))||"-"===l)){var c=60*parseInt(e.substr(u+1,2),10)+parseInt(e.substr(u+4,2),10);c*=6e4,"+"===l?t.setTime(+t-c):t.setTime(+t+c)}return t},i.generalizedTimeToDate=function(e){var t=new Date,n=parseInt(e.substr(0,4),10),r=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),o=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),s=parseInt(e.substr(12,2),10),l=0,u=0,c=!1;"Z"===e.charAt(e.length-1)&&(c=!0);var h=e.length-5,p=e.charAt(h);"+"!==p&&"-"!==p||(u=60*parseInt(e.substr(h+1,2),10)+parseInt(e.substr(h+4,2),10),u*=6e4,"+"===p&&(u*=-1),c=!0);return"."===e.charAt(14)&&(l=1e3*parseFloat(e.substr(14),10)),c?(t.setUTCFullYear(n,r,i),t.setUTCHours(o,a,s,l),t.setTime(+t+u)):(t.setFullYear(n,r,i),t.setHours(o,a,s,l)),t},i.dateToUtcTime=function(e){if("string"==typeof e)return e;var t="",n=[];n.push((""+e.getUTCFullYear()).substr(2)),n.push(""+(e.getUTCMonth()+1)),n.push(""+e.getUTCDate()),n.push(""+e.getUTCHours()),n.push(""+e.getUTCMinutes()),n.push(""+e.getUTCSeconds());for(var r=0;r<n.length;++r)n[r].length<2&&(t+="0"),t+=n[r];return t+="Z"},i.dateToGeneralizedTime=function(e){if("string"==typeof e)return e;var t="",n=[];n.push(""+e.getUTCFullYear()),n.push(""+(e.getUTCMonth()+1)),n.push(""+e.getUTCDate()),n.push(""+e.getUTCHours()),n.push(""+e.getUTCMinutes()),n.push(""+e.getUTCSeconds());for(var r=0;r<n.length;++r)n[r].length<2&&(t+="0"),t+=n[r];return t+="Z"},i.integerToDer=function(e){var t=r.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var n=new Error("Integer too large; max is 32-bits.");throw n.integer=e,n},i.derToInteger=function(e){"string"==typeof e&&(e=r.util.createBuffer(e));var t=8*e.length();if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)},i.validate=function(e,t,n,o){var a=!1;if(e.tagClass!==t.tagClass&&void 0!==t.tagClass||e.type!==t.type&&void 0!==t.type)o&&(e.tagClass!==t.tagClass&&o.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&o.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));else if(e.constructed===t.constructed||void 0===t.constructed){if(a=!0,t.value&&r.util.isArray(t.value))for(var s=0,l=0;a&&l<t.value.length;++l)a=t.value[l].optional||!1,e.value[s]&&((a=i.validate(e.value[s],t.value[l],n,o))?++s:t.value[l].optional&&(a=!0)),!a&&o&&o.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(a&&n)if(t.capture&&(n[t.capture]=e.value),t.captureAsn1&&(n[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(n[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)if(e.bitStringContents.length<2)n[t.captureBitStringValue]="";else{if(0!==e.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");n[t.captureBitStringValue]=e.bitStringContents.slice(1)}}else o&&o.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');return a};var s=/[^\\u0000-\\u00ff]/;i.prettyPrint=function(e,t,n){var o="";t=t||0,n=n||2,t>0&&(o+="\n");for(var a="",l=0;l<t*n;++l)a+=" ";switch(o+=a+"Tag: ",e.tagClass){case i.Class.UNIVERSAL:o+="Universal:";break;case i.Class.APPLICATION:o+="Application:";break;case i.Class.CONTEXT_SPECIFIC:o+="Context-Specific:";break;case i.Class.PRIVATE:o+="Private:"}if(e.tagClass===i.Class.UNIVERSAL)switch(o+=e.type,e.type){case i.Type.NONE:o+=" (None)";break;case i.Type.BOOLEAN:o+=" (Boolean)";break;case i.Type.INTEGER:o+=" (Integer)";break;case i.Type.BITSTRING:o+=" (Bit string)";break;case i.Type.OCTETSTRING:o+=" (Octet string)";break;case i.Type.NULL:o+=" (Null)";break;case i.Type.OID:o+=" (Object Identifier)";break;case i.Type.ODESC:o+=" (Object Descriptor)";break;case i.Type.EXTERNAL:o+=" (External or Instance of)";break;case i.Type.REAL:o+=" (Real)";break;case i.Type.ENUMERATED:o+=" (Enumerated)";break;case i.Type.EMBEDDED:o+=" (Embedded PDV)";break;case i.Type.UTF8:o+=" (UTF8)";break;case i.Type.ROID:o+=" (Relative Object Identifier)";break;case i.Type.SEQUENCE:o+=" (Sequence)";break;case i.Type.SET:o+=" (Set)";break;case i.Type.PRINTABLESTRING:o+=" (Printable String)";break;case i.Type.IA5String:o+=" (IA5String (ASCII))";break;case i.Type.UTCTIME:o+=" (UTC time)";break;case i.Type.GENERALIZEDTIME:o+=" (Generalized time)";break;case i.Type.BMPSTRING:o+=" (BMP String)"}else o+=e.type;if(o+="\n",o+=a+"Constructed: "+e.constructed+"\n",e.composed){var u=0,c="";for(l=0;l<e.value.length;++l)void 0!==e.value[l]&&(u+=1,c+=i.prettyPrint(e.value[l],t+1,n),l+1<e.value.length&&(c+=","));o+=a+"Sub values: "+u+c}else{if(o+=a+"Value: ",e.type===i.Type.OID){var h=i.derToOid(e.value);o+=h,r.pki&&r.pki.oids&&h in r.pki.oids&&(o+=" ("+r.pki.oids[h]+") ")}if(e.type===i.Type.INTEGER)try{o+=i.derToInteger(e.value)}catch(t){o+="0x"+r.util.bytesToHex(e.value)}else if(e.type===i.Type.BITSTRING){if(e.value.length>1?o+="0x"+r.util.bytesToHex(e.value.slice(1)):o+="(none)",e.value.length>0){var p=e.value.charCodeAt(0);1==p?o+=" (1 unused bit shown)":p>1&&(o+=" ("+p+" unused bits shown)")}}else e.type===i.Type.OCTETSTRING?(s.test(e.value)||(o+="("+e.value+") "),o+="0x"+r.util.bytesToHex(e.value)):e.type===i.Type.UTF8?o+=r.util.decodeUtf8(e.value):e.type===i.Type.PRINTABLESTRING||e.type===i.Type.IA5String?o+=e.value:s.test(e.value)?o+="0x"+r.util.bytesToHex(e.value):0===e.value.length?o+="[null]":o+=e.value}return o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderThumb=t.SliderTrack=t.Slider=t.SliderDirection=void 0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=_(n(0)),s=_(n(13)),l=_(n(19)),u=_(n(11)),c=(_(n(15)),_(n(276))),h=_(n(24)),p=(x(n(35)),n(9)),d=(x(n(39)),n(4)),f=n(12),v=_(n(81)),m=_(n(82)),g=n(23),b=(_(n(29)),_(n(99))),y=_(n(28)),C=_(n(138));function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}function w(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=t.SliderDirection={VERTICAL:0,HORIZONTAL:1};(t.Slider=(0,f.observer)(r=function(e){function t(e){S(this,t);var n=k(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.track_id=Math.random().toString(36).substring(7),n.thumb_id=Math.random().toString(36).substring(7),n.touchNum=0,n._toolTipKeepAlive=n._toolTipKeepAlive.bind(n),n._toolTipFadeOut=n._toolTipFadeOut.bind(n),n._toolTipForceRemove=n._toolTipForceRemove.bind(n),n._toolTipUnmount=n._toolTipUnmount.bind(n),n.dragdown=n.dragdown.bind(n),n.dragmove=(0,h.default)(n.dragmove,n,1e3/60),n.dragup=n.dragup.bind(n),n.dragcancel=n.dragcancel.bind(n),n.dblclick=n.dblclick.bind(n),n._sliderPositionToValue=n._sliderPositionToValue.bind(n),n._valueToSliderPosition=n._valueToSliderPosition.bind(n),n._updateTouchNum=n._updateTouchNum.bind(n),n.resize=n.resize.bind(n),n.perf=(0,g.getInjectedDevice)().perf,n._vertical=n.props.direction===E.VERTICAL,n.width=n.props.width,n.height=n.props.height,void 0===n.width&&n._vertical?n.width=24:void 0!==n.height||n._vertical||(n.height=24),n.observableState=(0,d.observable)({containerEdge:0,maxOffset:0,scaleFactor:1,disabled:e.disabled}),n.clickState={dragging:!1,clickOffset:0},n}return T(t,a.default.Component),o(t,[{key:"componentDidMount",value:function(){this.resize(),this.resizeDisposer=(0,d.observe)(this.props.observableState,"resizing",this.resize);var e=s.default.findDOMNode(this.refs.container);this.elementResizeEvent=(0,v.default)(e,this.resize),this.updateCount=0,this.trackDragListener=new b.default.Listener({node:s.default.findDOMNode(this.refs.track),proxy:this,events:["dragdown","dragmove","dragup","dragcancel","dblclick"]}),this.thumbDragListener=new b.default.Listener({node:s.default.findDOMNode(this.refs.thumb),proxy:this,events:["dragdown","dragmove","dragup","dragcancel","dblclick"]})}},{key:"componentWillUpdate",value:function(e,t){this.observableState.disabled=e.disabled}},{key:"componentDidUpdate",value:function(e,t){this.updateCount<=1&&(navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&this.resize(),this.updateCount++);setTimeout(this.resize,500)}},{key:"componentWillUnmount",value:function(){this.resizeDisposer()}},{key:"resize",value:function(){var e=s.default.findDOMNode(this.refs.container),t=s.default.findDOMNode(this.refs.thumb);if(e&&t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=(n.width,n.height,this._vertical?n.top:n.left),o=this._vertical?n.height-r.height:n.width-r.width,a=1;void 0!==this.props.className&&-1!==this.props.className.indexOf("Fader")&&(a=this._vertical?n.height/242:1,a=Math.min(Math.max(a,0),1)),Object.assign(this.observableState,{containerEdge:i,maxOffset:o,scaleFactor:a})}}},{key:"render",value:function(){var e=this.props.stateKey,t=this.props.valuePath,n=this.props.observableValues[e],r=this._valueToSliderPosition(n),i=Math.abs(1-r)/1*100,o=this.props.onDoubleClick,s=this.props.width,l=this.props.height;void 0===l&&this._vertical?l="100%":void 0!==s||this._vertical||(s="100%");var h={width:s,height:l},d=this.observableState.disabled?c.default.Slider+" "+c.default.Disabled:c.default.Slider,f=null,v=null;this.props.children.length>1?a.default.Children.map(this.props.children,function(e,t){e.type==y.default&&(f=e),e.type==P&&(v=e)},this):v=a.default.Children.only(this.props.children);var m=a.default.Children.only(v.props.children),g={};if(void 0!==this.props.className&&-1!==this.props.className.indexOf("Fader")){var b=18*this.observableState.scaleFactor,C=22*this.observableState.scaleFactor,x=-11*this.observableState.scaleFactor;g.paddingTop=b,g.paddingBottom=b,g.width=C,g.left=x}else{var _=-(12-v.props.trackWidth/2);g[this._vertical?"left":"top"]=_}var w=this._vertical?"translate(0px, "+(1-r)*this.observableState.maxOffset+"px)":"translate("+r*this.observableState.maxOffset+"px, 0px)";g.transform=w;var S=this._vertical?c.default.SliderThumbVertical:c.default.SliderThumbHorizontal,k=m.props.className?m.props.className+" "+S:S;this.props.observableState.focusChannelResizing||(k=k+" "+c.default.Easing);var T={ref:"track",id:this.track_id,vertical:this._vertical,percent:i,color1:this.props.color1?this.props.color1:p.Colors.faderTrack,color2:this.props.color2?this.props.color2:p.Colors.faderTrack,anchorType:this.props.anchorType?this.props.anchorType:p.SliderTrackAnchorTypes.LEFT_TO_RIGHT,trackWidth:v.props.trackWidth},E={ref:"thumb",id:this.thumb_id,style:g,className:k,onDoubleClick:void 0!==this.props.onDoubleClick?function(){o(e,t)}:null},I=null;if(f){var B={className:f.props.className,type:f.props.type,width:f.props.width,height:f.props.height,thumbOffset:40*this.observableState.scaleFactor/2};I=a.default.cloneElement(f,B)}var N=a.default.cloneElement(m,E),M=a.default.cloneElement(v,T,N);return a.default.createElement("div",{ref:"container",style:h,className:(0,u.default)(d,this.props.className)},I,M)}},{key:"_toolTipKeepAlive",value:function(e){13===e.keyCode||9===e.keyCode?(this.tooltip.remove(0),this.toolTipFocused=!1):(this.tooltip.keepAlive(),this.toolTipFocused=!0)}},{key:"_toolTipFadeOut",value:function(e){this.tooltip.remove(0),this.toolTipFocused=!1}},{key:"_toolTipForceRemove",value:function(){this.tooltip.div.remove()}},{key:"_toolTipUnmount",value:function(){if(void 0!==this.tooltip){for(var e=this.tooltip.div.getElementsByTagName("input"),t=0;t<e.length;t++){var n=e[t];n.removeEventListener("focus",this._toolTipKeepAlive,!1),n.removeEventListener("keypress",this._toolTipKeepAlive,!1),n.removeEventListener("focusout",this._toolTipFadeOut,!1),n.removeEventListener("blur",this._toolTipFadeOut,!1)}s.default.unmountComponentAtNode(this.tooltip.div)}}},{key:"dragdown",value:function(e,t,n){if(!this.observableState.disabled){this.perfMode?this.perf.addMode(this.perfMode):this.perfMode=this.perf.addMode(new C.default.UserInteractionDrag),this.props.observableState.userInteracting=!0,n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation(),this._updateTouchNum(e);var r=this.props.observableValues[this.props.stateKey],i=this._valueToSliderPosition(r),o=this._vertical?(1-i)*this.observableState.maxOffset:i*this.observableState.maxOffset,a="number"==typeof e.clientY?e.clientY:e.touches[this.touchNum].clientY,l="number"==typeof e.clientX?e.clientX:e.touches[this.touchNum].clientX,u=this.observableState.containerEdge+o,h=this._vertical?a-u:l-u;if(this.clickState={dragging:!0,clickOffset:h},void 0!==n.touches&&n.touches.length>0&&void 0!==this.props.onDoubleClick){var p=(new Date).getTime();if(void 0!==this.lastTouchTime){var d=p-this.lastTouchTime;d<500&&d>0&&(this.doubleClicked=!0,this.props.onDoubleClick(this.props.stateKey,this.props.valuePath))}this.lastTouchTime=p}var f=document.getElementById(this.thumb_id),v=new RegExp("(\\s|^)"+c.default.Easing+"(\\s|$)");if(f.className=f.className.replace(v,""),this.props.showToolTip){void 0!==this.tooltip&&this._toolTipForceRemove();var b=this._toolTipUnmount;this.tooltip=new m.default({dev:(0,g.getInjectedDevice)(),node:s.default.findDOMNode(this.refs.container),options:{onremove:b}}),this.tooltip.keepAlive(),this.tooltip.remove("forever"),s.default.render(this.props.toolTipContents,this.tooltip.div);for(var y=this.tooltip.div.getElementsByTagName("input"),x=0;x<y.length;x++){var _=y[x];_.addEventListener("focus",this._toolTipKeepAlive,!1),_.addEventListener("keypress",this._toolTipKeepAlive,!1),_.addEventListener("focusout",this._toolTipFadeOut,!1),_.addEventListener("blur",this._toolTipFadeOut,!1)}}}}},{key:"dragmove",value:function(e,t,n){if(this.clickState.dragging&&!this.observableState.disabled){var r=this.observableState.containerEdge,i=this.clickState.clickOffset,o="number"==typeof e.clientY?e.clientY:e.touches[this.touchNum].clientY,a="number"==typeof e.clientX?e.clientX:e.touches[this.touchNum].clientX,s=(this._vertical?o:a)-i-r,l=Math.min(Math.max(s,0),this.observableState.maxOffset),u=this._vertical?1-l/this.observableState.maxOffset:l/this.observableState.maxOffset,c=this._sliderPositionToValue(u);void 0===this.props.valuePath?this.props.onChange.call(null,c):this.props.onChange.call(null,c,this.props.valuePath)}}},{key:"dragup",value:function(e,t){if(this.perfMode&&this.perf.removeMode(this.perfMode),!this.doubleClicked&&!this.observableState.disabled){this.props.observableState.userInteracting=!1,this.doubleClicked=!1;var n=this.observableState.containerEdge,r=this.clickState.clickOffset,i="number"==typeof e.clientY?e.clientY:e.touches[this.touchNum].clientY,o="number"==typeof e.clientX?e.clientX:e.touches[this.touchNum].clientX,a=(this._vertical?i:o)-r-n,s=Math.min(Math.max(a,0),this.observableState.maxOffset),u=this._vertical?1-s/this.observableState.maxOffset:s/this.observableState.maxOffset,h=this._sliderPositionToValue(u);void 0===this.props.valuePath?this.props.onChange.call(null,h):this.props.onChange.call(null,h,this.props.valuePath)}this.touching=!1,this.touchNum=0,this.clickState=(0,l.default)({},this.clickState,{dragging:!1});var p=document.getElementById(this.thumb_id);p&&-1==p.className.indexOf(c.default.Easing)&&(p.className+=" "+c.default.Easing),this.props.showToolTip&&!this.toolTipFocused&&this.tooltip&&this.tooltip.remove(2e3)}},{key:"dragcancel",value:function(e,t){this.perfMode&&this.perf.removeMode(this.perfMode)}},{key:"dblclick",value:function(e){this.observableState.disabled||(e.stopPropagation&&e.stopPropagation(),void 0!==this.props.onDoubleClick&&(this.perfMode&&this.perf.removeMode(this.perfMode),this.props.onDoubleClick(this.props.stateKey,this.props.valuePath)))}},{key:"_valueToSliderPosition",value:function(e){if(void 0!==this.props.warpType)e=this.props.warpType.warp(e);else if(void 0!==this.props.minValue&&void 0!==this.props.maxValue){var t=this.props.maxValue-this.props.minValue,n=this.props.minValue/t;if(this.props.minValue<0){var r=Math.abs(this.props.minValue)/(Math.abs(this.props.minValue)+Math.abs(this.props.maxValue)),i=Math.abs(this.props.maxValue)/(Math.abs(this.props.minValue)+Math.abs(this.props.maxValue));e=e<r?1-(Math.abs(e)/t-1/t)-i:e>r?Math.abs(e)/t-1/t+r:e/t-1/t}else e=e/t-n}return parseFloat(e.toFixed(6))}},{key:"_sliderPositionToValue",value:function(e){var t=e;return this.props.warpType?t=this.props.warpType.unwarp(t):void 0!==this.props.minValue&&void 0!==this.props.maxValue&&(t=(this.props.maxValue-this.props.minValue)*e+this.props.minValue),parseFloat(t.toFixed(6))}},{key:"_updateTouchNum",value:function(e){if(void 0!==e.touches)for(var t=0;t<e.touches.length;t++){var n=e.touches[t].clientX,r=e.touches[t].clientY,i=document.elementFromPoint(n,r);i.id!==this.thumb_id&&i.id!==this.track_id||(this.touchNum=t)}}},{key:"_fromdB",value:function(e){return Math.pow(10,.05*e)}},{key:"_todB",value:function(e){return 20/Math.log(10)*Math.log(e)}}]),t}())||r).defaultProps={direction:E.HORIZONTAL};var P=t.SliderTrack=function(e){function t(){return S(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return T(t,a.default.Component),o(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=(e.style,e.trackWidth,e.anchorType),r=e.percent,o=e.vertical,s=e.children,l=w(e,["className","style","trackWidth","anchorType","percent","vertical","children"]),h=this.props.vertical?this.props.trackWidth:"100%",d=this.props.vertical?"100%":this.props.trackWidth,f="0px",v="0px",m="0px;",g="0px",b=this.props.color1,y=this.props.color2,C="0px",x="0px",_="0deg";n===p.SliderTrackAnchorTypes.LEFT_TO_RIGHT||n===p.SliderTrackAnchorTypes.RIGHT_TO_LEFT?(o?(f=h,v=r+"%",m=h,g=100-r+"%",C=r+"%",_="180deg"):(f=100-r+"%",v=d,m=r+"%",g=d,x=100-r+"%",_="90deg"),n===p.SliderTrackAnchorTypes.LEFT_TO_RIGHT?y="linear-gradient("+_+", "+b+" 1%, "+y+" 99%)":n===p.SliderTrackAnchorTypes.RIGHT_TO_LEFT&&(b="linear-gradient("+_+", "+y+" 1%, "+b+" 99%)",y=this.props.color1)):n===p.SliderTrackAnchorTypes.CENTER&&(o?(f=h,v="50%",m=h,g="50%",C="50%",_="180deg"):(f="50%",v=d,m="50%",g=d,x="50%",_="90deg"),r>50?(b="linear-gradient("+_+", "+b+" "+2*(100-r)+"%, "+y+" 100%)",y=this.props.color1):50===r?(b=this.props.color1,y=this.props.color1):r<50&&(y="linear-gradient("+_+", "+y+" 0%, "+(b=this.props.color1)+" "+2*(50-r)+"%)"));var S={width:h,height:d},k={position:"absolute",width:f,height:v,background:b},T={position:"absolute",width:m,height:g,top:C,left:x,background:y};return a.default.createElement("div",i({},l,{className:(0,u.default)(c.default.SliderTrack,t),style:S}),a.default.createElement("div",{className:c.default.SliderTrack,style:k}),a.default.createElement("div",{className:c.default.SliderTrack,style:T}),s)}}]),t}();t.SliderThumb=function(e){function t(){return S(this,t),k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return T(t,a.default.Component),o(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=w(e,["className"]);return a.default.createElement("div",i({},n,{className:t}),this.props.children)}}]),t}()},function(e,t,n){e.exports=n(356)()},function(e,t,n){"use strict";var r;void 0===(r=function(){var e,t;return e=function(e){var t,n,r;if((r=e.split(" ")).length>=2){if(n=r.pop(),t=r.join(" "),!isNaN(+n))return[t,n];if("L"===n||"R"===n)return[t,n]}return[e,""]},(t={}).join=function(t){var n;return(n=t.map(e))[0][0]===n[1][0]?!n[0][1]&&!n[1][1]||"L"===n[0][1]&&"R"===n[1][1]?""+n[0][0]:n[0][0]+" "+n[0][1]+"-"+n[1][1]:t[0]+" - "+t[1]},t.split=function(e){var t,n,r,i;return e?(t=[e+" L",e+" R"],(i=e.split(" ")).length>=2&&(r=i.pop(),n=i.join(" "),r.match(/^[0-9]+-[0-9]+$/)&&(t[0]=n+" "+r.split("-")[0],t[1]=n+" "+r.split("-")[1]),"L-R"===r&&(t[0]=n+" L",t[1]=n+" R")),t):["",""]},t.wouldBeFirstChannel=function(e){return 0==(1&(e=+e))},t.getFirstStereoChannel=function(e){return 2*Math.floor(+e/2)},t.getOtherStereoCh=function(e){return 1&e?e-1:e+1},t}.apply(t,[]))||(e.exports=r)},function(e,t,n){"use strict";var r,i;r=[n(3)],void 0===(i=function(e){return function(){function t(t,n){null==n&&(n=document.body),this.node=e.appendSpec(n,{className:"modal-alert"}),e.appendSpec(this.node,{type:"span",textContent:t})}return t.prototype.remove=function(){return e.remove(this.node)},t}()}.apply(t,r))||(e.exports=i)},function(e,t,n){var r=n(10);r.pki=r.pki||{};var i=e.exports=r.pki.oids=r.oids=r.oids||{};function o(e,t){i[e]=t,i[t]=e}function a(e,t){i[e]=t}o("1.2.840.113549.1.1.1","rsaEncryption"),o("1.2.840.113549.1.1.4","md5WithRSAEncryption"),o("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),o("1.2.840.113549.1.1.7","RSAES-OAEP"),o("1.2.840.113549.1.1.8","mgf1"),o("1.2.840.113549.1.1.9","pSpecified"),o("1.2.840.113549.1.1.10","RSASSA-PSS"),o("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),o("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),o("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),o("1.2.840.10040.4.3","dsa-with-sha1"),o("1.3.14.3.2.7","desCBC"),o("1.3.14.3.2.26","sha1"),o("2.16.840.1.101.3.4.2.1","sha256"),o("2.16.840.1.101.3.4.2.2","sha384"),o("2.16.840.1.101.3.4.2.3","sha512"),o("1.2.840.113549.2.5","md5"),o("1.2.840.113549.1.7.1","data"),o("1.2.840.113549.1.7.2","signedData"),o("1.2.840.113549.1.7.3","envelopedData"),o("1.2.840.113549.1.7.4","signedAndEnvelopedData"),o("1.2.840.113549.1.7.5","digestedData"),o("1.2.840.113549.1.7.6","encryptedData"),o("1.2.840.113549.1.9.1","emailAddress"),o("1.2.840.113549.1.9.2","unstructuredName"),o("1.2.840.113549.1.9.3","contentType"),o("1.2.840.113549.1.9.4","messageDigest"),o("1.2.840.113549.1.9.5","signingTime"),o("1.2.840.113549.1.9.6","counterSignature"),o("1.2.840.113549.1.9.7","challengePassword"),o("1.2.840.113549.1.9.8","unstructuredAddress"),o("1.2.840.113549.1.9.14","extensionRequest"),o("1.2.840.113549.1.9.20","friendlyName"),o("1.2.840.113549.1.9.21","localKeyId"),o("1.2.840.113549.1.9.22.1","x509Certificate"),o("1.2.840.113549.1.12.10.1.1","keyBag"),o("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),o("1.2.840.113549.1.12.10.1.3","certBag"),o("1.2.840.113549.1.12.10.1.4","crlBag"),o("1.2.840.113549.1.12.10.1.5","secretBag"),o("1.2.840.113549.1.12.10.1.6","safeContentsBag"),o("1.2.840.113549.1.5.13","pkcs5PBES2"),o("1.2.840.113549.1.5.12","pkcs5PBKDF2"),o("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),o("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),o("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),o("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),o("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),o("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),o("1.2.840.113549.2.7","hmacWithSHA1"),o("1.2.840.113549.2.8","hmacWithSHA224"),o("1.2.840.113549.2.9","hmacWithSHA256"),o("1.2.840.113549.2.10","hmacWithSHA384"),o("1.2.840.113549.2.11","hmacWithSHA512"),o("1.2.840.113549.3.7","des-EDE3-CBC"),o("2.16.840.1.101.3.4.1.2","aes128-CBC"),o("2.16.840.1.101.3.4.1.22","aes192-CBC"),o("2.16.840.1.101.3.4.1.42","aes256-CBC"),o("2.5.4.3","commonName"),o("2.5.4.5","serialName"),o("2.5.4.6","countryName"),o("2.5.4.7","localityName"),o("2.5.4.8","stateOrProvinceName"),o("2.5.4.10","organizationName"),o("2.5.4.11","organizationalUnitName"),o("2.16.840.1.113730.1.1","nsCertType"),a("2.5.29.1","authorityKeyIdentifier"),a("2.5.29.2","keyAttributes"),a("2.5.29.3","certificatePolicies"),a("2.5.29.4","keyUsageRestriction"),a("2.5.29.5","policyMapping"),a("2.5.29.6","subtreesConstraint"),a("2.5.29.7","subjectAltName"),a("2.5.29.8","issuerAltName"),a("2.5.29.9","subjectDirectoryAttributes"),a("2.5.29.10","basicConstraints"),a("2.5.29.11","nameConstraints"),a("2.5.29.12","policyConstraints"),a("2.5.29.13","basicConstraints"),o("2.5.29.14","subjectKeyIdentifier"),o("2.5.29.15","keyUsage"),a("2.5.29.16","privateKeyUsagePeriod"),o("2.5.29.17","subjectAltName"),o("2.5.29.18","issuerAltName"),o("2.5.29.19","basicConstraints"),a("2.5.29.20","cRLNumber"),a("2.5.29.21","cRLReason"),a("2.5.29.22","expirationDate"),a("2.5.29.23","instructionCode"),a("2.5.29.24","invalidityDate"),a("2.5.29.25","cRLDistributionPoints"),a("2.5.29.26","issuingDistributionPoint"),a("2.5.29.27","deltaCRLIndicator"),a("2.5.29.28","issuingDistributionPoint"),a("2.5.29.29","certificateIssuer"),a("2.5.29.30","nameConstraints"),o("2.5.29.31","cRLDistributionPoints"),o("2.5.29.32","certificatePolicies"),a("2.5.29.33","policyMappings"),a("2.5.29.34","policyConstraints"),o("2.5.29.35","authorityKeyIdentifier"),a("2.5.29.36","policyConstraints"),o("2.5.29.37","extKeyUsage"),a("2.5.29.46","freshestCRL"),a("2.5.29.54","inhibitAnyPolicy"),o("1.3.6.1.4.1.11129.2.4.2","timestampList"),o("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),o("1.3.6.1.5.5.7.3.1","serverAuth"),o("1.3.6.1.5.5.7.3.2","clientAuth"),o("1.3.6.1.5.5.7.3.3","codeSigning"),o("1.3.6.1.5.5.7.3.4","emailProtection"),o("1.3.6.1.5.5.7.3.8","timeStamping")},function(e,t,n){var r=n(10);function i(e,t){r.cipher.registerAlgorithm(e,function(){return new r.aes.Algorithm(e,t)})}n(112),n(174),n(14),e.exports=r.aes=r.aes||{},r.aes.startEncrypting=function(e,t,n,r){var i=v({key:e,output:n,decrypt:!1,mode:r});return i.start(t),i},r.aes.createEncryptionCipher=function(e,t){return v({key:e,output:null,decrypt:!1,mode:t})},r.aes.startDecrypting=function(e,t,n,r){var i=v({key:e,output:n,decrypt:!0,mode:r});return i.start(t),i},r.aes.createDecryptionCipher=function(e,t){return v({key:e,output:null,decrypt:!0,mode:t})},r.aes.Algorithm=function(e,t){c||p();var n=this;n.name=e,n.mode=new t({blockSize:16,cipher:{encrypt:function(e,t){return f(n._w,e,t,!1)},decrypt:function(e,t){return f(n._w,e,t,!0)}}}),n._init=!1},r.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t,n=e.key;if("string"!=typeof n||16!==n.length&&24!==n.length&&32!==n.length){if(r.util.isArray(n)&&(16===n.length||24===n.length||32===n.length)){t=n,n=r.util.createBuffer();for(var i=0;i<t.length;++i)n.putByte(t[i])}}else n=r.util.createBuffer(n);if(!r.util.isArray(n)){t=n,n=[];var o=t.length();if(16===o||24===o||32===o){o>>>=2;for(i=0;i<o;++i)n.push(t.getInt32())}}if(!r.util.isArray(n)||4!==n.length&&6!==n.length&&8!==n.length)throw new Error("Invalid key parameter.");var a=this.mode.name,s=-1!==["CFB","OFB","CTR","GCM"].indexOf(a);this._w=d(n,e.decrypt&&!s),this._init=!0}},r.aes._expandKey=function(e,t){return c||p(),d(e,t)},r.aes._updateBlock=f,i("AES-ECB",r.cipher.modes.ecb),i("AES-CBC",r.cipher.modes.cbc),i("AES-CFB",r.cipher.modes.cfb),i("AES-OFB",r.cipher.modes.ofb),i("AES-CTR",r.cipher.modes.ctr),i("AES-GCM",r.cipher.modes.gcm);var o,a,s,l,u,c=!1,h=4;function p(){c=!0,s=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;o=new Array(256),a=new Array(256),l=new Array(4),u=new Array(4);for(t=0;t<4;++t)l[t]=new Array(256),u[t]=new Array(256);var n,r,i,h,p,d,f,v=0,m=0;for(t=0;t<256;++t){h=(h=m^m<<1^m<<2^m<<3^m<<4)>>8^255&h^99,o[v]=h,a[h]=v,d=(p=e[h])<<24^h<<16^h<<8^h^p,f=((n=e[v])^(r=e[n])^(i=e[r]))<<24^(v^i)<<16^(v^r^i)<<8^v^n^i;for(var g=0;g<4;++g)l[g][v]=d,u[g][h]=f,d=d<<24|d>>>8,f=f<<24|f>>>8;0===v?v=m=1:(v=n^e[e[e[n^i]]],m^=e[e[m]])}}function d(e,t){for(var n,r=e.slice(0),i=1,a=r.length,l=h*(a+6+1),c=a;c<l;++c)n=r[c-1],c%a==0?(n=o[n>>>16&255]<<24^o[n>>>8&255]<<16^o[255&n]<<8^o[n>>>24]^s[i]<<24,i++):a>6&&c%a==4&&(n=o[n>>>24]<<24^o[n>>>16&255]<<16^o[n>>>8&255]<<8^o[255&n]),r[c]=r[c-a]^n;if(t){for(var p,d=u[0],f=u[1],v=u[2],m=u[3],g=r.slice(0),b=(c=0,(l=r.length)-h);c<l;c+=h,b-=h)if(0===c||c===l-h)g[c]=r[b],g[c+1]=r[b+3],g[c+2]=r[b+2],g[c+3]=r[b+1];else for(var y=0;y<h;++y)p=r[b+y],g[c+(3&-y)]=d[o[p>>>24]]^f[o[p>>>16&255]]^v[o[p>>>8&255]]^m[o[255&p]];r=g}return r}function f(e,t,n,r){var i,s,c,h,p,d,f,v,m,g,b,y,C=e.length/4-1;r?(i=u[0],s=u[1],c=u[2],h=u[3],p=a):(i=l[0],s=l[1],c=l[2],h=l[3],p=o),d=t[0]^e[0],f=t[r?3:1]^e[1],v=t[2]^e[2],m=t[r?1:3]^e[3];for(var x=3,_=1;_<C;++_)g=i[d>>>24]^s[f>>>16&255]^c[v>>>8&255]^h[255&m]^e[++x],b=i[f>>>24]^s[v>>>16&255]^c[m>>>8&255]^h[255&d]^e[++x],y=i[v>>>24]^s[m>>>16&255]^c[d>>>8&255]^h[255&f]^e[++x],m=i[m>>>24]^s[d>>>16&255]^c[f>>>8&255]^h[255&v]^e[++x],d=g,f=b,v=y;n[0]=p[d>>>24]<<24^p[f>>>16&255]<<16^p[v>>>8&255]<<8^p[255&m]^e[++x],n[r?3:1]=p[f>>>24]<<24^p[v>>>16&255]<<16^p[m>>>8&255]<<8^p[255&d]^e[++x],n[2]=p[v>>>24]<<24^p[m>>>16&255]<<16^p[d>>>8&255]<<8^p[255&f]^e[++x],n[r?1:3]=p[m>>>24]<<24^p[d>>>16&255]<<16^p[f>>>8&255]<<8^p[255&v]^e[++x]}function v(e){var t,n="AES-"+((e=e||{}).mode||"CBC").toUpperCase(),i=(t=e.decrypt?r.cipher.createDecipher(n,e.key):r.cipher.createCipher(n,e.key)).start;return t.start=function(e,n){var o=null;n instanceof r.util.ByteBuffer&&(o=n,n={}),(n=n||{}).output=o,n.iv=e,i.call(t,n)},t}},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,u=[],c=!1,h=-1;function p(){c&&l&&(c=!1,l.length?u=l.concat(u):h=-1,u.length&&d())}function d(){if(!c){var e=s(p);c=!0;for(var t=u.length;t;){for(l=u,u=[];++h<t;)l&&l[h].run();h=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new f(e,t)),1!==u.length||c||s(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r,i;r=[n(1),n(30),n(2)],void 0===(i=function(e,t,n){return function(){function e(){this.listeners={},this.data={}}return e.prototype.addListener=function(e,t){var n;return null==(n=this.listeners)[e]&&(n[e]=[]),this.listeners[e].push(t)},e.prototype.removeListener=function(e,t){var n,r,i;if(null!=this.listeners[e]){for(r=0,i=[];(n=this.listeners[e].indexOf(t,r))>=0;)this.listeners[e].splice(n,1),i.push(r=n);return i}},e.prototype.inval=function(e){var t,n,r,i,o;if(null!=this.listeners[e]){for(i=[],t=0,n=(o=this.listeners[e].slice(0)).length;t<n;t++)r=o[t],i.push(r.inval());return i}},e.prototype.set=function(e,t){if(this.valid(e))return this.data[e]=t,this.inval(e)},e.prototype.get=function(e){return this.data[e]},e.prototype.valid=function(){return!0},e.prototype.getParameterTypeForPath=function(){return null},e.prototype.enterReactiveContext=function(){},e.prototype.leaveReactiveContext=function(){},e.prototype.publicMethods=["set","get","valid","getParameterTypeForPath","enterReactiveContext","leaveReactiveContext","addListener","removeListener"],e}()}.apply(t,r))||(e.exports=i)},function(e,t,n){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(2)},,function(e,t){"use strict";function n(e){return e.split(o).map(function(e){return p.test(e)?p:e})}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=e.length;if(e===o||e[0]===v[0]&&1===t)return v.split(o).concat([p]).concat(g.split(o));if(e===k&&w)return v.split(o).concat(["0",k,p]).concat(g.split(o));var i=e[0]===l&&N;i&&(e=e.toString().substr(1));var a=e.lastIndexOf(k),s=-1!==a,f=void 0,m=void 0,b=void 0;if(e.slice(-1*R)===g&&(e=e.slice(0,-1*R)),s&&(w||I)?(f=e.slice(e.slice(0,D)===v?D:0,a),m=n((m=e.slice(a+1,t)).replace(c,o))):f=e.slice(0,D)===v?e.slice(D):e,L&&(void 0===L?"undefined":r(L))===h){var C="."===x?"[.]":""+x,_=(f.match(new RegExp(C,"g"))||[]).length;f=f.slice(0,L+_*F)}return f=f.replace(c,o),O||(f=f.replace(/^0+(0$|[^0])/,"$1")),f=y?function(e,t){return e.replace(/\B(?=(\d{3})+(?!\d))/g,t)}(f,x):f,b=n(f),(s&&w||!0===I)&&(e[a-1]!==k&&b.push(d),b.push(k,d),m&&((void 0===E?"undefined":r(E))===h&&(m=m.slice(0,E)),b=b.concat(m)),!0===I&&e[a-1]===k&&b.push(p)),D>0&&(b=v.split(o).concat(b)),i&&(b.length===D&&b.push(p),b=[u].concat(b)),g.length>0&&(b=b.concat(g.split(o))),b}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},f=t.prefix,v=void 0===f?i:f,m=t.suffix,g=void 0===m?o:m,b=t.includeThousandsSeparator,y=void 0===b||b,C=t.thousandsSeparatorSymbol,x=void 0===C?a:C,_=t.allowDecimal,w=void 0!==_&&_,S=t.decimalSymbol,k=void 0===S?s:S,T=t.decimalLimit,E=void 0===T?2:T,P=t.requireDecimal,I=void 0!==P&&P,B=t.allowNegative,N=void 0!==B&&B,M=t.allowLeadingZeroes,O=void 0!==M&&M,A=t.integerLimit,L=void 0===A?null:A,D=v&&v.length||0,R=g&&g.length||0,F=x&&x.length||0;return e.instanceOf="createNumberMask",e};var i="$",o="",a=",",s=".",l="-",u=/-/,c=/\D+/g,h="number",p=/\d/,d="[]"}])},function(e,t,n){var r;e.exports=(r=n(0),function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.conformToMask=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2);Object.defineProperty(t,"conformToMask",{enumerable:!0,get:function(){return r(a).default}});var s=n(11),l=r(s),u=n(9),c=r(u),h=n(5),p=r(h),d=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return o.onBlur=o.onBlur.bind(o),o.onChange=o.onChange.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"initTextMask",value:function(){var e=this.props,t=this.props.value;this.textMaskInputElement=(0,p.default)(i({inputElement:this.inputElement},e)),this.textMaskInputElement.update(t)}},{key:"componentDidMount",value:function(){this.initTextMask()}},{key:"componentDidUpdate",value:function(){this.initTextMask()}},{key:"render",value:function(){var e=this,t=this.props,n=t.render,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["render"]);return delete r.mask,delete r.guide,delete r.pipe,delete r.placeholderChar,delete r.keepCharPositions,delete r.value,delete r.onBlur,delete r.onChange,delete r.showMask,n(function(t){return e.inputElement=t},i({onBlur:this.onBlur,onChange:this.onChange,defaultValue:this.props.value},r))}},{key:"onChange",value:function(e){this.textMaskInputElement.update(),"function"==typeof this.props.onChange&&this.props.onChange(e)}},{key:"onBlur",value:function(e){"function"==typeof this.props.onBlur&&this.props.onBlur(e)}}]),t}(l.default.Component);t.default=d,d.propTypes={mask:c.default.oneOfType([c.default.array,c.default.func,c.default.bool,c.default.shape({mask:c.default.oneOfType([c.default.array,c.default.func]),pipe:c.default.func})]).isRequired,guide:c.default.bool,value:c.default.oneOfType([c.default.string,c.default.number]),pipe:c.default.func,placeholderChar:c.default.string,keepCharPositions:c.default.bool,showMask:c.default.bool},d.defaultProps={render:function(e,t){return l.default.createElement("input",i({ref:e},t))}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.placeholderChar="_",t.strFunction="function"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(0,i.isArray)(t)){if((void 0===t?"undefined":r(t))!==o.strFunction)throw new Error("Text-mask:conformToMask; The mask property must be an array.");t=t(e,n),t=(0,i.processCaretTraps)(t).maskWithoutCaretTraps}var l=n.guide,u=void 0===l||l,c=n.previousConformedValue,h=void 0===c?s:c,p=n.placeholderChar,d=void 0===p?o.placeholderChar:p,f=n.placeholder,v=void 0===f?(0,i.convertMaskToPlaceholder)(t,d):f,m=n.currentCaretPosition,g=n.keepCharPositions,b=!1===u&&void 0!==h,y=e.length,C=h.length,x=v.length,_=t.length,w=y-C,S=w>0,k=m+(S?-w:0),T=k+Math.abs(w);if(!0===g&&!S){for(var E=s,P=k;P<T;P++)v[P]===d&&(E+=d);e=e.slice(0,k)+E+e.slice(k,y)}for(var I=e.split(s).map(function(e,t){return{char:e,isNew:t>=k&&t<T}}),B=y-1;B>=0;B--){var N=I[B].char;if(N!==d){var M=B>=k&&C===_;N===v[M?B-w:B]&&I.splice(B,1)}}var O=s,A=!1;e:for(var L=0;L<x;L++){var D=v[L];if(D===d){if(I.length>0)for(;I.length>0;){var R=I.shift(),F=R.char,V=R.isNew;if(F===d&&!0!==b){O+=d;continue e}if(t[L].test(F)){if(!0===g&&!1!==V&&h!==s&&!1!==u&&S){for(var U=I.length,j=null,H=0;H<U;H++){var z=I[H];if(z.char!==d&&!1===z.isNew)break;if(z.char===d){j=H;break}}null!==j?(O+=F,I.splice(j,1)):L--}else O+=F;continue e}A=!0}!1===b&&(O+=v.substr(L,x));break}O+=D}if(b&&!1===S){for(var G=null,q=0;q<O.length;q++)v[q]===d&&(G=q);O=null!==G?O.substr(0,G+1):s}return{conformedValue:O,meta:{someCharsRejected:A}}};var i=n(3),o=n(1),a=[],s=""},function(e,t,n){"use strict";function r(e){return Array.isArray&&Array.isArray(e)||e instanceof Array}Object.defineProperty(t,"__esModule",{value:!0}),t.convertMaskToPlaceholder=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.placeholderChar;if(!r(e))throw new Error("Text-mask:convertMaskToPlaceholder; The mask property must be an array.");if(-1!==e.indexOf(t))throw new Error("Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.\n\nThe placeholder character that was received is: "+JSON.stringify(t)+"\n\nThe mask that was received is: "+JSON.stringify(e));return e.map(function(e){return e instanceof RegExp?t:e}).join("")},t.isArray=r,t.isString=function(e){return"string"==typeof e||e instanceof String},t.isNumber=function(e){return"number"==typeof e&&void 0===e.length&&!isNaN(e)},t.processCaretTraps=function(e){for(var t=[],n=void 0;-1!==(n=e.indexOf(a));)t.push(n),e.splice(n,1);return{maskWithoutCaretTraps:e,indexes:t}};var i=n(1),o=[],a="[]"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.previousConformedValue,i=void 0===t?r:t,o=e.previousPlaceholder,a=void 0===o?r:o,s=e.currentCaretPosition,l=void 0===s?0:s,u=e.conformedValue,c=e.rawValue,h=e.placeholderChar,p=e.placeholder,d=e.indexesOfPipedChars,f=void 0===d?n:d,v=e.caretTrapIndexes,m=void 0===v?n:v;if(0===l||!c.length)return 0;var g=c.length,b=i.length,y=p.length,C=u.length,x=g-b,_=x>0;if(x>1&&!_&&0!==b)return l;var w=0,S=void 0,k=void 0;if(!_||i!==u&&u!==p){var T=u.toLowerCase(),E=c.toLowerCase(),P=E.substr(0,l).split(r),I=P.filter(function(e){return-1!==T.indexOf(e)});k=I[I.length-1];var B=a.substr(0,I.length).split(r).filter(function(e){return e!==h}).length,N=p.substr(0,I.length).split(r).filter(function(e){return e!==h}).length,M=N!==B,O=void 0!==a[I.length-1]&&void 0!==p[I.length-2]&&a[I.length-1]!==h&&a[I.length-1]!==p[I.length-1]&&a[I.length-1]===p[I.length-2];!_&&(M||O)&&B>0&&p.indexOf(k)>-1&&void 0!==c[l]&&(S=!0,k=c[l]);for(var A=f.map(function(e){return T[e]}),L=A.filter(function(e){return e===k}).length,D=I.filter(function(e){return e===k}).length,R=p.substr(0,p.indexOf(h)).split(r).filter(function(e,t){return e===k&&c[t]!==e}).length,F=R+D+L+(S?1:0),V=0,U=0;U<C;U++){var j=T[U];if(w=U+1,j===k&&V++,V>=F)break}}else w=l-x;if(_){for(var H=w,z=w;z<=y;z++)if(p[z]===h&&(H=z),p[z]===h||-1!==m.indexOf(z)||z===y)return H}else if(S){for(var G=w-1;G>=0;G--)if(u[G]===k||-1!==m.indexOf(G)||0===G)return G}else for(var q=w;q>=0;q--)if(p[q-1]===h||-1!==m.indexOf(q)||0===q)return q};var n=[],r=""},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){document.activeElement===e&&(m?g(function(){return e.setSelectionRange(t,t,f)},0):e.setSelectionRange(t,t,f))}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){var t={previousConformedValue:void 0,previousPlaceholder:void 0};return{state:t,update:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,s=r.inputElement,u=r.mask,f=r.guide,m=r.pipe,g=r.placeholderChar,b=void 0===g?p.placeholderChar:g,y=r.keepCharPositions,C=void 0!==y&&y,x=r.showMask,_=void 0!==x&&x;if(void 0===n&&(n=s.value),n!==t.previousConformedValue){(void 0===u?"undefined":a(u))===v&&void 0!==u.pipe&&void 0!==u.mask&&(m=u.pipe,u=u.mask);var w=void 0,S=void 0;if(u instanceof Array&&(w=(0,h.convertMaskToPlaceholder)(u,b)),!1!==u){var k=function(e){if((0,h.isString)(e))return e;if((0,h.isNumber)(e))return String(e);if(void 0===e||null===e)return d;throw new Error("The 'value' provided to Text Mask needs to be a string or a number. The value received was:\n\n "+JSON.stringify(e))}(n),T=s.selectionEnd,E=t.previousConformedValue,P=t.previousPlaceholder,I=void 0;if((void 0===u?"undefined":a(u))===p.strFunction){if(!1===(S=u(k,{currentCaretPosition:T,previousConformedValue:E,placeholderChar:b})))return;var B=(0,h.processCaretTraps)(S),N=B.maskWithoutCaretTraps,M=B.indexes;S=N,I=M,w=(0,h.convertMaskToPlaceholder)(S,b)}else S=u;var O={previousConformedValue:E,guide:f,placeholderChar:b,pipe:m,placeholder:w,currentCaretPosition:T,keepCharPositions:C},A=(0,c.default)(k,S,O),L=A.conformedValue,D=(void 0===m?"undefined":a(m))===p.strFunction,R={};D&&(!1===(R=m(L,o({rawValue:k},O)))?R={value:E,rejected:!0}:(0,h.isString)(R)&&(R={value:R}));var F=D?R.value:L,V=(0,l.default)({previousConformedValue:E,previousPlaceholder:P,conformedValue:F,placeholder:w,rawValue:k,currentCaretPosition:T,placeholderChar:b,indexesOfPipedChars:R.indexesOfPipedChars,caretTrapIndexes:I}),U=F===w&&0===V,j=_?w:d,H=U?j:F;t.previousConformedValue=H,t.previousPlaceholder=w,s.value!==H&&(s.value=H,i(s,V))}}}}};var s=n(4),l=r(s),u=n(2),c=r(u),h=n(3),p=n(1),d="",f="none",v="object",m="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),g="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:setTimeout},function(e,t){"use strict";function n(e){return function(){return e}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,i,o,a,s,l){if(r(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,o,a,s,l],h=0;(u=new Error(t.replace(/%s/g,function(){return c[h++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";var r=n(6),i=n(7),o=n(10);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";"function"==typeof Symbol&&Symbol.iterator,e.exports=n(8)()},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=r}]))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FaderWarp=function(){this.minValue=0,this.maxValue=1,this.warp=function(e){return(0,r.mag2db)(e)<=-24?e/Math.pow(10,-1.2)*.2475:((0,r.mag2db)(e)+24)/36*.7525+.2475},this.unwarp=function(e){return e<=.2475?(0,r.normalize)(0,.2475,e,function(e){return e})*Math.pow(10,-1.2):(0,r.db2mag)(36*(0,r.normalize)(.2475,1,e,function(e){return e})-24)}},t.FrequencyWarp=function(){this.minValue=0,this.maxValue=1,this.minFreq=Math.log(20),this.maxFreq=Math.log(2e4),this.scale=(this.maxFreq-this.minFreq)/(this.maxValue-this.minValue),this.warp=function(e){return this.minValue+(Math.log(e)-this.minFreq)/this.scale},this.unwarp=function(e){return Math.exp((e-this.minValue)*this.scale+this.minFreq)}};var r=n(26);!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(39))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(101)),o=u(n(307)),a=u(n(0)),s=(u(n(80)),u(n(306))),l=u(n(11));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"render",value:function(){return a.default.createElement("div",{className:(0,l.default)(s.default.Plot,this.props.className)},a.default.createElement(o.default,{className:s.default.PlotForeground,width:this.props.width,height:this.props.height,xAxis:this.props.xAxis,yAxis:this.props.yAxis,gridEnabled:this.props.gridEnabled,backgroundEnabled:this.props.backgroundEnabled}),a.default.createElement(i.default,{ref:"canvas",className:s.default.PlotForeground,width:this.props.width,height:this.props.height,xAxis:this.props.xAxis,yAxis:this.props.yAxis}))}},{key:"getCanvas",value:function(){return this.refs.canvas}}]),t}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){if(e===t)return!0;if("object"!==(void 0===e?"undefined":r(e))||null===e||"object"!==(void 0===t?"undefined":r(t))||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++){var a=n[o];if(!e.hasOwnProperty(a))return!1;var s=e[a],l=t[a];if(s!==l)return!1}return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t=e.className,n=e.stereo,r=e.meterIndex,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","stereo","meterIndex"]),o=(0,p.default)({},i,{meterIndex:r});if(n){var a=(0,p.default)({},i,{meterIndex:r+1});return c.default.createElement("div",{className:t},c.default.createElement(b,o)," ",c.default.createElement(b,a))}return c.default.createElement("div",{className:t},c.default.createElement(b,o))};var o=m(n(29)),a=n(9),s=(m(n(25)),m(n(6))),l=m(n(42)),u=m(n(101)),c=m(n(0)),h=m(n(13)),p=m(n(19)),d=n(26),f=(n(100),m(n(60)),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(39))),v=m(n(309));m(n(81)),n(4);function m(e){return e&&e.__esModule?e:{default:e}}var g=Math,b=(window,function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._onMeterChange=n._onMeterChange.bind(n),n._draw=n._draw.bind(n),n._clearCanvas=n._clearCanvas.bind(n),n.meterStore=l.default,n.meterTimeout=null,n.grWarper=new f.FullScaleMeter(null),n.level=0,n.peakHoldLevel=0,n.hold=0,n.peakHold=0,n.decay=.6,n.holdSteps=0,n.peakHoldSteps=45,n.epsilon=10,n.peakEpsilon=3,n.state={level:0},n.level=0,n.init=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default.Component),i(t,[{key:"componentDidUpdate",value:function(e){!0===e.enabled&&!1===this.props.enabled&&o.default.queue(this._clearCanvas),this._initMeterPath()}},{key:"componentDidMount",value:function(){this._initMeterPath(),l.default.addChangeListener(this._onMeterChange)}},{key:"componentWillUnmount",value:function(){l.default.removeChangeListener(this._onMeterChange)}},{key:"render",value:function(){var e="gate"===this.props.type||"comp"===this.props.type?v.default.DynamicsMeterRect:v.default.LevelMeterRect;return c.default.createElement("div",{className:v.default.LevelMeterContainer,style:{width:this.props.width,height:this.props.height,display:"inline-block"}},c.default.createElement(u.default,{ref:"canvas",className:e,width:this.props.width,height:this.props.height,xAxis:{min:0,max:1,scale:function(e){return e}},yAxis:{min:0,max:1,scale:function(e){return e}}}))}},{key:"_initMeterPath",value:function(){this.meterPath=this.props.path}},{key:"_onMeterChange",value:function(){var e=l.default.get(this.meterPath);if(this.props.enabled&&"object"===(void 0===e?"undefined":r(e))&&null!==e&&0!==e.length){var t=0;if("mix/level/"==this.meterPath||"mix/comp"==this.meterPath)for(var n=0;n<e.length;n++){var i=e[n][this.props.meterIndex];t=i>t?i:t}else t=e[this.props.meterIndex];if(!this.props.observableState.metersPreFader&&void 0!==this.props.stripInfo&&"ext/input"!==this.props.path){var a=""+this.props.stripInfo.basePath+this.props.observableState.faderPath;t*=s.default.has(a)?s.default.get(a):1}t>1e3*this.level+this.epsilon&&(this.hold=0),t>1e3*this.peakHoldLevel+this.peakEpsilon&&(this.peakHold=0),t=t/1e3*this.props.scaleFactor;var u=!1,c=(this.props.observableState.scrollOffset,h.default.findDOMNode(this.refs.canvas));if(void 0!==c&&!this.props.sideBar){this.meterRect=c.getBoundingClientRect();var p=this.props.observableState.mixerWidth;u=this.meterRect.right<=0&&this.meterRect.left<=0||this.meterRect.left>p&&this.meterRect.right>p||this.meterRect.bottom<=0||this.meterRect.top>this.props.observableState.mixerHeight}t!==this.level&&!u&&(t>this.level?this.level=t:(this.level*=this.hold>=this.holdSteps?this.decay:1,this.level=g.max(this.level,t),this.hold+=1),t>this.peakHoldLevel?this.peakHoldLevel=t:(this.peakHoldLevel*=this.peakHold>=this.peakHoldSteps?this.decay:1,this.peakHoldLevel=g.max(this.peakHoldLevel,t),this.peakHold+=1),o.default.queue(this._draw)),isNaN(this.level)&&!isNaN(t)&&(this.level=t,this.peakHoldLevel=t,this.peakHold+=1)}}},{key:"_draw",value:function(){var e=this.refs.canvas;if(void 0!==e){var t=this.props.type,n=a.Colors.meterClip,r=a.Colors.gainReduction,i=(this.peakHold,this.grWarper),o=a.Colors.meter;this.props.stripInfo?o=a.MeterFillColors[this.props.stripInfo.type]:void 0!==a.Colors[t]&&(o=a.Colors[t]);var s=function(e){return e};if(e.clear(),"gain"===t)"vertical"==this.props.orientation?e.fillRect(r,0,i.warp(this.level),1,1):"horizontal"==this.props.orientation&&e.fillRect(r,i.warp(this.level),0,1,1);else{var l=(0,d.mag2db)(this.level),u=(0,d.mag2db)(this.peakHoldLevel),c=l<=-24?.25*(0,d.normalize)(0,(0,d.db2mag)(-24),this.level,s):.75*(0,d.normalize)(-24,12,l,s)+.25;c=g.round(100*c)/100;var h=u<=-24?.25*(0,d.normalize)(0,(0,d.db2mag)(-24),this.peakHoldLevel,s):.75*(0,d.normalize)(-24,12,u,s)+.25;h=g.round(100*h)/100,c<1?e.fillRect(o,0,0,1,c):e.fillRect(n,0,0,1,c),this.props.renderPeakHolds&&(e.beginPath(n),e.moveTo(0,h),e.lineTo(1,h),e.stroke())}}}},{key:"_clearCanvas",value:function(){var e=this.refs.canvas;void 0!==e&&e.clear()}}]),t}())},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hex2rgba=function(e,t){if(!e.startsWith("#"))return e;0;var n=e.replace("#",""),r=parseInt(n.substring(0,2),16),i=parseInt(n.substring(2,4),16),o=parseInt(n.substring(4,6),16);return"rgba("+r+", "+i+", "+o+", "+t+")"},t.getContrastColor=function(e){if(!e.startsWith("#"))return"rgb(0, 0, 0)";var t=0,n=e.replace("#",""),r=parseInt(n.substring(0,2),16),i=parseInt(n.substring(2,4),16),o=parseInt(n.substring(4,6),16);t=1-(.299*r+.587*i+.114*o)/255<.5?0:255;return"rgb("+t+", "+t+", "+t+")"};var r,i=n(114);(r=i)&&r.__esModule},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EQBandCurve=t.BandTypes=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(31)),o=s(n(6)),a=(s(n(145)),s(n(19)),n(4));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.BandTypes={LOWPASS:0,HIGHPASS:1,PEAK:2,LOWSHELF:3,HIGHSHELF:4};var u=44100;t.EQBandCurve=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.observableState=(0,a.observable)({path:t.path,enabledPath:t.path+"/enable",frequencyPath:t.path+"/freq",modePath:t.path+"/mode",gainPath:t.path+"/gain",bandwidthPath:t.path+"/bw",enabled:!0,type:t.defaultType,fc:0,gain:0,Q:1}),this.id=Math.random().toString(36).substring(7),this.notify=t.notify,this.color=t.color,this.last=t.last,this.refreshValues=this.refreshValues.bind(this),this.draw=this.draw.bind(this),this._onEnabledValueChange=this._onEnabledValueChange.bind(this),this._onModeValueChange=this._onModeValueChange.bind(this),this._onGainValueChange=this._onGainValueChange.bind(this),this._onFrequencyValueChange=this._onFrequencyValueChange.bind(this),this._onBandwidthValueChange=this._onBandwidthValueChange.bind(this),this.init=!1}return r(e,[{key:"refreshValues",value:function(){this._onEnabledValueChange(),this._onModeValueChange(),this._onGainValueChange(),this._onFrequencyValueChange(),this._onBandwidthValueChange()}},{key:"addChangeListeners",value:function(){this.init=!1,o.default.addChangeListener(this.id,this._onEnabledValueChange,this.observableState.enabledPath),o.default.addChangeListener(this.id,this._onModeValueChange,this.observableState.modePath),o.default.addChangeListener(this.id,this._onGainValueChange,this.observableState.gainPath),o.default.addChangeListener(this.id,this._onFrequencyValueChange,this.observableState.frequencyPath),o.default.addChangeListener(this.id,this._onBandwidthValueChange,this.observableState.bandwidthPath),this.last&&(this.refreshValues(),this.notify()),this.init=!0}},{key:"removeChangeListeners",value:function(){o.default.removeChangeListener(this.id,this._onEnabledValueChange,this.observableState.enabledPath),o.default.removeChangeListener(this.id,this._onModeValueChange,this.observableState.modePath),o.default.removeChangeListener(this.id,this._onGainValueChange,this.observableState.gainPath),o.default.removeChangeListener(this.id,this._onFrequencyValueChange,this.observableState.frequencyPath),o.default.removeChangeListener(this.id,this._onBandwidthValueChange,this.observableState.bandwidthPath),this.init=!1}},{key:"draw",value:function(e,t){var n=this.generateCurve(t),r=this.observableState.enabled?this.color:i.GRAY;e.beginPath(r),e.moveTo(t[0],n[0]);for(var o=1;o<t.length;o++)e.lineTo(t[o],n[o]);e.stroke()}},{key:"generateCurve",value:function(e){var t=function(e,t,n,r){var i=Math.pow(10,Math.abs(n)/20),o=Math.tan(Math.PI*t/u);switch(e){case l.LOWPASS:var a=1/(1+o/r+o*o),s=o*o*a;return{a0:s,a1:2*s,a2:s,b1:2*(o*o-1)*a,b2:(1-o/r+o*o)*a};case l.HIGHPASS:var c=1/(1+o/r+o*o),h=1*c;return{a0:h,a1:-2*h,a2:h,b1:2*(o*o-1)*c,b2:(1-o/r+o*o)*c};case l.PEAK:if(n>=0){var p=1/(1+1/r*o+o*o),d=2*(o*o-1)*p;return{a0:(1+i/r*o+o*o)*p,a1:d,a2:(1-i/r*o+o*o)*p,b1:d,b2:(1-1/r*o+o*o)*p}}var f=1/(1+i/r*o+o*o),v=2*(o*o-1)*f;return{a0:(1+1/r*o+o*o)*f,a1:v,a2:(1-1/r*o+o*o)*f,b1:v,b2:(1-i/r*o+o*o)*f};case l.LOWSHELF:if(n>=0){var m=1/(1+Math.SQRT2*o+o*o);return{a0:(1+Math.sqrt(2*i)*o+i*o*o)*m,a1:2*(i*o*o-1)*m,a2:(1-Math.sqrt(2*i)*o+i*o*o)*m,b1:2*(o*o-1)*m,b2:(1-Math.SQRT2*o+o*o)*m}}var g=1/(1+Math.sqrt(2*i)*o+i*o*o);return{a0:(1+Math.SQRT2*o+o*o)*g,a1:2*(o*o-1)*g,a2:(1-Math.SQRT2*o+o*o)*g,b1:2*(i*o*o-1)*g,b2:(1-Math.sqrt(2*i)*o+i*o*o)*g};case l.HIGHSHELF:if(n>=0){var b=1/(1+Math.SQRT2*o+o*o);return{a0:(i+Math.sqrt(2*i)*o+o*o)*b,a1:2*(o*o-i)*b,a2:(i-Math.sqrt(2*i)*o+o*o)*b,b1:2*(o*o-1)*b,b2:(1-Math.SQRT2*o+o*o)*b}}var y=1/(i+Math.sqrt(2*i)*o+o*o);return{a0:(1+Math.SQRT2*o+o*o)*y,a1:2*(o*o-1)*y,a2:(1-Math.SQRT2*o+o*o)*y,b1:2*(o*o-i)*y,b2:(i-Math.sqrt(2*i)*o+o*o)*y};default:throw new Error("Unsupported BandType in coefficient calculation.")}}(this.observableState.type,this.observableState.fc,this.observableState.gain,this.observableState.Q),n=t.a0,r=t.a1,i=t.a2,o=t.b1,a=t.b2,s=0,c=0,h=e.map(function(e){var t=e/22050*Math.PI,l=Math.pow(Math.sin(t/2),2),u=Math.pow(n+r+i,2)-4*(n*r+4*n*i+r*i)*l+16*n*i*l*l;return(u=10*(u=Math.log(u)-Math.log(Math.pow(1+o+a,2)-4*(o+4*a+o*a)*l+16*a*l*l))/Math.LN10)===-1/0&&(u=-100),this.observableState.gain>0?u>c&&(c=u,s=e):u<c&&(c=u,s=e),Math.round(100*u)/100},this);return this.observableState.type==l.PEAK&&(h[e.indexOf(s)]=this.observableState.gain),h}},{key:"isEnabled",value:function(){return this.observableState.enabled}},{key:"getType",value:function(){return this.observableState.type}},{key:"_onEnabledValueChange",value:function(){var e=o.default.get(this.observableState.enabledPath);this.observableState.enabled=e,this.init&&this.notify()}},{key:"_onModeValueChange",value:function(){1===(o.default.has(this.observableState.modePath)?o.default.get(this.observableState.modePath):null)?this.observableState.type=l.PEAK:-1!==this.observableState.path.indexOf("lowshelf")?this.observableState.type=l.LOWSHELF:-1!==this.observableState.path.indexOf("highshelf")&&(this.observableState.type=l.HIGHSHELF),this.init&&this.notify()}},{key:"_onGainValueChange",value:function(){var e=o.default.has(this.observableState.gainPath)?o.default.get(this.observableState.gainPath):0;Number(e)!=Number(this.observableState.gain)&&(this.observableState.gain=e,this.init&&this.notify())}},{key:"_onFrequencyValueChange",value:function(){var e=o.default.get(this.observableState.frequencyPath);Number(e)!=Number(this.observableState.fc)&&(this.observableState.fc=e,this.init&&this.notify())}},{key:"_onBandwidthValueChange",value:function(){var e=o.default.has(this.observableState.bandwidthPath)?o.default.get(this.observableState.bandwidthPath):null,t=null===e?Math.sqrt(2)/2:Math.sqrt(Math.pow(2,e))/(Math.pow(2,e)-1);this.observableState.Q=t,this.init&&this.notify()}}]),e}()},function(e,t,n){"use strict";var r,i;r=[n(3),n(2),n(1)],void 0===(i=function(e,t,n){var r,i,o,a,s,l;return(s={}).degToRad=function(e){return(90-e)*Math.PI/180},i="http://www.w3.org/2000/svg",o="http://www.w3.org/1999/xlink",l=document,a=function(e){return l.createElementNS(i,e)},s.subPathLine=function(e,t,n,r){return"M"+e+","+t+"L"+n+","+r},s.subPathLineTo=function(e,t){return"L"+e+","+t},s.arcPathAttr=function(e,t,n,r,i,o){var a,l,u,c,h,p,d;return r=(a=r-n)>=0?n+Math.min(359.9,a):n+Math.max(-359.9,a),h=s.degToRad(n),l=s.degToRad(r),p=e+i*Math.cos(h),d=t-o*Math.sin(h),u=e+i*Math.cos(l),c=t-o*Math.sin(l),"M"+parseFloat(p)+","+parseFloat(d)+" A"+parseFloat(i)+","+parseFloat(o)+",0,"+parseInt(+(a>180),10)+",1, "+parseFloat(u)+","+parseFloat(c)},r=function(e){return null==e&&(e=""),n.isNumber(e)?e+"px":e},s.SVGContext=function(){function t(t,s){this.id=n.uniqueId("id"),this.div=e.specToNode({}),this.div.style.height=r(s),this.div.style.width=r(t),this.svg=a("svg"),this.svg.setAttribute("xmlns",i),this.svg.setAttribute("xmlns:xlink",o),this.svg.setAttribute("width","100%"),this.svg.setAttribute("height","100%"),this.svg.setAttribute("id",this.id),this.defs=a("defs"),this.svg.appendChild(this.defs),this.div.appendChild(this.svg)}return t.prototype.setSize=function(e,t){this.svg.setAttribute("width",r(e)),this.svg.setAttribute("height",r(t))},t.prototype.makeRect=function(e,t,n,r){var i;return i=a("rect"),this.svg.appendChild(i),i.setAttribute("x",e),i.setAttribute("y",t),i.setAttribute("width",n),i.setAttribute("height",r),i},t.prototype.makeCircle=function(e,t,n){var r;return r=a("circle"),this.svg.appendChild(r),r.setAttribute("cx",e),r.setAttribute("cy",t),r.setAttribute("r",n),r},t.prototype.makePath=function(){var e;return e=a("path"),this.svg.appendChild(e),e},t.prototype.makeText=function(e,t,n){var r;return r=a("text"),this.svg.appendChild(r),r.setAttribute("x",e),r.setAttribute("y",t),r.textContent=n,r},t.prototype.remove=function(){e.remove(this.div)},t.prototype.makeLinearGradient=function(e){var t,n,r,i,o;if(n=e.id,null==(r=document.getElementById(n))){for((r=a("linearGradient")).setAttribute("id",n),r.setAttribute("x1",e.x1),r.setAttribute("y1",e.y1),r.setAttribute("x2",e.x2),r.setAttribute("y2",e.y2),t=0;t<e.stops.length;)o=e.stops[t],(i=a("stop")).setAttribute("offset",o.offset),i.setAttribute("stop-color",o.color),o.opacity&&i.setAttribute("stop-opacity",o.opacity),r.appendChild(i),t++;this.defs.appendChild(r)}},t}(),s}.apply(t,r))||(e.exports=i)},function(e,t,n){var r=n(10);n(14);var i=e.exports=r.pem=r.pem||{};function o(e){for(var t=e.name+": ",n=[],r=function(e,t){return" "+t},i=0;i<e.values.length;++i)n.push(e.values[i].replace(/^(\S+\r\n)/,r));t+=n.join(",")+"\r\n";var o=0,a=-1;for(i=0;i<t.length;++i,++o)if(o>65&&-1!==a){var s=t[a];","===s?(++a,t=t.substr(0,a)+"\r\n "+t.substr(a)):t=t.substr(0,a)+"\r\n"+s+t.substr(a+1),o=i-a-1,a=-1,++i}else" "!==t[i]&&"\t"!==t[i]&&","!==t[i]||(a=i);return t}function a(e){return e.replace(/^\s+/,"")}i.encode=function(e,t){t=t||{};var n,i="-----BEGIN "+e.type+"-----\r\n";if(e.procType&&(i+=o(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]})),e.contentDomain&&(i+=o(n={name:"Content-Domain",values:[e.contentDomain]})),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),i+=o(n)),e.headers)for(var a=0;a<e.headers.length;++a)i+=o(e.headers[a]);return e.procType&&(i+="\r\n"),i+=r.util.encode64(e.body,t.maxline||64)+"\r\n",i+="-----END "+e.type+"-----\r\n"},i.decode=function(e){for(var t,n=[],i=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,o=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,s=/\r?\n/;t=i.exec(e);){var l={type:t[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:r.util.decode64(t[3])};if(n.push(l),t[2]){for(var u=t[2].split(s),c=0;t&&c<u.length;){for(var h=u[c].replace(/\s+$/,""),p=c+1;p<u.length;++p){var d=u[p];if(!/\s/.test(d[0]))break;h+=d,c=p}if(t=h.match(o)){for(var f={name:t[1],values:[]},v=t[2].split(","),m=0;m<v.length;++m)f.values.push(a(v[m]));if(l.procType)if(l.contentDomain||"Content-Domain"!==f.name)if(l.dekInfo||"DEK-Info"!==f.name)l.headers.push(f);else{if(0===f.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');l.dekInfo={algorithm:v[0],parameters:v[1]||null}}else l.contentDomain=v[0]||"";else{if("Proc-Type"!==f.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==f.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');l.procType={version:v[0],type:v[1]}}}++c}if("ENCRYPTED"===l.procType&&!l.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===n.length)throw new Error("Invalid PEM formatted message.");return n}},function(e,t,n){"use strict";var r,i;r=[n(1),n(2),n(5)],void 0===(i=function(e,t,n){var r,i=function(e,t){for(var n in t)o.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},o={}.hasOwnProperty;return(r={}).PerformanceSettingsReference=function(){function e(){}return e.prototype.fromServerThrottleTime=0,e.prototype.toServerThrottleTime=0,e.prototype.debounceStripHideShow=0,e.prototype.deferKnobDraws=!1,e.prototype.alwaysShowDelayedSpinners=!1,e}(),r.PerformanceSettings=function(n){function a(){a.__super__.constructor.call(this,"performance/"),this.activeModes=[],this.addMode(new r.Defaults),t.isMobile&&this.addMode(new r.Mobile)}return i(a,n),a.prototype.addMode=function(e){var t;for(t in this.activeModes.push(e),e)o.call(e,t)&&this.updateSetting(t);return e},a.prototype.removeMode=function(t){var n,r;for(n in this.activeModes=e.without(this.activeModes,t),r=[],t)o.call(t,n)&&r.push(this.updateSetting(n));return r},a.prototype.choose=function(t,n){return e.max(n)},a.prototype.updateSetting=function(t){var n;return 0===(n=e.filter(e.pluck(this.activeModes,t),function(e){return null!=e})).length?this.set("performance/"+t,void 0):this.set("performance/"+t,this.choose(t,n))},a}(n.ScopedSource),r.Mode=function(){function t(){e.defaults(this,this.settings)}return t.prototype.settings={},t}(),r.UserInteractionDrag=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.settings={fromServerThrottleTime:100,toServerThrottleTime:200,deferKnobDraws:!0,debounceStripHideShow:600},t}(r.Mode),r.MixerCreation=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.settings={debounceStripHideShow:2e3},t}(r.Mode),r.Defaults=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.settings={},t}(r.Mode),r.Mobile=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.settings={alwaysShowDelayedSpinners:!0},t}(r.Mode),r}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=m(n(0)),a=m(n(13)),s=(m(n(11)),m(n(24)),m(n(15)),m(n(6))),l=n(20),u=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(18)),n(9),m(n(28)),m(n(211))),c=m(n(17)),h=m(n(82)),p=n(23),d=n(12),f=n(4),v=m(n(143));function m(e){return e&&e.__esModule?e:{default:e}}var g=["chan","aux","group","reverb","monitor","main"],b=(0,d.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.arrayPush=Array.prototype.push,n.id=Math.random().toString(36).substring(7),n.addChangeListeners=n.addChangeListeners.bind(n),n.addFormatChangeListeners=n.addFormatChangeListeners.bind(n),n.removeChangeListeners=n.removeChangeListeners.bind(n),n._getDefaultValue=n._getDefaultValue.bind(n),n._toggleToolTip=n._toggleToolTip.bind(n),n._dismissToolTip=n._dismissToolTip.bind(n),n._renderMultipleSelect=n._renderMultipleSelect.bind(n),n._renderAllOptions=n._renderAllOptions.bind(n),n._renderOptions=n._renderOptions.bind(n),n._renderOption=n._renderOption.bind(n),n._onSelectionChanged=n._onSelectionChanged.bind(n),n._observablePropertyChanged=n._observablePropertyChanged.bind(n),n.observableState=(0,f.observable)({defaultValue:n.props.defaultValue}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"componentDidMount",value:function(){this.addChangeListeners(),this._onSelectionChanged()}},{key:"componentWillUnmount",value:function(){this.removeChangeListeners()}},{key:"addChangeListeners",value:function(){(this.observablePropertyDisposer=(0,f.observe)(this.props.observableValues,this.props.stateKey,this._observablePropertyChanged),this.props.input&&this.addFormatChangeListeners("chan",s.default.getCalcCh("chan")),this.props.output)&&(this.props.types?this.props.types:g).forEach(function(e,t,n){this.addFormatChangeListeners(e,s.default.getCalcCh(e))},this)}},{key:"removeChangeListeners",value:function(){(this.observablePropertyDisposer(),this.props.input&&this.removeFormatChangeListeners("chan",s.default.getCalcCh("chan")),this.props.output)&&(this.props.types?this.props.types:g).forEach(function(e,t,n){this.removeFormatChangeListeners(e,s.default.getCalcCh(e))},this)}},{key:"addFormatChangeListeners",value:function(e,t){for(var n=0;n<t;n+=2){var r=new c.default(e+"/"+n);s.default.has(r.formatPath)&&s.default.addChangeListener(this.id,this._observablePropertyChanged,r.formatPath,!1)}}},{key:"removeFormatChangeListeners",value:function(e,t){for(var n=0;n<t;n+=2){var r=new c.default(e+"/"+n),i=(0,l.getStripNamePath)(r),o=(0,l.getDefaultNamePath)(r);s.default.has(r.formatPath)&&(s.default.removeChangeListener(this.id,this._observablePropertyChanged,r.formatPath),s.default.removeChangeListener(this.id,this._observablePropertyChanged,i),s.default.removeChangeListener(this.id,this._observablePropertyChanged,o))}}},{key:"componentWillReceiveProps",value:function(e){e.defaultValue&&(this.observableState.defaultValue=e.defaultValue)}},{key:"render",value:function(){var e=this.props.observableState.mobileBrowser,t=this.props.className?this.props.className:u.default.ChannelSelect;return this.props.multiple?e?this._renderMultipleSelect(t):o.default.createElement("div",{ref:"toolTipButton",className:u.default.ToolTipButton,onClick:this._toggleToolTip}):o.default.createElement("select",{id:"select-"+this.id,defaultValue:this._getDefaultValue(),className:t,onChange:this._onSelectionChanged},o.default.createElement("option",{value:"none",disabled:!0,style:{display:"none"}},"Make a Selection"),this.props.children,this._renderAllOptions())}},{key:"_getDefaultValue",value:function(){if(this.props.defaultValue)return this.props.defaultValue;if(this.props.multiple){var e=[];return Object.keys(this.props.observableValues[this.props.stateKey]).forEach(function(t,n,r){this.props.observableValues[this.props.stateKey][t]&&e.push(t)},this),e}var t=this.props.observableValues[this.props.stateKey];return null!=t?"string"==typeof t?t:t.id:""}},{key:"_toggleToolTip",value:function(){if(!this.tooltip){var e=this.refs.toolTipButton.getBoundingClientRect(),t=window.innerHeight-e.top;this.tooltip=new h.default({dev:(0,p.getInjectedDevice)(),node:a.default.findDOMNode(this.refs.toolTipButton)}),this.props.observableState.mobileBrowser||document.body.addEventListener("click",this._dismissToolTip,!0);var n=u.default.ChannelSelect+" "+u.default.ChannelSelectMulitpleDesktop;a.default.render(this._renderMultipleSelect(n,t),this.tooltip.div);var r=document.getElementById("select-"+this.id);if(r.size=r.options.length,null!==r){var i=r.options[0].getBoundingClientRect().height;i>0&&(this.tooltip.div.style.height=i*r.options.length+"px")}}}},{key:"_dismissToolTip",value:function(e){var t=document.getElementById("select-"+this.id);void 0!==this.tooltip&&null!==t&&"spinner"!==e.target.className&&e.target.id!=="select-"+this.id&&e.target.parentElement.id!=="select-"+this.id&&(e.stopPropagation(),this._onSelectionChanged(),a.default.unmountComponentAtNode(this.tooltip.div),this.tooltip.remove(0),document.body.removeEventListener("click",this._dismissToolTip,!0),this.tooltip=null,this.queuedChanges&&(this.props.onSelectionChanged(this.queuedChanges),this.queuedChanges=null))}},{key:"_renderMultipleSelect",value:function(e,t,n){return o.default.createElement("select",{multiple:!0,id:"select-"+this.id,style:{width:n+"px",height:t+"px",paddingRight:"50px"},defaultValue:this._getDefaultValue(),className:e+" selectpicker",onChange:this._onSelectionChanged},this.props.children,this._renderAllOptions())}},{key:"_renderAllOptions",value:function(){var e=[],t=this.props.order?this.props.order:g,n=this.props.types?this.props.types:g;return t.forEach(function(t){-1!==n.indexOf(t)&&(("chan"==t&&this.props.input||"chan"!==t&&this.props.output)&&this.arrayPush.apply(e,this._renderOptions(t,s.default.getCalcCh(t))))},this),e}},{key:"_renderOptions",value:function(e,t){for(var n=[],r=0;r<t;r+=2){var i=new c.default(e+"/"+r);n.push(this._renderOption(i))}return n}},{key:"_renderOption",value:function(e){return o.default.createElement(v.default,{stripInfo:e})}},{key:"_onSelectionChanged",value:function(e){if(this.props.multiple){var t=document.getElementById("select-"+this.id);if(t){var n=Array.apply(null,t.options);n=(n=n.filter(function(e){if(e.selected)return e},this)).map(function(e,t,n){return e.value},this),this.props.observableState.mobileBrowser?this.props.onSelectionChanged(n):this.queuedChanges=n}}else void 0!==e&&this.props.onSelectionChanged(e)}},{key:"_observablePropertyChanged",value:function(){var e=document.getElementById("select-"+this.id);if(e&&!this.props.multiple){var t=this.props.observableValues[this.props.stateKey],n="";t&&(n="string"==typeof t?t:t.id);var r=0;Array.apply(null,e.options).forEach(function(e){void 0!==e&&void 0!==n&&-1!==n.indexOf(e.value)&&(r=e.index)},this),e.selectedIndex=r}this.forceUpdate()}}]),t}())||r;t.default=b},function(e,t,n){"use strict";var r;void 0===(r=function(){return function(){function e(e){var t;this.div=e.div,this.extra=e.extra,t=e.dev,this.guid=e.guid,this.serviceType=e.serviceType,this.dev=new t.SubDevice(t)}return e.prototype.remove=function(){return this.dev.remove(),this.dev=null},e.prototype.finalizeConstruction=function(){},e.needsSpinner=!1,e.needsTarget=!0,e.ID="content-pane",e.label="Content",e.needsExtra=!1,e.extraLabel="",e.extraID="",e.extraCollapsable=!0,e}()}.apply(t,[]))||(e.exports=r)},function(e,t,n){"use strict";var r,i;r=[n(1),n(2),n(5)],void 0===(i=function(e,t,n){var r,i={}.hasOwnProperty;return(r=function(){var r,i,o,a,s;function l(e){var l;this.strip=e.strip,this.dev=e.dev,this.onhide=e.onhide,this.onshow=e.onshow,this.watcher=new n.Function(this.dev,(l=this,function(e){return l.isVisible(e)?l.onshow():l.onhide()})),this.watcher.realInval=this.watcher.inval,this.watcher.inval=function(e){return function(){return r?(o.push(e),i()):e.watcher.realInval()}}(this),null==a&&(a=new n.Function(this.dev.perf,function(e){var n;return null!=(n=e.get("performance/debounceStripHideShow"))&&+n>0?(r=!0,i=t.debounce(s,+n)):(r=!1,o.length>0?i.sync():void 0)}))}return o=[],s=function(){return e.each(o,function(t){return e.defer(function(){return t.update()})}),o=[]},i=null,r=!0,a=null,l.prototype.update=function(){return this.watcher.realInval()},l.prototype.isVisible=function(e){return e.mixer.stripIsAvail(this.strip)},l.prototype.remove=function(){return this.watcher.remove()},l}()).StripEnabledHideShow=function(e){function t(e){this.scope=e.scope,null==this.scope&&(this.scope="mix"),t.__super__.constructor.call(this,e)}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,r),t.prototype.isVisible=function(e){if("mix"!==this.scope&&""===e.get("preferences/auxmix/current_id"))return!1;if("auxmix"===this.scope&&"group"===this.strip.type&&"group"===e.get("preferences/auxmix/current_id").split("/")[0])return!1;if("auxmix"===this.scope&&"reverb"===this.strip.type){if("group"===e.get("preferences/auxmix/current_id").split("/")[0])return!1;if("reverb"===e.get("preferences/auxmix/current_id").split("/")[0])return!1}return e.mixer.stripIsAvailAndEnabled(this.strip,this.scope)},t}(),r}.apply(t,r))||(e.exports=i)},function(e,t,n){var r=n(10);n(46),n(14);var i=e.exports=r.sha1=r.sha1||{};r.md.sha1=r.md.algorithms.sha1=i,i.create=function(){a||(o=String.fromCharCode(128),o+=r.util.fillString(String.fromCharCode(0),64),a=!0);var e=null,t=r.util.createBuffer(),n=new Array(80),i={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var n=i.messageLengthSize/4,o=0;o<n;++o)i.fullMessageLength.push(0);return t=r.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},i}};return i.start(),i.update=function(o,a){"utf8"===a&&(o=r.util.encodeUtf8(o));var l=o.length;i.messageLength+=l,l=[l/4294967296>>>0,l>>>0];for(var u=i.fullMessageLength.length-1;u>=0;--u)i.fullMessageLength[u]+=l[1],l[1]=l[0]+(i.fullMessageLength[u]/4294967296>>>0),i.fullMessageLength[u]=i.fullMessageLength[u]>>>0,l[0]=l[1]/4294967296>>>0;return t.putBytes(o),s(e,n,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var a=r.util.createBuffer();a.putBytes(t.bytes());var l,u=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;a.putBytes(o.substr(0,i.blockLength-u));for(var c=8*i.fullMessageLength[0],h=0;h<i.fullMessageLength.length-1;++h)c+=(l=8*i.fullMessageLength[h+1])/4294967296>>>0,a.putInt32(c>>>0),c=l>>>0;a.putInt32(c);var p={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};s(p,n,a);var d=r.util.createBuffer();return d.putInt32(p.h0),d.putInt32(p.h1),d.putInt32(p.h2),d.putInt32(p.h3),d.putInt32(p.h4),d},i};var o=null,a=!1;function s(e,t,n){for(var r,i,o,a,s,l,u,c=n.length();c>=64;){for(i=e.h0,o=e.h1,a=e.h2,s=e.h3,l=e.h4,u=0;u<16;++u)r=n.getInt32(),t[u]=r,r=(i<<5|i>>>27)+(s^o&(a^s))+l+1518500249+r,l=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=r;for(;u<20;++u)r=(r=t[u-3]^t[u-8]^t[u-14]^t[u-16])<<1|r>>>31,t[u]=r,r=(i<<5|i>>>27)+(s^o&(a^s))+l+1518500249+r,l=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=r;for(;u<32;++u)r=(r=t[u-3]^t[u-8]^t[u-14]^t[u-16])<<1|r>>>31,t[u]=r,r=(i<<5|i>>>27)+(o^a^s)+l+1859775393+r,l=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=r;for(;u<40;++u)r=(r=t[u-6]^t[u-16]^t[u-28]^t[u-32])<<2|r>>>30,t[u]=r,r=(i<<5|i>>>27)+(o^a^s)+l+1859775393+r,l=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=r;for(;u<60;++u)r=(r=t[u-6]^t[u-16]^t[u-28]^t[u-32])<<2|r>>>30,t[u]=r,r=(i<<5|i>>>27)+(o&a|s&(o^a))+l+2400959708+r,l=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=r;for(;u<80;++u)r=(r=t[u-6]^t[u-16]^t[u-28]^t[u-32])<<2|r>>>30,t[u]=r,r=(i<<5|i>>>27)+(o^a^s)+l+3395469782+r,l=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=r;e.h0=e.h0+i|0,e.h1=e.h1+o|0,e.h2=e.h2+a|0,e.h3=e.h3+s|0,e.h4=e.h4+l|0,c-=64}}},function(e,t,n){var r=n(10);n(46),n(14),(e.exports=r.hmac=r.hmac||{}).create=function(){var e=null,t=null,n=null,i=null,o={start:function(o,a){if(null!==o)if("string"==typeof o){if(!((o=o.toLowerCase())in r.md.algorithms))throw new Error('Unknown hash algorithm "'+o+'"');t=r.md.algorithms[o].create()}else t=o;if(null===a)a=e;else{if("string"==typeof a)a=r.util.createBuffer(a);else if(r.util.isArray(a)){var s=a;a=r.util.createBuffer();for(var l=0;l<s.length;++l)a.putByte(s[l])}var u=a.length();u>t.blockLength&&(t.start(),t.update(a.bytes()),a=t.digest()),n=r.util.createBuffer(),i=r.util.createBuffer(),u=a.length();for(l=0;l<u;++l){s=a.at(l);n.putByte(54^s),i.putByte(92^s)}if(u<t.blockLength)for(s=t.blockLength-u,l=0;l<s;++l)n.putByte(54),i.putByte(92);e=a,n=n.bytes(),i=i.bytes()}t.start(),t.update(n)},update:function(e){t.update(e)},getMac:function(){var e=t.digest().bytes();return t.start(),t.update(i),t.update(e),t.digest()}};return o.digest=o.getMac,o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new(n(403).Dispatcher);t.default=r},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,i,o,a,s,l){if(r(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,o,a,s,l],h=0;(u=new Error(t.replace(/%s/g,function(){return c[h++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";var r,i;r=[n(3),n(16),n(33),n(1)],void 0===(i=function(e,t,n,r){var i;return i=function(e){var t;return(t=new window.Error(e)).name="CancellationError",t},function(){function o(i){var o,a,s,l,u;a=i.node,l=i.prompt,s=i.okay,(o=i.cancel)&&!r.isString(o)&&(o="Cancel"),this.node=e.appendSpec(a,{className:"confirmation"}),e.appendSpec(this.node,{className:"prompt",textContent:null!=l?l:"Please Confirm"}),o&&(o=e.appendSpec(this.node,{className:"cancel utilityBtn",textContent:o}),this.cancelListen=new t.FunctionButton({node:o,f:(u=this,function(){return u.remove()})})),s=e.appendSpec(this.node,{className:"okay utilityBtn",textContent:null!=s?s:"OK"}),this.okListen=new t.FunctionButton({node:s,f:function(e){return function(){return e.okay()}}(this)}),this.defer=n.defer(),this.promise=this.defer.promise}return o.prototype.insertAfterPrompt=function(e){return this.node.insertBefore(e,this.node.firstChild.nextSibling)},o.prototype.okay=function(){return this.defer.resolve(),this.remove()},o.prototype.cancel=function(){return this.defer.reject(i("Confirmation cancelled by user"))},o.prototype.remove=function(){var t;return this.promise.isPending()&&this.defer.reject(i("Confirmation cancelled by application")),e.remove(this.node),this.okListen.remove(),null!=(t=this.cancelListen)?t.remove():void 0},o}()}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(50),n(118),n(5),n(2)],void 0===(i=function(e,t,n,r){var i,o,a,s,l={}.hasOwnProperty,u=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};return o=function(){function e(e){this.dev=e.dev,this.path=e.path,this.levels=[]}return e.prototype.levels=null,e.prototype.update=function(e){return this.levels=e},e.prototype.doneWithUpdate=function(){return this.dev.set(this.path,this.levels)},e}(),i=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.doneWithUpdate()}return function(e,t){for(var n in t)l.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,o),t.prototype.update=function(){return t.__super__.update.apply(this,arguments),this.newVals.push(this.levels)},t.prototype.doneWithUpdate=function(){return this.dev.set(this.path,this.newVals),this.newVals=[]},t}(),a=function(){var e;function t(e){this.dev=e,this.meters={}}return e=/^((?:\w|(?:\/(?!\d)))+)(\/\d+)?$/,t.prototype.receivedMeterData=function(t){var n,r,a,s,l,c,h,p,d,f,v,m;for(d in s=[],t)t[d],null!=(p=null!=(v=e.exec(d))?v[1]:void 0)&&(h="meters/"+p,(null!=v?v[2]:void 0)?null==(n=this.meters)[h]&&(n[h]=new i({dev:this.dev,path:h})):null==(r=this.meters)[h]&&(r[h]=new o({dev:this.dev,path:h})),this.meters[h].update(t[d]),f=this.meters[h],u.call(s,f)<0&&s.push(this.meters[h]));for(m=[],l=0,c=s.length;l<c;l++)a=s[l],m.push(a.doneWithUpdate());return m},t}(),(s=function(){function t(e){this.dev=e,this.subDev=new this.dev.SubDevice(this.dev),this.StripInfo=t.StripInfo,this.subDev.mixer=this.dev.mixer=this,this.meterCalc=new a(this.dev),this.setupBusMap()}return t.prototype.setup=function(){return this.setupBusWatchers(),this.setupChanWatchers(),this.setupMeterIndexWatchers()},t.prototype.receivedMeterData=function(e){return this.meterCalc.receivedMeterData(e)},t.prototype.remove=function(){return this.subDev.remove()},t.prototype.getNumOfStripType=function(e){return"chan"===e?this.dev.router.getOBankMaxCh(this.mixOBn):this.dev.router.getIBankMaxCh(this.bus[e])},t.prototype.getOtherStereoStrip=function(e){var t,n,r;return r=(n=e.split("/"))[0],t=n[1],r+"/"+this.getOtherStereoCh(+t)},t.prototype.getMonoOrStereoName=function(t,n){var r,i;return r=(i=this.getStripFormat(t))[0],i[1],1===r?n(t):e.join([n(t),n(this.getOtherStereoStrip(t))])},t.prototype.getMonoDefaultStripName=function(e){var n,r,i,o,a;return a=new t.StripInfo(e),n=(o=this.getStripBnCn(e)).bn,r=o.cn,"chan"===a.type?((i=this.dev.router.getOBankChSrcName({bn:n,cn:r}))||(i=this.dev.router.getChNameFromBank({Bank:"OBank"},n,r)),i):this.dev.router.getChNameFromBank({Bank:"IBank"},n,r)},t.prototype.getDefaultStripName=function(e){return this.getMonoOrStereoName(e,(t=this,function(e){return t.getMonoDefaultStripName(e)}));var t},t.prototype.getMonoStripNameNoDefault=function(e){var n,r,i,o;return o=new t.StripInfo(e),n=(i=this.getStripBnCn(e)).bn,r=i.cn,"chan"===o.type?this.dev.get("ext/obank/"+n+"/ch/"+r+"/name"):this.dev.get("ext/ibank/"+n+"/ch/"+r+"/name")},t.prototype.getStripNameNoDefault=function(e){var t,n,r,i;return r=(i=this.getStripFormat(e))[0],i[1],1===r?this.getMonoStripNameNoDefault(e):(t=this.getMonoStripNameNoDefault(e),n=this.getMonoStripNameNoDefault(this.getOtherStereoStrip(e)),t||n?this.getStripName(e):"")},t.prototype.getStripName=function(e){var n;return"chan"===(n=new t.StripInfo(e)).type?this.getNthInChName(n.num):this.getBusName(e)},t.prototype.getNthInChNameImpl=function(e){var t,n,r,i;return t=(r=this.getNthChanBnCn(e)).bn,n=r.cn,(i=this.dev.get("ext/obank/"+t+"/ch/"+n+"/name"))||(i=this.dev.router.getOBankChSrcName({bn:t,cn:n})),i||(i=this.dev.router.getOBankChName({bn:t,cn:n})),i},t.prototype.getBusName=function(e){var n,r,i;return i=new t.StripInfo(e),n=(r=this.getStripFormat(e))[0],r[1],2===n?this.getInStereoChName({bn:this.bus[i.type],cn:i.num}):this.dev.router.getIBankChName({bn:this.bus[i.type],cn:i.num})},t.prototype.getOtherStereoCh=function(t){return e.getOtherStereoCh(t)},t.prototype.getNthInStereoChName=function(t){var n,r;return n=[this.getOtherStereoCh(t),t].sort().map((r=this,function(e){return r.getNthInChNameImpl(e)})),e.join(n)},t.prototype.getNthInChName=function(e){return 2==+this.dev.get("mix/chan/"+e+"/config/format").split(":")[0]?this.getNthInStereoChName(e):this.getNthInChNameImpl(e)},t.prototype.getNthChanBnCn=function(e){return{bn:this.mixOBn,cn:e}},t.prototype.getStripBnCn=function(e){var n;return"chan"===(n=new t.StripInfo(e)).type?this.getNthChanBnCn(n.num):{bn:this.getBnForStripType(n.type),cn:n.num}},t.prototype.getStripFormat=function(e){var n;return n="mix/"+e+"/config/format",this.dev.valid(n)?this.dev.get(n).split(":").map(function(e){return+e}):[2,1&new t.StripInfo(e).num]},t.prototype.getBnForStripType=function(e){return"chan"===e?this.mixOBn:this.getBnForBusType(e)},t.prototype.getBnForBusType=function(e){return this.bus[e]},t.prototype.stripIsAvail=function(e){var t;return t=this.dev.valid(e.formatPath)?this.dev.get(e.formatPath).split(":"):[2,0],e.num<this.getNumOfAvailStripType(e.type)&&0==+t[1]},t.prototype.stripIsEnabled=function(e,t){return null==t&&(t="mix"),0!=+this.dev.get("preferences/"+t+"/"+e.id+"/enabled")},t.prototype.setStripEnabled=function(e,t,n){return this.dev.set("preferences/"+t+"/"+e.id+"/enabled",n?1:0)},t.prototype.stripIsAvailAndEnabled=function(e,t){return null==t&&(t="mix"),this.stripIsAvail(e)&&this.stripIsEnabled(e,t)},t.prototype.getNumOfAvailStripType=function(e){return"chan"===e?this.dev.router.getOBankCalcCh(this.mixOBn):this.dev.router.getIBankCalcCh(this.bus[e])},t.prototype.getNthInChSrc=function(e){return this.dev.router.getOBankChSrc(this.getNthChanBnCn(e))},t.prototype.setNthInChSrc=function(e,t){var n;return n=null!=t?t.bn+":"+t.cn:"",this.dev.router.setOBankChSrc(this.getNthChanBnCn(e),n)},t.prototype.getFirstStereoCh=function(e){return 2*Math.floor(+e/2)},t.prototype.getInStereoChName=function(t){var n,r,i,o,a;return r=t.bn,i=t.cn,null==(n=t.Bank)&&(n="IBank"),o=[this.getOtherStereoCh(i),i].sort().map(function(e){return{bn:r,cn:e}}).map((a=this,function(e){return a.dev.router["get"+n+"ChName"](e)})),e.join(o)},t.prototype.calcChPathForStripType=function(e){var t;return"chan"===e?"meta/obank/"+this.mixOBn+"/calcCh":null==(t=this.bus[e])?null:"meta/ibank/"+t+"/calcCh"},t.prototype.stripAvailable=function(e){var n,r;return r=new t.StripInfo(e),null==(n=this.calcChPathForStripType(r.type))||(!this.dev.valid(n)||r.num<+this.dev.get(n))},t.prototype.getStripNamePath=function(e){var n;return"chan"===(n=new t.StripInfo(e)).type?"ext/obank/"+this.mixOBn+"/ch/"+n.num+"/name":"ext/ibank/"+this.bus[n.type]+"/ch/"+n.num+"/name"},t.prototype.setMixChanSrcIBankName=function(e,t){var n,r,i;return n=(i=this.dev.router.getOBankChSrc(this.getNthChanBnCn(e)).split(":"))[0],r=i[1],this.setNameImpl({bn:n,cn:r},"chan/"+e,t)},t.prototype.setStripName=function(n,r){var i,o,a,s;return s=new t.StripInfo(n),o=(a=this.getStripFormat(s.id))[0],a[1],2===o?(i=e.split(r),this.dev.set(this.getStripNamePath(s.type+"/"+this.getFirstStereoCh(s.num)),i[0]),this.dev.set(this.getStripNamePath(s.type+"/"+(1+this.getFirstStereoCh(s.num))),i[1])):this.dev.set(this.getStripNamePath(n),r)},t.prototype.mapAllStrips=function(e){var t,n;for(n in this.mapStripType("chan",e),t=[],this.bus)t.push(this.mapStripType(n,e));return t},t.prototype.mapStripType=function(e,n){var r,i,o,a,s,l;for(l=this.dev.valid("mix/"+e+"/0/config/format")?1:2,s=[],r=i=0,o=this.getNumOfStripType(e),a=l;a>0?i<o:i>o;r=i+=a)s.push(n(new t.StripInfo(e+"/"+r)));return s},t.prototype.updateName=function(e){return this.dev.set("meta/"+e+"/name",this.getStripName(e)),this.dev.set("meta/"+e+"/displayName",this.getStripNameNoDefault(e))},t.prototype.setupChanWatchers=function(){return this.mapStripType("chan",(e=this,function(t){return new n.Function(e.subDev,function(e){return e.mixer.updateName(t.id)})}));var e},t.prototype.setupBusMap=function(){var e;this.bus={},this.dev.router.mapIBanks((e=this,function(t,n){var r;if(null!=(r={"Mix Monitor":"monitor","Mix Main":"main","Mix Aux":"aux","Mix Group":"group","Mix Reverb":"reverb"})[t])return e.bus[r[t]]=n})),this.dev.router.mapOBanks(function(e){return function(t,n){if("Mix In"===t)return e.mixOBn=n}}(this))},t.prototype.setupBusWatchers=function(){var e,t,r,i,o;for(t in o=[],i=this.bus)l.call(i,t)&&(e=i[t],o.push(function(){var i,o,a;for(a=[],r=i=0,o=this.dev.router.getIBankMaxCh(e);0<=o?i<o:i>o;r=0<=o?++i:--i)a.push(function(e){return function(t,r){return new n.Function(e.subDev,function(e){return e.mixer.updateName(t+"/"+r)})}}(this)(t,r));return a}.call(this)));return o},t.prototype.setupMeterIndexWatchers=function(){var e,t,r,i,o;for(o=[],e=0,t=(i=["comp","leveler","gate","level"]).length;e<t;e++)r=i[e],o.push(function(e){return function(t){var r;return r=function(e,n){return"level"===t||u.call(n.get("mix/ctrls/"+e).split(":"),t)>=0},new n.Function(e.subDev,function(e){var n,i,o,a,s,l,u;if(i=0,null!=e.get("mix/meterStripOrder")){for(l=[],o=0,a=(s=e.get("mix/meterStripOrder").split(":")).length;o<a;o++)u=s[o],e.set("meta/meterIndex/"+t+"/"+u,i),r(u,e)?(n=e.mixer.getNumOfAvailStripType(u),e.valid("mix/"+u+"/0/config/format")||"level"===t||(n/=2),l.push(i+=n)):l.push(void 0);return l}})}}(this)(r));return o},t.prototype.setNameImpl=function(t,n,r){var i,o,a,s;if(i=t.bn,o=t.cn,a="mix/"+n+"/config/format",this.dev.valid(a)&&2!==this.dev.get(a).split(":")[0]){if(null!=i&&null!=o)return this.dev.router.setIBankChName({bn:i,cn:o},r)}else s=e.split(r),this.dev.router.setIBankChName({bn:i,cn:o},s[0]),this.dev.router.setIBankChName({bn:i,cn:+o+1},s[1])},t}()).StripInfo=t,s}.apply(t,r))||(e.exports=i)},function(e,t,n){(function(n){var r;t=e.exports=Q,r="object"==typeof n&&Object({NODE_ENV:"production"})&&Object({NODE_ENV:"production"}).NODE_DEBUG&&/\bsemver\b/i.test(Object({NODE_ENV:"production"}).NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var i=256,o=Number.MAX_SAFE_INTEGER||9007199254740991,a=t.re=[],s=t.src=[],l=0,u=l++;s[u]="0|[1-9]\\d*";var c=l++;s[c]="[0-9]+";var h=l++;s[h]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var p=l++;s[p]="("+s[u]+")\\.("+s[u]+")\\.("+s[u]+")";var d=l++;s[d]="("+s[c]+")\\.("+s[c]+")\\.("+s[c]+")";var f=l++;s[f]="(?:"+s[u]+"|"+s[h]+")";var v=l++;s[v]="(?:"+s[c]+"|"+s[h]+")";var m=l++;s[m]="(?:-("+s[f]+"(?:\\."+s[f]+")*))";var g=l++;s[g]="(?:-?("+s[v]+"(?:\\."+s[v]+")*))";var b=l++;s[b]="[0-9A-Za-z-]+";var y=l++;s[y]="(?:\\+("+s[b]+"(?:\\."+s[b]+")*))";var C=l++,x="v?"+s[p]+s[m]+"?"+s[y]+"?";s[C]="^"+x+"$";var _="[v=\\s]*"+s[d]+s[g]+"?"+s[y]+"?",w=l++;s[w]="^"+_+"$";var S=l++;s[S]="((?:<|>)?=?)";var k=l++;s[k]=s[c]+"|x|X|\\*";var T=l++;s[T]=s[u]+"|x|X|\\*";var E=l++;s[E]="[v=\\s]*("+s[T]+")(?:\\.("+s[T]+")(?:\\.("+s[T]+")(?:"+s[m]+")?"+s[y]+"?)?)?";var P=l++;s[P]="[v=\\s]*("+s[k]+")(?:\\.("+s[k]+")(?:\\.("+s[k]+")(?:"+s[g]+")?"+s[y]+"?)?)?";var I=l++;s[I]="^"+s[S]+"\\s*"+s[E]+"$";var B=l++;s[B]="^"+s[S]+"\\s*"+s[P]+"$";var N=l++;s[N]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var M=l++;s[M]="(?:~>?)";var O=l++;s[O]="(\\s*)"+s[M]+"\\s+",a[O]=new RegExp(s[O],"g");var A=l++;s[A]="^"+s[M]+s[E]+"$";var L=l++;s[L]="^"+s[M]+s[P]+"$";var D=l++;s[D]="(?:\\^)";var R=l++;s[R]="(\\s*)"+s[D]+"\\s+",a[R]=new RegExp(s[R],"g");var F=l++;s[F]="^"+s[D]+s[E]+"$";var V=l++;s[V]="^"+s[D]+s[P]+"$";var U=l++;s[U]="^"+s[S]+"\\s*("+_+")$|^$";var j=l++;s[j]="^"+s[S]+"\\s*("+x+")$|^$";var H=l++;s[H]="(\\s*)"+s[S]+"\\s*("+_+"|"+s[E]+")",a[H]=new RegExp(s[H],"g");var z=l++;s[z]="^\\s*("+s[E]+")\\s+-\\s+("+s[E]+")\\s*$";var G=l++;s[G]="^\\s*("+s[P]+")\\s+-\\s+("+s[P]+")\\s*$";var q=l++;s[q]="(<|>)?=?\\s*\\*";for(var W=0;W<l;W++)r(W,s[W]),a[W]||(a[W]=new RegExp(s[W]));function K(e,t){if(e instanceof Q)return e;if("string"!=typeof e)return null;if(e.length>i)return null;if(!(t?a[w]:a[C]).test(e))return null;try{return new Q(e,t)}catch(e){return null}}function Q(e,t){if(e instanceof Q){if(e.loose===t)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>i)throw new TypeError("version is longer than "+i+" characters");if(!(this instanceof Q))return new Q(e,t);r("SemVer",e,t),this.loose=t;var n=e.trim().match(t?a[w]:a[C]);if(!n)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<o)return t}return e}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}t.parse=K,t.valid=function(e,t){var n=K(e,t);return n?n.version:null},t.clean=function(e,t){var n=K(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},t.SemVer=Q,Q.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},Q.prototype.toString=function(){return this.version},Q.prototype.compare=function(e){return r("SemVer.compare",this.version,this.loose,e),e instanceof Q||(e=new Q(e,this.loose)),this.compareMain(e)||this.comparePre(e)},Q.prototype.compareMain=function(e){return e instanceof Q||(e=new Q(e,this.loose)),X(this.major,e.major)||X(this.minor,e.minor)||X(this.patch,e.patch)},Q.prototype.comparePre=function(e){if(e instanceof Q||(e=new Q(e,this.loose)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return X(n,i)}while(++t)},Q.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new Q(e,n).inc(t,r).version}catch(e){return null}},t.diff=function(e,t){if(ee(e,t))return null;var n=K(e),r=K(t);if(n.prerelease.length||r.prerelease.length){for(var i in n)if(("major"===i||"minor"===i||"patch"===i)&&n[i]!==r[i])return"pre"+i;return"prerelease"}for(var i in n)if(("major"===i||"minor"===i||"patch"===i)&&n[i]!==r[i])return i},t.compareIdentifiers=X;var Y=/^[0-9]+$/;function X(e,t){var n=Y.test(e),r=Y.test(t);return n&&r&&(e=+e,t=+t),n&&!r?-1:r&&!n?1:e<t?-1:e>t?1:0}function $(e,t,n){return new Q(e,n).compare(new Q(t,n))}function Z(e,t,n){return $(e,t,n)>0}function J(e,t,n){return $(e,t,n)<0}function ee(e,t,n){return 0===$(e,t,n)}function te(e,t,n){return 0!==$(e,t,n)}function ne(e,t,n){return $(e,t,n)>=0}function re(e,t,n){return $(e,t,n)<=0}function ie(e,t,n,r){var i;switch(t){case"===":"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),i=e===n;break;case"!==":"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),i=e!==n;break;case"":case"=":case"==":i=ee(e,n,r);break;case"!=":i=te(e,n,r);break;case">":i=Z(e,n,r);break;case">=":i=ne(e,n,r);break;case"<":i=J(e,n,r);break;case"<=":i=re(e,n,r);break;default:throw new TypeError("Invalid operator: "+t)}return i}function oe(e,t){if(e instanceof oe){if(e.loose===t)return e;e=e.value}if(!(this instanceof oe))return new oe(e,t);r("comparator",e,t),this.loose=t,this.parse(e),this.semver===ae?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}t.rcompareIdentifiers=function(e,t){return X(t,e)},t.major=function(e,t){return new Q(e,t).major},t.minor=function(e,t){return new Q(e,t).minor},t.patch=function(e,t){return new Q(e,t).patch},t.compare=$,t.compareLoose=function(e,t){return $(e,t,!0)},t.rcompare=function(e,t,n){return $(t,e,n)},t.sort=function(e,n){return e.sort(function(e,r){return t.compare(e,r,n)})},t.rsort=function(e,n){return e.sort(function(e,r){return t.rcompare(e,r,n)})},t.gt=Z,t.lt=J,t.eq=ee,t.neq=te,t.gte=ne,t.lte=re,t.cmp=ie,t.Comparator=oe;var ae={};function se(e,t){if(e instanceof se)return e.loose===t?e:new se(e.raw,t);if(e instanceof oe)return new se(e.value,t);if(!(this instanceof se))return new se(e,t);if(this.loose=t,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(e){return this.parseRange(e.trim())},this).filter(function(e){return e.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function le(e){return!e||"x"===e.toLowerCase()||"*"===e}function ue(e,t,n,r,i,o,a,s,l,u,c,h,p){return((t=le(n)?"":le(r)?">="+n+".0.0":le(i)?">="+n+"."+r+".0":">="+t)+" "+(s=le(l)?"":le(u)?"<"+(+l+1)+".0.0":le(c)?"<"+l+"."+(+u+1)+".0":h?"<="+l+"."+u+"."+c+"-"+h:"<="+s)).trim()}function ce(e,t){for(var n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length){for(n=0;n<e.length;n++)if(r(e[n].semver),e[n].semver!==ae&&e[n].semver.prerelease.length>0){var i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function he(e,t,n){try{t=new se(t,n)}catch(e){return!1}return t.test(e)}function pe(e,t,n,r){var i,o,a,s,l;switch(e=new Q(e,r),t=new se(t,r),n){case">":i=Z,o=re,a=J,s=">",l=">=";break;case"<":i=J,o=ne,a=Z,s="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(he(e,t,r))return!1;for(var u=0;u<t.set.length;++u){var c=null,h=null;if(t.set[u].forEach(function(e){e.semver===ae&&(e=new oe(">=0.0.0")),c=c||e,h=h||e,i(e.semver,c.semver,r)?c=e:a(e.semver,h.semver,r)&&(h=e)}),c.operator===s||c.operator===l)return!1;if((!h.operator||h.operator===s)&&o(e,h.semver))return!1;if(h.operator===l&&a(e,h.semver))return!1}return!0}oe.prototype.parse=function(e){var t=this.loose?a[U]:a[j],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new Q(n[2],this.loose):this.semver=ae},oe.prototype.toString=function(){return this.value},oe.prototype.test=function(e){return r("Comparator.test",e,this.loose),this.semver===ae||("string"==typeof e&&(e=new Q(e,this.loose)),ie(e,this.operator,this.semver,this.loose))},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Comparator is required");var n;if(""===this.operator)return n=new se(e.value,t),he(this.value,n,t);if(""===e.operator)return n=new se(this.value,t),he(e.semver,n,t);var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,a=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),s=ie(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),l=ie(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||i||o&&a||s||l},t.Range=se,se.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range},se.prototype.toString=function(){return this.range},se.prototype.parseRange=function(e){var t=this.loose;e=e.trim(),r("range",e,t);var n=t?a[G]:a[z];e=e.replace(n,ue),r("hyphen replace",e),e=e.replace(a[H],"$1$2$3"),r("comparator trim",e,a[H]),e=(e=(e=e.replace(a[O],"$1~")).replace(a[R],"$1^")).split(/\s+/).join(" ");var i=t?a[U]:a[j],o=e.split(" ").map(function(e){return function(e,t){return r("comp",e),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(e,t){r("caret",e,t);var n=t?a[V]:a[F];return e.replace(n,function(t,n,i,o,a){var s;return r("caret",e,t,n,i,o,a),le(n)?s="":le(i)?s=">="+n+".0.0 <"+(+n+1)+".0.0":le(o)?s="0"===n?">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":">="+n+"."+i+".0 <"+(+n+1)+".0.0":a?(r("replaceCaret pr",a),"-"!==a.charAt(0)&&(a="-"+a),s="0"===n?"0"===i?">="+n+"."+i+"."+o+a+" <"+n+"."+i+"."+(+o+1):">="+n+"."+i+"."+o+a+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+o+a+" <"+(+n+1)+".0.0"):(r("no pr"),s="0"===n?"0"===i?">="+n+"."+i+"."+o+" <"+n+"."+i+"."+(+o+1):">="+n+"."+i+"."+o+" <"+n+"."+(+i+1)+".0":">="+n+"."+i+"."+o+" <"+(+n+1)+".0.0"),r("caret return",s),s})}(e,t)}).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(e,t){var n=t?a[L]:a[A];return e.replace(n,function(t,n,i,o,a){var s;return r("tilde",e,t,n,i,o,a),le(n)?s="":le(i)?s=">="+n+".0.0 <"+(+n+1)+".0.0":le(o)?s=">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":a?(r("replaceTilde pr",a),"-"!==a.charAt(0)&&(a="-"+a),s=">="+n+"."+i+"."+o+a+" <"+n+"."+(+i+1)+".0"):s=">="+n+"."+i+"."+o+" <"+n+"."+(+i+1)+".0",r("tilde return",s),s})}(e,t)}).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map(function(e){return function(e,t){e=e.trim();var n=t?a[B]:a[I];return e.replace(n,function(t,n,i,o,a,s){r("xRange",e,t,n,i,o,a,s);var l=le(i),u=l||le(o),c=u||le(a),h=c;return"="===n&&h&&(n=""),l?t=">"===n||"<"===n?"<0.0.0":"*":n&&h?(u&&(o=0),c&&(a=0),">"===n?(n=">=",u?(i=+i+1,o=0,a=0):c&&(o=+o+1,a=0)):"<="===n&&(n="<",u?i=+i+1:o=+o+1),t=n+i+"."+o+"."+a):u?t=">="+i+".0.0 <"+(+i+1)+".0.0":c&&(t=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),r("xRange return",t),t})}(e,t)}).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(a[q],"")}(e,t),r("stars",e),e}(e,t)}).join(" ").split(/\s+/);return this.loose&&(o=o.filter(function(e){return!!e.match(i)})),o=o.map(function(e){return new oe(e,t)})},se.prototype.intersects=function(e,t){if(!(e instanceof se))throw new TypeError("a Range is required");return this.set.some(function(n){return n.every(function(n){return e.set.some(function(e){return e.every(function(e){return n.intersects(e,t)})})})})},t.toComparators=function(e,t){return new se(e,t).set.map(function(e){return e.map(function(e){return e.value}).join(" ").trim().split(" ")})},se.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new Q(e,this.loose));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e))return!0;return!1},t.satisfies=he,t.maxSatisfying=function(e,t,n){var r=null,i=null;try{var o=new se(t,n)}catch(e){return null}return e.forEach(function(e){o.test(e)&&(r&&-1!==i.compare(e)||(i=new Q(r=e,n)))}),r},t.minSatisfying=function(e,t,n){var r=null,i=null;try{var o=new se(t,n)}catch(e){return null}return e.forEach(function(e){o.test(e)&&(r&&1!==i.compare(e)||(i=new Q(r=e,n)))}),r},t.validRange=function(e,t){try{return new se(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,n){return pe(e,t,"<",n)},t.gtr=function(e,t,n){return pe(e,t,">",n)},t.outside=pe,t.prerelease=function(e,t){var n=K(e,t);return n&&n.prerelease.length?n.prerelease:null},t.intersects=function(e,t,n){return e=new se(e,n),t=new se(t,n),e.intersects(t)},t.coerce=function(e){if(e instanceof Q)return e;if("string"!=typeof e)return null;var t=e.match(a[N]);return null==t?null:K((t[1]||"0")+"."+(t[2]||"0")+"."+(t[3]||"0"))}}).call(this,n(54))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(31)),c(n(6)),c(n(25)),c(n(0))),a=(c(n(13)),n(12)),s=n(4),l=(c(n(19)),c(n(11)),n(20),c(n(15)),c(n(81))),u=c(n(217));function c(e){return e&&e.__esModule?e:{default:e}}var h=(0,a.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.saveSettings=n.saveSettings.bind(n),n.restoreSettings=n.restoreSettings.bind(n),n._onToggle=n._onToggle.bind(n),n._toggleInternal=n._toggleInternal.bind(n),n._onResize=n._onResize.bind(n),n._toggleCounterpart=n._toggleCounterpart.bind(n),n._resizeCounterpart=n._resizeCounterpart.bind(n),"collapsed"===n.props.mode?e.observableState.collapsedNavAccordions.set(n.props.id,n):"expanded"===n.props.mode&&e.observableState.expandedNavAccordions.set(n.props.id,n),n.observableState=(0,s.observable)({expanded:!1,maxHeight:null,selectedValue:null}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"componentDidMount",value:function(){this.elementResizeEvent=(0,l.default)(this.refs.ButtonContainer,this._onResize),this.restoreSettings(),this.expandedDisposer=(0,s.observe)(this.observableState,"expanded",this.saveSettings)}},{key:"componentDidUpdate",value:function(e,t){}},{key:"componentWillUnmount",value:function(){}},{key:"saveSettings",value:function(){window.localStorage.setItem(this.props.id+"-expanded",this.observableState.expanded)}},{key:"restoreSettings",value:function(){"true"==window.localStorage.getItem(this.props.id+"-expanded")&&this._toggleInternal()}},{key:"render",value:function(){return o.default.createElement("div",{ref:"AccordionContainer",className:u.default.Accordion},o.default.createElement("div",{onClick:this._onToggle},this.props.toggle),o.default.createElement("div",{id:this.props.id+"-buttoncontainer",ref:"ButtonContainer",className:u.default.AccordionContent,style:{maxHeight:this.observableState.maxHeight}},this.props.items))}},{key:"_onToggle",value:function(e){this._toggleInternal(),this._toggleCounterpart()}},{key:"_toggleInternal",value:function(e){this.observableState.expanded=!this.observableState.expanded,this.observableState.maxHeight=e||(this.observableState.expanded?this.refs.ButtonContainer.scrollHeight:null)}},{key:"_onResize",value:function(e){if(this.observableState.expanded){for(var t=this.refs.ButtonContainer.children,n=0,r=0;r<t.length;r++)n+=t[r].scrollHeight;this._resizeInternal(n),this._resizeCounterpart(n)}}},{key:"_resizeInternal",value:function(e){this.observableState.maxHeight=e}},{key:"_toggleCounterpart",value:function(){if("collapsed"===this.props.mode){var e=this.props.observableState.expandedNavAccordions.get(this.props.id.replace("collapsed","expanded"));e&&e._toggleInternal(this.observableState.maxHeight)}else if("expanded"===this.props.mode){var t=this.props.observableState.collapsedNavAccordions.get(this.props.id.replace("expanded","collapsed"));t&&t._toggleInternal(this.observableState.maxHeight)}}},{key:"_resizeCounterpart",value:function(e){if("collapsed"===this.props.mode){var t=this.props.observableState.expandedNavAccordions.get(this.props.id.replace("collapsed","expanded"));t&&t._resizeInternal(e)}else if("expanded"===this.props.mode){var n=this.props.observableState.collapsedNavAccordions.get(this.props.id.replace("expanded","collapsed"));n&&n._resizeInternal(e)}}}]),t}())||r;t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=w(n(0)),a=(w(n(13)),w(n(57))),s=w(n(56)),l=n(23),u=w(n(6)),c=_(n(18)),h=n(9),p=(n(26),n(58)),d=_(n(39)),f=_(n(35)),v=n(37),m=n(48),g=w(n(103)),b=(w(n(15)),w(n(11))),y=w(n(256)),C=n(12),x=n(4);function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function w(e){return e&&e.__esModule?e:{default:e}}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=Math.round,T={dB:(0,s.default)({prefix:"",suffix:" dB",includeThousandsSeparator:!1,allowDecimal:!0,allowNegative:!0}),linear:(0,s.default)({prefix:"",suffix:" dB",includeThousandsSeparator:!1,allowDecimal:!0,allowNegative:!0}),Hz:(0,s.default)({prefix:"",suffix:" Hz",allowDecimal:!0}),octaves:(0,s.default)({prefix:"",suffix:" octaves",allowDecimal:!0}),ms:(0,s.default)({prefix:"",suffix:" ms",includeThousandsSeparator:!0,allowDecimal:!0,allowNegative:!0}),"%":(0,s.default)({prefix:"",suffix:" %",includeThousandsSeparator:!1,allowDecimal:!0,allowNegative:!0}),none:(0,s.default)({prefix:"",suffix:"",includeThousandsSeparator:!0,allowDecimal:!0,allowNegative:!0})},E={freq:new p.FrequencyWarp,threshold:new d.Threshold(Object)},P={hpf:h.EQSettingsOrder,eq:h.EQSettingsOrder,gate:h.GateSettingsOrder,comp:h.CompSettingsOrder,reverb:h.ReverbSettingsOrder,leveler:h.LevelerSettingsOrder},I=(0,C.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.id=Math.random().toString(36).substring(7),n.addChangeListeners=n.addChangeListeners.bind(n),n.removeChangeListeners=n.removeChangeListeners.bind(n),n._initControls=n._initControls.bind(n),n._refreshValues=n._refreshValues.bind(n),n._createPresetUI=n._createPresetUI.bind(n),n._renderUnavailable=n._renderUnavailable.bind(n),n._renderControls=n._renderControls.bind(n),n._renderButton=n._renderButton.bind(n),n._renderSlider=n._renderSlider.bind(n),n._renderText=n._renderText.bind(n),n._moduleTouchStart=n._moduleTouchStart.bind(n),n._onAvailableChange=n._onAvailableChange.bind(n),n._onStoreChange=n._onStoreChange.bind(n),n._eqDraggingChange=n._eqDraggingChange.bind(n),n._onButtonClick=n._onButtonClick.bind(n),n._onSliderChange=n._onSliderChange.bind(n),n._onSliderDoubleClick=n._onSliderDoubleClick.bind(n),n._onTextChange=n._onTextChange.bind(n),n._onTextKeyDown=n._onTextKeyDown.bind(n),n._setCursorPos=n._setCursorPos.bind(n),n.queuedChanges=new Map;var r=n.props.controlsPath.split("/"),i=r[0]+"/"+r[1]+"/"+r[2];return n.availablePath=i+"/avail",n.controls=n._initControls(n.props.controlsPath,n.props.stripInfo),n._refreshValues(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"componentWillUpdate",value:function(e,t){void 0!==e.controlsPath&&void 0!==e.stripInfo&&(this.props.stripInfo.id===e.stripInfo.id&&this.props.controlsPath===e.controlsPath||(this.removeChangeListeners(),this.controls=this._initControls(e.controlsPath,e.stripInfo),this.controlKeys=Object.keys(this.controls),this._refreshValues(),this._createPresetUI(e.stripInfo,e.scope),this.addChangeListeners()))}},{key:"componentDidMount",value:function(){this.addChangeListeners(),this.draggingEQGraphDisposer=(0,x.observe)(this.props.observableState,"draggingEQGraph",this._eqDraggingChange),this._createPresetUI(this.props.stripInfo,this.props.scope)}},{key:"componentWillUnmount",value:function(){this.removeChangeListeners(),this.draggingEQGraphDisposer()}},{key:"addChangeListeners",value:function(){var e=this.id,t=this._onStoreChange,n=this.controls;u.default.addChangeListener(e,this._onAvailableChange,this.availablePath),this.controlKeys.map(function(r){var i=n[r];u.default.addChangeListener(e,t,i.valuePath)})}},{key:"removeChangeListeners",value:function(){var e=this.id,t=this._onStoreChange,n=this.controls;u.default.removeChangeListener(e,this._onAvailableChange,this.availablePath),this.controlKeys.map(function(r){var i=n[r];u.default.removeChangeListener(e,t,i.valuePath)})}},{key:"_refreshValues",value:function(){this.controlKeys=Object.keys(this.controls),this.tabIndex=0,this.observableState=(0,x.observable)({available:u.default.get(this.availablePath)});for(var e=0;e<this.controlKeys.length;e++){var t=this.controls[this.controlKeys[e]];if(u.default.has(t.valuePath)){var n={};n[t.name]=u.default.get(t.valuePath),(0,x.extendObservable)(this.observableState,n)}}}},{key:"_createPresetUI",value:function(e,t){this.refs.presetContainer&&(this.presetPane=new g.default({scope:t,wildcards:{type:e.type,num:e.num},node:this.refs.presetContainer,dev:(0,l.getInjectedDevice)(),extraCss:"devBtn"}))}},{key:"_initControls",value:function(e,t){var n={};if(void 0!==e){var r=e.split("/");r[0],r[1],r[2];this.controlOrder=P[r[2]],n=u.default.getControlsFromPath(e,t.basePath)}return n}},{key:"render",value:function(){var e=-1!==Object.keys(this.controls).indexOf("enable")&&!!u.default.get(this.controls.enable.valuePath);return this.observableState.available||e?o.default.createElement("table",{onTouchStart:this._moduleTouchStart,className:y.default.SettingsModule},o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement("td",null,o.default.createElement("span",{ref:"presetContainer",className:"presetContainer "+y.default.PresetContainer})),this.props.header?o.default.createElement("td",{className:y.default.HeaderCell,colSpan:"2"},o.default.createElement("h3",null,this.props.header)):null),this._renderControls(this.controls))):this._renderUnavailable()}},{key:"_renderUnavailable",value:function(){var e=this.props.header?this.props.header.toLowerCase():"effect",t=u.default.get("uid"),n=u.default.getSampleRate(t);return o.default.createElement("div",{onTouchStart:this._moduleTouchStart,className:y.default.SettingsModule},192e3!==n?o.default.createElement("div",{className:y.default.UnavailableTextContainer},o.default.createElement("h3",null,"Cannot enable this ",e," because the DSP is overloaded."),o.default.createElement("h3",null,"Please disable other effects.")):o.default.createElement("div",{className:y.default.UnavailableTextContainer},o.default.createElement("h3",null,"Effects are disabled at this sample rate.")))}},{key:"_renderControls",value:function(e){var t=this._renderButton,n=this._renderSlider,r=this._renderText;return this.controlOrder.map(function(i){var a=e[i];if(void 0!==a)return o.default.createElement("tr",null,o.default.createElement("td",{className:y.default.SettingsModuleReadoutCell},a.name.capitalize(),o.default.createElement("br",null),"int"===a.type||"real"===a.type?r(a):null),o.default.createElement("td",{className:y.default.SettingsModuleControlCell},"enum"===a.type||"bool"===a.type?t(a):null,"int"===a.type||"real"===a.type?n(a):null))},this)}},{key:"_renderButton",value:function(e){var t=this._onButtonClick;if("enum"===e.type){var n=Object.keys(e.values);return n.map(function(r){var i=parseInt(r),a=e.values[r],s=""+e.name+a+"Button",l="100%",u="0";return 0==i||i==n.length-1?(l=100/n.length-1+"%",u=0==i?"0 1% 0 0":"0 0 0 1%"):(l=100/n.length-2+"%",u="0 1% 0 1%"),o.default.createElement(v.Button,{ref:s,id:s,key:e.name+"-"+a,style:{display:"inline-block",width:l,margin:u},className:(0,b.default)(S({},v.ButtonStyles.BLUE,this.observableState[e.name]==r)),onClick:function(){t(e,i)}},a.toUpperCase())},this)}if("bool"===e.type){var r=e.name+"Button",i=v.ButtonStyles.BLUE;return"enable"===e.name&&("eq"===e.parent?i=h.EQBandButtonStyles[e.subparent]:"hpf"===e.parent?i=h.EQBandButtonStyles[e.parent]:"gate"===e.parent?i=v.ButtonStyles.TEAL:"comp"===e.parent&&(i=v.ButtonStyles.PURPLE)),o.default.createElement(v.Button,{ref:r,id:r,key:e.name,style:{fontFamily:"iec_symbols_unicoderegular",fontSize:"1em"},className:(0,b.default)(S({},i,this.observableState[e.name])),onClick:function(){t(e)}},"⏻")}}},{key:"_renderSlider",value:function(e){var t=e.name+"Slider",n="comp"===e.parent?void 0:E[e.name];return o.default.createElement(m.Slider,{ref:t,id:t,key:e.name,warpType:n,minValue:e.min,maxValue:e.max,observableValues:this.observableState,observableState:this.props.observableState,stateKey:e.name,valuePath:e.valuePath,anchorType:h.SliderTrackAnchorTypes.LEFT_TO_RIGHT,onChange:this._onSliderChange,onDoubleClick:this._onSliderDoubleClick},o.default.createElement(m.SliderTrack,{trackWidth:4},o.default.createElement(m.SliderThumb,null)))}},{key:"_renderText",value:function(e){var t=e.name+"Text",n=this._onTextChange,r=this._onTextKeyDown,i="";(""===(i="gate"===e.parent&&"threshold"===e.name?k(100*f.sliderValueToGateThreshold(this.observableState.threshold))/100:k(100*this.observableState[e.name])/100)||void 0==i||null==i||isNaN(i))&&(i=e.default),this.tabIndex++;var s=this.tabIndex;return o.default.createElement(a.default,{ref:t,id:t,key:e.name,type:"tel",mask:T[e.unit],placeholderChar:"∞",className:y.default.SettingsModuleTextInput,value:i,tabIndex:s,onChange:function(t){n(t,e)},onKeyDown:function(t){r(t,e)}})}},{key:"_moduleTouchStart",value:function(e){}},{key:"_onAvailableChange",value:function(){this.observableState.available=u.default.get(this.availablePath)}},{key:"_onStoreChange",value:function(e){if(void 0!==e)if(this.props.observableState.draggingEQGraph)this.queuedChanges.set(e,u.default.get(e));else{var t=e.split("/");this.observableState[t[t.length-1]]=u.default.get(e)}}},{key:"_eqDraggingChange",value:function(){this.props.observableState.draggingEQGraph||this.queuedChanges.forEach(function(e,t){var n=t.split("/");this.observableState[n[n.length-1]]=e},this)}},{key:"_onButtonClick",value:function(e,t){t?c.setAny(e.valuePath,t):c.setAny(e.valuePath,+!this.observableState[e.name])}},{key:"_onSliderChange",value:function(e,t){void 0!==e&&void 0!==t&&c.setAny(t,e)}},{key:"_onSliderDoubleClick",value:function(e,t){if(void 0!==e&&void 0!==t){var n=this.controls[e];c.setAny(t,n.default)}}},{key:"_onTextChange",value:function(e,t){if(e.target instanceof HTMLInputElement){var n=null,r=null;"gate"===t.parent&&"threshold"===t.name&&"linear"==t.unit&&"-∞ dB"!==e.target.value?(n=f.gateThresholdToSliderValue(e.target.value.replace(" dB","").replace(",","")),r=Math.min(Math.max(n,t.min),t.max)):""!=e.target.value&&e.target.value!=="-∞ "+t.unit&&(n=Number(e.target.value.replace(" "+t.unit,"").replace(",","")),r=Math.min(Math.max(n,t.min),t.max)),n==r||null===r||isNaN(n)||(e.target.value=r)}}},{key:"_onTextKeyDown",value:function(e,t){13!==e.keyCode&&9!==e.keyCode||("gate"===t.parent&&"threshold"===t.name?c.setAny(t.valuePath,f.gateThresholdToSliderValue(e.target.value.replace(" dB","").replace(",",""))):c.setAny(t.valuePath,Number(e.target.value.replace(" "+t.unit,"").replace(",",""))))}},{key:"_setCursorPos",value:function(e,t){if(!(e="string"==typeof e||e instanceof String?document.getElementById(e):e))return!1;if(e.createTextRange){var n=e.createTextRange();return n.collapse(!0),n.moveEnd(t),n.moveStart(t),n.select(),!0}return!!e.setSelectionRange&&(e.setSelectionRange(t,t),!0)}}]),t}())||r;t.default=I},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},t.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},t.ACTION={SHOW:"SHOW_TOAST",CLEAR:"CLEAR_TOAST",MOUNTED:"CONTAINER_MOUNTED",ON_CHANGE:"ON_CHANGE"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function e(t,n){if(t===n)return!0;if("object"!==(void 0===t?"undefined":r(t))||null===t||"object"!==(void 0===n?"undefined":r(n))||null===n)return!1;var i=Object.keys(t);var o=Object.keys(n);if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++){var s=i[a];if(!t.hasOwnProperty(s))return!1;var l=t[s],u=n[s];if(l!==u){if("object"!==(void 0===l?"undefined":r(l))&&"object"!==(void 0===u?"undefined":r(u)))return!1;if(!e(l,u))return!1}}return!0}},function(e,t){var n=function(){var e=this,t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||function(t){return e.setTimeout(t,20)};return function(e){return t(e)}}(),r=function(){var e=this.cancelAnimationFrame||this.mozCancelAnimationFrame||this.webkitCancelAnimationFrame||this.clearTimeout;return function(t){return e(t)}}();function i(e){var t=e.target||e.srcElement;t.__resizeRAF__&&r(t.__resizeRAF__),t.__resizeRAF__=n(function(){var n=t.__resizeTrigger__;n.__resizeListeners__.forEach(function(t){t.call(n,e)})})}t=function(e,t){var n,r=this.document,o=r.attachEvent;if("undefined"!=typeof navigator&&(n=navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/Edge/)),!e.__resizeListeners__)if(e.__resizeListeners__=[],o)e.__resizeTrigger__=e,e.attachEvent("onresize",i);else{"static"===getComputedStyle(e).position&&(e.style.position="relative");var a=e.__resizeTrigger__=r.createElement("object");a.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1; opacity: 0;"),a.setAttribute("class","resize-sensor"),a.__resizeElement__=e,a.onload=function(){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",i)},a.type="text/html",n&&e.appendChild(a),a.data="about:blank",n||e.appendChild(a)}e.__resizeListeners__.push(t)};e.exports="undefined"==typeof window?t:t.bind(window),e.exports.unbind=function(e,t){var n=document.attachEvent;t?e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1):e.__resizeListeners__=[],e.__resizeListeners__.length||(n?e.detachEvent("onresize",i):(e.__resizeTrigger__.contentDocument.defaultView.removeEventListener("resize",i),delete e.__resizeTrigger__.contentDocument.defaultView.__resizeTrigger__,e.__resizeTrigger__=!e.removeChild(e.__resizeTrigger__)),delete e.__resizeListeners__)}},function(e,t,n){"use strict";var r,i;r=[n(3),n(1),n(22),n(2)],void 0===(i=function(e,t,n,r){var i=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};return function(){function o(r){var i,a,s,l,u,c,h,p;i=r.dev,a=r.node,u=null!=(c=null!=(u=r.options)?u:t.clone(u))?c:{},t.defaults(u,{position:"corner",dontKill:[]}),this.dontKill=u.dontKill,this.onremove=u.onremove,o.killAllZombies("new tooltip"),o.allTooltips.push(this),this.useCount=1,this.div=e.appendSpec(document.body,{className:"toolTip"}),null!=i&&(this.dev=new i.SubDevice(i)),h=e.getBoundingClientRect(a),document.documentElement.clientHeight,window.innerHeight,l=document.body.scrollTop,s=document.body.scrollLeft,{corner:(p=this,function(){return h.top-p.safeDistanceFromTop<0?e.setTop(p.div,h.bottom+l):e.setTop(p.div,h.top-p.safeDistanceFromTop+l),h.right+p.safeDistanceFromLeft>window.innerWidth?e.setLeft(p.div,h.left-p.safeDistanceFromLeft+s):e.setLeft(p.div,h.right+s)}),cover:function(t){return function(){return e.setLeft(t.div,h.left),e.setTop(t.div,h.top)}}(this)}[u.position](),this.listener=new n.Listener({proxy:this,events:["dragdown","keydown"],node:document,options:{capture:!0}}),e.show(this.div)}return o.prototype.keepAlive=function(){return this.useCount+=1,this.cancelZombie()},o.prototype.remove=function(e){if(null==e&&(e=0),this.useCount-=1,this.useCount<=0)return 0==+e?this.doRemove():this.startZombie(+e)},o.prototype.safeDistanceFromLeft=75,o.prototype.safeDistanceFromTop=15,o.nodeIsContainedByToolTip=function(t){for(;null!=t;){try{if(e.testClass(t,"toolTip"))return!0}catch(e){}t=t.parentNode}return!1},o.prototype.dragdown=function(e,t){if(t.remove(),!o.nodeIsContainedByToolTip(e.target))return null!=this.zombie?this.doRemove():void 0},o.prototype.keydown=function(e){if(r.isEscapeKey(e)&&null!=this.zombie)return this.doRemove()},o.tooltipID=0,o.allTooltips=[],o.killSomeZombies=function(e){var t,n,r,i,o;for(r=[],t=0,n=(o=this.allTooltips.slice(0)).length;t<n;t++)e(i=o[t])?r.push(null!=i.zombie?i.doRemove():void 0):r.push(void 0);return r},o.killAllZombies=function(e){return this.killSomeZombies(function(t){return!(null!=e&&i.call(t.dontKill,e)>=0)})},o.removeTooltip=function(e){return this.allTooltips=t.without(this.allTooltips,e)},o.prototype.startZombie=function(e){return window.isNaN(e)?this.zombie="infinity zombie":this.zombie=window.setTimeout((t=this,function(){return t.fadeOut(e/2)}),e/2);var t},o.prototype.fadeOut=function(t){return this.div.style.Transition="opacity "+t+"ms",this.div.style.MozTransition="opacity "+t+"ms",this.div.style.WebkitTransition="opacity "+t+"ms",e.addClass(this.div,"toolTipInvisible"),this.zombie=window.setTimeout((n=this,function(){return n.doRemove()}),t);var n},o.prototype.cancelZombie=function(){if(null!=this.zombie&&"infinity zombie"!==this.zombie)return this.div.style.Transition="",this.div.style.MozTransition="",this.div.style.WebkitTransition="",e.removeClass(this.div,"toolTipInvisible"),window.clearTimeout(this.zombie),delete this.zombie},o.prototype.doRemove=function(){var t,n;return o.removeTooltip(this),null!=(t=this.controller)&&t.remove(),this.cancelZombie(),null!=(n=this.dev)&&n.remove(),e.remove(this.div),this.listener.remove(),"function"==typeof this.onremove?this.onremove():void 0},o}()}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MiniMapPainter=t.CompPainter=t.GatePainter=t.MeterPainter=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n(29)),a=d(n(6)),s=d(n(42)),l=d(n(43)),u=n(26),c=(d(n(24)),n(9)),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(39)),p=d(n(17));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.MeterPainter=function(){function e(t){f(this,e),this.props=t,this.mount=this.mount.bind(this),this.unmount=this.unmount.bind(this),this._onMeterChange=this._onMeterChange.bind(this),this.draw=this.draw.bind(this),this.drawMeter=this.drawMeter.bind(this),this.decayPeakHold=this.decayPeakHold.bind(this),this.observableState=t.observableState,this.canvas=t.canvas,this.context=t.canvas.getContext("2d"),this.mount()}return i(e,[{key:"mount",value:function(){this.levelMeterValues=new Map,this.lastDrawnLevels=new Map,this.lastDrawnPeaks=new Map,this.peakHolds=new Map,this.meterTimeouts=new Map,this.peakHoldTimeouts=new Map,this.currentPeakCycles=new Map,this.lastDrawnRects=new Map,this.avgCyclesPerPeak=4,this.frameRate=60,this.avgSamples=this.frameRate/4,this.avgData=[];var e=window.devicePixelRatio;this.context.scale(e,e),s.default.addChangeListener(this._onMeterChange),this.unmounted=!1}},{key:"unmount",value:function(){s.default.removeChangeListener(this._onMeterChange);for(var e=0;e<this.observableState.channels.length;e++){var t=this.observableState.channels[e];clearInterval(this.meterTimeouts.get(t.id)),clearTimeout(this.peakHoldTimeouts.get(t.id));var n=new p.default(t.type+"/"+(t.num+1));clearInterval(this.meterTimeouts.get(n.id)),clearTimeout(this.peakHoldTimeouts.get(t.id))}this.unmounted=!0}},{key:"_onMeterChange",value:function(){var e=s.default.get("mix/level/");if("object"===(void 0===e?"undefined":r(e))&&null!==e&&0!==e.length){this.levelMeterLevels=new Map;var t=[],n=e[0].length;if(e.length>1)for(var i=0;i<n;i++){t.push(0);for(var o=0;o<e.length;o++)t[i]=e[o][i]>t[i]?e[o][i]:t[i]}else t=e[0];for(i=0;i<this.observableState.channels.length;i++){var u=this.observableState.channels[i],c=u.basePath+"/matrix/fader",h=!a.default.has(u.formatPath)||"2"===a.default.get(u.formatPath).split(":")[0],d=l.default.getMeterIndex("level",u.type,u.num),f=!this.observableState.metersPreFader&&a.default.has(c)?a.default.get(c):1;this.levelMeterLevels.set(u.id,t[d]/1e3*f);var v=new p.default(u.type+"/"+(u.num+1)),m=v.basePath+"/matrix/fader",g=1;g=h?f:!this.observableState.metersPreFader&&a.default.has(m)?a.default.get(m):1;var b=l.default.getMeterIndex("level",v.type,v.num);this.levelMeterLevels.set(v.id,t[b]/1e3*g)}this.draw()}}},{key:"draw",value:function(){for(var e=this,t=function(e){return e},n=this.drawMeter,r=function(){var r=e.observableState.channels[i],o=(0,u.mag2db)(e.levelMeterLevels.get(r.id)),a=o<=-24?.25*(0,u.normalize)(0,(0,u.db2mag)(-24),e.levelMeterLevels.get(r.id),t):.75*(0,u.normalize)(-24,12,o,t)+.25;e.levelMeterValues.set(r.id,Math.round(100*a)/100);var s=e.meterTimeouts.get(r.id);s&&!e.observableState.resizing||(clearInterval(s),e.meterTimeouts.set(r.id,setInterval(function(){n(r)},1e3/e.frameRate)));var l=new p.default(r.type+"/"+(r.num+1)),c=(0,u.mag2db)(e.levelMeterLevels.get(l.id)),h=c<=-24?.25*(0,u.normalize)(0,(0,u.db2mag)(-24),e.levelMeterLevels.get(l.id),t):.75*(0,u.normalize)(-24,12,c,t)+.25;e.levelMeterValues.set(l.id,Math.round(100*h)/100);var d=e.meterTimeouts.get(l.id);d&&!e.observableState.resizing||(clearInterval(d),e.meterTimeouts.set(l.id,setInterval(function(){n(l)},1e3/e.frameRate)))},i=0;i<this.observableState.channels.length;i++)r()}},{key:"drawMeter",value:function(e){var t=this.context,n=(this.drawMeter,document.getElementById("scroller")),r=l.default.getMeterIndex("level",e.type,e.num),i=this.observableState.meterCanvasMeterRects[r];if(i&&null!==n){void 0===this.levelMeterValues.get(e.id)&&this.levelMeterValues.set(e.id,0),void 0===this.lastDrawnLevels.get(e.id)&&this.lastDrawnLevels.set(e.id,this.levelMeterValues.get(e.id));var a=this.lastDrawnLevels.get(e.id),s=this.levelMeterValues.get(e.id);void 0===this.lastDrawnPeaks.get(e.id)&&this.lastDrawnPeaks.set(e.id,s),void 0===this.currentPeakCycles.get(e.id)&&this.currentPeakCycles.set(e.id,1),void 0===this.peakHolds.get(e.id)&&this.peakHolds.set(e.id,0),void 0===this.lastDrawnRects.get(e.id)&&this.lastDrawnRects.set(e.id,i);var u=this.lastDrawnPeaks.get(e.id),h=this.decayPeakHold,p=this.peakHolds.get(e.id),d=Math.round(i.left-this.observableState.fadersBoundingRect.left-this.observableState.scrollOffset),f=(Math.round(d+i.width),Math.round(this.observableState.fadersBoundingRect.height-this.observableState.belowFaderHeight)),v=a;if(s===u||s<a)v=a-(a-s)*(Math.round(1/this.avgCyclesPerPeak*100)/100);else s>a&&(v=s);if(i.left<=n.scrollLeft+this.observableState.mixerWidth+2*c.FaderStripWidth&&i.right>=n.scrollLeft-c.FaderStripWidth&&(0!==a||0!==p)){var m,g=Math.floor(i.height*v),b=f-i.height-1,y=f-g-1;m=Math.min(Math.max(f-Math.floor(i.height*p)-1,b),y),this.observableState.resizing||(o.default.queue(function(){t.fillStyle=c.MeterFillColors[e.type],g>i.height?(g=i.height,t.fillStyle=c.Colors.meterClip):g<0&&(g=0),t.clearRect(d,f,i.width,-i.height),t.fillRect(d,f,i.width,-g),null!==m&&m!==y&&(t.beginPath(),t.moveTo(d,m),t.lineTo(d+i.width,m),t.strokeStyle=c.Colors.meterClip,t.stroke())}),this.peakHolds.get(e.id)<s&&(this.peakHolds.set(e.id,s),void 0!==this.peakHoldTimeouts.get(e.id)&&clearTimeout(this.peakHoldTimeouts.get(e.id)),this.peakHoldTimeouts.set(e.id,setTimeout(function(){h(e)},2e3))))}if(u===s)this.currentPeakCycles.set(e.id,this.currentPeakCycles.get(e.id)+1);else{if(this.lastDrawnPeaks.set(e.id,s),this.avgData.length!==this.avgSamples)this.avgData.push(this.currentPeakCycles.get(e.id));else{for(var C=0,x=1;x<this.avgSamples-1;x++){C+=(this.avgData[x]+this.avgData[x-1]+this.avgData[x+1])/3}this.avgCyclesPerPeak=C/this.avgSamples,this.avgData=[]}this.currentPeakCycles.set(e.id,1)}var _=this.lastDrawnRects.get(e.id);if(i.left!==_.left){var w=Math.round(_.left-this.observableState.fadersBoundingRect.left-this.observableState.scrollOffset),S=Math.round(this.observableState.fadersBoundingRect.height-this.observableState.belowFaderHeight);o.default.queue(function(){t.clearRect(w,S,_.width,-_.height)}),this.lastDrawnRects.set(e.id,i)}}this.unmounted?this.meterTimeouts.get(e.id)&&clearInterval(this.meterTimeouts.get(e.id)):this.lastDrawnLevels.set(e.id,v)}},{key:"decayPeakHold",value:function(e){var t=this.decayPeakHold,n=this.peakHolds.get(e.id);this.peakHolds.set(e.id,n-.05*n),this.unmounted||(void 0!==this.peakHoldTimeouts.get(e.id)&&clearTimeout(this.peakHoldTimeouts.get(e.id)),this.peakHoldTimeouts.set(e.id,setTimeout(function(){t(e)},1e3/this.frameRate)))}}]),e}(),t.GatePainter=function(){function e(t){f(this,e),this._onMeterChange=this._onMeterChange.bind(this),this.mount=this.mount.bind(this),this.unmount=this.unmount.bind(this),this.draw=this.draw.bind(this),this.drawMeter=this.drawMeter.bind(this),this.observableState=t.observableState,this.canvas=t.canvas,this.context=t.canvas.getContext("2d"),this.mount()}return i(e,[{key:"mount",value:function(){s.default.addChangeListener(this._onMeterChange)}},{key:"unmount",value:function(){s.default.removeChangeListener(this._onMeterChange)}},{key:"_onMeterChange",value:function(){var e=s.default.get("mix/gate/level");if("object"===(void 0===e?"undefined":r(e))&&null!==e&&0!==e.length){this.gateMeterLevels=new Map;for(var t=0;t<this.observableState.channels.length;t++){var n=this.observableState.channels[t];l.default.getMeterIndex("gate",n.type,n.num);if(this.gateMeterLevels.set(n.id,e[n.num]/1e3),!(!a.default.has(n.formatPath)||"2"===a.default.get(n.formatPath).split(":")[0])){var i=new p.default(n.type+"/"+(n.num+1));l.default.getMeterIndex("gate",i.type,i.num);this.gateMeterLevels.set(i.id,e[i.num]/1e3)}}this.draw()}}},{key:"draw",value:function(){for(var e=this,t=function(e){return e},n=this.drawMeter,r=function(){var r=e.observableState.channels[i],s=(0,u.mag2db)(e.gateMeterLevels.get(r.id)),c=s<=-24?.25*(0,u.normalize)(0,(0,u.db2mag)(-24),e.gateMeterLevels.get(r.id),t):.75*(0,u.normalize)(-24,12,s,t)+.25,h=l.default.getMeterIndex("gate",r.type,r.num),d=e.observableState.meterCanvasGateMeterRects[h];if(o.default.queue(function(){n(d,h,c)}),!(!a.default.has(r.formatPath)||"2"===a.default.get(r.formatPath).split(":")[0])){var f=new p.default(r.type+"/"+(r.num+1)),v=l.default.getMeterIndex("gate",f.type,f.num),m=e.observableState.meterCanvasGateMeterRects[v],g=(0,u.mag2db)(e.gateMeterLevels.get(f.id)),b=g<=-24?.25*(0,u.normalize)(0,(0,u.db2mag)(-24),e.gateMeterLevels.get(f.id),t):.75*(0,u.normalize)(-24,12,g,t)+.25;o.default.queue(function(){n(m,v,b)})}},i=0;i<this.observableState.channels.length;i++)r()}},{key:"drawMeter",value:function(e,t,n){var r=this.observableState.fadersBoundingRect,i=document.getElementById("scroller");if(e&&null!==i&&!this.observableState.resizing&&e.left<=i.scrollLeft+this.observableState.mixerWidth+2*c.FaderStripWidth&&e.right>=i.scrollLeft-c.FaderStripWidth&&0!==n){var o="mix/chan/"+t+"/gate/enable";if(a.default.has(o)){var s=!!a.default.get(o);if(e&&null!==i){var l=Math.round(e.left-this.observableState.fadersBoundingRect.left-this.observableState.scrollOffset),u=(Math.round(e.top-r.top),Math.round(e.top-r.top+e.height)-2),h=e.height*-n;s?(this.context.clearRect(l,u,e.width,-e.height),this.context.fillStyle=c.Colors.gate,this.context.fillRect(l,u,e.width,h),this.drawing=!0):this.drawing&&(this.context.clearRect(l,u,e.width,-e.height),this.drawing=!1)}}}}}]),e}(),t.CompPainter=function(){function e(t){f(this,e),this._onMeterChange=this._onMeterChange.bind(this),this.mount=this.mount.bind(this),this.unmount=this.unmount.bind(this),this.draw=this.draw.bind(this),this.drawMeter=this.drawMeter.bind(this),this.observableState=t.observableState,this.canvas=t.canvas,this.context=t.canvas.getContext("2d"),this.grWarper=new h.FullScaleMeter(null),this.mount()}return i(e,[{key:"mount",value:function(){s.default.addChangeListener(this._onMeterChange)}},{key:"unmount",value:function(){s.default.removeChangeListener(this._onMeterChange)}},{key:"_onMeterChange",value:function(){var e=s.default.get("mix/comp/gain");if("object"===(void 0===e?"undefined":r(e))&&null!==e&&0!==e.length){this.compMeterLevels=new Map;for(var t=0;t<this.observableState.channels.length;t++){var n=this.observableState.channels[t];l.default.getMeterIndex("comp",n.type,n.num);if(this.compMeterLevels.set(n.id,e[n.num]/1e3),!(!a.default.has(n.formatPath)||"2"===a.default.get(n.formatPath).split(":")[0])){var i=new p.default(n.type+"/"+(n.num+1));l.default.getMeterIndex("comp",i.type,i.num);this.compMeterLevels.set(i.id,e[i.num]/1e3)}}this.draw()}}},{key:"draw",value:function(){for(var e=this,t=function(e){return e},n=this.drawMeter,r=function(){var r=e.observableState.channels[i],s=((0,u.mag2db)(e.compMeterLevels.get(r.id)),e.grWarper.warp(e.compMeterLevels.get(r.id))),c=l.default.getMeterIndex("comp",r.type,r.num),h=e.observableState.meterCanvasCompMeterRects[c];if(o.default.queue(function(){n(h,c,s)}),!(!a.default.has(r.formatPath)||"2"===a.default.get(r.formatPath).split(":")[0])){var d=new p.default(r.type+"/"+(r.num+1)),f=l.default.getMeterIndex("comp",d.type,d.num),v=e.observableState.meterCanvasCompMeterRects[f],m=(0,u.mag2db)(e.compMeterLevels.get(d.id)),g=m<=-24?.25*(0,u.normalize)(0,(0,u.db2mag)(-24),e.compMeterLevels.get(d.id),t):.75*(0,u.normalize)(-24,12,m,t)+.25;o.default.queue(function(){n(v,f,g)})}},i=0;i<this.observableState.channels.length;i++)r()}},{key:"drawMeter",value:function(e,t,n){var r=this.observableState.fadersBoundingRect,i=document.getElementById("scroller");if(e&&null!==i&&!this.observableState.resizing&&e.left<=i.scrollLeft+this.observableState.mixerWidth+2*c.FaderStripWidth&&e.right>=i.scrollLeft-c.FaderStripWidth&&1!==n){var o="mix/chan/"+t+"/comp/enable";if(a.default.has(o)){var s=!!a.default.get(o);if(e&&null!==i){var l=Math.round(e.left-this.observableState.fadersBoundingRect.left-this.observableState.scrollOffset),u=Math.round(e.top-r.top),h=Math.round(e.top-r.top+e.height),p=e.height-e.height*n;s?(this.context.clearRect(l,h,e.width,-e.height),this.context.fillStyle=c.Colors.gainReduction,this.context.fillRect(l,u,e.width,p),this.drawing=!0):this.drawing&&(this.context.clearRect(l,h,e.width,-e.height),this.drawing=!1)}}}}}]),e}(),t.MiniMapPainter=function(){function e(t){f(this,e),this._onMeterChange=this._onMeterChange.bind(this),this.mount=this.mount.bind(this),this.unmount=this.unmount.bind(this),this.draw=this.draw.bind(this),this.observableState=t.observableState,this.canvas=t.canvas,this.context=t.canvas.getContext("2d"),this.mount()}return i(e,[{key:"mount",value:function(){s.default.addChangeListener(this._onMeterChange)}},{key:"unmount",value:function(){s.default.removeChangeListener(this._onMeterChange)}},{key:"_onMeterChange",value:function(){a.default.get("mix/meterStripOrder").split(":");var e=s.default.get("mix/level/");if("object"===(void 0===e?"undefined":r(e))&&null!==e&&0!==e.length){this.levelMeterLevels=new Map;var t=[],n=e[0].length;if(e.length>1)for(var i=0;i<n;i++){t.push(0);for(var u=0;u<e.length;u++)t[i]=e[u][i]>t[i]?e[u][i]:t[i]}else t=e[0];for(i=0;i<this.observableState.channels.length;i++){var c=this.observableState.channels[i],h=l.default.getMeterIndex("level",c.type,c.num);this.levelMeterLevels.set(c.id,t[h]/1e3);var d=new p.default(c.type+"/"+(c.num+1)),f=l.default.getMeterIndex("level",d.type,d.num);this.levelMeterLevels.set(d.id,t[f]/1e3)}o.default.queue(this.draw)}}},{key:"draw",value:function(){if(this.observableState.miniMapVisible){this.context.clearRect(0,0,this.canvas.width,this.canvas.height);for(var e=function(e){return e},t=0,n=this.observableState.miniMapMeterWidth/2,r=n/2,i=n-2,o=this.observableState.miniMapMeterWidth,s=o/2,l=o-2,h="",d=0;d<this.observableState.channels.length;d++){var f=this.observableState.channels[d];if(this.observableState.faderVisibility[f.id]){this.context.fillStyle=c.MeterFillColors[f.type],this.context.strokeStyle=c.MeterFillColors[f.type];var v=(0,u.mag2db)(this.levelMeterLevels.get(f.id)),m=v<=-24?.25*(0,u.normalize)(0,(0,u.db2mag)(-24),this.levelMeterLevels.get(f.id),e):.75*(0,u.normalize)(-24,12,v,e)+.25,g=!0;if(a.default.has(f.formatPath))g="2"===a.default.get(f.formatPath).split(":")[0];if("stereo"===h?n:o,g){this.context.lineWidth=i,t+="stereo"===h?n:"mono"===h?o/2+r:r,this.context.globalAlpha=.1,this.context.fillRect(t-n/2,0,o,this.canvas.height),this.context.globalAlpha=1,this.context.beginPath(),this.context.moveTo(t,this.canvas.height),this.context.lineTo(t,this.canvas.height+-m*this.canvas.height),this.context.stroke();var b=new p.default(f.type+"/"+(f.num+1)),y=(0,u.mag2db)(this.levelMeterLevels.get(b.id)),C=y<=-24?.25*(0,u.normalize)(0,(0,u.db2mag)(-24),this.levelMeterLevels.get(b.id),e):.75*(0,u.normalize)(-24,12,y,e)+.25;t+=n,this.context.beginPath(),this.context.moveTo(t,this.canvas.height),this.context.lineTo(t,this.canvas.height+-C*this.canvas.height),this.context.stroke(),h="stereo"}else{this.context.lineWidth=l,t+="mono"===h?o:"stereo"===h?n/2+s:s,this.context.globalAlpha=.1,this.context.fillRect(t-n,0,2*o,this.canvas.height),this.context.globalAlpha=1,this.context.beginPath(),this.context.moveTo(t,this.canvas.height),this.context.lineTo(t,this.canvas.height+-m*this.canvas.height),this.context.stroke();var x=new p.default(f.type+"/"+(f.num+1)),_=(0,u.mag2db)(this.levelMeterLevels.get(x.id)),w=_<=-24?.25*(0,u.normalize)(0,(0,u.db2mag)(-24),this.levelMeterLevels.get(x.id),e):.75*(0,u.normalize)(-24,12,_,e)+.25;t+=o,this.context.beginPath(),this.context.moveTo(t,this.canvas.height),this.context.lineTo(t,this.canvas.height+-w*this.canvas.height),this.context.stroke(),h="mono"}}}}}}]),e}()},function(e,t,n){"use strict";var r,i;r=[n(3),n(1),n(27),n(5),n(32),n(21),n(50),n(30),n(16)],void 0===(i=function(e,t,n,r,i,o,a,s,l){var u,c,h,p,d,f,v,m,g,b,y,C,x,_,w,S,k,T,E,P=function(e,t){for(var n in t)I.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},I={}.hasOwnProperty;return S={input:{bank:"ibank",Bank:"IBank",label:"Input"},output:{bank:"obank",Bank:"OBank",label:"Output"}},y=["trim","trim2","stereoTrim","phase","48V","pad","vlLimit","vlClip"],k={Input:{default:0},Output:{"Phones/stereoTrim":-24,default:0}},E={Input:{default:"Identity"},Output:{"Phones/stereoTrim":"OutputTrim","Main/stereoTrim":"OutputTrim","Monitor/stereoTrim":"OutputTrim",default:"Identity"}},w=["vlimit/lookahead"],T=[],b={trim:{constructor:n.SmallKnob,extraArgs:{text:"Trim",range:"trimRange"}},trim2:{constructor:n.SmallKnob,extraArgs:{text:"Trim",range:"trimRange2"}},stereoTrim:{constructor:n.SmallKnob,extraArgs:{text:"Trim",stereo:!0,range:"stereoTrimRange"}},phase:{constructor:n.ToggleButton,extraArgs:{text:"Phase",extraCss:"pcUtilityBtn phaseBtn"}},"48V":{constructor:n.ToggleButton,extraArgs:{text:"48V",extraCss:"pcUtilityBtn phantomBtn"}},pad:{constructor:n.ToggleButton,extraArgs:{text:"Pad",extraCss:"pcUtilityBtn padBtn"}},vlLimit:{constructor:n.ToggleButton,extraArgs:{text:"VLimit",extraCss:"pcUtilityBtn vlLimitBtn"}},vlClip:{constructor:n.ToggleButton,extraArgs:{text:"SoftClip",extraCss:"pcUtilityBtn vlClipBtn"}},"vlimit/lookahead":{constructor:n.ToggleButton,extraArgs:{text:"VLimit Lookahead",extraCss:"pcUtilityBtn vlLookahead"}}},g=function(e){var t,n,r,i;return i=e.io,t=e.bn,r=e.cn,n=e.c,"ext/"+i.bank+"/"+t+"/ch/"+r+"/"+n},v=function(e){var n,r,i,o,a,s,l,u,c;for(a=e.io,n=e.bn,l=(i=e.dev).router["get"+a.Bank+"NumCh"](n),o=!1,r=s=0,u=l;0<=u?s<u:s>u;r=0<=u?++s:--s)i.valid(g({io:a,bn:n,cn:r,c:"validControls"}))?(c=i.get(g({io:a,bn:n,cn:r,c:"validControls"})).split(":"),t.any(c,function(e){return i.valid(g({io:a,bn:n,cn:r,c:e}))})&&(o=!0)):t.any(y,function(e){return i.valid(g({io:a,bn:n,cn:r,c:e}))})&&(o=!0);return o},m=function(e){var n,r,i,o,a;return o=e.io,n=e.bn,r=e.cn,(i=e.dev).valid(g({io:o,bn:n,cn:r,c:"validControls"}))?(a=i.get(g({io:o,bn:n,cn:r,c:"validControls"})).split(":"),t.any(a,function(e){return i.valid(g({io:o,bn:n,cn:r,c:e}))})):t.any(y,function(e){return i.valid(g({io:o,bn:n,cn:r,c:e}))})},_=function(e){var n,r,i,o,a;return o=e.io,n=e.bn,r=e.cn,(i=e.dev).valid(g({io:o,bn:n,cn:r,c:"validControls"}))?(a=i.get(g({io:o,bn:n,cn:r,c:"validControls"})).split(":"),t.filter(a,function(e){return i.valid(g({io:o,bn:n,cn:r,c:e}))})):t.filter(y,function(e){return i.valid(g({io:o,bn:n,cn:r,c:e}))})},C=function(e){var t,n;return t=e.bn,n=e.cn,e.dev.router.getOBankChSrc({bn:t,cn:n}).split(":")},x=function(e){var n,r,i,o;return i=e.dev,n=e.bn,r=e.cn,o=e.io,a.join(t.map([r,a.getOtherStereoCh(r)],function(e){return i.router["get"+o.Bank+"ChName"]({bn:n,cn:e})}))},n.StereoChName=function(){function n(n){var i,o;this.io=n.io,this.bn=n.bn,this.cn=n.cn,this.parent=n.node,this.dev=n.dev,this.node=e.appendSpec(this.parent,{type:"textarea",spellcheck:!1,autocorrect:!1}),this.node.placeholder=a.join(t.map([this.cn,a.getOtherStereoCh(this.cn)],(o=this,function(e){return o.dev.router.getChNameFromBank(o.io,o.bn,e)}))),this.reaction=new r.Function(this.dev,function(e){return function(t){if(t.get("ext/"+e.io.bank+"/"+e.bn+"/ch/"+e.cn+"/name")||t.get("ext/"+e.io.bank+"/"+e.bn+"/ch/"+a.getOtherStereoCh(e.cn)+"/name"))return e.node.value=x({dev:t,bn:e.bn,cn:e.cn,io:e.io});e.node.value=""}}(this)),i=function(e){return function(t){var n;return""===t?(e.dev.router["set"+e.io.Bank+"ChName"]({bn:e.bn,cn:a.getFirstStereoChannel(e.cn)},""),void e.dev.router["set"+e.io.Bank+"ChName"]({bn:e.bn,cn:a.getFirstStereoChannel(e.cn)+1},"")):(n=a.split(t),e.dev.router["set"+e.io.Bank+"ChName"]({bn:e.bn,cn:a.getFirstStereoChannel(e.cn)},n[0]),e.dev.router["set"+e.io.Bank+"ChName"]({bn:e.bn,cn:a.getFirstStereoChannel(e.cn)+1},n[1]))}}(this),this.interaction=new l.FunctionString({node:this.node,f:i})}return n.prototype.remove=function(){return this.reaction.remove(),this.interaction.remove(),e.remove(this.node)},n}(),u=function(){function t(t){var n,i,o;this.bn=t.bn,n=t.cn,this.dev=t.dev,i=t.node,this.io=t.io,this.cns=t.cns,null==this.cns&&(this.cns=[n]),this.node=e.appendSpec(i,{className:this.className}),this.canvas=e.appendSpec(this.node,{type:"canvas",height:this.elemHeight,width:this.elemWidth}),this.ctx=this.canvas.getContext("2d"),this.ctx.fillStyle="#75c5ff",this.warp=new s.ActivityMeter,this.indexWatcher=new r.Function(this.dev,(o=this,function(e){var t,r,i,a,s;for(o.meterIndices=[],r=0,i=(a=o.cns).length;r<i;r++)n=a[r],null!=(t=o.getMeterIndex(e,o.bn,n))&&o.meterIndices.push(t);return null!=(s=o.meterWatcher)?s.inval():void 0})),this.meterWatcher=new r.Function(this.dev,function(e){return function(t){return e.render(e.getVal(t))}}(this))}return t.prototype.elemHeight=4,t.prototype.elemWidth=35,t.prototype.className="activityMeter",t.prototype.setCns=function(e){return this.cns=e,this.indexWatcher.inval()},t.prototype.getVal=function(e){var t,n,r,i,o,a;if(!this.meterIndices.length)return 0;if(i=0,null==(a=e.get("meters/ext/input")))return 0;for(n=0,r=(o=this.meterIndices).length;n<r;n++)a[t=o[n]]>i&&(i=a[t]);return i},t.prototype.getMeterIndex=function(e,t,n){return e.router["get"+this.io.Bank+"ChMeterIndex"]({bn:t,cn:n})},t.prototype.render=function(e){return e=this.warp.warp(e/255),this.ctx.clearRect(0,0,this.elemWidth,this.elemHeight),this.ctx.fillRect(0,0,~~(this.elemWidth*e),this.elemHeight)},t.prototype.remove=function(){return this.node.remove(),this.indexWatcher.remove(),this.meterWatcher.remove()},t}(),c=function(){function s(t){var i,s,l,c,h,p,d,f,v;(this.io=t.io,s=t.div,this.dev=t.dev,this.bn=t.bn,this.cn=t.cn,p=t.nameReadonly,this.glideScopes=t.glideScopes,this.glideBoundNode=t.glideBoundNode,this.removePool=[],f=this.dev.valid(g({io:this.io,bn:this.bn,cn:this.cn,c:"validControls"}))?this.dev.get(g({io:this.io,bn:this.bn,cn:this.cn,c:"validControls"})).split(":"):y,d=function(){var e,t,n;for(n=[],e=0,t=f.length;e<t;e++)i=f[e],this.dev.valid(g({io:this.io,bn:this.bn,cn:this.cn,c:i}))&&b[i].extraArgs.stereo&&n.push(i);return n}.call(this),0!==(h=function(){var e,t,n;for(n=[],e=0,t=f.length;e<t;e++)i=f[e],this.dev.valid(g({io:this.io,bn:this.bn,cn:this.cn,c:i}))&&!b[i].extraArgs.stereo&&n.push(i);return n}.call(this)).length||0!==d.length)&&(c=o.works({dev:this.dev,cap:"activityMeters"}),d.length&&(this.node=e.appendSpec(s,{className:"icChDiv enabledWrapper"}),this.removePool.push(this.node),this.removePool.push(new n.StereoChName({io:this.io,bn:this.bn,cn:this.cn,node:this.node,dev:this.dev})),l=a.getFirstStereoChannel(this.cn),c&&(this.removePool.push(new u({bn:this.bn,cn:l,dev:this.dev,io:this.io,node:this.node})),this.removePool.push(new u({bn:this.bn,cn:a.getOtherStereoCh(l),dev:this.dev,io:this.io,node:this.node}))),this.addControls(this.node,d)),h.length&&(this.node=e.appendSpec(s,{className:"icChDiv enabledWrapper"}),this.removePool.push(this.node),this.removePool.push(new n.BankChName({multiline:!0,io:this.io,bn:this.bn,cn:this.cn,node:this.node,dev:this.dev,editable:!p})),c&&this.removePool.push(new u({bn:this.bn,cn:this.cn,dev:this.dev,io:this.io,node:this.node})),this.addControls(this.node,h)),this.removePool.push(new r.Function(this.dev,(v=this,function(t){return e.setClass(v.node,"enabled",t.router["get"+v.io.Bank+"CalcCh"](v.bn)>0)}))))}return s.prototype.addControls=function(e,n){var r,o,a,s,u,c,h,p,d,f,v,m;for(m=[],u=0,c=n.length;u<c;u++)o=n[u],null!=this.glideScopes&&null==(r=this.glideScopes)[h="inputControl"+o]&&(r[h]=new l.GlideScope({axis:"x",boundingNode:this.glideBoundNode})),p={path:g({io:this.io,bn:this.bn,cn:this.cn,c:o}),dev:this.dev,node:e,position:"Center",type:new i(["bool",0]),glideScope:null!=(d=this.glideScopes)?d["inputControl"+o]:void 0},null!=b[o].extraArgs.range&&(s=this.dev.router["get"+this.io.Bank+"Name"](this.bn)+"/"+o,a=null!=(f=k[this.io.label][s])?f:k[this.io.label].default,p.type=new i(t.flatten(["int",a,this.dev.get("ext/"+this.io.bank+"/"+this.bn+"/ch/"+this.cn+"/"+b[o].extraArgs.range).split(":")])),p.warptype=null!=(v=E[this.io.label][s])?v:E[this.io.label].default,p.pathRoot="ext/"+this.io.bank+"/"+this.bn+"/ch/"+this.cn),t.extend(p,b[o].extraArgs),m.push(this.removePool.push(new b[o].constructor(p)));return m},s.prototype.remove=function(){var e,t,n,r,i;for(i=[],e=0,t=(r=this.removePool).length;e<t;e++)n=r[e],i.push(n.remove());return i},s}(),h=function(){function t(t){var n,r,i,o,a,s,l,u,h;for(this.io=t.io,this.dev=t.dev,this.bn=t.bn,i=t.div,a=t.glideScopes,o=t.glideBoundNode,this.div=e.appendSpec(i,{className:"icBankDiv"}),-1!==(n=this.dev.get("ext/"+this.io.bank+"/"+this.bn+"/name")).indexOf("AVB Stream ")&&(h=+n.split("AVB Stream ")[1]-1,s=this.dev.get("uid"),n=this.dev.avb.getTalkerTitle(s,this.dev.avb.getNthInputStreamTalker(s,h))),e.appendSpec(this.div,{type:"h5",textContent:n}),r=l=0,u=this.dev.router["get"+this.io.Bank+"MaxCh"](this.bn);0<=u?l<u:l>u;r=0<=u?++l:--l)m({io:this.io,bn:this.bn,cn:r,dev:this.dev})&&new c({io:this.io,dev:this.dev,div:this.div,bn:this.bn,cn:r,glideScopes:a,glideBoundNode:o})}return t.prototype.remove=function(){if(null!=this.div)return e.remove(this.div)},t}(),(p=function(){function n(n){var i,a,s,l,u,c,p,d,f,m,g;if((this.io=n.io,this.dev=n.dev,a=n.div,s=n.glideBoundNode,o.works({dev:this.dev,cap:"router"}))&&(i=!1,this.mapBanks((g=this,function(e){if(v({io:g.io,bn:e,dev:g.dev}))return i=!0})),i)){for(this.div=e.appendSpec(a,{}),e.appendSpec(this.div,{type:"h4",textContent:this.io.label+" Settings"}),this.subDiv=e.appendSpec(this.div,{className:"icDiv"}),c="Input"===this.io.label?w:T,this.globalControlsDiv=e.appendSpec(this.subDiv,{}),p=0,d=c.length;p<d;p++)m="ext/"+(u=c[p]),this.dev.valid(m)&&(f={path:m,dev:this.dev,node:this.globalControlsDiv},f=t.extend(f,b[u].extraArgs),new b[u].constructor(f));l={},this.removepool={},this.mapBanks(function(e){return function(t){return new r.Function(e.dev,function(n){var r;if(null!=(r=e.removepool[t])&&r.remove(),null!=e.removepool[t]&&delete e.removepool[t],v({io:e.io,bn:t,dev:n}))return e.removepool[t]=new h({io:e.io,dev:e.dev,div:e.subDiv,bn:t,glideScopes:l,glideBoundNode:s})})}}(this))}}return n.prototype.mapBanks=function(e){var t,n;for(t=0,n=[];this.dev.valid("ext/"+this.io.bank+"/"+t+"/name");)e(t),n.push(t++);return n},n.ActivityMeter=u,n.prototype.remove=function(){},n}()).Input=function(e){function t(e){var n,r,i;n=e.dev,r=e.div,i=e.glideBoundNode,t.__super__.constructor.call(this,{dev:n,div:r,io:S.input,glideBoundNode:i})}return P(t,p),t}(),p.Output=function(e){function t(e){var n,r,i;n=e.dev,r=e.div,i=e.glideBoundNode,t.__super__.constructor.call(this,{dev:n,div:r,io:S.output,glideBoundNode:i})}return P(t,p),t}(),d=function(){function e(e){var t,n,r,i;this.dev=e.dev,this.div=e.div,r=e.args,this.inputs=r[0],this.io=r[1],this.close=e.close,n={},t={},this.mapInputs((i=this,function(e,r){var o;return o="meta/"+i.io.bank+"/"+e+"/calcCh",null==n[o]&&(n[o]=!0,i.dev.addListener(o,i)),new c({io:i.io,cn:r,bn:e,div:i.div,dev:i.dev,nameReadonly:!0,glideScopes:t,glideBoundNode:i.div})}))}return e.prototype.mapInputs=function(e){var t,n,r,i,o,a;for(a=[],r=i=0,o=this.inputs.length;i<o;r=i+=2)t=+this.inputs[r],n=+this.inputs[r+1],a.push(e(t,n));return a},e.prototype.inval=function(){var e,n;if(0,e=this.mapInputs((n=this,function(e,t){return t<+n.dev.get("meta/ibank/"+e+"/calcCh")})),!t.any(e))return this.close()},e.prototype.remove=function(){},e}(),f=function(){function t(t){var n,i;this.div=e.appendSpec(t.node,{className:"disclosureDiv"}),this.dev=t.dev,this.strip=t.strip,this.io="chan"===this.strip.type?S.input:S.output,n=this.dev.mixer.getStripBnCn(this.strip.id),this.bn=n.bn,this.cn=n.cn,new r.Function(this.dev,(i=this,function(e){return i.computeEnabled(e)}))}return t.prototype.getSrc=function(e){var t,n,r;return t=e.bn,n=e.cn,r=e.dev,C({bn:t,cn:n,dev:r})},t.prototype.getMonoChanControls=function(e){var t,n,r,i,o,a;return t=e.bn,n=e.cn,r=e.dev,i=(a=this.getSrc({bn:t,cn:n,dev:r}))[0],null!=(o=a[1])&&m({io:S.input,bn:+i,cn:+o,dev:r})?[i,o]:[]},t.prototype.gatherInputs=function(e){var t,n,r,i;return t=[],r=e.mixer.getStripFormat(this.strip.id),n=r[0],r[1],"chan"===this.strip.type?(t=this.getMonoChanControls({bn:this.bn,cn:this.cn,dev:e}),2===n&&(t=t.concat(this.getMonoChanControls({bn:this.bn,cn:e.mixer.getOtherStereoCh(this.cn),dev:e})))):(t=[],e.router.mapOBanks((i=this,function(r,o){var a,s,l,u,c,h,p;for(p=[],a=u=0,c=e.router.getOBankCalcCh(o);0<=c?u<c:u>c;a=0<=c?++u:--u)s=(h=e.router.getOBankChSrc({bn:o,cn:a}).split(":"))[0],l=h[1],+s===i.bn&&(+l===i.cn||2===n&&+l===e.mixer.getOtherStereoCh(i.cn))&&m({io:S.output,bn:o,cn:a,dev:e})?(t.push(o),p.push(t.push(a))):p.push(void 0);return p}))),t},t.prototype.computeEnabled=function(t){var n,r;return n=this.gatherInputs(t),e.setClass(this.div,"disabled",!n.length),null!=(r=this.interaction)&&r.remove(),n.length?this.interaction=new l.Popup({node:this.div,args:[n,this.io],dev:this.dev,control:d}):this.interaction=null},t}(),p.Controls17221=function(){return function(r){var o,a,s,l,u,c,h,p,d,f,v,m,g,b,y,C,x,_,w,S,k,T,E,P,I;for(s=r.dev,u=r.guid,l=r.div,this.div=e.appendSpec(l,{}),e.appendSpec(this.div,{type:"h4",textContent:"Controls"}),this.subDiv=e.appendSpec(this.div,{className:"icDiv"}),_=[],c=[],p=h=0,S=s.get("avb/"+u+"/cfg/0/jacks/num");0<=S?h<S:h>S;p=0<=S?++h:--h)"i"===s.get("avb/"+u+"/cfg/0/jacks/"+p+"/map").split(":")[0]?_.push(p):c.push(p);for(c&&(this.bankDiv=e.appendSpec(this.subDiv,{className:"icBankDiv"}),e.appendSpec(this.bankDiv,{type:"h5",textContent:"Inputs"})),d=0,v=c.length;d<v;d++){for(p=c[d],E=["gain","phantom","invert"],a={},y=s.get("avb/"+u+"/cfg/0/jacks/"+p+"/name"),o=f=0,k=s.get("avb/"+u+"/cfg/0/jacks/"+p+"/ctrls/num");0<=k?f<k:f>k;o=0<=k?++f:--f)I=s.get("avb/"+u+"/cfg/0/jacks/"+p+"/ctrls/"+o+"/type"),a[I]=o;t.any(E,function(e){return e in a})&&(C=e.appendSpec(this.bankDiv,{className:"icChDiv"}),y=s.get("avb/"+u+"/cfg/0/jacks/"+p+"/name"),e.appendSpec(C,{type:"span",textContent:y,className:"ctrlNameSpan"})),"gain"in a&&((w=(w=s.get("avb/"+u+"/cfg/0/jacks/"+p+"/ctrls/"+a.gain+"/range")).split(":"))[2],x={text:"Trim",path:"avb/"+u+"/cfg/0/jacks/"+p+"/ctrls/"+a.gain+"/value",dev:s,node:C,position:"Center",type:new i(t.flatten(["int",0,w.slice(0,2)])),warptype:"Identity"},new n.SmallKnob(x)),"phantom"in a&&(x={text:"48V",extraCss:"pcUtilityBtn phantomBtn",path:"avb/"+u+"/cfg/0/jacks/"+p+"/ctrls/"+a.phantom+"/value",dev:s,node:C,position:"Center",values:[255,0]},new n.ToggleButton(x)),"invert"in a&&(x={text:"Phase",extraCss:"pcUtilityBtn phaseBtn",path:"avb/"+u+"/cfg/0/jacks/"+p+"/ctrls/"+a.invert+"/value",dev:s,node:C,position:"Center",values:[255,0]},new n.ToggleButton(x))}for(_&&(this.bankDiv=e.appendSpec(this.subDiv,{className:"icBankDiv"}),e.appendSpec(this.bankDiv,{type:"h5",textContent:"Outputs"})),g=0,m=_.length;g<m;g++){for(p=_[g],P=["gain","mute"],a={},y=s.get("avb/"+u+"/cfg/0/jacks/"+p+"/name"),o=b=0,T=s.get("avb/"+u+"/cfg/0/jacks/"+p+"/ctrls/num");0<=T?b<T:b>T;o=0<=T?++b:--b)I=s.get("avb/"+u+"/cfg/0/jacks/"+p+"/ctrls/"+o+"/type"),a[I]=o;t.any(P,function(e){return e in a})&&(C=e.appendSpec(this.bankDiv,{className:"icChDiv"}),y=s.get("avb/"+u+"/cfg/0/jacks/"+p+"/name"),e.appendSpec(C,{type:"span",textContent:y,className:"ctrlNameSpan"})),"gain"in a&&((w=(w=s.get("avb/"+u+"/cfg/0/jacks/"+p+"/ctrls/"+a.gain+"/range")).split(":"))[2],x={text:"Trim",path:"avb/"+u+"/cfg/0/jacks/"+p+"/ctrls/"+a.gain+"/value",dev:s,node:C,position:"Center",type:new i(t.flatten(["int",0,w.slice(0,2)])),warptype:"Identity"},new n.SmallKnob(x)),"mute"in a&&(x={text:"Mute",extraCss:"pcUtilityBtn redBtn",path:"avb/"+u+"/cfg/0/jacks/"+p+"/ctrls/"+a.mute+"/value",dev:s,node:C,position:"Center",values:[255,0]},new n.ToggleButton(x))}}}(),p.ios=S,p.MixerControl=d,p.MixerControlButton=f,p.channelHasAnyControls=m,p.getValidControls=_,p.getSrc=C,p.getStereoName=x,p}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(3),n(44),n(5),n(22),n(2),n(34),n(1),n(38),n(27),n(33),n(21),n(105),n(41),n(74),n(16)],void 0===(i=function(e,t,n,r,i,o,a,s,l,u,c,h,p,d,f){var v,m,g,b,y,C,x,_,w,S,k,T,E,P,I,B,N=function(e,t){for(var n in t)M.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},M={}.hasOwnProperty,O=[].slice,A=function(e,t){return function(){return e.apply(t,arguments)}};return B=navigator.userAgent.toLowerCase(),I=-1!==B.indexOf("safari")&&-1===B.indexOf("chrome"),E=function(e){return new d(e).promise},P=function(e){return function(t){var n;return null==(n=t.message)&&(n="An unknown error occurred"),E({node:e,prompt:n}).catch(function(){})}},x=function(){return function(e){this.dev=e.dev,this.wildcards=e.wildcards,this.path=e.path,this.scope=e.scope,this.node=e.node,this.close=e.close,this.popEdit=e.popEdit,this.scroll=e.scroll}}(),y=function(){function t(t){var r,i;r=t.node,this.info=t.info,this.node=e.appendSpec(r,{type:"li",className:"presetAction "+this.extraCss}),this.removePool=[],e.appendSpec(this.node,{type:"span",textContent:this.label}),this.setupListener(),this.needsPreset&&(this.reaction=new n.Function(this.info.dev,(i=this,function(t){return i.disabled=!t.get(i.info.path),e.setClass(i.node,"disabled",i.disabled)})))}return t.prototype.setupListener=function(){return this.removePool.push(new r.Listener({events:["dragdown","change"],proxy:this,node:this.node}))},t.prototype.clearRemovePool=function(){var e,t,n;for(e=0,t=(n=this.removePool).length;e<t;e++)n[e].remove();return this.removePool=[]},t.prototype.remove=function(){var e;return this.clearRemovePool(),null!=(e=this.reaction)?e.remove():void 0},t.prototype.change=function(e){var t,n,r;if(t=(t=this.info.dev.get(this.info.path))?+t:null,!(this.disabled||this.needsPreset&&null==t))return(n=new window.FileReader).onload=(r=this,function(){return r.perform(a.extend(a.clone(r.info),{id:t,data:n.result})),e.target.value=""}),n.onabort=function(){return e.target.value=""},n.onerror=function(){return e.target.value=""},n.readAsText(e.target.files[0])},t.prototype.dragdown=function(e,t,n){var r,i,o,s;if(o=(o=this.info.dev.get(this.info.path))?+o:null,!(this.disabled||this.needsPreset&&null==o))return null,r=a.extend(a.clone(this.info),{id:o}),(null!=(i="function"==typeof this.confirmPrompt?this.confirmPrompt(a.pick(r,"id","dev","wildcards","scope")):void 0)?E({node:this.info.node,prompt:i,cancel:!0}):u.resolve()).then((s=this,function(){return s.perform(r)})).catch(function(e){return"CancellationError"===e.name},function(){}).catch(P(this.info.node)),n.stopPropagation(),n.preventDefault(),t.remove()},t.prototype.perform=function(e){e.id,e.dev,e.wildcards,e.scope,e.node,e.close,e.popEdit},t.prototype.label=null,t.prototype.needsPreset=!0,t.prototype.confirmPrompt=function(e){e.id,e.dev,e.wildcards,e.scope},t.prototype.extraCss=null,t}(),T=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return N(t,y),t.prototype.label="Rename",t.prototype.extraCss="rename",t.prototype.needsPreset=!0,t.prototype.perform=function(e){var t;return t=e.id,(0,e.popEdit)(t)},t}(),m=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return N(t,y),t.prototype.label="Copy",t.prototype.extraCss="copy",t.prototype.needsPreset=!0,t.prototype.perform=function(e){var t,n,r,i,o;return n=e.id,t=e.dev,o=e.scope,r=e.node,i=e.popEdit,p.DelayedSpinner.RunPromise({node:r,src:t,promise:h.duplicate({id:n,dev:t,scope:o}).then(function(e){return t.set("preferences/presets/"+o+"/current",e),i(e)})})},t}(),v=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return N(t,y),t.prototype.label="Delete",t.prototype.extraCss="delete",t.prototype.needsPreset=!0,t.prototype.confirmPrompt=function(e){var t,n,r;return n=e.id,t=e.dev,r=e.scope,'Delete "'+t.get("meta/presets/"+r+"/names/"+n)+'"?'},t.prototype.perform=function(e){var t,n,r,i;return n=e.id,t=e.dev,r=e.node,i=e.scope,p.DelayedSpinner.RunPromise({node:r,src:t,promise:h.delete({id:n,dev:t,scope:i})})},t}(),g=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return N(t,y),t.prototype.label="Export",t.prototype.extraCss="export",t.hideOnMobile=!0,t.prototype.needsPreset=!0,t.prototype.perform=function(e){var t,n,r,i,o;return t=e.close,r=e.id,n=e.dev,i=e.node,o=e.scope,p.DelayedSpinner.RunPromise({node:i,src:n,promise:h.export({id:r,dev:n,scope:o}).then(function(){if(I)return t()})})},t}(),b=function(t){function n(){var t;t=1<=arguments.length?O.call(arguments,0):[],n.__super__.constructor.apply(this,t),this.fileInput=e.appendSpec(this.node,{type:"input"}),this.fileInput.type="file"}return N(n,y),n.prototype.label="Import",n.prototype.extraCss="import",n.hideOnMobile=!0,n.prototype.needsPreset=!1,n.prototype.perform=function(e){var t,n,r,i,o;return r=e.id,n=e.dev,o=e.scope,i=e.node,t=e.data,p.DelayedSpinner.RunPromise({node:i,src:n,promise:h.import({id:r,dev:n,data:t,scope:o}).then(function(e){return n.set("preferences/presets/"+o+"/current",e)})})},n.prototype.dragdown=function(){},n}(),k=function(){function t(t,n){var r;this.info=t,this.node=e.appendSpec(n,{className:"presetActions"}),this.list=e.appendSpec(this.node,{type:"ul"}),this.actions=function(){var e,t,n,o;for(o=[],e=0,t=(n=this.actions).length;e<t;e++)r=n[e],i.isMobile&&r.hideOnMobile||o.push(new r({node:this.list,info:this.info}));return o}.call(this)}return t.prototype.actions=[b,g,T,m,v],t}(),S=function(){function t(t){var r,o;this.id=t.id,r=t.node,this.info=t.info,this.node=e.appendSpec(r,{type:"li",className:"presetTarget "+(this.id<1e3?"factory":"")}),this.scrollIntoView=i.debounce((o=this,function(){return o.realScrollIntoView()}),0),this.text=e.appendSpec(this.node,{type:"input",readOnly:!0}),this.removePool=[],this.setupMainListener(),this.reaction=new n.Function(this.info.dev,function(t){return function(n){if(e.setClass(t.node,"ui-selected",+n.get(t.info.path)===t.id),+n.get(t.info.path)===t.id)return t.scrollIntoView()}}(this)),this.nameReaction=new n.Function(this.info.dev,function(t){return function(n){if(!e.testClass(t.text,"selectable"))return t.text.value=n.get(t.namePath())}}(this))}return t.prototype.namePath=function(){return"meta/presets/"+this.info.scope+"/names/"+this.id},t.prototype.setupMainListener=function(){return this.removePool.push(new r.Listener({events:["dragdown","dblclick"],proxy:this,node:this.node}))},t.prototype.realScrollIntoView=function(){return this.info.scroll.scrollToClientRect(e.getBoundingClientRect(this.node))},t.prototype.popEdit=function(){var t;return e.addClass(this.text,"selectable"),this.text.readOnly=!1,this.clearRemovePool(),this.scrollIntoView(),this.removePool.push(new r.Listener({node:this.info.node,options:{capture:!0,register:!1},proxy:{dragdown:(t=this,function(e,n,r){if(e.target!==t.text)return"function"==typeof r.stopPropagation&&r.stopPropagation(),t.stopPopEdit(a.defer(function(){var t;return(t=document.createEvent("Events")).initEvent("mousedown",!0,!0),e.target.dispatchEvent(t)}))})}})),this.removePool.push(new r.Listener({node:this.text,proxy:{keypress:function(e){return function(t){if(i.isReturnKey(t))return e.stopPopEdit()}}(this)}})),a.defer(function(e){return function(){return e.text.select()}}(this))},t.prototype.stopPopEdit=function(t){var n,r;return r=this,n=function(){var e;if(e=r.text.value,r.info.dev.get(r.namePath())!==e)return h.rename({dev:r.info.dev,scope:r.info.scope,id:r.id,name:e}).then(function(e){return r.info.dev.set("preferences/presets/"+r.info.scope+"/current",e)})},p.DelayedSpinner.RunPromise({node:this.info.node,src:this.info.dev,promise:u.resolve().then(n).finally(function(t){return function(){return e.removeClass(t.text,"selectable"),t.setupMainListener()}}(this)).catch(function(e){return function(t){return P(e.info.node)(t),e.nameReaction.inval()}}(this)).then(t)}),this.clearRemovePool(),this.text.readOnly=!0},t.prototype.dblclick=function(){return this.popEdit()},t.prototype.dragdown=function(e,t,n){return this.info.dev.set("preferences/presets/"+this.info.scope+"/current",this.id),t.remove(),n.stopPropagation(),n.preventDefault()},t.prototype.clearRemovePool=function(){var e,t,n;for(e=0,t=(n=this.removePool).length;e<t;e++)n[e].remove();return this.removePool=[]},t.prototype.remove=function(){return this.scrollIntoView.cancel(),this.clearRemovePool(),this.reaction.remove()},t}(),C=function(){function i(i){var o,s,l,u,c;this.dev=i.dev,this.node=i.node,s=i.scope,u=i.wildcards,o=i.close,this.popEdit=A(this.popEdit,this),this.managePresetButton=e.appendSpec(this.node,{className:"managePresets"}),e.appendSpec(this.managePresetButton,{type:"span",className:"label",textContent:"Manage Presets"}),new f.FunctionButton({node:this.managePresetButton,f:(c=this,function(){return c.toggleVisibility()})}),this.div=e.appendSpec(this.node,{className:"presetManagementPopup"}),e.hide(this.div),this.rebuildPresetArea=a.debounce(function(e){return function(){return e.realRebuildPresetArea()}}(this),0),this.info=new x({dev:this.dev,wildcards:u,path:"meta/presets/"+s+"/current",scope:s,node:this.node,close:o,popEdit:function(e){return function(t){return e.popEdit(t)}}(this)}),this.actions=new k(this.info,this.div),this.scroll=new t({node:this.div,scrollX:!1}),this.info.scroll=this.scroll,this.listElm=e.appendSpec(this.scroll.content,{type:"ul",className:"presetItems"}),new n.Function(this.dev,function(e){return function(t){var n,r,i;for(e.targetIDs=[],n=r=0,i=+t.get("meta/presets/"+e.info.scope+"/numPresets");0<=i?r<i:r>i;n=0<=i?++r:--r)e.targetIDs.push(+t.get("meta/presets/"+e.info.scope+"/"+n+"/id"));return e.rebuildPresetArea()}}(this)),this.listener=new r.Listener({proxy:this,events:["dragover","dragenter","drop"],node:this.div}),(l=this.dev.get("preferences/preset/"+s+"/manage"))&&"false"!==l&&this.toggleVisibility()}return i.prototype.realRebuildPresetArea=function(){var t,n,r,i,o,a,s,l,u;if(null!=(a=null!=(s=this.targets)?s.length:void 0)?a:0,null!=this.targets)for(n=0,i=(l=this.targets).length;n<i;n++)l[n].remove();for(this.targets=[],e.clear(this.listElm),r=0,o=(u=this.targetIDs).length;r<o;r++)t=u[r],this.targets.push(new S({node:this.listElm,info:this.info,id:t}));if(null!=this.autoPop)return this.popEdit(this.autoPop),this.autoPop=null},i.prototype.toggleVisibility=function(){var t;return e.isVisible(this.div)?e.hide(this.div):(e.show(this.div),(t=e.getBoundingClientRect(this.div.parentNode)).bottom+5>window.innerHeight&&e.setTop(this.div.parentNode,window.innerHeight-t.height-5),this.dev.set(this.info.path,this.dev.get(this.info.path))),this.dev.set("preferences/preset/"+this.info.scope+"/manage",e.isVisible(this.div)),e.setClass(this.managePresetButton,"selected",e.isVisible(this.div))},i.prototype.popEdit=function(e){return a.defer((t=this,function(){var n,r,i,o;if(null!=t.targets){for(n=0,r=(i=t.targets).length;n<r;n++)if((o=i[n]).id===+e)return void o.popEdit();return t.autoPop=e}}));var t},i.prototype.hover=function(e){var t;return"copy"===(t=e.dataTransfer.effectAllowed)||"copyLink"===t||"copyMove"===t||"all"===t?e.dataTransfer.dropEffect="copy":e.dataTransfer.dropEffect="none"},i.prototype.dragenter=function(e){return this.hover(e)},i.prototype.dragover=function(e){return this.hover(e)},i.prototype.drop=function(e){var t,n;if(e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy")return(t=new window.FileReader).onload=(n=this,function(){return p.DelayedSpinner.RunPromise({node:n.node,src:n.dev,promise:h.import({dev:n.dev,data:t.result,scope:n.info.scope}).then(function(e){return n.dev.set("preferences/presets/"+n.info.scope+"/current",e)})})}),t.readAsText(e.dataTransfer.files[0])},i.prototype.remove=function(){},i}(),_=function(e){function t(e){var n;t.__super__.constructor.call(this,e),this.scope=e.scope,this.realInval=this.inval,this.inval=i.debounce((n=this,function(){return n.realInval()}),0),this.rewire("meta/presets/"+this.scope+"/current"),this.setupMenu()}return N(t,e),t.prototype.showOpt=function(e,t){return t.get("meta/presets/"+this.scope+"/names/"+e)},t.prototype.getOpts=function(e){var t,n,r,i;for(i=[],t=n=0,r=+e.get("meta/presets/"+this.scope+"/numPresets");0<=r?n<r:n>r;t=0<=r?++n:--n)i.push(e.get("meta/presets/"+this.scope+"/"+t+"/id"));return i},t.prototype.remove=function(){return this.inval.cancel(),t.__super__.remove.call(this)},t.prototype.addInteraction=function(){return this.interaction=new f.FunctionMenu({node:this.node,f:(e=this,function(t){return e.dev.set("preferences/presets/"+e.scope+"/current",t)})});var e},t.prototype.removeInteraction=function(){var e;return null!=(e=this.interaction)?e.remove():void 0},t}(l.Menu),w=function(){function t(t){var n,r;this.dev=t.dev,this.node=t.div,n=t.args,this.scope=n[0],this.wildcards=n[1],this.close=t.close,this.dev.get("preferences/presets/"+this.scope+"/current")||this.dev.set("preferences/presets/"+this.scope+"/current",0),this.removePool=[],e.addClass(this.node,"presetPopup"),this.makeApplySaveArea(),this.makeCaptureArea(),e.getBoundingClientRect(this.node).left>(r=window.innerWidth-300)&&e.setLeft(this.node,r),this.removePool.push(new C({dev:this.dev,node:this.node,scope:this.scope,wildcards:this.wildcards,close:this.close}))}return t.prototype.makeApplySaveArea=function(){var t,r,i;return this.applyDiv=e.appendSpec(this.node,{className:"applySave"}),this.removePool.push(e.removeWrap(this.applyDiv)),this.removePool.push(new _({dev:this.dev,node:this.applyDiv,extraCss:"input",scope:this.scope})),r=e.appendSpec(this.applyDiv,{className:"utilityBtn action",textContent:"Save"}),this.removePool.push(e.removeWrap(r)),this.removePool.push(new f.FunctionButton({node:r,f:(i=this,function(){return i.save()})})),this.removePool.push(new n.Function(this.dev,function(t){return function(n){return e.setClass(r,"disabled",!n.get("meta/presets/"+t.scope+"/current"))}}(this))),t=e.appendSpec(this.applyDiv,{className:"utilityBtn action",textContent:"Apply"}),this.removePool.push(e.removeWrap(t)),this.removePool.push(new f.FunctionButton({node:t,f:function(e){return function(){return e.apply()}}(this)})),this.removePool.push(new n.Function(this.dev,function(n){return function(r){return e.setClass(t,"disabled",!r.get("meta/presets/"+n.scope+"/current"))}}(this)))},t.prototype.makeCaptureArea=function(){var t,n;return this.captureDiv=e.appendSpec(this.node,{className:"capture"}),this.removePool.push(e.removeWrap(this.captureDiv)),t=e.appendSpec(this.captureDiv,{className:"utilityBtn action",textContent:"Create"}),this.removePool.push(e.removeWrap(t)),this.removePool.push(new f.FunctionButton({node:t,f:(n=this,function(){return n.capture()})})),this.captureNamePath="preferences/presets/"+this.scope+"/captureName",this.dev.set(this.captureNamePath,"new "+this.scope+" preset"),this.captureNameControl=new l.String({allowMobile:!0,dev:this.dev,node:this.captureDiv,extraCss:"input",path:this.captureNamePath}),this.removePool.push(this.captureNameControl)},t.prototype.clearRemovePool=function(){var e,t,n;for(e=0,t=(n=this.removePool).length;e<t;e++)n[e].remove();return this.removePool=[]},t.prototype.capture=function(){return a.defer((e=this,function(){return p.DelayedSpinner.RunPromise({node:e.node,src:e.dev,promise:h.capture({dev:e.dev,wildcards:e.wildcards,scope:e.scope,name:e.dev.get(e.captureNamePath)}).then(function(t){return e.dev.set("preferences/presets/"+e.scope+"/current",t),e.close()})}).catch(P(e.node))}));var e},t.prototype.apply=function(){var e,t,n;if((e=this.dev.get("meta/presets/"+this.scope+"/current"))&&!window.isNaN(+e))return e=+e,t='Apply "'+this.dev.get("meta/presets/"+this.scope+"/names/"+e)+'"?',E({node:this.node,cancel:!0,prompt:t}).then((n=this,function(){return p.DelayedSpinner.RunPromise({node:n.node,src:n.dev,promise:h.apply({id:e,dev:n.dev,scope:n.scope,wildcards:n.wildcards}).then(function(){return n.close()})})})).catch(function(e){return"CancellationError"===e.name},function(){}).catch(P(this.node))},t.prototype.save=function(){var e,t,n,r;if((e=+this.dev.get("meta/presets/"+this.scope+"/current"))&&!window.isNaN(+e))return e=+e,t=this.dev.get("meta/presets/"+this.scope+"/names/"+e),n='Save over "'+this.dev.get("meta/presets/"+this.scope+"/names/"+e)+'"?',E({node:this.node,cancel:!0,prompt:n}).then((r=this,function(){return p.DelayedSpinner.RunPromise({node:r.node,src:r.dev,promise:h.captureAndUpdate({id:e,dev:r.dev,scope:r.scope,name:t,wildcards:r.wildcards}).then(function(e){return r.dev.set("preferences/presets/"+r.scope+"/current",e),r.close()})})})).catch(function(e){return"CancellationError"===e.name},function(){}).catch(P(this.node))},t.prototype.remove=function(){return this.clearRemovePool(),e.removeClass(this.node,"presetPopup")},t}(),function(){function t(t){var n,r;this.wildcards=t.wildcards,this.scope=t.scope,r=t.node,this.dev=t.dev,n=t.extraCss,c.works({dev:this.dev,cap:"preset"})&&(null==this.wildcards&&(this.wildcards={}),this.node=e.appendSpec(r,{className:"presetButton "+(null!=n?n:"")}),this.listener=new f.Popup({node:this.node,args:[this.scope,this.wildcards],control:w,dev:this.dev}))}return t.prototype.remove=function(){},t}()}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(1),n(2),n(64),n(3),n(30)],void 0===(i=function(e,t,n,r,i){var o,a,s,l,u,c,h,p,d={}.hasOwnProperty,f=function(e,t){for(var n in t)d.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};for(o={},5,Math,o.Box=function(){function e(e){var t,n,r,i,o;for(r in this.left=e.left,this.top=e.top,this.bottom=e.bottom,this.right=e.right,n=e.height,o=e.width,t={right:this.left+o,left:this.right-o,bottom:this.top+n,top:this.bottom-n})d.call(t,r)&&(i=t[r],window.isNaN(i)||null==this[r]&&(this[r]=i))}return e.prototype.left=null,e.prototype.right=null,e.prototype.top=null,e.prototype.bottom=null,e.prototype.inset=function(e){return this.right-=e,this.bottom-=e,this.left+=e,this.top+=e},e}(),o.SVGGroup=function(){function e(){}return e.prototype.getElems=function(){return[]},e.prototype.mapElems=function(e){var t,n,r;for(t=0,n=(r=this.getElems()).length;t<n;t++)e(r[t]);return null},e.prototype.getAttribute=function(e){var t;return null!=(t=this.getElems[0])?t.getAttribute(e):void 0},e.prototype.setAttribute=function(e,t){return this.mapElems(function(n){return n.setAttribute(e,t)})},e}(),a=function(e){return o.SVGGroup.prototype[e]=function(t,n){return this.mapElems(function(i){return r[e](i,t,n)})}},s=0,u=(h=["show","hide","addClass","removeClass","setClass","remove"]).length;s<u;s++)a(h[s]);return p="http://www.w3.org/2000/svg",o.ShadowedText=function(t){var n;function i(t){var n,r,i,o,a,s,l;for(this.dsvg=t.dsvg,l=t.text,null==(r=t.extraCss)&&(r=""),(n={"font-size":10,"text-anchor":"start","font-weight":"bold",class:""}).class=r,this.text=this.dsvg.makeText(0,0,l),i=0,a=(s=e.keys(n)).length;i<a;i++)o=s[i],this.text.setAttribute(o,n[o])}return f(i,t),n=0,i.prototype.getElems=function(){return[this.text]},i.prototype.makeClipPath=function(){return this.clipPath=document.createElementNS(p,"clipPath"),this.clipPath.id="shadowed-text-clip"+ ++n,this.clipRect=document.createElementNS(p,"rect"),this.clipPath.appendChild(this.clipRect),this.dsvg.defs.appendChild(this.clipPath),this.setAttribute("clip-path","url(#shadowed-text-clip"+n+")")},i.prototype.boxAlign=function(e){var t,n,r,i,o,a,s,l,u,c,h,p,d,f;if(n=e.box,o=e.direction,t=e.align,d=e.vAlign,r=e.clip,null==t&&(t="start"),null==d&&(d="normal"),null==o&&(o="horizontal"),r)for(null==this.clipPath&&this.makeClipPath(),i={horizontal:{x:n.left,y:n.top,width:n.right-n.left,height:n.bottom-n.top},vertical:{x:n.left,y:n.top,width:n.right-n.left,height:n.bottom-n.top}}[o],a=0,l=(p=["x","y","width","height"]).length;a<l;a++)s=p[a],this.clipRect.setAttribute(s,i[s]);return this.setAttribute("text-anchor",t),this.setAttribute("dominant-baseline",{normal:"auto",center:"central"}[d]),h={horizontal:this.textWidth,vertical:this.textHeight}[o],u=function(e,t){return{normal:.75*(t-e)+e,center:(t+e)/2}[d]},c=function(e,n){return{start:e,end:n,middle:Math.abs(n-e)>h?(n+e)/2:e+h/2}[t]},{vertical:(f=this,function(){return f.transform(u(n.left,n.right),c(n.bottom-5,n.top+5),-90)}),horizontal:function(e){return function(){return e.transform(c(n.left+5,n.right-5),u(n.top,n.bottom),0)}}(this)}[o]()},i.prototype.setText=function(e){if(e!==this.text.textContent)return this.textHeight=this.text.clientHeight,this.textWidth=this.text.clientWidth,this.text.textContent=e},i.prototype.getText=function(){return this.getAttribute("text")},i.prototype.hilite=function(e){return r.setClass(this.text,"hilite",e)},i.prototype.transform=function(e,t,n){if(this.text.setAttribute("transform","translate("+(null!=e?e:0)+", "+(null!=t?t:0)+") rotate("+(null!=n?n:0)+")"),null!=this.clipRect)return this.clipRect.setAttribute("transform","rotate("+-(null!=n?n:0)+") translate("+-(null!=e?e:0)+", "+-(null!=t?t:0)+")")},i}(o.SVGGroup),l="http://www.w3.org/1999/xlink",o.Image=function(e){function t(e){var t;this.dsvg=e.dsvg,this.size=e.size,e.extraCss,t=e.url,this.image=document.createElementNS(p,"image"),this.image.setAttributeNS(l,"href",t),this.image.setAttribute("width",this.size.width),this.image.setAttribute("height",this.size.height),this.image.setAttribute("preserveAspectRatio","xMidYMax"),this.dsvg.svg.appendChild(this.image)}return f(t,e),t.prototype.getElems=function(){return[this.image]},t.prototype.boxAlign=function(e){var t,n,r,i,o;return t=e.box,null==(n=e.direction)&&(n="horizontal"),o=this,r=function(e,t){return(t-e-o.size.height)/2+e},i=function(e){return function(t,n){return(n-t-e.size.width)/2+t}}(this),{vertical:function(e){return function(){return e.transform(r(t.left,t.right),i(t.bottom-5,t.top+5)+e.size.width,-90)}}(this),horizontal:function(e){return function(){return e.transform(i(t.left+5,t.right-5),r(t.top,t.bottom),0)}}(this)}[n]()},t.prototype.transform=function(e,t,n){return this.image.setAttribute("transform","translate("+(null!=e?e:0)+", "+(null!=t?t:0)+") rotate("+(null!=n?n:0)+")")},t}(o.SVGGroup),o.BevelBox=function(e){function t(e){var t,n,r,i,o;for(r in this.dsvg=e.dsvg,t=e.box,null==(n=e.extraCss)&&(n=""),this.bg=this.dsvg.makeRect(0,0,1,1),i={class:"bg "+n,stroke:"red",fill:"none"})o=i[r],this.bg.setAttribute(r,o);null!=t&&this.setBox(t)}return f(t,e),t.prototype.setBox=function(e){var t,n,r;for(t in n={x:(e=new o.Box(e)).left-.5,y:e.top-.5,width:e.right-e.left+.5,height:e.bottom-e.top+.5})r=n[t],this.bg.setAttribute(t,r);return e.inset(.5)},t.prototype.hilite=function(e){return r.setClass(this.bg,"hilite",e)},t.prototype.getElems=function(){return[this.bg]},t}(o.SVGGroup),o.LED=function(e){var t;function n(e){var t;this.dsvg=e.dsvg,t=e.extraCss,this.led=this.dsvg.makeCircle(-1,-1,1),this.led.setAttribute("class","routingLed "+(null!=t?t:""))}return f(n,e),t=new i.ActivityMeterColor,n.colorFunc=function(e){return 0===e?"rgb(0,0,0)":"rgb("+~~(58+58*(e=t.warp(e/255)))+", "+~~(98+98*e)+", "+~~(127+127*e)+")"},n.prototype.setValue=function(e){return this.led.setAttribute("fill",o.LED.colorFunc(e))},n.prototype.setPos=function(e){var t,n,r;return t=e.cx,n=e.cy,r=e.r,this.led.setAttribute("cx",t),this.led.setAttribute("cy",n),this.led.setAttribute("r",r)},n.prototype.getElems=function(){return[this.led]},n}(o.SVGGroup),o.TextBox=function(t){function n(e){var t,n,r,i,a;this.dsvg=e.dsvg,n=e.extraCss,this.box=e.box,this.alignment=e.alignment,a=e.text,t=e.clicky,r=e.image,null==this.alignment&&(this.alignment={}),this.textBox=this.box,this.bevelBox=new o.BevelBox({dsvg:this.dsvg,extraCss:n}),this.text=new o.ShadowedText({dsvg:this.dsvg,extraCss:n}),null!=r&&(this.image=new o.Image({dsvg:this.dsvg,url:r.url,size:r.size})),null!=(i=this.image)&&i.hide(),t&&(this.clicky=new o.ClickBox({dsvg:this.dsvg,extraCss:n})),this.setText(a),this.update()}return f(n,t),n.prototype.setText=function(e){return this.text.setText(e)},n.prototype.getText=function(){return this.text.getText()},n.prototype.hilite=function(e){return this.text.hilite(e),this.bevelBox.hilite(e)},n.prototype.setAlignment=function(e){return this.alignment=e,this.update()},n.prototype.setBox=function(e){return this.box=e,this.textBox=this.box,this.update()},n.prototype.setTextBox=function(e){return this.textBox=e,this.update()},n.prototype.update=function(){var e,t;if(this.box)return this.bevelBox.setBox(this.box),null!=(e=this.clicky)&&e.setBox(this.box),this.alignment.box=this.textBox,this.alignment.clip=!0,this.text.boxAlign(this.alignment),null!=(t=this.image)?t.boxAlign(this.alignment):void 0},n.prototype.hasImage=function(){return null!=this.image},n.prototype.showTextAndHideImage=function(){return this.text.show(),this.image.hide()},n.prototype.hideTextAndShowImage=function(){return this.text.hide(),this.image.show()},n.prototype.hideText=function(){return this.text.hide()},n.prototype.showText=function(){return this.text.show()},n.prototype.getElems=function(){var t;return e.flatten(function(){var e,n,r,i,o;for(o=[],e=0,n=(r=[this.text,this.bevelBox,this.image,this.clicky]).length;e<n;e++)t=r[e],o.push(null!=(i=null!=t&&"function"==typeof t.getElems?t.getElems():void 0)?i:[]);return o}.call(this))},n}(o.SVGGroup),8,c=function(e,t,n){return{down:"M"+t+","+n+"L"+(t+4)+","+(n+3.6)+"L"+(t+8)+","+n+"Z",left:"l"===e||"L"===e?"M"+t+","+(n+4)+"L"+(t+6.8)+","+(n+8)+"L"+(t+6.8)+","+n+"Z":void 0,right:"M"+t+","+n+"L"+t+","+(n+8)+"L"+(t+3.6)+","+(n+4)+"Z",up:"M"+t+","+(n+8)+"L"+(t+4)+","+(n+1.2)+"L"+(t+8)+","+(n+8)+"Z"}[e]},o.DisclosureArrow=function(e){function t(e){var t;this.dsvg=e.dsvg,t=e.extraCss,this.x=e.x,this.y=e.y,this.direction=e.direction,this.path=this.dsvg.makePath(),this.path.setAttribute("class","disclosureArrow "+(null!=t?t:"")),this.update()}return f(t,e),t.prototype.setPos=function(e){return this.x=e.x,this.y=e.y,this.update()},t.prototype.setDirection=function(e){return this.direction=e,this.update()},t.prototype.update=function(){if(null!=this.x&&null!=this.y&&null!=this.direction)return this.path.setAttribute("d",c(this.direction,this.x,this.y))},t.prototype.getElems=function(){return[this.path]},t}(o.SVGGroup),o.ClickBox=function(e){function t(e){var t,n,r,i;for(n in this.dsvg=e.dsvg,t=e.extraCss,this.box=e.box,this.bg=this.dsvg.makeRect(0,0,1,1),r={fill:"magenta",stroke:"none",opacity:0,class:"clickBox "+(null!=t?t:"")})i=r[n],this.bg.setAttribute(n,i);null!=this.box&&this.setBox(this.box)}return f(t,e),t.prototype.setBox=function(e){var t,n,r,i;for(t in this.box=e,r=[],n={x:this.box.left,y:this.box.top,width:this.box.right-this.box.left,height:this.box.bottom-this.box.top})i=n[t],r.push(this.bg.setAttribute(t,i));return r},t.prototype.getElems=function(){return[this.bg]},t.prototype.getNode=function(){return this.bg},t}(o.SVGGroup),o.Chicklet=function(e){function t(e){var t;this.dsvg=e.dsvg,t=e.extraCss,this.box=e.box,this.bg=this.dsvg.makeRect(0,0,1,1),this.bg.setAttribute("class","chicklet "+(null!=t?t:"")),null!=this.box&&this.setBox(new o.Box(this.box))}return f(t,e),t.prototype.getElems=function(){return[this.bg]},t.prototype.setBox=function(e){var t,n,r,i;for(t in this.box=e,this.box.inset(3),r=[],n={x:this.box.left,y:this.box.top,width:this.box.right-this.box.left,height:this.box.bottom-this.box.top})i=n[t],r.push(this.bg.setAttribute(t,i));return r},t}(o.SVGGroup),o}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(3),n(1),n(27),n(5),n(32),n(21),n(50),n(30),n(16)],void 0===(i=function(e,t,n,r,i,o,a,s,l){var u,c,h,p,d,f,v,m,g,b,y,C,x,_,w,S,k,T,E,P=function(e,t){for(var n in t)I.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},I={}.hasOwnProperty;return S={input:{bank:"ibank",Bank:"IBank",label:"Input"},output:{bank:"obank",Bank:"OBank",label:"Output"}},y=["trim","trim2","stereoTrim","phase","48V","pad","vlLimit","vlClip"],k={Input:{default:0},Output:{"Phones/stereoTrim":-24,default:0}},E={Input:{default:"Identity"},Output:{"Phones/stereoTrim":"OutputTrim","Main/stereoTrim":"OutputTrim","Monitor/stereoTrim":"OutputTrim",default:"Identity"}},w=["vlimit/lookahead"],T=[],b={trim:{constructor:n.SmallKnob,extraArgs:{text:"Trim",range:"trimRange"}},trim2:{constructor:n.SmallKnob,extraArgs:{text:"Trim",range:"trimRange2"}},stereoTrim:{constructor:n.SmallKnob,extraArgs:{text:"Trim",stereo:!0,range:"stereoTrimRange"}},phase:{constructor:n.ToggleButton,extraArgs:{text:"Phase",extraCss:"pcUtilityBtn phaseBtn"}},"48V":{constructor:n.ToggleButton,extraArgs:{text:"48V",extraCss:"pcUtilityBtn phantomBtn"}},pad:{constructor:n.ToggleButton,extraArgs:{text:"Pad",extraCss:"pcUtilityBtn padBtn"}},vlLimit:{constructor:n.ToggleButton,extraArgs:{text:"VLimit",extraCss:"pcUtilityBtn vlLimitBtn"}},vlClip:{constructor:n.ToggleButton,extraArgs:{text:"SoftClip",extraCss:"pcUtilityBtn vlClipBtn"}},"vlimit/lookahead":{constructor:n.ToggleButton,extraArgs:{text:"VLimit Lookahead",extraCss:"pcUtilityBtn vlLookahead"}}},g=function(e){var t,n,r,i;return i=e.io,t=e.bn,r=e.cn,n=e.c,"ext/"+i.bank+"/"+t+"/ch/"+r+"/"+n},v=function(e){var n,r,i,o,a,s,l,u,c;for(a=e.io,n=e.bn,l=(i=e.dev).router["get"+a.Bank+"NumCh"](n),o=!1,r=s=0,u=l;0<=u?s<u:s>u;r=0<=u?++s:--s)i.valid(g({io:a,bn:n,cn:r,c:"validControls"}))?(c=i.get(g({io:a,bn:n,cn:r,c:"validControls"})).split(":"),t.any(c,function(e){return i.valid(g({io:a,bn:n,cn:r,c:e}))})&&(o=!0)):t.any(y,function(e){return i.valid(g({io:a,bn:n,cn:r,c:e}))})&&(o=!0);return o},m=function(e){var n,r,i,o,a;return o=e.io,n=e.bn,r=e.cn,(i=e.dev).valid(g({io:o,bn:n,cn:r,c:"validControls"}))?(a=i.get(g({io:o,bn:n,cn:r,c:"validControls"})).split(":"),t.any(a,function(e){return i.valid(g({io:o,bn:n,cn:r,c:e}))})):t.any(y,function(e){return i.valid(g({io:o,bn:n,cn:r,c:e}))})},_=function(e){var n,r,i,o,a;return o=e.io,n=e.bn,r=e.cn,(i=e.dev).valid(g({io:o,bn:n,cn:r,c:"validControls"}))?(a=i.get(g({io:o,bn:n,cn:r,c:"validControls"})).split(":"),t.filter(a,function(e){return i.valid(g({io:o,bn:n,cn:r,c:e}))})):t.filter(y,function(e){return i.valid(g({io:o,bn:n,cn:r,c:e}))})},C=function(e){var t,n;return t=e.bn,n=e.cn,e.dev.router.getOBankChSrc({bn:t,cn:n}).split(":")},x=function(e){var n,r,i,o;return i=e.dev,n=e.bn,r=e.cn,o=e.io,a.join(t.map([r,a.getOtherStereoCh(r)],function(e){return i.router["get"+o.Bank+"ChName"]({bn:n,cn:e})}))},n.StereoChName=function(){function n(n){var i,o;this.io=n.io,this.bn=n.bn,this.cn=n.cn,this.parent=n.node,this.dev=n.dev,this.node=e.appendSpec(this.parent,{type:"textarea",spellcheck:!1,autocorrect:!1}),this.node.placeholder=a.join(t.map([this.cn,a.getOtherStereoCh(this.cn)],(o=this,function(e){return o.dev.router.getChNameFromBank(o.io,o.bn,e)}))),this.reaction=new r.Function(this.dev,function(e){return function(t){if(t.get("ext/"+e.io.bank+"/"+e.bn+"/ch/"+e.cn+"/name")||t.get("ext/"+e.io.bank+"/"+e.bn+"/ch/"+a.getOtherStereoCh(e.cn)+"/name"))return e.node.value=x({dev:t,bn:e.bn,cn:e.cn,io:e.io});e.node.value=""}}(this)),i=function(e){return function(t){var n;return""===t?(e.dev.router["set"+e.io.Bank+"ChName"]({bn:e.bn,cn:a.getFirstStereoChannel(e.cn)},""),void e.dev.router["set"+e.io.Bank+"ChName"]({bn:e.bn,cn:a.getFirstStereoChannel(e.cn)+1},"")):(n=a.split(t),e.dev.router["set"+e.io.Bank+"ChName"]({bn:e.bn,cn:a.getFirstStereoChannel(e.cn)},n[0]),e.dev.router["set"+e.io.Bank+"ChName"]({bn:e.bn,cn:a.getFirstStereoChannel(e.cn)+1},n[1]))}}(this),this.interaction=new l.FunctionString({node:this.node,f:i})}return n.prototype.remove=function(){return this.reaction.remove(),this.interaction.remove(),e.remove(this.node)},n}(),u=function(){function t(t){var n,i,o;this.bn=t.bn,n=t.cn,this.dev=t.dev,i=t.node,this.io=t.io,this.cns=t.cns,null==this.cns&&(this.cns=[n]),this.node=e.appendSpec(i,{className:this.className}),this.canvas=e.appendSpec(this.node,{type:"canvas",height:this.elemHeight,width:this.elemWidth}),this.ctx=this.canvas.getContext("2d"),this.ctx.fillStyle="#75c5ff",this.warp=new s.ActivityMeter,this.indexWatcher=new r.Function(this.dev,(o=this,function(e){var t,r,i,a,s;for(o.meterIndices=[],r=0,i=(a=o.cns).length;r<i;r++)n=a[r],null!=(t=o.getMeterIndex(e,o.bn,n))&&o.meterIndices.push(t);return null!=(s=o.meterWatcher)?s.inval():void 0})),this.meterWatcher=new r.Function(this.dev,function(e){return function(t){return e.render(e.getVal(t))}}(this))}return t.prototype.elemHeight=4,t.prototype.elemWidth=35,t.prototype.className="activityMeter",t.prototype.setCns=function(e){return this.cns=e,this.indexWatcher.inval()},t.prototype.getVal=function(e){var t,n,r,i,o,a;if(!this.meterIndices.length)return 0;if(i=0,null==(a=e.get("meters/ext/input")))return 0;for(n=0,r=(o=this.meterIndices).length;n<r;n++)a[t=o[n]]>i&&(i=a[t]);return i},t.prototype.getMeterIndex=function(e,t,n){return e.router["get"+this.io.Bank+"ChMeterIndex"]({bn:t,cn:n})},t.prototype.render=function(e){return e=this.warp.warp(e/255),this.ctx.clearRect(0,0,this.elemWidth,this.elemHeight),this.ctx.fillRect(0,0,~~(this.elemWidth*e),this.elemHeight)},t.prototype.remove=function(){return this.node.remove(),this.indexWatcher.remove(),this.meterWatcher.remove()},t}(),c=function(){function s(t){var i,s,l,c,h,p,d,f,v;(this.io=t.io,s=t.div,this.dev=t.dev,this.bn=t.bn,this.cn=t.cn,p=t.nameReadonly,this.glideScopes=t.glideScopes,this.glideBoundNode=t.glideBoundNode,this.removePool=[],f=this.dev.valid(g({io:this.io,bn:this.bn,cn:this.cn,c:"validControls"}))?this.dev.get(g({io:this.io,bn:this.bn,cn:this.cn,c:"validControls"})).split(":"):y,d=function(){var e,t,n;for(n=[],e=0,t=f.length;e<t;e++)i=f[e],this.dev.valid(g({io:this.io,bn:this.bn,cn:this.cn,c:i}))&&b[i].extraArgs.stereo&&n.push(i);return n}.call(this),0!==(h=function(){var e,t,n;for(n=[],e=0,t=f.length;e<t;e++)i=f[e],this.dev.valid(g({io:this.io,bn:this.bn,cn:this.cn,c:i}))&&!b[i].extraArgs.stereo&&n.push(i);return n}.call(this)).length||0!==d.length)&&(c=o.works({dev:this.dev,cap:"activityMeters"}),d.length&&(this.node=e.appendSpec(s,{className:"icChDiv enabledWrapper"}),this.removePool.push(this.node),this.removePool.push(new n.StereoChName({io:this.io,bn:this.bn,cn:this.cn,node:this.node,dev:this.dev})),l=a.getFirstStereoChannel(this.cn),c&&(this.removePool.push(new u({bn:this.bn,cn:l,dev:this.dev,io:this.io,node:this.node})),this.removePool.push(new u({bn:this.bn,cn:a.getOtherStereoCh(l),dev:this.dev,io:this.io,node:this.node}))),this.addControls(this.node,d)),h.length&&(this.node=e.appendSpec(s,{className:"icChDiv enabledWrapper"}),this.removePool.push(this.node),this.removePool.push(new n.BankChName({multiline:!0,io:this.io,bn:this.bn,cn:this.cn,node:this.node,dev:this.dev,editable:!p})),c&&this.removePool.push(new u({bn:this.bn,cn:this.cn,dev:this.dev,io:this.io,node:this.node})),this.addControls(this.node,h)),this.removePool.push(new r.Function(this.dev,(v=this,function(t){return e.setClass(v.node,"enabled",t.router["get"+v.io.Bank+"CalcCh"](v.bn)>0)}))))}return s.prototype.addControls=function(e,n){var r,o,a,s,u,c,h,p,d,f,v,m;for(m=[],u=0,c=n.length;u<c;u++)o=n[u],null!=this.glideScopes&&null==(r=this.glideScopes)[h="inputControl"+o]&&(r[h]=new l.GlideScope({axis:"x",boundingNode:this.glideBoundNode})),p={path:g({io:this.io,bn:this.bn,cn:this.cn,c:o}),dev:this.dev,node:e,position:"Center",type:new i(["bool",0]),glideScope:null!=(d=this.glideScopes)?d["inputControl"+o]:void 0},null!=b[o].extraArgs.range&&(s=this.dev.router["get"+this.io.Bank+"Name"](this.bn)+"/"+o,a=null!=(f=k[this.io.label][s])?f:k[this.io.label].default,p.type=new i(t.flatten(["int",a,this.dev.get("ext/"+this.io.bank+"/"+this.bn+"/ch/"+this.cn+"/"+b[o].extraArgs.range).split(":")])),p.warptype=null!=(v=E[this.io.label][s])?v:E[this.io.label].default,p.pathRoot="ext/"+this.io.bank+"/"+this.bn+"/ch/"+this.cn),t.extend(p,b[o].extraArgs),m.push(this.removePool.push(new b[o].constructor(p)));return m},s.prototype.remove=function(){var e,t,n,r,i;for(i=[],e=0,t=(r=this.removePool).length;e<t;e++)n=r[e],i.push(n.remove());return i},s}(),h=function(){function t(t){var n,r,i,o,a,s,l,u,h;for(this.io=t.io,this.dev=t.dev,this.bn=t.bn,i=t.div,a=t.glideScopes,o=t.glideBoundNode,this.div=e.appendSpec(i,{className:"icBankDiv"}),-1!==(n=this.dev.get("ext/"+this.io.bank+"/"+this.bn+"/name")).indexOf("AVB Stream ")&&(h=+n.split("AVB Stream ")[1]-1,s=this.dev.get("uid"),n=this.dev.avb.getTalkerTitle(s,this.dev.avb.getNthInputStreamTalker(s,h))),e.appendSpec(this.div,{type:"h5",textContent:n}),r=l=0,u=this.dev.router["get"+this.io.Bank+"MaxCh"](this.bn);0<=u?l<u:l>u;r=0<=u?++l:--l)m({io:this.io,bn:this.bn,cn:r,dev:this.dev})&&new c({io:this.io,dev:this.dev,div:this.div,bn:this.bn,cn:r,glideScopes:a,glideBoundNode:o})}return t.prototype.remove=function(){if(null!=this.div)return e.remove(this.div)},t}(),(p=function(){function n(n){var i,a,s,l,u,c,p,d,f,m,g;if((this.io=n.io,this.dev=n.dev,a=n.div,s=n.glideBoundNode,o.works({dev:this.dev,cap:"router"}))&&(i=!1,this.mapBanks((g=this,function(e){if(v({io:g.io,bn:e,dev:g.dev}))return i=!0})),i)){for(this.div=e.appendSpec(a,{}),e.appendSpec(this.div,{type:"h4",textContent:this.io.label+" Settings"}),this.subDiv=e.appendSpec(this.div,{className:"icDiv"}),c="Input"===this.io.label?w:T,this.globalControlsDiv=e.appendSpec(this.subDiv,{}),p=0,d=c.length;p<d;p++)m="ext/"+(u=c[p]),this.dev.valid(m)&&(f={path:m,dev:this.dev,node:this.globalControlsDiv},f=t.extend(f,b[u].extraArgs),new b[u].constructor(f));l={},this.removepool={},this.mapBanks(function(e){return function(t){return new r.Function(e.dev,function(n){var r;if(null!=(r=e.removepool[t])&&r.remove(),null!=e.removepool[t]&&delete e.removepool[t],v({io:e.io,bn:t,dev:n}))return e.removepool[t]=new h({io:e.io,dev:e.dev,div:e.subDiv,bn:t,glideScopes:l,glideBoundNode:s})})}}(this))}}return n.prototype.mapBanks=function(e){var t,n;for(t=0,n=[];this.dev.valid("ext/"+this.io.bank+"/"+t+"/name");)e(t),n.push(t++);return n},n.ActivityMeter=u,n.prototype.remove=function(){},n}()).Input=function(e){function t(e){var n,r,i;n=e.dev,r=e.div,i=e.glideBoundNode,t.__super__.constructor.call(this,{dev:n,div:r,io:S.input,glideBoundNode:i})}return P(t,p),t}(),p.Output=function(e){function t(e){var n,r,i;n=e.dev,r=e.div,i=e.glideBoundNode,t.__super__.constructor.call(this,{dev:n,div:r,io:S.output,glideBoundNode:i})}return P(t,p),t}(),d=function(){function e(e){var t,n,r,i;this.dev=e.dev,this.div=e.div,r=e.args,this.inputs=r[0],this.io=r[1],this.close=e.close,n={},t={},this.mapInputs((i=this,function(e,r){var o;return o="meta/"+i.io.bank+"/"+e+"/calcCh",null==n[o]&&(n[o]=!0,i.dev.addListener(o,i)),new c({io:i.io,cn:r,bn:e,div:i.div,dev:i.dev,nameReadonly:!0,glideScopes:t,glideBoundNode:i.div})}))}return e.prototype.mapInputs=function(e){var t,n,r,i,o,a;for(a=[],r=i=0,o=this.inputs.length;i<o;r=i+=2)t=+this.inputs[r],n=+this.inputs[r+1],a.push(e(t,n));return a},e.prototype.inval=function(){var e,n;if(0,e=this.mapInputs((n=this,function(e,t){return t<+n.dev.get("meta/ibank/"+e+"/calcCh")})),!t.any(e))return this.close()},e.prototype.remove=function(){},e}(),f=function(){function t(t){var n,i;this.div=e.appendSpec(t.node,{className:"disclosureDiv"}),this.dev=t.dev,this.strip=t.strip,this.io="chan"===this.strip.type?S.input:S.output,n=this.dev.mixer.getStripBnCn(this.strip.id),this.bn=n.bn,this.cn=n.cn,new r.Function(this.dev,(i=this,function(e){return i.computeEnabled(e)}))}return t.prototype.getSrc=function(e){var t,n,r;return t=e.bn,n=e.cn,r=e.dev,C({bn:t,cn:n,dev:r})},t.prototype.getMonoChanControls=function(e){var t,n,r,i,o,a;return t=e.bn,n=e.cn,r=e.dev,i=(a=this.getSrc({bn:t,cn:n,dev:r}))[0],null!=(o=a[1])&&m({io:S.input,bn:+i,cn:+o,dev:r})?[i,o]:[]},t.prototype.gatherInputs=function(e){var t,n,r,i;return t=[],r=e.mixer.getStripFormat(this.strip.id),n=r[0],r[1],"chan"===this.strip.type?(t=this.getMonoChanControls({bn:this.bn,cn:this.cn,dev:e}),2===n&&(t=t.concat(this.getMonoChanControls({bn:this.bn,cn:e.mixer.getOtherStereoCh(this.cn),dev:e})))):(t=[],e.router.mapOBanks((i=this,function(r,o){var a,s,l,u,c,h,p;for(p=[],a=u=0,c=e.router.getOBankCalcCh(o);0<=c?u<c:u>c;a=0<=c?++u:--u)s=(h=e.router.getOBankChSrc({bn:o,cn:a}).split(":"))[0],l=h[1],+s===i.bn&&(+l===i.cn||2===n&&+l===e.mixer.getOtherStereoCh(i.cn))&&m({io:S.output,bn:o,cn:a,dev:e})?(t.push(o),p.push(t.push(a))):p.push(void 0);return p}))),t},t.prototype.computeEnabled=function(t){var n,r;return n=this.gatherInputs(t),e.setClass(this.div,"disabled",!n.length),null!=(r=this.interaction)&&r.remove(),n.length?this.interaction=new l.Popup({node:this.div,args:[n,this.io],dev:this.dev,control:d}):this.interaction=null},t}(),p.Controls17221=function(){return function(r){var o,a,s,l,u,c,h,p,d,f,v,m,g,b,y,C,x,_,w,S,k,T,E,P,I;for(s=r.dev,u=r.guid,l=r.div,this.div=e.appendSpec(l,{}),e.appendSpec(this.div,{type:"h4",textContent:"Controls"}),this.subDiv=e.appendSpec(this.div,{className:"icDiv"}),_=[],c=[],p=h=0,S=s.get("avb/"+u+"/cfg/0/jacks/num");0<=S?h<S:h>S;p=0<=S?++h:--h)"i"===s.get("avb/"+u+"/cfg/0/jacks/"+p+"/map").split(":")[0]?_.push(p):c.push(p);for(c&&(this.bankDiv=e.appendSpec(this.subDiv,{className:"icBankDiv"}),e.appendSpec(this.bankDiv,{type:"h5",textContent:"Inputs"})),d=0,v=c.length;d<v;d++){for(p=c[d],E=["gain","phantom","invert"],a={},y=s.get("avb/"+u+"/cfg/0/jacks/"+p+"/name"),o=f=0,k=s.get("avb/"+u+"/cfg/0/jacks/"+p+"/ctrls/num");0<=k?f<k:f>k;o=0<=k?++f:--f)I=s.get("avb/"+u+"/cfg/0/jacks/"+p+"/ctrls/"+o+"/type"),a[I]=o;t.any(E,function(e){return e in a})&&(C=e.appendSpec(this.bankDiv,{className:"icChDiv"}),y=s.get("avb/"+u+"/cfg/0/jacks/"+p+"/name"),e.appendSpec(C,{type:"span",textContent:y,className:"ctrlNameSpan"})),"gain"in a&&((w=(w=s.get("avb/"+u+"/cfg/0/jacks/"+p+"/ctrls/"+a.gain+"/range")).split(":"))[2],x={text:"Trim",path:"avb/"+u+"/cfg/0/jacks/"+p+"/ctrls/"+a.gain+"/value",dev:s,node:C,position:"Center",type:new i(t.flatten(["int",0,w.slice(0,2)])),warptype:"Identity"},new n.SmallKnob(x)),"phantom"in a&&(x={text:"48V",extraCss:"pcUtilityBtn phantomBtn",path:"avb/"+u+"/cfg/0/jacks/"+p+"/ctrls/"+a.phantom+"/value",dev:s,node:C,position:"Center",values:[255,0]},new n.ToggleButton(x)),"invert"in a&&(x={text:"Phase",extraCss:"pcUtilityBtn phaseBtn",path:"avb/"+u+"/cfg/0/jacks/"+p+"/ctrls/"+a.invert+"/value",dev:s,node:C,position:"Center",values:[255,0]},new n.ToggleButton(x))}for(_&&(this.bankDiv=e.appendSpec(this.subDiv,{className:"icBankDiv"}),e.appendSpec(this.bankDiv,{type:"h5",textContent:"Outputs"})),g=0,m=_.length;g<m;g++){for(p=_[g],P=["gain","mute"],a={},y=s.get("avb/"+u+"/cfg/0/jacks/"+p+"/name"),o=b=0,T=s.get("avb/"+u+"/cfg/0/jacks/"+p+"/ctrls/num");0<=T?b<T:b>T;o=0<=T?++b:--b)I=s.get("avb/"+u+"/cfg/0/jacks/"+p+"/ctrls/"+o+"/type"),a[I]=o;t.any(P,function(e){return e in a})&&(C=e.appendSpec(this.bankDiv,{className:"icChDiv"}),y=s.get("avb/"+u+"/cfg/0/jacks/"+p+"/name"),e.appendSpec(C,{type:"span",textContent:y,className:"ctrlNameSpan"})),"gain"in a&&((w=(w=s.get("avb/"+u+"/cfg/0/jacks/"+p+"/ctrls/"+a.gain+"/range")).split(":"))[2],x={text:"Trim",path:"avb/"+u+"/cfg/0/jacks/"+p+"/ctrls/"+a.gain+"/value",dev:s,node:C,position:"Center",type:new i(t.flatten(["int",0,w.slice(0,2)])),warptype:"Identity"},new n.SmallKnob(x)),"mute"in a&&(x={text:"Mute",extraCss:"pcUtilityBtn redBtn",path:"avb/"+u+"/cfg/0/jacks/"+p+"/ctrls/"+a.mute+"/value",dev:s,node:C,position:"Center",values:[255,0]},new n.ToggleButton(x))}}}(),p.ios=S,p.MixerControl=d,p.MixerControlButton=f,p.channelHasAnyControls=m,p.getValidControls=_,p.getSrc=C,p.getStereoName=x,p}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(5),n(118),n(3)],void 0===(i=function(e,t,n){var r;return r=function(e){return e%2==0},function(){function e(e,t,n){this.dev=e,this.type=t,this.index=n}return e.forCurrentBus=function(t){var n;return new e(t,(n=t.get("preferences/auxmix/current_id").split("/"))[0],+n[1])},e.prototype.leftIndex=function(){return r(this.index)?this.index:this.index-1},e.prototype.rightIndex=function(){return this.leftIndex()+1},e.prototype.inputsWillPan=function(){return this.inputsCanPan()&&this.inputPanEnabled()},e.prototype.inputsCanPan=function(){var e,t,n;return"group"===(t=this.type)||"reverb"===t||(e="mix/"+this.type+"/"+this.leftIndex()+"/config/format",n="mix/"+this.type+"/"+this.rightIndex()+"/config/format","2:0"===this.dev.get(e)&&"2:1"===this.dev.get(n))},e.prototype.panEnabledPath=function(){return"mix/"+this.type+"/"+this.leftIndex()+"/matrix/panner"},e.prototype.inputPanEnabled=function(e){return null!=e?this.dev.set(this.panEnabledPath(),+e):!!this.dev.get(this.panEnabledPath())},e.prototype.inputCanPan=function(e){var t;return t="mix/"+e.id+"/config/format","1:0"===this.dev.get(t)},e.prototype.inputWillPan=function(e){return this.inputsWillPan()&&this.inputCanPan(e)},e.prototype.inputPanPath=function(e){return"mix/"+e.id+"/matrix/"+this.type+"/"+this.leftIndex()+"/pan"},e.prototype.panSupported=function(){return null!=this.dev.get(this.panEnabledPath())},e}()}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i=n(10);e.exports=i.jsbn=i.jsbn||{};function o(e,t,n){this.data=[],null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function a(){return new o(null)}function s(e,t,n,r,i,o){for(var a=16383&t,s=t>>14;--o>=0;){var l=16383&this.data[e],u=this.data[e++]>>14,c=s*l+u*a;i=((l=a*l+((16383&c)<<14)+n.data[r]+i)>>28)+(c>>14)+s*u,n.data[r++]=268435455&l}return i}i.jsbn.BigInteger=o,"undefined"==typeof navigator?(o.prototype.am=s,r=28):"Microsoft Internet Explorer"==navigator.appName?(o.prototype.am=function(e,t,n,r,i,o){for(var a=32767&t,s=t>>15;--o>=0;){var l=32767&this.data[e],u=this.data[e++]>>15,c=s*l+u*a;i=((l=a*l+((32767&c)<<15)+n.data[r]+(1073741823&i))>>>30)+(c>>>15)+s*u+(i>>>30),n.data[r++]=1073741823&l}return i},r=30):"Netscape"!=navigator.appName?(o.prototype.am=function(e,t,n,r,i,o){for(;--o>=0;){var a=t*this.data[e++]+n.data[r]+i;i=Math.floor(a/67108864),n.data[r++]=67108863&a}return i},r=26):(o.prototype.am=s,r=28),o.prototype.DB=r,o.prototype.DM=(1<<r)-1,o.prototype.DV=1<<r;o.prototype.FV=Math.pow(2,52),o.prototype.F1=52-r,o.prototype.F2=2*r-52;var l,u,c="0123456789abcdefghijklmnopqrstuvwxyz",h=new Array;for(l="0".charCodeAt(0),u=0;u<=9;++u)h[l++]=u;for(l="a".charCodeAt(0),u=10;u<36;++u)h[l++]=u;for(l="A".charCodeAt(0),u=10;u<36;++u)h[l++]=u;function p(e){return c.charAt(e)}function d(e,t){var n=h[e.charCodeAt(t)];return null==n?-1:n}function f(e){var t=a();return t.fromInt(e),t}function v(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function m(e){this.m=e}function g(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function b(e,t){return e&t}function y(e,t){return e|t}function C(e,t){return e^t}function x(e,t){return e&~t}function _(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function w(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function S(){}function k(e){return e}function T(e){this.r2=a(),this.q3=a(),o.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}m.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},m.prototype.revert=function(e){return e},m.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},m.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},m.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},g.prototype.convert=function(e){var t=a();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(o.ZERO)>0&&this.m.subTo(t,t),t},g.prototype.revert=function(e){var t=a();return e.copyTo(t),this.reduce(t),t},g.prototype.reduce=function(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e.data[t],r=n*this.mpl+((n*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=t+this.m.t,e.data[n]+=this.m.am(0,r,e,t,0,this.m.t);e.data[n]>=e.DV;)e.data[n]-=e.DV,e.data[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},g.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},g.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},o.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s},o.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0},o.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,a=0;--r>=0;){var s=8==n?255&e[r]:d(e,r);s<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==a?this.data[this.t++]=s:a+n>this.DB?(this.data[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this.data[this.t++]=s>>this.DB-a):this.data[this.t-1]|=s<<a,(a+=n)>=this.DB&&(a-=this.DB))}8==n&&0!=(128&e[0])&&(this.s=-1,a>0&&(this.data[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),i&&o.ZERO.subTo(this,this)},o.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t},o.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t.data[n+e]=this.data[n];for(n=e-1;n>=0;--n)t.data[n]=0;t.t=this.t+e,t.s=this.s},o.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t.data[n-e]=this.data[n];t.t=Math.max(this.t-e,0),t.s=this.s},o.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,a=Math.floor(e/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t.data[n+a+1]=this.data[n]>>i|s,s=(this.data[n]&o)<<r;for(n=a-1;n>=0;--n)t.data[n]=0;t.data[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()},o.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t.data[0]=this.data[n]>>r;for(var a=n+1;a<this.t;++a)t.data[a-n-1]|=(this.data[a]&o)<<i,t.data[a-n]=this.data[a]>>r;r>0&&(t.data[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}},o.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this.data[n]-e.data[n],t.data[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this.data[n],t.data[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e.data[n],t.data[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t.data[n++]=this.DV+r:r>0&&(t.data[n++]=r),t.t=n,t.clamp()},o.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t.data[i]=0;for(i=0;i<r.t;++i)t.data[i+n.t]=n.am(0,r.data[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&o.ZERO.subTo(t,t)},o.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e.data[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t.data[n],e,2*n,0,1);(e.data[n+t.t]+=t.am(n+1,2*t.data[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e.data[n+t.t]-=t.DV,e.data[n+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(n,t.data[n],e,2*n,0,1)),e.s=0,e.clamp()},o.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=a());var s=a(),l=this.s,u=e.s,c=this.DB-v(r.data[r.t-1]);c>0?(r.lShiftTo(c,s),i.lShiftTo(c,n)):(r.copyTo(s),i.copyTo(n));var h=s.t,p=s.data[h-1];if(0!=p){var d=p*(1<<this.F1)+(h>1?s.data[h-2]>>this.F2:0),f=this.FV/d,m=(1<<this.F1)/d,g=1<<this.F2,b=n.t,y=b-h,C=null==t?a():t;for(s.dlShiftTo(y,C),n.compareTo(C)>=0&&(n.data[n.t++]=1,n.subTo(C,n)),o.ONE.dlShiftTo(h,C),C.subTo(s,s);s.t<h;)s.data[s.t++]=0;for(;--y>=0;){var x=n.data[--b]==p?this.DM:Math.floor(n.data[b]*f+(n.data[b-1]+g)*m);if((n.data[b]+=s.am(0,x,n,y,0,h))<x)for(s.dlShiftTo(y,C),n.subTo(C,n);n.data[b]<--x;)n.subTo(C,n)}null!=t&&(n.drShiftTo(h,t),l!=u&&o.ZERO.subTo(t,t)),n.t=h,n.clamp(),c>0&&n.rShiftTo(c,n),l<0&&o.ZERO.subTo(n,n)}}},o.prototype.invDigit=function(){if(this.t<1)return 0;var e=this.data[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},o.prototype.isEven=function(){return 0==(this.t>0?1&this.data[0]:this.s)},o.prototype.exp=function(e,t){if(e>4294967295||e<1)return o.ONE;var n=a(),r=a(),i=t.convert(this),s=v(e)-1;for(i.copyTo(n);--s>=0;)if(t.sqrTo(n,r),(e&1<<s)>0)t.mulTo(r,i,n);else{var l=n;n=r,r=l}return t.revert(n)},o.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,i=!1,o="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(n=this.data[a]>>s)>0&&(i=!0,o=p(n));a>=0;)s<t?(n=(this.data[a]&(1<<s)-1)<<t-s,n|=this.data[--a]>>(s+=this.DB-t)):(n=this.data[a]>>(s-=t)&r,s<=0&&(s+=this.DB,--a)),n>0&&(i=!0),i&&(o+=p(n));return i?o:"0"},o.prototype.negate=function(){var e=a();return o.ZERO.subTo(this,e),e},o.prototype.abs=function(){return this.s<0?this.negate():this},o.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this.data[n]-e.data[n]))return t;return 0},o.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+v(this.data[this.t-1]^this.s&this.DM)},o.prototype.mod=function(e){var t=a();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(o.ZERO)>0&&e.subTo(t,t),t},o.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new m(t):new g(t),this.exp(e,n)},o.ZERO=f(0),o.ONE=f(1),S.prototype.convert=k,S.prototype.revert=k,S.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n)},S.prototype.sqrTo=function(e,t){e.squareTo(t)},T.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=a();return e.copyTo(t),this.reduce(t),t},T.prototype.revert=function(e){return e},T.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},T.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},T.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var E=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],P=(1<<26)/E[E.length-1];o.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},o.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),r=f(n),i=a(),o=a(),s="";for(this.divRemTo(r,i,o);i.signum()>0;)s=(n+o.intValue()).toString(e).substr(1)+s,i.divRemTo(r,i,o);return o.intValue().toString(e)+s},o.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var n=this.chunkSize(t),r=Math.pow(t,n),i=!1,a=0,s=0,l=0;l<e.length;++l){var u=d(e,l);u<0?"-"==e.charAt(l)&&0==this.signum()&&(i=!0):(s=t*s+u,++a>=n&&(this.dMultiply(r),this.dAddOffset(s,0),a=0,s=0))}a>0&&(this.dMultiply(Math.pow(t,a)),this.dAddOffset(s,0)),i&&o.ZERO.subTo(this,this)},o.prototype.fromNumber=function(e,t,n){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(o.ONE.shiftLeft(e-1),y,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(o.ONE.shiftLeft(e-1),this);else{var r=new Array,i=7&e;r.length=1+(e>>3),t.nextBytes(r),i>0?r[0]&=(1<<i)-1:r[0]=0,this.fromString(r,256)}},o.prototype.bitwiseTo=function(e,t,n){var r,i,o=Math.min(e.t,this.t);for(r=0;r<o;++r)n.data[r]=t(this.data[r],e.data[r]);if(e.t<this.t){for(i=e.s&this.DM,r=o;r<this.t;++r)n.data[r]=t(this.data[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<e.t;++r)n.data[r]=t(i,e.data[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()},o.prototype.changeBit=function(e,t){var n=o.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n},o.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this.data[n]+e.data[n],t.data[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this.data[n],t.data[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e.data[n],t.data[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t.data[n++]=r:r<-1&&(t.data[n++]=this.DV+r),t.t=n,t.clamp()},o.prototype.dMultiply=function(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},o.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}},o.prototype.multiplyLowerTo=function(e,t,n){var r,i=Math.min(this.t+e.t,t);for(n.s=0,n.t=i;i>0;)n.data[--i]=0;for(r=n.t-this.t;i<r;++i)n.data[i+this.t]=this.am(0,e.data[i],n,i,0,this.t);for(r=Math.min(e.t,t);i<r;++i)this.am(0,e.data[i],n,i,0,t-i);n.clamp()},o.prototype.multiplyUpperTo=function(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n.data[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n.data[this.t+r-t]=this.am(t-r,e.data[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)},o.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this.data[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this.data[r])%e;return n},o.prototype.millerRabin=function(e){var t=this.subtract(o.ONE),n=t.getLowestSetBit();if(n<=0)return!1;for(var r,i=t.shiftRight(n),a={nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(256*Math.random())}},s=0;s<e;++s){do{r=new o(this.bitLength(),a)}while(r.compareTo(o.ONE)<=0||r.compareTo(t)>=0);var l=r.modPow(i,this);if(0!=l.compareTo(o.ONE)&&0!=l.compareTo(t)){for(var u=1;u++<n&&0!=l.compareTo(t);)if(0==(l=l.modPowInt(2,this)).compareTo(o.ONE))return!1;if(0!=l.compareTo(t))return!1}}return!0},o.prototype.clone=function(){var e=a();return this.copyTo(e),e},o.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},o.prototype.byteValue=function(){return 0==this.t?this.s:this.data[0]<<24>>24},o.prototype.shortValue=function(){return 0==this.t?this.s:this.data[0]<<16>>16},o.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},o.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var n,r=this.DB-e*this.DB%8,i=0;if(e-- >0)for(r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this.data[e]&(1<<r)-1)<<8-r,n|=this.data[--e]>>(r+=this.DB-8)):(n=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t},o.prototype.equals=function(e){return 0==this.compareTo(e)},o.prototype.min=function(e){return this.compareTo(e)<0?this:e},o.prototype.max=function(e){return this.compareTo(e)>0?this:e},o.prototype.and=function(e){var t=a();return this.bitwiseTo(e,b,t),t},o.prototype.or=function(e){var t=a();return this.bitwiseTo(e,y,t),t},o.prototype.xor=function(e){var t=a();return this.bitwiseTo(e,C,t),t},o.prototype.andNot=function(e){var t=a();return this.bitwiseTo(e,x,t),t},o.prototype.not=function(){for(var e=a(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e},o.prototype.shiftLeft=function(e){var t=a();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},o.prototype.shiftRight=function(e){var t=a();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},o.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this.data[e])return e*this.DB+_(this.data[e]);return this.s<0?this.t*this.DB:-1},o.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=w(this.data[n]^t);return e},o.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this.data[t]&1<<e%this.DB)},o.prototype.setBit=function(e){return this.changeBit(e,y)},o.prototype.clearBit=function(e){return this.changeBit(e,x)},o.prototype.flipBit=function(e){return this.changeBit(e,C)},o.prototype.add=function(e){var t=a();return this.addTo(e,t),t},o.prototype.subtract=function(e){var t=a();return this.subTo(e,t),t},o.prototype.multiply=function(e){var t=a();return this.multiplyTo(e,t),t},o.prototype.divide=function(e){var t=a();return this.divRemTo(e,t,null),t},o.prototype.remainder=function(e){var t=a();return this.divRemTo(e,null,t),t},o.prototype.divideAndRemainder=function(e){var t=a(),n=a();return this.divRemTo(e,t,n),new Array(t,n)},o.prototype.modPow=function(e,t){var n,r,i=e.bitLength(),o=f(1);if(i<=0)return o;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=i<8?new m(t):t.isEven()?new T(t):new g(t);var s=new Array,l=3,u=n-1,c=(1<<n)-1;if(s[1]=r.convert(this),n>1){var h=a();for(r.sqrTo(s[1],h);l<=c;)s[l]=a(),r.mulTo(h,s[l-2],s[l]),l+=2}var p,d,b=e.t-1,y=!0,C=a();for(i=v(e.data[b])-1;b>=0;){for(i>=u?p=e.data[b]>>i-u&c:(p=(e.data[b]&(1<<i+1)-1)<<u-i,b>0&&(p|=e.data[b-1]>>this.DB+i-u)),l=n;0==(1&p);)p>>=1,--l;if((i-=l)<0&&(i+=this.DB,--b),y)s[p].copyTo(o),y=!1;else{for(;l>1;)r.sqrTo(o,C),r.sqrTo(C,o),l-=2;l>0?r.sqrTo(o,C):(d=o,o=C,C=d),r.mulTo(C,s[p],o)}for(;b>=0&&0==(e.data[b]&1<<i);)r.sqrTo(o,C),d=o,o=C,C=d,--i<0&&(i=this.DB-1,--b)}return r.revert(o)},o.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return o.ZERO;for(var n=e.clone(),r=this.clone(),i=f(1),a=f(0),s=f(0),l=f(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),t?(i.isEven()&&a.isEven()||(i.addTo(this,i),a.subTo(e,a)),i.rShiftTo(1,i)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;r.isEven();)r.rShiftTo(1,r),t?(s.isEven()&&l.isEven()||(s.addTo(this,s),l.subTo(e,l)),s.rShiftTo(1,s)):l.isEven()||l.subTo(e,l),l.rShiftTo(1,l);n.compareTo(r)>=0?(n.subTo(r,n),t&&i.subTo(s,i),a.subTo(l,a)):(r.subTo(n,r),t&&s.subTo(i,s),l.subTo(a,l))}return 0!=r.compareTo(o.ONE)?o.ZERO:l.compareTo(e)>=0?l.subtract(e):l.signum()<0?(l.addTo(e,l),l.signum()<0?l.add(e):l):l},o.prototype.pow=function(e){return this.exp(e,new S)},o.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var i=t.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),n.rShiftTo(o,n));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n},o.prototype.isProbablePrime=function(e){var t,n=this.abs();if(1==n.t&&n.data[0]<=E[E.length-1]){for(t=0;t<E.length;++t)if(n.data[0]==E[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<E.length;){for(var r=E[t],i=t+1;i<E.length&&r<P;)r*=E[i++];for(r=n.modInt(r);t<i;)if(r%E[t++]==0)return!1}return n.millerRabin(e)}},function(e,t,n){var r=n(10);if(n(47),n(89),n(52),n(166),n(165),n(40),n(14),void 0===i)var i=r.jsbn.BigInteger;var o=r.asn1;r.pki=r.pki||{},e.exports=r.pki.rsa=r.rsa=r.rsa||{};var a=r.pki,s=[6,4,2,4,2,4,6,2],l={name:"PrivateKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},u={name:"RSAPrivateKey",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},c={name:"RSAPublicKey",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},h=r.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:o.Class.UNIVERSAL,type:o.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},p=function(e){var t;if(!(e.algorithm in a.oids)){var n=new Error("Unknown message digest algorithm.");throw n.algorithm=e.algorithm,n}t=a.oids[e.algorithm];var r=o.oidToDer(t).getBytes(),i=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]),s=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[]);s.value.push(o.create(o.Class.UNIVERSAL,o.Type.OID,!1,r)),s.value.push(o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,""));var l=o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(s),i.value.push(l),o.toDer(i).getBytes()},d=function(e,t,n){if(n)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);var o;t.dP||(t.dP=t.d.mod(t.p.subtract(i.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(i.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));do{o=new i(r.util.bytesToHex(r.random.getBytes(t.n.bitLength()/8)),16)}while(o.compareTo(t.n)>=0||!o.gcd(t.n).equals(i.ONE));for(var a=(e=e.multiply(o.modPow(t.e,t.n)).mod(t.n)).mod(t.p).modPow(t.dP,t.p),s=e.mod(t.q).modPow(t.dQ,t.q);a.compareTo(s)<0;)a=a.add(t.p);var l=a.subtract(s).multiply(t.qInv).mod(t.p).multiply(t.q).add(s);return l=l.multiply(o.modInverse(t.n)).mod(t.n)};function f(e,t,n){var i=r.util.createBuffer(),o=Math.ceil(t.n.bitLength()/8);if(e.length>o-11){var a=new Error("Message is too long for PKCS#1 v1.5 padding.");throw a.length=e.length,a.max=o-11,a}i.putByte(0),i.putByte(n);var s,l=o-3-e.length;if(0===n||1===n){s=0===n?0:255;for(var u=0;u<l;++u)i.putByte(s)}else for(;l>0;){var c=0,h=r.random.getBytes(l);for(u=0;u<l;++u)0===(s=h.charCodeAt(u))?++c:i.putByte(s);l=c}return i.putByte(0),i.putBytes(e),i}function v(e,t,n,i){var o=Math.ceil(t.n.bitLength()/8),a=r.util.createBuffer(e),s=a.getByte(),l=a.getByte();if(0!==s||n&&0!==l&&1!==l||!n&&2!=l||n&&0===l&&void 0===i)throw new Error("Encryption block is invalid.");var u=0;if(0===l){u=o-3-i;for(var c=0;c<u;++c)if(0!==a.getByte())throw new Error("Encryption block is invalid.")}else if(1===l)for(u=0;a.length()>1;){if(255!==a.getByte()){--a.read;break}++u}else if(2===l)for(u=0;a.length()>1;){if(0===a.getByte()){--a.read;break}++u}if(0!==a.getByte()||u!==o-3-a.length())throw new Error("Encryption block is invalid.");return a.getBytes()}function m(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var n=r.util.hexToBytes(t);return n.length>1&&(0===n.charCodeAt(0)&&0==(128&n.charCodeAt(1))||255===n.charCodeAt(0)&&128==(128&n.charCodeAt(1)))?n.substr(1):n}function g(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function b(e){return"undefined"!=typeof window&&"object"==typeof window.crypto&&"object"==typeof window.crypto.subtle&&"function"==typeof window.crypto.subtle[e]}function y(e){return"undefined"!=typeof window&&"object"==typeof window.msCrypto&&"object"==typeof window.msCrypto.subtle&&"function"==typeof window.msCrypto.subtle[e]}function C(e){for(var t=r.util.hexToBytes(e.toString(16)),n=new Uint8Array(t.length),i=0;i<t.length;++i)n[i]=t.charCodeAt(i);return n}a.rsa.encrypt=function(e,t,n){var o,a=n,s=Math.ceil(t.n.bitLength()/8);!1!==n&&!0!==n?(a=2===n,o=f(e,t,n)):(o=r.util.createBuffer()).putBytes(e);for(var l=new i(o.toHex(),16),u=d(l,t,a).toString(16),c=r.util.createBuffer(),h=s-Math.ceil(u.length/2);h>0;)c.putByte(0),--h;return c.putBytes(r.util.hexToBytes(u)),c.getBytes()},a.rsa.decrypt=function(e,t,n,o){var a=Math.ceil(t.n.bitLength()/8);if(e.length!==a){var s=new Error("Encrypted message length is invalid.");throw s.length=e.length,s.expected=a,s}var l=new i(r.util.createBuffer(e).toHex(),16);if(l.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var u=d(l,t,n).toString(16),c=r.util.createBuffer(),h=a-Math.ceil(u.length/2);h>0;)c.putByte(0),--h;return c.putBytes(r.util.hexToBytes(u)),!1!==o?v(c.getBytes(),t,n):c.getBytes()},a.rsa.createKeyPairGenerationState=function(e,t,n){"string"==typeof e&&(e=parseInt(e,10)),e=e||2048;var o,a=(n=n||{}).prng||r.random,s={nextBytes:function(e){for(var t=a.getBytesSync(e.length),n=0;n<e.length;++n)e[n]=t.charCodeAt(n)}},l=n.algorithm||"PRIMEINC";if("PRIMEINC"!==l)throw new Error("Invalid key generation algorithm: "+l);return(o={algorithm:l,state:0,bits:e,rng:s,eInt:t||65537,e:new i(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null}).e.fromInt(o.eInt),o},a.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var n=new i(null);n.fromInt(30);for(var r,o=0,l=function(e,t){return e|t},u=+new Date,c=0;null===e.keys&&(t<=0||c<t);){if(0===e.state){var h=null===e.p?e.pBits:e.qBits,p=h-1;0===e.pqState?(e.num=new i(h,e.rng),e.num.testBit(p)||e.num.bitwiseTo(i.ONE.shiftLeft(p),l,e.num),e.num.dAddOffset(31-e.num.mod(n).byteValue(),0),o=0,++e.pqState):1===e.pqState?e.num.bitLength()>h?e.pqState=0:e.num.isProbablePrime(g(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(s[o++%8],0):2===e.pqState?e.pqState=0===e.num.subtract(i.ONE).gcd(e.e).compareTo(i.ONE)?3:0:3===e.pqState&&(e.pqState=0,null===e.p?e.p=e.num:e.q=e.num,null!==e.p&&null!==e.q&&++e.state,e.num=null)}else if(1===e.state)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(2===e.state)e.p1=e.p.subtract(i.ONE),e.q1=e.q.subtract(i.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(3===e.state)0===e.phi.gcd(e.e).compareTo(i.ONE)?++e.state:(e.p=null,e.q=null,e.state=0);else if(4===e.state)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(5===e.state){var d=e.e.modInverse(e.phi);e.keys={privateKey:a.rsa.setPrivateKey(e.n,e.e,d,e.p,e.q,d.mod(e.p1),d.mod(e.q1),e.q.modInverse(e.p)),publicKey:a.rsa.setPublicKey(e.n,e.e)}}c+=(r=+new Date)-u,u=r}return null!==e.keys},a.rsa.generateKeyPair=function(e,t,n,s){if(1===arguments.length?"object"==typeof e?(n=e,e=void 0):"function"==typeof e&&(s=e,e=void 0):2===arguments.length?"number"==typeof e?"function"==typeof t?(s=t,t=void 0):"number"!=typeof t&&(n=t,t=void 0):(n=e,s=t,e=void 0,t=void 0):3===arguments.length&&("number"==typeof t?"function"==typeof n&&(s=n,n=void 0):(s=n,n=t,t=void 0)),n=n||{},void 0===e&&(e=n.bits||2048),void 0===t&&(t=n.e||65537),!r.options.usePureJavaScript&&s&&e>=256&&e<=16384&&(65537===t||3===t)){if(b("generateKey")&&b("exportKey"))return window.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:C(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(e){return window.crypto.subtle.exportKey("pkcs8",e.privateKey)}).then(void 0,function(e){s(e)}).then(function(e){if(e){var t=a.privateKeyFromAsn1(o.fromDer(r.util.createBuffer(e)));s(null,{privateKey:t,publicKey:a.setRsaPublicKey(t.n,t.e)})}});if(y("generateKey")&&y("exportKey")){var l=window.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:C(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);return l.oncomplete=function(e){var t=e.target.result,n=window.msCrypto.subtle.exportKey("pkcs8",t.privateKey);n.oncomplete=function(e){var t=e.target.result,n=a.privateKeyFromAsn1(o.fromDer(r.util.createBuffer(t)));s(null,{privateKey:n,publicKey:a.setRsaPublicKey(n.n,n.e)})},n.onerror=function(e){s(e)}},void(l.onerror=function(e){s(e)})}}var u=a.rsa.createKeyPairGenerationState(e,t,n);if(!s)return a.rsa.stepKeyPairGenerationState(u,0),u.keys;!function(e,t,n){"function"==typeof t&&(n=t,t={});var o={algorithm:{name:(t=t||{}).algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(o.prng=t.prng);function s(){l(e.pBits,function(t,r){return t?n(t):(e.p=r,null!==e.q?u(t,e.q):void l(e.qBits,u))})}function l(e,t){r.prime.generateProbablePrime(e,o,t)}function u(t,r){if(t)return n(t);if(e.q=r,e.p.compareTo(e.q)<0){var o=e.p;e.p=e.q,e.q=o}if(0!==e.p.subtract(i.ONE).gcd(e.e).compareTo(i.ONE))return e.p=null,void s();if(0!==e.q.subtract(i.ONE).gcd(e.e).compareTo(i.ONE))return e.q=null,void l(e.qBits,u);if(e.p1=e.p.subtract(i.ONE),e.q1=e.q.subtract(i.ONE),e.phi=e.p1.multiply(e.q1),0!==e.phi.gcd(e.e).compareTo(i.ONE))return e.p=e.q=null,void s();if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits)return e.q=null,void l(e.qBits,u);var c=e.e.modInverse(e.phi);e.keys={privateKey:a.rsa.setPrivateKey(e.n,e.e,c,e.p,e.q,c.mod(e.p1),c.mod(e.q1),e.q.modInverse(e.p)),publicKey:a.rsa.setPublicKey(e.n,e.e)},n(null,e.keys)}s()}(u,n,s)},a.setRsaPublicKey=a.rsa.setPublicKey=function(e,t){var n={n:e,e:t,encrypt:function(e,t,i){if("string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===t)t={encode:function(e,t,n){return f(e,t,2).getBytes()}};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={encode:function(e,t){return r.pkcs1.encode_rsa_oaep(t,e,i)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(t))t={encode:function(e){return e}};else if("string"==typeof t)throw new Error('Unsupported encryption scheme: "'+t+'".');var o=t.encode(e,n,!0);return a.rsa.encrypt(o,n,!0)},verify:function(e,t,r){"string"==typeof r?r=r.toUpperCase():void 0===r&&(r="RSASSA-PKCS1-V1_5"),"RSASSA-PKCS1-V1_5"===r?r={verify:function(e,t){return t=v(t,n,!0),e===o.fromDer(t).value[1].value}}:"NONE"!==r&&"NULL"!==r&&null!==r||(r={verify:function(e,t){return e===(t=v(t,n,!0))}});var i=a.rsa.decrypt(t,n,!0,!1);return r.verify(e,i,n.n.bitLength())}};return n},a.setRsaPrivateKey=a.rsa.setPrivateKey=function(e,t,n,i,o,s,l,u){var c={n:e,e:t,d:n,p:i,q:o,dP:s,dQ:l,qInv:u,decrypt:function(e,t,n){"string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5");var i=a.rsa.decrypt(e,c,!1,!1);if("RSAES-PKCS1-V1_5"===t)t={decode:v};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={decode:function(e,t){return r.pkcs1.decode_rsa_oaep(t,e,n)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(t))throw new Error('Unsupported encryption scheme: "'+t+'".');t={decode:function(e){return e}}}return t.decode(i,c,!1)},sign:function(e,t){var n=!1;"string"==typeof t&&(t=t.toUpperCase()),void 0===t||"RSASSA-PKCS1-V1_5"===t?(t={encode:p},n=1):"NONE"!==t&&"NULL"!==t&&null!==t||(t={encode:function(){return e}},n=1);var r=t.encode(e,c.n.bitLength());return a.rsa.encrypt(r,c,n)}};return c},a.wrapRsaPrivateKey=function(e){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(0).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(a.oids.rsaEncryption).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")]),o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,o.toDer(e).getBytes())])},a.privateKeyFromAsn1=function(e){var t,n,s,c,h,p,d,f,v={},m=[];if(o.validate(e,l,v,m)&&(e=o.fromDer(r.util.createBuffer(v.privateKey))),v={},m=[],!o.validate(e,u,v,m)){var g=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw g.errors=m,g}return t=r.util.createBuffer(v.privateKeyModulus).toHex(),n=r.util.createBuffer(v.privateKeyPublicExponent).toHex(),s=r.util.createBuffer(v.privateKeyPrivateExponent).toHex(),c=r.util.createBuffer(v.privateKeyPrime1).toHex(),h=r.util.createBuffer(v.privateKeyPrime2).toHex(),p=r.util.createBuffer(v.privateKeyExponent1).toHex(),d=r.util.createBuffer(v.privateKeyExponent2).toHex(),f=r.util.createBuffer(v.privateKeyCoefficient).toHex(),a.setRsaPrivateKey(new i(t,16),new i(n,16),new i(s,16),new i(c,16),new i(h,16),new i(p,16),new i(d,16),new i(f,16))},a.privateKeyToAsn1=a.privateKeyToRSAPrivateKey=function(e){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,o.integerToDer(0).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,m(e.n)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,m(e.e)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,m(e.d)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,m(e.p)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,m(e.q)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,m(e.dP)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,m(e.dQ)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,m(e.qInv))])},a.publicKeyFromAsn1=function(e){var t={},n=[];if(o.validate(e,h,t,n)){var s,l=o.derToOid(t.publicKeyOid);if(l!==a.oids.rsaEncryption)throw(s=new Error("Cannot read public key. Unknown OID.")).oid=l,s;e=t.rsaPublicKey}if(n=[],!o.validate(e,c,t,n))throw(s=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=n,s;var u=r.util.createBuffer(t.publicKeyModulus).toHex(),p=r.util.createBuffer(t.publicKeyExponent).toHex();return a.setRsaPublicKey(new i(u,16),new i(p,16))},a.publicKeyToAsn1=a.publicKeyToSubjectPublicKeyInfo=function(e){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(a.oids.rsaEncryption).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")]),o.create(o.Class.UNIVERSAL,o.Type.BITSTRING,!1,[a.publicKeyToRSAPublicKey(e)])])},a.publicKeyToRSAPublicKey=function(e){return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,m(e.n)),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,m(e.e))])}},function(e,t,n){var r=n(10);function i(e,t){r.cipher.registerAlgorithm(e,function(){return new r.des.Algorithm(e,t)})}n(112),n(174),n(14),e.exports=r.des=r.des||{},r.des.startEncrypting=function(e,t,n,r){var i=f({key:e,output:n,decrypt:!1,mode:r||(null===t?"ECB":"CBC")});return i.start(t),i},r.des.createEncryptionCipher=function(e,t){return f({key:e,output:null,decrypt:!1,mode:t})},r.des.startDecrypting=function(e,t,n,r){var i=f({key:e,output:n,decrypt:!0,mode:r||(null===t?"ECB":"CBC")});return i.start(t),i},r.des.createDecryptionCipher=function(e,t){return f({key:e,output:null,decrypt:!0,mode:t})},r.des.Algorithm=function(e,t){var n=this;n.name=e,n.mode=new t({blockSize:8,cipher:{encrypt:function(e,t){return d(n._keys,e,t,!1)},decrypt:function(e,t){return d(n._keys,e,t,!0)}}}),n._init=!1},r.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=r.util.createBuffer(e.key);if(0===this.name.indexOf("3DES")&&24!==t.length())throw new Error("Invalid Triple-DES key size: "+8*t.length());this._keys=function(e){for(var t,n=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],i=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],o=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],l=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],u=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],c=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],h=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],p=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],d=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],f=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],v=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],m=e.length()>8?3:1,g=[],b=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],y=0,C=0;C<m;C++){var x=e.getInt32(),_=e.getInt32();x^=(t=252645135&(x>>>4^_))<<4,x^=t=65535&((_^=t)>>>-16^x),x^=(t=858993459&(x>>>2^(_^=t<<-16)))<<2,x^=t=65535&((_^=t)>>>-16^x),x^=(t=1431655765&(x>>>1^(_^=t<<-16)))<<1,x^=t=16711935&((_^=t)>>>8^x),t=(x^=(t=1431655765&(x>>>1^(_^=t<<8)))<<1)<<8|(_^=t)>>>20&240,x=_<<24|_<<8&16711680|_>>>8&65280|_>>>24&240,_=t;for(var w=0;w<b.length;++w){b[w]?(x=x<<2|x>>>26,_=_<<2|_>>>26):(x=x<<1|x>>>27,_=_<<1|_>>>27);var S=n[(x&=-15)>>>28]|r[x>>>24&15]|i[x>>>20&15]|o[x>>>16&15]|a[x>>>12&15]|s[x>>>8&15]|l[x>>>4&15],k=u[(_&=-15)>>>28]|c[_>>>24&15]|h[_>>>20&15]|p[_>>>16&15]|d[_>>>12&15]|f[_>>>8&15]|v[_>>>4&15];t=65535&(k>>>16^S),g[y++]=S^t,g[y++]=k^t<<16}}return g}(t),this._init=!0}},i("DES-ECB",r.cipher.modes.ecb),i("DES-CBC",r.cipher.modes.cbc),i("DES-CFB",r.cipher.modes.cfb),i("DES-OFB",r.cipher.modes.ofb),i("DES-CTR",r.cipher.modes.ctr),i("3DES-ECB",r.cipher.modes.ecb),i("3DES-CBC",r.cipher.modes.cbc),i("3DES-CFB",r.cipher.modes.cfb),i("3DES-OFB",r.cipher.modes.ofb),i("3DES-CTR",r.cipher.modes.ctr);var o=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],a=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],s=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],l=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],u=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],c=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],h=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],p=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function d(e,t,n,r){var i,d,f=32===e.length?3:9;i=3===f?r?[30,-2,-2]:[0,32,2]:r?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var v=t[0],m=t[1];v^=(d=252645135&(v>>>4^m))<<4,v^=(d=65535&(v>>>16^(m^=d)))<<16,v^=d=858993459&((m^=d)>>>2^v),v^=d=16711935&((m^=d<<2)>>>8^v),v=(v^=(d=1431655765&(v>>>1^(m^=d<<8)))<<1)<<1|v>>>31,m=(m^=d)<<1|m>>>31;for(var g=0;g<f;g+=3){for(var b=i[g+1],y=i[g+2],C=i[g];C!=b;C+=y){var x=m^e[C],_=(m>>>4|m<<28)^e[C+1];d=v,v=m,m=d^(a[x>>>24&63]|l[x>>>16&63]|c[x>>>8&63]|p[63&x]|o[_>>>24&63]|s[_>>>16&63]|u[_>>>8&63]|h[63&_])}d=v,v=m,m=d}m=m>>>1|m<<31,m^=d=1431655765&((v=v>>>1|v<<31)>>>1^m),m^=(d=16711935&(m>>>8^(v^=d<<1)))<<8,m^=(d=858993459&(m>>>2^(v^=d)))<<2,m^=d=65535&((v^=d)>>>16^m),m^=d=252645135&((v^=d<<16)>>>4^m),v^=d<<4,n[0]=v,n[1]=m}function f(e){var t,n="DES-"+((e=e||{}).mode||"CBC").toUpperCase(),i=(t=e.decrypt?r.cipher.createDecipher(n,e.key):r.cipher.createCipher(n,e.key)).start;return t.start=function(e,n){var o=null;n instanceof r.util.ByteBuffer&&(o=n,n={}),(n=n||{}).output=o,n.iv=e,i.call(t,n)},t}},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n(391),i=n(390),o=n(389);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=p(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|f(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|d(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):p(e,t);if("Buffer"===t.type&&o(t.data))return p(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(c(t),e=s(e,t<0?0:0|d(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t){var n=t.length<0?0:0|d(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function f(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(e).length;default:if(r)return U(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:g(e,t,n,r,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,r,i){var o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var h=!0,p=0;p<l;p++)if(u(e,o+p)!==u(t,p)){h=!1;break}if(h)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function y(e,t,n,r){return H(U(t,e.length-n),e,n,r)}function C(e,t,n,r){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return C(e,t,n,r)}function _(e,t,n,r){return H(j(t),e,n,r)}function w(e,t,n,r){return H(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,l,u=e[i],c=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=n)switch(h){case 1:u<128&&(c=u);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(l=(15&u)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(c=l)}null===c?(c=65533,h=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=h}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=T));return n}(r)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return u(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return c(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return h(null,e)},l.allocUnsafeSlow=function(e){return h(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?k(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return E(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,a=n-t,s=Math.min(o,a),u=this.slice(r,i),c=e.slice(t,n),h=0;h<s;++h)if(u[h]!==c[h]){o=u[h],a=c[h];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return y(this,e,t,n);case"ascii":return C(this,e,t,n);case"latin1":case"binary":return x(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function E(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function P(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function I(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=V(e[o]);return i}function B(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function N(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function O(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function A(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function L(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,o){return o||L(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function R(e,t,n,r,o){return o||L(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if(e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;n=new l(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||N(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):A(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):A(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):A(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):A(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return R(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return R(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=l.isBuffer(e)?e:U(new l(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function V(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function j(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(45))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=null;return function(){null!==r&&(clearTimeout(r),r=null);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];r=setTimeout(function(){e.apply(t,o),r=null},n)}}},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";var r,i;r=[n(2),n(3),n(32),n(30),n(1),n(5),n(16)],void 0===(i=function(e,t,n,r,i,o,a){var s,l=function(e,t){for(var n in t)u.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},u={}.hasOwnProperty;return(s={}).Readout=function(n){function r(n){var i;r.__super__.constructor.call(this,{nowarp:!0,type:n.type,src:n.dev}),this.editable=n.editable,this.dev=n.dev,this.onfocus=n.onfocus,this.onblur=n.onblur,null==this.editable&&(this.editable=!0),e.isMobile&&!n.allowMobile&&(this.editable=!1),this.node=t.appendSpec(n.node,{type:"input",className:""+(null!=(i=n.extraCss)?i:""),rows:1}),this.editable||(this.node.readOnly=!0),this.rewire(n.path)}return l(r,n),r.prototype.changeVal=function(e){return this.dev.set(this.path,e)},r.prototype.getVal=function(e,t){return this.type.fromReadout(e,t)},r.prototype.addInteraction=function(){var e,t,n,r;if(this.editable)return r=this,n=function(){return r.dev.get(r.path)},t=function(e){return function(){return e.type.toEditableReadout(e.dev.get(e.path))}}(this),e=function(e){return function(t,r){var o;return null!=(o=e.getVal(t,r))?(o!==r&&e.changeVal(o),i.defer(function(){return e.update(o)})):i.defer(function(){return e.update(n())}),"function"==typeof e.onblur?e.onblur():void 0}}(this),this.interaction=new a.FunctionString({node:this.node,f:e,onfocus:this.onfocus,getOriginalValue:n,getEditableValue:t})},r.prototype.removeInteraction=function(){var e;return null!=(e=this.interaction)?e.remove():void 0},r.prototype.popEdit=function(){var e;return null!=(e=this.interaction)?e.popEdit():void 0},r.prototype.update=function(e){var n;if(!t.testClass(this.node,"selectable"))return i.defer((n=this,function(){return n.node.value=n.type.toReadout(+e)}))},r}(o.NumericControl),s.ConstantString=function(){return function(e){var n;this.node=t.appendSpec(e.node,{className:"chNameEntryDiv "+(null!=(n=e.extraCss)?n:"")}),this.node.textContent=e.text}}(),s.String=function(n){function r(n){var i,o,a;r.__super__.constructor.call(this,n.dev),a=n.multiline?"textarea":"input",this.editable=n.editable,this.onblur=n.onblur,this.onfocus=n.onfocus,this.dev=n.dev,null==this.editable&&(this.editable=!0),e.isMobile&&!n.allowMobile&&(this.editable=!1),o={type:a,className:null!=(i=n.extraCss)?i:"",spellcheck:!1,autocorrect:!1},this.editable||(o.readOnly=!0),this.node=t.appendSpec(n.node,o),n.placeholder&&(this.node.placeholder=n.placeholder),this.rewire(n.path)}return l(r,n),r.prototype.popEdit=function(){var e;return null!=(e=this.interaction)?e.popEdit():void 0},r.prototype.addInteraction=function(){var e,t,n;if(this.editable)return n=this,e=function(e,t){return e!==t&&n.dev.set(n.path,e),"function"==typeof n.onblur?n.onblur():void 0},t=function(e){return function(){return e.dev.get(e.path)}}(this),this.interaction=new a.FunctionString({node:this.node,f:e,onfocus:this.onfocus,getOriginalValue:t})},r.prototype.removeInteraction=function(){var e;return null!=(e=this.interaction)?e.remove():void 0},r.prototype.update=function(e){if(!t.testClass(this.node,"selectable"))return this.node.value=e},r}(o.Control),s.StripName=function(e){function t(e){var n;this.strip=e.strip,this.dev=e.dev,t.__super__.constructor.call(this,i.extend(i.clone(e),{path:this.strip.metaPath+"/displayName"})),this.placeholderReaction=new o.Function(this.dev,(n=this,function(e){return n.node.placeholder=e.mixer.getDefaultStripName(n.strip.id)}))}return l(t,e),t.prototype.addInteraction=function(){var e,t,n;if(this.editable)return n=this,e=function(e,t){return e!==t&&n.dev.mixer.setStripName(n.strip.id,e),"function"==typeof n.onblur?n.onblur():void 0},t=function(e){return function(){return e.dev.mixer.getStripName(e.strip.id)}}(this),this.interaction=new a.FunctionString({node:this.node,f:e,onfocus:this.onfocus,getOriginalValue:t})},t}(s.String),s.BankChName=function(e){function t(e){var n;this.io=e.io,this.bn=e.bn,this.cn=e.cn,this.dev=e.dev,n=this.dev.router.getChNameFromBank(this.io,this.bn,this.cn),t.__super__.constructor.call(this,i.extend(i.clone(e),{placeholder:n,path:"ext/"+this.io.bank+"/"+this.bn+"/ch/"+this.cn+"/name"}))}return l(t,e),t.prototype.addInteraction=function(){var e,t,n;this.editable&&(n=this,e=function(e,t){return e&&e===t||n.dev.router["set"+n.io.Bank+"ChName"]({bn:n.bn,cn:n.cn},e),"function"==typeof n.onblur?n.onblur():void 0},t=function(e){return function(){return e.dev.get("ext/"+e.io.bank+"/"+e.bn+"/ch/"+e.cn+"/name")}}(this),this.interaction=new a.FunctionString({node:this.node,f:e,onfocus:this.onfocus,getEditableValue:t}),this.editable)},t}(s.String),s}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(21),n(3),n(16),n(116),n(416),n(41),n(74),n(2),n(182),n(44),n(5),n(95),n(1),n(22)],void 0===(i=function(e,t,n,r,i,o,a,s,l,u,c,h,p,d){var f,v=function(e,t){return function(){return e.apply(t,arguments)}};return f=function(){var e;function n(t){var n,a,s;(this.dev=t.dev,this.firstUse=t.firstUse,this.remove=v(this.remove,this),this.displayError=v(this.displayError,this),this.chooseSetup=v(this.chooseSetup,this),this.performSetup=v(this.performSetup,this),e)||(e=!0,this.uid=this.dev.get("uid"),this.model=this.dev.avb.getModelName(this.uid),-1!==this.model.indexOf("UltraLite")&&-1!==this.model.indexOf("ES")&&(this.model=this.model.slice(0,-3)),this.pane=new r({extraCss:"quickSetup"}),this.scroll=new u({node:this.pane.getNode(),spec:{className:"quickSetupScroll"}}),this.node=this.scroll.content,this.removePool=[],this.removePool.push(this.pane),s=this,n=function(e){return s.firstUse||"CancellationError"===e.name},a=i.getAvailableSetups({dev:this.dev}),o.DelayedSpinner.RunPromise({node:this.node,prompt:"Loading Quick Setup Options...",promise:a,cancel:!0,src:this.dev}).then(this.chooseSetup).then(this.performSetup).catch(n,function(){}).catch(this.displayError).then(this.remove))}return e=!1,n.prototype.performSetup=function(e){var t,n,r;return n=e.setup,t=e.name,i.apply({dev:this.dev,setup:n}).then((r=this,function(){var e,n;return e=r.dev,n=r.uid,p.defer(function(){return e.set("avb/"+n+"/entity_name",t)})}))},n.prototype.chooseSetup=function(e){var n,r,i,o,s,p,d,f;return s=this.firstUse?"Welcome to your new MOTU interface":"Quick Setup",o=t.specToNode({className:"setup"}),this.firstUse&&(t.appendSpec(o,{type:"p",textContent:"This quick setup dialog will load your device with appropriate default settings."}),t.appendSpec(o,{type:"p",textContent:"What should your "+this.model+" be called?"}),this.removePool.push(new h.String({dev:this.dev,node:o,path:"avb/"+this.uid+"/entity_name",extraCss:"preferenceReadout entName"}))),t.appendSpec(o,{type:"p",textContent:"How are you planning to use your "+this.model+"?"}),i=function(){var t;return function(){var n,r,i;for(i=[],t=n=0,r=e.length;0<=r?n<r:n>r;t=0<=r?++n:--n)i.push(""+t);return i}()},d=function(t){return e[t=+t].title},null==this.dev.get("preferences/quickSetupIndex")&&this.dev.set("preferences/quickSetupIndex","0"),this.removePool.push(new l.Menu({dev:this.dev,node:o,getOpts:i,showOpt:d,path:"preferences/quickSetupIndex"})),n=new u({node:o,spec:{className:"setupDescriptionContent"}}).content,r=t.appendSpec(n,{type:"p",className:"setupDescription selectable"}),this.removePool.push(new c.Function(this.dev,function(t){return r.textContent=e[+t.get("preferences/quickSetupIndex")].description})),this.firstUse&&t.appendSpec(o,{type:"p",textContent:"You can access this dialog again by clicking the 'Launch Quick Setup' button in the device pane."}),(p=new a({node:this.node,prompt:s,cancel:!this.firstUse})).insertAfterPrompt(o),p.promise.then((f=this,function(){return{setup:e[+f.dev.get("preferences/quickSetupIndex")],name:f.dev.get("avb/"+f.uid+"/entity_name")}}))},n.prototype.displayError=function(e){var t;return null==(t=e.message)&&(t="An unknown error occurred."),new a({node:this.node,prompt:t}).promise.catch(function(){})},n.prototype.remove=function(){var t,n,r;for(this.dev.set("ext/need_quick_setup",0),t=0,n=(r=this.removePool).length;t<n;t++)r[t].remove();return e=!1,this.removePool=[]},n}(),function(){function r(r){var i,o,a;(o=r.node,this.dev=r.dev,i=r.extraCss,e.works({dev:this.dev,cap:"quick_setup"}))&&(this.quickSetupNode=t.appendSpec(o,{className:"quickSetupButton "+(null!=i?i:""),textContent:"Launch Quick Setup"}),this.quickSetupListener=new n.FunctionButton({node:this.quickSetupNode,f:(a=this,function(){return new f({dev:a.dev,firstUse:!1})})}))}return r.prototype.remove=function(){return t.remove(this.quickSetupNode),this.quickSetupListener.remove()},r.showIfNecessary=function(t){var n;if(n=t.dev,e.works({dev:n,cap:"quick_setup"})&&n.get("ext/need_quick_setup"))return new f({dev:n,firstUse:!0})},r}()}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(2),n(22),n(34),n(30),n(66),n(3),n(1)],void 0===(i=function(e,t,n,r,i,o,a){var s,l,u=function(e,t){for(var n in t)c.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},c={}.hasOwnProperty;return s={},l=document,s.Behavior=function(){function e(e){e.node}return e.prototype.remove=function(){var e;return null!=(e=this.listener)?e.remove():void 0},e}(),s.FunctionButton=function(e){function n(e){this.node=e.node,this.f=e.f,this.disabled=e.disabled,this.listener=new t.Listener({node:this.node,proxy:this,events:["dragdown"]})}return u(n,e),n.prototype.dragdown=function(e,t,n){"function"==typeof this.disabled&&this.disabled()||(t.remove(),this.f(),n.stopPropagation(),n.preventDefault())},n}(s.Behavior),s.MomentaryButton=function(e){function n(e){this.node=e.node,this.f=e.f,this.f2=e.f2,this.disabled=e.disabled,this.listener=new t.Listener({node:this.node,proxy:this,events:["dragdown","dragup"]})}return u(n,e),n.prototype.dragdown=function(e,t,n){"function"==typeof this.disabled&&this.disabled()||(this.f(),n.stopPropagation(),n.preventDefault())},n.prototype.dragup=function(e,t){"function"==typeof this.disabled&&this.disabled()||(t.remove(),"function"==typeof this.f2&&this.f2())},n}(s.Behavior),s.GlideScope=function(){var e;function t(e){this.axis=e.axis,this.boundingNode=e.boundingNode,this.members=[]}return e={x:{minBox:"left",maxBox:"right",pos:"clientX"},y:{minBox:"top",maxBox:"bottom",pos:"clientY"}},t.prototype.register=function(e){var t,n,r,i;return r=e.node,i=e.setValue,t=e.disabled,null!=(n=e.glideIndex)?(this.members[n]={node:r,setValue:i,disabled:t},n):(this.members.push({node:r,setValue:i,disabled:t}),this.members.length-1)},t.prototype.presentAndVisible=function(e){return l.body.contains(e)&&o.isVisibleIncludingParents(e)},t.prototype.glide=function(t){var n,r,i,a,s,l;if(i=t.glideIndex,n=t.clientPosition,l=t.value,r=t.drag,!(i<0||i>=this.members.length))return this.presentAndVisible(this.members[i].node)?(s=((a=o.getBoundingClientRect(this.members[i].node))[e[this.otherAxis()].minBox]+a[e[this.otherAxis()].maxBox])/2,r.focusClientPos={},r.focusClientPos[e[this.axis].pos]=n[e[this.axis].pos]):r.focusClientPos=null,null!=this.axis?this.axisGlide({otherPos:s,clientPosition:n,glideIndex:i,value:l}):void 0},t.prototype.otherAxis=function(){return"x"===this.axis?"y":"x"},t.prototype.axisGlide=function(t){var n,r,i,a,s,l,u;for(i=t.glideIndex,s=t.otherPos,r=t.clientPosition,u=t.value,l=r[e[this.axis].pos],this.boundingNode&&(l>(n=o.getBoundingClientRect(this.boundingNode))[e[this.axis].maxBox]?l=n[e[this.axis].maxBox]:l<n[e[this.axis].minBox]&&(l=n[e[this.axis].minBox])),a=i-1;a>=0&&!this.maybePerformAxisGlideForNode(a,l,s,u,!1);)a--;for(a=i+1;a<this.members.length&&!this.maybePerformAxisGlideForNode(a,l,s,u,!0);)a++},t.prototype.maybePerformAxisGlideForNode=function(t,n,r,i,a){var s,l,u;return u=this.members[t].node,!!this.presentAndVisible(u)&&(l=o.getBoundingClientRect(u),null!=r&&r>l[e[this.otherAxis()].maxBox]||r<l[e[this.otherAxis()].minBox]||(!(!a&&n<l[e[this.axis].maxBox]||a&&n>l[e[this.axis].minBox])||(("function"==typeof(s=this.members[t]).disabled?s.disabled():void 0)||this.members[t].setValue(i),!1)))},t}(),s.GlideButton=function(e){function n(e){var n,r;this.node=e.node,this.f=e.f,this.glideScope=e.glideScope,this.chooseValue=e.chooseValue,this.disabled=e.disabled,n=e.glideIndex,this.perf=e.perf,this.listener=new t.Listener({node:this.node,proxy:this,events:["dragdown","dragmove","dragup"]}),this.glideIndex=null!=(r=this.glideScope)?r.register({node:this.node,setValue:this.f,disabled:this.disabled,glideIndex:n}):void 0,("function"==typeof this.disabled?this.disabled():void 0)&&o.addClass(this.node,"disabled")}return u(n,e),n.prototype.getGlideIndex=function(){return this.glideIndex},n.prototype.dragdown=function(e,t,n){var r;if("function"!=typeof this.disabled||!this.disabled())return r=this.chooseValue(),null!=this.glideScope?(t.glideValue=r,null!=this.perf&&(t.perfMode=this.perf.addMode(new i.UserInteractionDrag))):t.remove(),this.f(r),n.stopPropagation(),n.preventDefault();t.remove()},n.prototype.dragmove=function(e,t){var n;if(n=a.pick(e,"clientX","clientY"),null!=this.glideScope&&null!=this.glideIndex)return this.glideScope.glide({glideIndex:this.glideIndex,clientPosition:n,value:t.glideValue,drag:t})},n.prototype.dragup=function(e,t){if(null!=t.perfMode&&null!=this.perf)return this.perf.removeMode(t.perfMode)},n}(s.Behavior),s.chooseToggleValue=function(e,t){var n;return-1===(n=a.indexOf(e,t))?e[0]:e[(n+1)%e.length]},s.ToggleButton=function(e){function t(e){var n,r,i,o,a;o=e.node,i=e.glideScope,this.src=e.src,this.path=e.path,this.values=e.values,r=e.glideIndex,n=e.disabled,null!=this.values&&this.values.length>0||(this.values=[1,0]),t.__super__.constructor.call(this,{node:o,glideScope:i,glideIndex:r,disabled:n,chooseValue:(a=this,function(){return a.chooseToggleValue()}),f:function(e){return function(t){return e.setValue(t)}}(this)})}return u(t,e),t.prototype.chooseToggleValue=function(){return s.chooseToggleValue(this.values,this.src.get(this.path))},t.prototype.setValue=function(e){if(e!==this.src.get(this.path))return this.src.set(this.path,e)},t}(s.GlideButton),s.Popup=function(e){function t(e){var n,r,i;r=e.node,this.control=e.control,this.args=e.args,this.dev=e.dev,n=e.disabled,t.__super__.constructor.call(this,{node:r,disabled:n,f:(i=this,function(){return i.popup()})})}return u(t,e),t.prototype.popup=function(){var e,t,r,i;if(i=this,e=function(){return i.tooltip.keepAlive(),i.tooltip.remove(0)},null==this.tooltip)return r=function(e){return function(){return e.tooltipDead=!0,a.defer(function(){return e.tooltip=null})}}(this),this.tooltipDead=!1,this.tooltip=new n({node:this.node,dev:this.dev,options:{dontKill:["new tooltip"],onremove:r}}),this.tooltip.remove("forever"),null,t=new this.control({div:this.tooltip.div,dev:this.tooltip.dev,args:this.args,close:e}),this.tooltip.controller=t;this.tooltipDead||e()},t}(s.FunctionButton),s.FunctionMenu=function(e){function n(e){this.node=e.node,this.f=e.f,this.listener=new t.Listener({node:this.node,proxy:this,events:["change"]})}return u(n,e),n.prototype.change=function(e){this.f(this.node.value),e.stopPropagation(),e.preventDefault()},n}(s.Behavior),s.DragNumeric=function(e){function l(e){var n;this.node=e.node,this.type=e.type,this.path=e.path,this.dev=e.dev,this.mode=e.mode,this.virtualSize=e.virtualSize,this.axis=e.axis,this.warp=e.warp,this.doTooltip=e.tooltip,this.disabled=e.disabled,null==this.mode&&(this.mode="differential"),null==this.virtualSize&&(this.virtualSize=100),null==this.axis&&(this.axis="y"),null==this.warp&&(this.warp=r.Identity),null==this.doTooltip&&(this.doTooltip=!1),this.lastDragDownTime=0,"differential"!==this.mode&&(this.absNode="thumb"===this.mode?this.node.parentNode:this.node),this.dragmove=a.throttle((n=this,function(e,t){return n.realDragmove(e,t)}),this.mouseThrottleTime),this.perf=this.dev.perf,this.listener=new t.Listener({node:this.node,proxy:this,events:["dragdown","dragmove","dragup","dragcancel","dblclick"]})}return u(l,e),l.prototype.dragdown=function(e,r,a){var l,u,c,h,p,d,f;{if("function"!=typeof this.disabled||!this.disabled())return a.stopPropagation(),a.preventDefault(),this.lastDragDownTime=Date.now(),this.movedSinceDragDown=!1,r.perfMode=this.perf.addMode(new i.UserInteractionDrag),r.initialVal=+this.dev.get(this.path),r.lastVal=this.warp.warp(this.type.toNormalizedValue(+this.dev.get(this.path))),"differential"===this.mode?(r.lastX=e.clientX,r.lastY=e.clientY):"absolute"===this.mode?(l=this.absoluteDragmove(e,0),r.lastVal!==l&&(r.lastVal=l,this.dev.set(this.path,this.type.dragQuantize(+this.type.fromNormalizedValue(this.warp.unwarp(r.lastVal)))))):"thumb"===this.mode&&(r.thumbOffset=this.calcThumbOffset(e)),this.doTooltip?(null!=(p=this.tooltip)&&p.keepAlive(),null!=(d=this.tooltip)&&d.remove(0),f=this,h=function(){var e;return null!=(e=f.tooltipKeyListen)&&e.remove(),f.tooltipKeyListen=null,f.tooltip=null,f.tooltipText=null},this.tooltip=new n({node:this.node,dev:this.dev,options:{onremove:h}}),o.addClass(this.tooltip.div,"toolTipText"),c=function(e){return function(){var t;return null!=(t=e.tooltip)?t.keepAlive():void 0}}(this),u=function(e){return function(){var t;return null!=(t=e.tooltip)?t.remove(0):void 0}}(this),this.tooltipKeyListen=new t.Listener({node:document.body,events:["keypress"],proxy:this}),this.tooltipText=new s.views.Readout({path:this.path,dev:this.tooltip.dev,node:this.tooltip.div,type:this.type,onfocus:c,onblur:u})):void 0;r.remove()}},l.prototype.toServerThrottleTime=200,l.prototype.fromServerThrottleTime=100,l.prototype.mouseThrottleTime=1e3/15,l.prototype.differentialDragmove=function(e,t){var n;return n=(e.clientX-t.lastX-(e.clientY-t.lastY))/this.virtualSize,t.lastX=e.clientX,t.lastY=e.clientY,t.lastVal+n},l.prototype.calcThumbOffset=function(e){var t,n,r,i;return r=o.getBoundingClientRect(this.node),n="x"===this.axis?r.left:r.top,i="x"===this.axis?r.right:r.bottom,(t=("x"===this.axis?e.clientX:e.clientY)-(n+i)/2)>(i-n)/2?t=(i-n)/2:t<-(i-n)/2&&(t=-(i-n)/2),t},l.prototype.absoluteDragmove=function(e,t){var n,r,i,a,s;return n=o.getBoundingClientRect(this.absNode),r="x"===this.axis?n.left:n.top,i="x"===this.axis?n.right:n.bottom,a="x"===this.axis?e.clientX:e.clientY,s=((a-=t)-r)/(i-r),"x"===this.axis?s:1-s},l.prototype.realDragmove=function(e,t){var n;if(this.movedSinceDragDown=!0,"differential"===this.mode?n=this.differentialDragmove(e,t):"absolute"===this.mode?n=this.absoluteDragmove(e,0):"thumb"===this.mode&&((n=this.absoluteDragmove(e,t.thumbOffset))>=1||n<=0)&&(t.thumbOffset=this.calcThumbOffset(e)),n=Math.max(Math.min(n,1),0),t.lastVal!==n)return t.lastVal=n,this.dev.set(this.path,this.type.dragQuantize(+this.type.fromNormalizedValue(this.warp.unwarp(t.lastVal))))},l.prototype.dragcancel=function(e,t){return this.dragup(e,t),this.dev.set(this.path,t.initialVal)},l.prototype.keypress=function(){if(null!=this.tooltip&&null!=this.tooltipText)return this.tooltipText.popEdit(),this.tooltipKeyListen.remove(),this.tooltipKeyListen=null},l.prototype.dragup=function(e,t){var n;return null!=(n=this.tooltip)&&n.remove(2e3),this.perf.removeMode(t.perfMode)},l.prototype.dblclick=function(){if(!("function"==typeof this.disabled&&this.disabled()||"absolute"===this.mode||this.movedSinceDragDown&&Date.now()-this.lastDragDownTime>500))return this.dev.set(this.path,s.chooseToggleValue(this.type.values,this.dev.get(this.path)))},l}(s.Behavior),s.FunctionString=function(n){function r(e){this.node=e.node,this.f=e.f,this.onfocus=e.onfocus,this.getEditableValue=e.getEditableValue,this.getOriginalValue=e.getOriginalValue,this.listener=new t.Listener({node:this.node,proxy:this,events:["focus","blur","dragdown","keydown"]}),this.origVal=null,this.blurListener=null}return u(r,n),r.prototype.focus=function(){if(!o.testClass(this.node,"selectable"))return this.node.blur()},r.prototype.blur=function(){if(o.testClass(this.node,"selectable"))return o.removeClass(this.node,"selectable"),this.f(this.node.value,this.origVal),this.origVal=null,this.blurListener.remove(),this.blurListener=null},r.prototype.popEdit=function(){var e,n;if(!o.testClass(this.node,"selectable"))return null!=this.getEditableValue&&(this.node.value=this.getEditableValue()),null!=this.getOriginalValue?this.origVal=this.getOriginalValue():this.origVal=this.node.value,null!=(e=this.blurListener)&&e.remove(),this.blurListener=new t.Listener({node:document.body,options:{capture:!0},proxy:{dragdown:(n=this,function(e){if(e.target!==n.node)return n.node.blur()})}}),o.addClass(this.node,"selectable"),this.node.focus(),this.node.select(),"function"==typeof this.onfocus?this.onfocus():void 0},r.prototype.dragdown=function(t,n,r){if(n.remove(),!o.testClass(this.node,"selectable"))return this.popEdit(),e.isMobile?void 0:r.preventDefault()},r.prototype.keydown=function(t){if(e.isReturnKey(t)||e.isEscapeKey(t))return this.node.blur(),t.preventDefault()},r}(s.Behavior),s}.apply(t,r))||(e.exports=i)},function(e,t,n){e.exports=n(286)()},function(e,t,n){"use strict";var r,i;r=[n(2),n(1),n(3)],void 0===(i=function(e,t,n){var r,i,o,a,s,l,u,c=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};return(i={}).FakeEvent=function(){return function(e){t.defaults(this,e),null!=this.clientX&&null!=this.clientY&&null==this.target&&(this.target=document.elementFromPoint(this.clientX,this.clientY))}}(),r=function(){function e(){this.drags={}}return e.prototype.isMouseEvent=function(e){return null!=e.type&&-1!==e.type.indexOf("mouse")},e.prototype.indexForEvent=function(e){return this.isMouseEvent(e)?"mouse":e.identifier},e.prototype.dragForEvent=function(e){return this.drags[this.indexForEvent(e)]},e.prototype.fakeMousemoveForScroll=function(){var e,t,n,r,o;for(n in o=[],r=this.drags)(e=r[n]).listener.options.fakeMousemoveOnScroll&&(t=new i.FakeEvent({clientX:e.lastCoord.clientX,clientY:e.lastCoord.clientY,type:"mousemove"}),o.push(e.mousemove(t)));return o},e.prototype.registerDrag=function(e,t){return this.drags[this.indexForEvent(e)]=t},e.prototype.clearDrag=function(e,t){return delete this.drags[this.indexForEvent(e)]},e}(),i.drags=new r,l=function(e,t){var n,r,i,o,a;for(o=[],n=r=0,i=e.changedTouches.length;0<=i?r<i:r>i;n=0<=i?++r:--r)a=e.changedTouches.item(n),o.push(t(a));return o},o=function(e,t){var n,r,i,o;for(n=r=0,i=e.changedTouches.length;0<=i?r<i:r>i;n=0<=i?++r:--r)if((o=e.changedTouches.item(n)).identifier===t)return o;return null},s=function(e){for(var t;null!=e;){if(null!=(null!=(t=e.className)?t.split:void 0)&&c.call(e.className.split(" "),"scrollContext")>=0)return e;e=e.parentNode}return null},a=function(e){return s(e.target)},i.Drag=function(){function e(e){this.mousedown=e.mousedown,this.proxy=e.proxy,this.options=e.options,this.lastCoord=t.pick(this.mousedown,["clientX","clientY"]),this.type=i.drags.isMouseEvent(this.mousedown)?"mouse":"touch",this.identifier=i.drags.indexForEvent(this.mousedown),this.options.register&&(i.drags.registerDrag(this.mousedown,this),this.registered=!0),this.listener=new i.Listener({proxy:this,events:["mousemove","mouseup","touchmove","touchend","touchcancel"],node:window,options:t.extend(t.clone(this.options),{inhibitMousemoveDuringDrag:!1,capture:!0})})}return e.prototype.type=null,e.prototype.focusClientPos=null,e.prototype.mousemove=function(e,n){var r;return this.registered&&null!=n&&n.preventDefault(),this.lastCoord=t.pick(e,["clientX","clientY"]),"function"==typeof(r=this.proxy).dragmove?r.dragmove(e,this,n):void 0},e.prototype.touchmove=function(e){var t;if("mouse"!==this.identifier&&null!=(t=o(e,this.identifier)))return this.mousemove(t,e)},e.prototype.touchend=function(e){var t;if("mouse"!==this.identifier&&null!=(t=o(e,this.identifier)))return this.mouseup(t,e)},e.prototype.touchcancel=function(e){var t;if("mouse"!==this.identifier&&null!=o(e,this.identifier))return"function"==typeof(t=this.proxy).dragcancel&&t.dragcancel(e,this),this.remove()},e.prototype.remove=function(){var e;return null!=(e=this.listener)&&e.remove(),this.registered&&i.drags.clearDrag(this.mousedown,this),this.registered=this.listener=this.proxy=null},e.prototype.mouseup=function(e,t){var n;return null==t&&(t=e),"function"==typeof(n=this.proxy).dragup&&n.dragup(e,this,t),this.remove()},e}(),u=function(e){return 0===e.scrollTop?e.scrollTop=1:e.scrollHeight-e.scrollTop<=e.clientHeight?e.scrollTop=e.scrollHeight-e.clientHeight-1:void 0},i.DragListener=function(){function t(t){var n;this.node=t.node,this.proxy=t.proxy,this.options=t.options,n=e.isMobile?["touchstart"]:["mousedown","touchstart"],this.listener=new i.Listener({proxy:this,events:n,node:this.node,options:this.options})}return t.prototype.mousedown=function(e){var t,n;return n=new i.Drag({mousedown:e,proxy:this.proxy,options:this.options}),"function"==typeof(t=this.proxy).dragdown?t.dragdown(e,n,e):void 0},t.prototype.touchstart=function(t){return l(t,(n=this,function(r){var o,s,l;if(!n.options.register||null==i.drags.dragForEvent(r))return s=new i.Drag({mousedown:r,proxy:n.proxy,options:n.options}),"function"==typeof(o=n.proxy).dragdown&&o.dragdown(r,s,t),s===i.drags.dragForEvent(r)?t.preventDefault():(e.isMobile&&null!=(l=a(r))&&u(l),n.options.register?s.remove():void 0)}));var n},t.prototype.remove=function(){return this.listener.remove()},t}(),i.Listener=function(){var e,n;function r(n){var r,o,a,s,l,u,h,p,d,f,v,m;for(this.proxy=n.proxy,this.events=n.events,this.node=n.node,this.options=n.options,null==this.events&&(this.events=t.keys(this.proxy)),null==this.options&&(this.options={}),t.defaults(this.options,{fakeMousemoveOnScroll:!0,inhibitMousemoveDuringDrag:!0,capture:!1,register:!0}),this.options.fakeMousemoveOnScroll&&this.events.push("mouseout"),c.call(this.events,"wheel")>=0&&this.events.push("mousewheel"),a={},s=0,h=(f=this.events).length;s<h;s++){for(o=f[s],l=0,p=e.length;l<p;l++)r=e[l],o=o.replace(r,"");a[o]=!0}for(this.events=t.keys(a),u=0,d=(v=this.events).length;u<d;u++)"scroll"!==(o=v[u])&&this.shouldInstall(o)&&this.node.addEventListener(o,this,this.options.capture);t.any(["dragmove","dragdown","dragup","dragcancel"],(m=this,function(e){return c.call(m.events,e)>=0}))&&(this.dragListen=new i.DragListener({node:this.node,proxy:this.proxy,options:this.options})),this.maybeSetupFakeMousemoveOnScroll()}return n={1:"middle",2:"right"},e=t.values(n),r.prototype.shouldInstall=function(e){return!("dragmove"===e||"dragdown"===e||"dragup"===e||"dragcancel"===e)},r.prototype.maybeSetupFakeMousemoveOnScroll=function(){var e;if(c.call(i,"mousemove")>=0&&this.options.fakeMousemoveOnScroll||c.call(this.events,"scroll")>=0)return this.scrollNode=s(this.node),null!=(e=this.scrollNode)?e.addEventListener("scroll",this,this.options.capture):void 0},r.prototype.maybeFakeMousemoveOnScroll=function(e){if(null!=this.scrollNode&&(null!=e.clientX&&(this.lastMouseE="mouseout"!==e.type?e:null),"scroll"===e.type&&null!=this.lastMouseE))return this.handleEvent(new i.FakeEvent({clientX:this.lastMouseE.clientX,clientY:this.lastMouseE.clientY,type:"mousemove"}))},r.prototype.handleEvent=function(e){var t,r,o;if(!("mousemove"===e.type&&null!=i.drags.dragForEvent(e)&&this.options.inhibitMousemoveDuringDrag||(this.maybeFakeMousemoveOnScroll(e),this.hackSafariMouseWheel(e))))return o=""+(null!=(r=n[e.button])?r:"")+e.type,"function"==typeof(t=this.proxy)[o]?t[o](e):void 0},r.prototype.hackSafariMouseWheel=function(e){var t;return"mousewheel"===e.type?(e.deltaY=-e.wheelDeltaY,e.deltaX=-e.wheelDeltaX,e.deltaMode=0,e.stopPropagation(),"function"==typeof(t=this.proxy).wheel&&t.wheel(e),!0):("wheel"===e.type&&e.stopPropagation(),!1)},r.prototype.remove=function(){var e,t,n,r,i,o,a;for(t=0,n=(r=this.events).length;t<n;t++)e=r[t],null!=(i=this.node)&&i.removeEventListener(e,this,this.options.capture);return this.scrollNode&&null!=(o=this.scrollNode)&&o.removeEventListener("scroll",this,this.options.capture),null!=(a=this.dragListen)&&a.remove(),this.proxy=this.node=this.scrollNode=this.dragListen=null},r}(),i.createGlobalListener=function(){return new i.Listener({node:window,options:{capture:!1},proxy:{touchmove:function(e){return l(e,function(t){if(null==i.drags.dragForEvent(t)&&null==a(t))return e.preventDefault()})},selectstart:function(e){var t;if(t=e.target instanceof window.Element?e.target:e.target.parentNode,!n.testClass(t,"selectable")&&!n.matches(t,".selectable *"))return e.preventDefault(),e.stopPropagation()},dragenter:function(e){return e.preventDefault(),e.stopPropagation()},dragover:function(e){return e.preventDefault(),e.stopPropagation()},drop:function(e){return e.preventDefault(),e.stopPropagation()}}})},i}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScrollOffsetRect=function(e,t){return{top:e.top,bottom:e.bottom,left:e.left+t,right:e.right+t,width:e.width,height:e.height}},t.EdgeCoordinatesFromAngle=function(e,t,n,r,i){var o,a,s,l,u,c,h,p,d;o=t,a=i,s=n,l=r,h=360-(h=e),h*=Math.PI/180,u=o+s/2,c=a+l/2;var f,v,m=Math.atan2(c-a,o+s-u);h<=Math.PI?h<Math.PI/2?h<m?(f=o+s,d=Math.tan(h)*(s/2),v=c-d):(v=a,p=l/2/Math.tan(h),f=u+p):h<Math.PI-m?(v=a,p=l/2/Math.tan(Math.PI-h),f=u-p):(f=o,d=Math.tan(Math.PI-h)*(s/2),v=c-d):h<3*Math.PI/2?h<m+Math.PI?(f=o,d=Math.tan(h-Math.PI)*(s/2),v=c+d):(v=a+l,p=l/2/Math.tan(h-Math.PI),f=u-p):h<2*Math.PI-m?(v=a+l,p=l/2/Math.tan(2*Math.PI-h),f=u+p):(f=o+s,d=Math.tan(2*Math.PI-h)*(s/2),v=c+d);return{x:f,y:v}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=p(n(0)),a=p(n(13)),s=p(n(19)),l=p(n(11)),u=(n(9),n(62),n(26)),c=n(100),h=(p(n(15)),p(n(311)));function p(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.ctx=null,n.state={width:n.props.width||0,height:n.props.height||0},n.createGradient=n.createGradient.bind(n),n.handleResize=n.handleResize.bind(n),n.handleResizeInternal=n.handleResizeInternal.bind(n),window.addEventListener("resize",n.handleResize),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"componentDidMount",value:function(){this.ctx=this.refs.canvas.getContext("2d"),this.setState(function(e,t){var n=e.width,r=e.height;if(0===r||0===n){var i=a.default.findDOMNode(this.refs.canvas).parentNode.getBoundingClientRect();return{width:0===n?i.width:n,height:0===r?i.height:r}}})}},{key:"componentWillReceiveProps",value:function(e){var t=e.hasOwnProperty.bind(e);if(t("width")&&"number"==typeof e.width)return t("height")&&"number"==typeof e.height?this.setState({width:e.width,height:e.height}):this.setState(function(t,n){return(0,s.default)({},t,{width:e.width})})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"render",value:function(){return o.default.createElement("canvas",{ref:"canvas",className:(0,l.default)(h.default.Canvas,this.props.className),width:this.state.width,height:this.state.height})}},{key:"handleResize",value:function(){clearTimeout(r),r=setTimeout(this.handleResizeInternal,250)}},{key:"handleResizeInternal",value:function(){this.setState(function(e,t){var n=e.width,r=e.height;if(0===r||0===n){var i=a.default.findDOMNode(this.refs.canvas).parentNode.getBoundingClientRect();return{width:0===n?i.width:n,height:0===r?i.height:r}}}),void 0!==this.props.onResize&&this.props.onResize()}},{key:"getContext",value:function(){return this.ctx}},{key:"xPos",value:function(e){var t=this.props.xAxis,n=t.min,r=t.max,i=t.scale;return(0,u.normalize)(n,r,e,i)*this.state.width}},{key:"yPos",value:function(e){var t=this.props.yAxis,n=t.min,r=t.max,i=t.scale,o=this.state.height;return o-(0,u.normalize)(n,r,e,i)*o}},{key:"clear",value:function(){this.ctx.clearRect(0,0,this.state.width,this.state.height)}},{key:"createGradient",value:function(e,t,n,r,i){var o=(0,c.EdgeCoordinatesFromAngle)(e,this.xPos(this.props.xAxis.min),this.xPos(this.props.xAxis.max),this.yPos(this.props.yAxis.min),this.yPos(this.props.yAxis.max)),a=(0,c.EdgeCoordinatesFromAngle)(360-e,this.xPos(this.props.xAxis.min),this.xPos(this.props.xAxis.max),this.yPos(this.props.yAxis.min),this.yPos(this.props.yAxis.max)),s=this.ctx.createLinearGradient(o.x,o.y,t||a.x,n||a.y);return s.addColorStop(0,r),s.addColorStop(1,i),s}},{key:"clearRect",value:function(e,t,n,r,i){this.ctx.fillStyle=e;var o=this.xPos(t),a=this.yPos(n),s=this.xPos(r),l=this.yPos(i);if(s<o){var u=[s,o];o=u[0],s=u[1]}if(l<a){var c=[l,a];a=c[0],l=c[1]}var h=s-o,p=l-a;this.ctx.clearRect(o,a,h,p)}},{key:"fillRect",value:function(e,t,n,r,i){this.ctx.fillStyle=e;var o=this.xPos(t),a=this.yPos(n),s=this.xPos(r),l=this.yPos(i);if(s<o){var u=[s,o];o=u[0],s=u[1]}if(l<a){var c=[l,a];a=c[0],l=c[1]}var h=s-o,p=l-a;this.ctx.fillRect(o,a,h,p)}},{key:"beginPath",value:function(e,t){this.ctx.strokeStyle=e,this.ctx.fillStyle=void 0!==t?t:e,this.ctx.lineWidth="1px",this.ctx.shadowColor=e,this.ctx.shadowBlur=1,this.ctx.beginPath()}},{key:"moveTo",value:function(e,t){this.ctx.moveTo(this.xPos(e),this.yPos(t))}},{key:"lineTo",value:function(e,t){this.ctx.lineTo(this.xPos(e),this.yPos(t))}},{key:"quadraticCurveTo",value:function(e,t,n,r){this.ctx.quadraticCurveTo(this.xPos(n),this.yPos(r),this.xPos(e),this.yPos(t))}},{key:"stroke",value:function(){this.ctx.stroke()}},{key:"fill",value:function(){this.ctx.closePath(),this.ctx.fill()}}]),t}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplitCell=t.Split=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n(0)),o=s(n(11)),a=s(n(324));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.Split=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,i.default.Component),r(t,[{key:"render",value:function(){return i.default.createElement("div",{className:(0,o.default)(a.default.Split,this.props.className)},i.default.createElement("div",{className:a.default.SplitRow},this.props.children))}}]),t}(),t.SplitCell=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,i.default.Component),r(t,[{key:"render",value:function(){return i.default.createElement("div",{className:(0,o.default)(a.default.SplitCell,this.props.className)},this.props.children)}}]),t}()},function(e,t,n){"use strict";var r,i;r=[n(3),n(44),n(5),n(22),n(2),n(34),n(1),n(38),n(27),n(33),n(21),n(105),n(41),n(74),n(16)],void 0===(i=function(e,t,n,r,i,o,a,s,l,u,c,h,p,d,f){var v,m,g,b,y,C,x,_,w,S,k,T,E,P,I,B,N=function(e,t){for(var n in t)M.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},M={}.hasOwnProperty,O=[].slice,A=function(e,t){return function(){return e.apply(t,arguments)}};return B=navigator.userAgent.toLowerCase(),I=-1!==B.indexOf("safari")&&-1===B.indexOf("chrome"),E=function(e){return new d(e).promise},P=function(e){return function(t){var n;return null==(n=t.message)&&(n="An unknown error occurred"),E({node:e,prompt:n}).catch(function(){})}},x=function(){return function(e){this.dev=e.dev,this.wildcards=e.wildcards,this.path=e.path,this.scope=e.scope,this.node=e.node,this.close=e.close,this.popEdit=e.popEdit,this.scroll=e.scroll}}(),y=function(){function t(t){var r,i;r=t.node,this.info=t.info,this.node=e.appendSpec(r,{type:"li",className:"presetAction "+this.extraCss}),this.removePool=[],e.appendSpec(this.node,{type:"span",textContent:this.label}),this.setupListener(),this.needsPreset&&(this.reaction=new n.Function(this.info.dev,(i=this,function(t){return i.disabled=!t.get(i.info.path),e.setClass(i.node,"disabled",i.disabled)})))}return t.prototype.setupListener=function(){return this.removePool.push(new r.Listener({events:["dragdown","change"],proxy:this,node:this.node}))},t.prototype.clearRemovePool=function(){var e,t,n;for(e=0,t=(n=this.removePool).length;e<t;e++)n[e].remove();return this.removePool=[]},t.prototype.remove=function(){var e;return this.clearRemovePool(),null!=(e=this.reaction)?e.remove():void 0},t.prototype.change=function(e){var t,n,r;if(t=(t=this.info.dev.get(this.info.path))?+t:null,!(this.disabled||this.needsPreset&&null==t))return(n=new window.FileReader).onload=(r=this,function(){return r.perform(a.extend(a.clone(r.info),{id:t,data:n.result})),e.target.value=""}),n.onabort=function(){return e.target.value=""},n.onerror=function(){return e.target.value=""},n.readAsText(e.target.files[0])},t.prototype.dragdown=function(e,t,n){var r,i,o,s;if(o=(o=this.info.dev.get(this.info.path))?+o:null,!(this.disabled||this.needsPreset&&null==o))return null,r=a.extend(a.clone(this.info),{id:o}),(null!=(i="function"==typeof this.confirmPrompt?this.confirmPrompt(a.pick(r,"id","dev","wildcards","scope")):void 0)?E({node:this.info.node,prompt:i,cancel:!0}):u.resolve()).then((s=this,function(){return s.perform(r)})).catch(function(e){return"CancellationError"===e.name},function(){}).catch(P(this.info.node)),n.stopPropagation(),n.preventDefault(),t.remove()},t.prototype.perform=function(e){e.id,e.dev,e.wildcards,e.scope,e.node,e.close,e.popEdit},t.prototype.label=null,t.prototype.needsPreset=!0,t.prototype.confirmPrompt=function(e){e.id,e.dev,e.wildcards,e.scope},t.prototype.extraCss=null,t}(),T=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return N(t,y),t.prototype.label="Rename",t.prototype.extraCss="rename",t.prototype.needsPreset=!0,t.prototype.perform=function(e){var t;return t=e.id,(0,e.popEdit)(t)},t}(),m=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return N(t,y),t.prototype.label="Copy",t.prototype.extraCss="copy",t.prototype.needsPreset=!0,t.prototype.perform=function(e){var t,n,r,i,o;return n=e.id,t=e.dev,o=e.scope,r=e.node,i=e.popEdit,p.DelayedSpinner.RunPromise({node:r,src:t,promise:h.duplicate({id:n,dev:t,scope:o}).then(function(e){return t.set("preferences/presets/"+o+"/current",e),i(e)})})},t}(),v=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return N(t,y),t.prototype.label="Delete",t.prototype.extraCss="delete",t.prototype.needsPreset=!0,t.prototype.confirmPrompt=function(e){var t,n,r;return n=e.id,t=e.dev,r=e.scope,'Delete "'+t.get("meta/presets/"+r+"/names/"+n)+'"?'},t.prototype.perform=function(e){var t,n,r,i;return n=e.id,t=e.dev,r=e.node,i=e.scope,p.DelayedSpinner.RunPromise({node:r,src:t,promise:h.delete({id:n,dev:t,scope:i})})},t}(),g=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return N(t,y),t.prototype.label="Export",t.prototype.extraCss="export",t.hideOnMobile=!0,t.prototype.needsPreset=!0,t.prototype.perform=function(e){var t,n,r,i,o;return t=e.close,r=e.id,n=e.dev,i=e.node,o=e.scope,p.DelayedSpinner.RunPromise({node:i,src:n,promise:h.export({id:r,dev:n,scope:o}).then(function(){if(I)return t()})})},t}(),b=function(t){function n(){var t;t=1<=arguments.length?O.call(arguments,0):[],n.__super__.constructor.apply(this,t),this.fileInput=e.appendSpec(this.node,{type:"input"}),this.fileInput.type="file"}return N(n,y),n.prototype.label="Import",n.prototype.extraCss="import",n.hideOnMobile=!0,n.prototype.needsPreset=!1,n.prototype.perform=function(e){var t,n,r,i,o;return r=e.id,n=e.dev,o=e.scope,i=e.node,t=e.data,p.DelayedSpinner.RunPromise({node:i,src:n,promise:h.import({id:r,dev:n,data:t,scope:o}).then(function(e){return n.set("preferences/presets/"+o+"/current",e)})})},n.prototype.dragdown=function(){},n}(),k=function(){function t(t,n){var r;this.info=t,this.node=e.appendSpec(n,{className:"presetActions"}),this.list=e.appendSpec(this.node,{type:"ul"}),this.actions=function(){var e,t,n,o;for(o=[],e=0,t=(n=this.actions).length;e<t;e++)r=n[e],i.isMobile&&r.hideOnMobile||o.push(new r({node:this.list,info:this.info}));return o}.call(this)}return t.prototype.actions=[b,g,T,m,v],t}(),S=function(){function t(t){var r,o;this.id=t.id,r=t.node,this.info=t.info,this.node=e.appendSpec(r,{type:"li",className:"presetTarget "+(this.id<1e3?"factory":"")}),this.scrollIntoView=i.debounce((o=this,function(){return o.realScrollIntoView()}),0),this.text=e.appendSpec(this.node,{type:"input",readOnly:!0}),this.removePool=[],this.setupMainListener(),this.reaction=new n.Function(this.info.dev,function(t){return function(n){if(e.setClass(t.node,"ui-selected",+n.get(t.info.path)===t.id),+n.get(t.info.path)===t.id)return t.scrollIntoView()}}(this)),this.nameReaction=new n.Function(this.info.dev,function(t){return function(n){if(!e.testClass(t.text,"selectable"))return t.text.value=n.get(t.namePath())}}(this))}return t.prototype.namePath=function(){return"meta/presets/"+this.info.scope+"/names/"+this.id},t.prototype.setupMainListener=function(){return this.removePool.push(new r.Listener({events:["dragdown","dblclick"],proxy:this,node:this.node}))},t.prototype.realScrollIntoView=function(){return this.info.scroll.scrollToClientRect(e.getBoundingClientRect(this.node))},t.prototype.popEdit=function(){var t;return e.addClass(this.text,"selectable"),this.text.readOnly=!1,this.clearRemovePool(),this.scrollIntoView(),this.removePool.push(new r.Listener({node:this.info.node,options:{capture:!0,register:!1},proxy:{dragdown:(t=this,function(e,n,r){if(e.target!==t.text)return"function"==typeof r.stopPropagation&&r.stopPropagation(),t.stopPopEdit(a.defer(function(){var t;return(t=document.createEvent("Events")).initEvent("mousedown",!0,!0),e.target.dispatchEvent(t)}))})}})),this.removePool.push(new r.Listener({node:this.text,proxy:{keypress:function(e){return function(t){if(i.isReturnKey(t))return e.stopPopEdit()}}(this)}})),a.defer(function(e){return function(){return e.text.select()}}(this))},t.prototype.stopPopEdit=function(t){var n,r;return r=this,n=function(){var e;if(e=r.text.value,r.info.dev.get(r.namePath())!==e)return h.rename({dev:r.info.dev,scope:r.info.scope,id:r.id,name:e}).then(function(e){return r.info.dev.set("preferences/presets/"+r.info.scope+"/current",e)})},p.DelayedSpinner.RunPromise({node:this.info.node,src:this.info.dev,promise:u.resolve().then(n).finally(function(t){return function(){return e.removeClass(t.text,"selectable"),t.setupMainListener()}}(this)).catch(function(e){return function(t){return P(e.info.node)(t),e.nameReaction.inval()}}(this)).then(t)}),this.clearRemovePool(),this.text.readOnly=!0},t.prototype.dblclick=function(){return this.popEdit()},t.prototype.dragdown=function(e,t,n){return this.info.dev.set("preferences/presets/"+this.info.scope+"/current",this.id),t.remove(),n.stopPropagation(),n.preventDefault()},t.prototype.clearRemovePool=function(){var e,t,n;for(e=0,t=(n=this.removePool).length;e<t;e++)n[e].remove();return this.removePool=[]},t.prototype.remove=function(){return this.scrollIntoView.cancel(),this.clearRemovePool(),this.reaction.remove()},t}(),C=function(){function i(i){var o,s,l,u,c;this.dev=i.dev,this.node=i.node,s=i.scope,u=i.wildcards,o=i.close,this.popEdit=A(this.popEdit,this),this.managePresetButton=e.appendSpec(this.node,{className:"managePresets"}),e.appendSpec(this.managePresetButton,{type:"span",className:"label",textContent:"Manage Presets"}),new f.FunctionButton({node:this.managePresetButton,f:(c=this,function(){return c.toggleVisibility()})}),this.div=e.appendSpec(this.node,{className:"presetManagementPopup"}),e.hide(this.div),this.rebuildPresetArea=a.debounce(function(e){return function(){return e.realRebuildPresetArea()}}(this),0),this.info=new x({dev:this.dev,wildcards:u,path:"meta/presets/"+s+"/current",scope:s,node:this.node,close:o,popEdit:function(e){return function(t){return e.popEdit(t)}}(this)}),this.actions=new k(this.info,this.div),this.scroll=new t({node:this.div,scrollX:!1}),this.info.scroll=this.scroll,this.listElm=e.appendSpec(this.scroll.content,{type:"ul",className:"presetItems"}),new n.Function(this.dev,function(e){return function(t){var n,r,i;for(e.targetIDs=[],n=r=0,i=+t.get("meta/presets/"+e.info.scope+"/numPresets");0<=i?r<i:r>i;n=0<=i?++r:--r)e.targetIDs.push(+t.get("meta/presets/"+e.info.scope+"/"+n+"/id"));return e.rebuildPresetArea()}}(this)),this.listener=new r.Listener({proxy:this,events:["dragover","dragenter","drop"],node:this.div}),(l=this.dev.get("preferences/preset/"+s+"/manage"))&&"false"!==l&&this.toggleVisibility()}return i.prototype.realRebuildPresetArea=function(){var t,n,r,i,o,a,s,l,u;if(null!=(a=null!=(s=this.targets)?s.length:void 0)?a:0,null!=this.targets)for(n=0,i=(l=this.targets).length;n<i;n++)l[n].remove();for(this.targets=[],e.clear(this.listElm),r=0,o=(u=this.targetIDs).length;r<o;r++)t=u[r],this.targets.push(new S({node:this.listElm,info:this.info,id:t}));if(null!=this.autoPop)return this.popEdit(this.autoPop),this.autoPop=null},i.prototype.toggleVisibility=function(){var t;return e.isVisible(this.div)?e.hide(this.div):(e.show(this.div),(t=e.getBoundingClientRect(this.div.parentNode)).bottom+5>window.innerHeight&&e.setTop(this.div.parentNode,window.innerHeight-t.height-5),this.dev.set(this.info.path,this.dev.get(this.info.path))),this.dev.set("preferences/preset/"+this.info.scope+"/manage",e.isVisible(this.div)),e.setClass(this.managePresetButton,"selected",e.isVisible(this.div))},i.prototype.popEdit=function(e){return a.defer((t=this,function(){var n,r,i,o;if(null!=t.targets){for(n=0,r=(i=t.targets).length;n<r;n++)if((o=i[n]).id===+e)return void o.popEdit();return t.autoPop=e}}));var t},i.prototype.hover=function(e){var t;return"copy"===(t=e.dataTransfer.effectAllowed)||"copyLink"===t||"copyMove"===t||"all"===t?e.dataTransfer.dropEffect="copy":e.dataTransfer.dropEffect="none"},i.prototype.dragenter=function(e){return this.hover(e)},i.prototype.dragover=function(e){return this.hover(e)},i.prototype.drop=function(e){var t,n;if(e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy")return(t=new window.FileReader).onload=(n=this,function(){return p.DelayedSpinner.RunPromise({node:n.node,src:n.dev,promise:h.import({dev:n.dev,data:t.result,scope:n.info.scope}).then(function(e){return n.dev.set("preferences/presets/"+n.info.scope+"/current",e)})})}),t.readAsText(e.dataTransfer.files[0])},i.prototype.remove=function(){},i}(),_=function(e){function t(e){var n;t.__super__.constructor.call(this,e),this.scope=e.scope,this.realInval=this.inval,this.inval=i.debounce((n=this,function(){return n.realInval()}),0),this.rewire("meta/presets/"+this.scope+"/current"),this.setupMenu()}return N(t,e),t.prototype.showOpt=function(e,t){return t.get("meta/presets/"+this.scope+"/names/"+e)},t.prototype.getOpts=function(e){var t,n,r,i;for(i=[],t=n=0,r=+e.get("meta/presets/"+this.scope+"/numPresets");0<=r?n<r:n>r;t=0<=r?++n:--n)i.push(e.get("meta/presets/"+this.scope+"/"+t+"/id"));return i},t.prototype.remove=function(){return this.inval.cancel(),t.__super__.remove.call(this)},t.prototype.addInteraction=function(){return this.interaction=new f.FunctionMenu({node:this.node,f:(e=this,function(t){return e.dev.set("preferences/presets/"+e.scope+"/current",t)})});var e},t.prototype.removeInteraction=function(){var e;return null!=(e=this.interaction)?e.remove():void 0},t}(l.Menu),w=function(){function t(t){var n,r;this.dev=t.dev,this.node=t.div,n=t.args,this.scope=n[0],this.wildcards=n[1],this.close=t.close,this.dev.get("preferences/presets/"+this.scope+"/current")||this.dev.set("preferences/presets/"+this.scope+"/current",0),this.removePool=[],e.addClass(this.node,"presetPopup"),this.makeApplySaveArea(),this.makeCaptureArea(),e.getBoundingClientRect(this.node).left>(r=window.innerWidth-300)&&e.setLeft(this.node,r),this.removePool.push(new C({dev:this.dev,node:this.node,scope:this.scope,wildcards:this.wildcards,close:this.close}))}return t.prototype.makeApplySaveArea=function(){var t,r,i;return this.applyDiv=e.appendSpec(this.node,{className:"applySave"}),this.removePool.push(e.removeWrap(this.applyDiv)),this.removePool.push(new _({dev:this.dev,node:this.applyDiv,extraCss:"input",scope:this.scope})),r=e.appendSpec(this.applyDiv,{className:"utilityBtn action",textContent:"Save"}),this.removePool.push(e.removeWrap(r)),this.removePool.push(new f.FunctionButton({node:r,f:(i=this,function(){return i.save()})})),this.removePool.push(new n.Function(this.dev,function(t){return function(n){return e.setClass(r,"disabled",!n.get("meta/presets/"+t.scope+"/current"))}}(this))),t=e.appendSpec(this.applyDiv,{className:"utilityBtn action",textContent:"Apply"}),this.removePool.push(e.removeWrap(t)),this.removePool.push(new f.FunctionButton({node:t,f:function(e){return function(){return e.apply()}}(this)})),this.removePool.push(new n.Function(this.dev,function(n){return function(r){return e.setClass(t,"disabled",!r.get("meta/presets/"+n.scope+"/current"))}}(this)))},t.prototype.makeCaptureArea=function(){var t,n;return this.captureDiv=e.appendSpec(this.node,{className:"capture"}),this.removePool.push(e.removeWrap(this.captureDiv)),t=e.appendSpec(this.captureDiv,{className:"utilityBtn action",textContent:"Create"}),this.removePool.push(e.removeWrap(t)),this.removePool.push(new f.FunctionButton({node:t,f:(n=this,function(){return n.capture()})})),this.captureNamePath="preferences/presets/"+this.scope+"/captureName",this.dev.set(this.captureNamePath,"new "+this.scope+" preset"),this.captureNameControl=new l.String({allowMobile:!0,dev:this.dev,node:this.captureDiv,extraCss:"input",path:this.captureNamePath}),this.removePool.push(this.captureNameControl)},t.prototype.clearRemovePool=function(){var e,t,n;for(e=0,t=(n=this.removePool).length;e<t;e++)n[e].remove();return this.removePool=[]},t.prototype.capture=function(){return a.defer((e=this,function(){return p.DelayedSpinner.RunPromise({node:e.node,src:e.dev,promise:h.capture({dev:e.dev,wildcards:e.wildcards,scope:e.scope,name:e.dev.get(e.captureNamePath)}).then(function(t){return e.dev.set("preferences/presets/"+e.scope+"/current",t),e.close()})}).catch(P(e.node))}));var e},t.prototype.apply=function(){var e,t,n;if((e=this.dev.get("meta/presets/"+this.scope+"/current"))&&!window.isNaN(+e))return e=+e,t='Apply "'+this.dev.get("meta/presets/"+this.scope+"/names/"+e)+'"?',E({node:this.node,cancel:!0,prompt:t}).then((n=this,function(){return p.DelayedSpinner.RunPromise({node:n.node,src:n.dev,promise:h.apply({id:e,dev:n.dev,scope:n.scope,wildcards:n.wildcards}).then(function(){return n.close()})})})).catch(function(e){return"CancellationError"===e.name},function(){}).catch(P(this.node))},t.prototype.save=function(){var e,t,n,r;if((e=+this.dev.get("meta/presets/"+this.scope+"/current"))&&!window.isNaN(+e))return e=+e,t=this.dev.get("meta/presets/"+this.scope+"/names/"+e),n='Save over "'+this.dev.get("meta/presets/"+this.scope+"/names/"+e)+'"?',E({node:this.node,cancel:!0,prompt:n}).then((r=this,function(){return p.DelayedSpinner.RunPromise({node:r.node,src:r.dev,promise:h.captureAndUpdate({id:e,dev:r.dev,scope:r.scope,name:t,wildcards:r.wildcards}).then(function(e){return r.dev.set("preferences/presets/"+r.scope+"/current",e),r.close()})})})).catch(function(e){return"CancellationError"===e.name},function(){}).catch(P(this.node))},t.prototype.remove=function(){return this.clearRemovePool(),e.removeClass(this.node,"presetPopup")},t}(),function(){function t(t){var n,r;this.wildcards=t.wildcards,this.scope=t.scope,r=t.node,this.dev=t.dev,n=t.extraCss,c.works({dev:this.dev,cap:"preset"})&&(null==this.wildcards&&(this.wildcards={}),this.node=e.appendSpec(r,{className:"presetButton "+(null!=n?n:"")}),this.listener=new f.Popup({node:this.node,args:[this.scope,this.wildcards],control:w,dev:this.dev}))}return t.prototype.remove=function(){},t}()}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(1),n(33)],void 0===(i=function(e,t){var n,r,i=[].slice;return n=function(e){var t,n;return n=e.message,(t=new Error(n)).name="CancellationError",t},(r={}).StateTracker=function(){function t(e){this.check=e.check,this.checkInterval=e.checkInterval,this.onSuccess=e.onSuccess,this.onFailure=e.onFailure,this.state=null,this.dead=!1,this.doCheck()}return t.prototype.doCheck=function(){var t,n,r,o,a;if(!this.dead)return a=this,t=function(){if(!a.dead)return e.delay(function(){return a.doCheck()},a.checkInterval)},o=(r=function(e){return function(t,n){return function(){var r;if(r=1<=arguments.length?i.call(arguments,0):[],!e.dead)return e.state=t,n.apply(null,r)}}}(this))("success",this.onSuccess),n=r("failure",this.onFailure),this.check().then(o,n).finally(t)},t.prototype.remove=function(){return this.dead=!0},t}(),r.repeatCheck=function(e){var o,a,s,l,u,c,h,p,d,f,v;return a=e.check,s=e.checkInterval,v=e.timeout,o=!1,f=t.defer(),c=null!=v?Date.now()+v:null,u=null,d=function(){if(o)return f.reject(n("Cancelled")),u.remove()},p=function(){var e;if(e=1<=arguments.length?i.call(arguments,0):[],d(),!o)return f.resolve.apply(f,e),u.remove()},h=function(){var e;1<=arguments.length&&i.call(arguments,0),d(),o||null!=c&&Date.now()>=c&&((e=new Error("Timed out")).name="timeout",f.reject(e),u.remove())},l=function(){return d(),o?t.reject():a()},u=new r.StateTracker({check:l,onSuccess:p,onFailure:h,checkInterval:s}),f.promise.cancel=function(){return o=!0},f.promise},r.countStalledProgressAsSuccess=function(e){var n,r,o,a,s,l,u;return a=e.promise,u=e.timeout,s=t.defer(),r=null,l=function(){var e;return e=1<=arguments.length?i.call(arguments,0):[],null!=r&&window.clearTimeout(r),r=null,s.resolve.apply(s,e)},n=function(e){return null!=r&&window.clearTimeout(r),r=null,s.reject(e)},o=function(e){return s.progress(e),null!=r&&window.clearTimeout(r),r=window.setTimeout(l,u)},r=window.setTimeout(l,u),a.then(l,n,o),s.promise},r.delay=function(n){var r,i;return i=n.timeout,r=t.defer(),e.delay(function(){return r.resolve()},i),r.promise},r}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(2),n(1),n(117),n(38),n(33),n(368),n(76)],void 0===(i=function(e,t,n,r,i,o,a){var s,l,u,c,h,p,d,f,v,m;return f=navigator.userAgent.toLowerCase(),h=-1!==f.indexOf("safari")&&-1===f.indexOf("chrome"),p=function(e){var t,r,i,o;return t=e.data,r=e.dev,i=window.JSON.parse(t),(o=n.scopeSpecs.device.capturePreset({dev:r,params:i.Preset})).name=i.PresetName,o.flavor=i.ModelID,o.version=i.EncodingVersion,o.origin=i.Origin,o},l=function(e){var t,n,r,i,o;for(r in i=e.snapshot,n=e.dev,t=i.toExpandedSnapshot(n))o=t[r],t[r]=""+o;return{PresetName:i.name,ModelID:n.get("avb/"+n.get("uid")+"/model_name"),Origin:i.origin,EncodingVersion:i.version,Preset:t}},m=function(e){return{PresetName:e.name,UserScope:e.scope,UserData:e.serialize()}},d=function(e,t){var i;return i=n.unserialize(window.JSON.parse(e).UserData),a.gt(i.version,"0.0.0")?i:r({verb:"GET",url:t.baseURL+"preset_defaults.json",data:null}).then(function(e){var r,o;return r=e.response,o=JSON.parse(r),n.addPresetDefaults(i,o,t),i},function(){return i})},c=function(e){var t,n,r,i,o,a,s;for(s=e.scope,o=[],n=i=0,a=+(t=e.dev).get("meta/presets/"+s+"/numPresets");0<=a?i<a:i>a;n=0<=a?++i:--i)r=t.get("meta/presets/"+s+"/"+n+"/id"),o.push(t.get("meta/presets/"+s+"/names/"+r));return o},s=function(e){var t,n,i;return t=e.dev,n=e.id,i=e.scope,function(e){return null!=e&&(n=e),r({verb:"DELETE",url:t.baseURL+"presets/"+("device"===i?"device":"user")+"/"+n,data:null})}},v=function(e){var t,n,i,o;return t=e.dev,o=e.snapshot,n=e.id,i=e.ifMatch,function(e,a){var u,c,h,p,d;return null!=e&&(o=e),null!=a&&(n=a),"device"===(p=o.scope)?(d="device",h=l({snapshot:o,dev:t})):(d="user",h=m(o)),u=null,null!=n&&n<1e3?(c=n,n=null,u=function(e){var n,r,i;return r=e.response,i=function(){return+r},n=function(){return s({dev:t,scope:p,id:r})()},s({dev:t,scope:p,id:c})().then(i,n)}):u=null!=n?function(){return+n}:function(e){return+e.response},r({verb:null!=n?"PUT":"POST",url:t.baseURL+"presets/"+d+(null!=n?"/"+n:""),ifMatch:null!=n&&i,data:{json:window.JSON.stringify(h)}}).then(u)}},u=function(e){var t,n,i;return t=e.dev,i=e.scope,n=e.id,function(e,o){return null!=e&&(n=e),null!=o&&(i=o),r({verb:"GET",url:t.baseURL+"presets/"+("device"===i?"device":"user")+"/"+n,data:null}).then(function(e){var n;return n=e.response,"device"===i?p({data:n,dev:t}):d(n,t)})}},new(function(){function a(){}return a.prototype.create=function(e){var t,n;return t=e.dev,n=e.snapshot,v({dev:t,snapshot:n})()},a.prototype.import=function(t){var r,i,o,a;return i=t.dev,r=t.data,o=t.scope,(a=n.unserialize(r)).name=e.findUniqueName(a.name,c({scope:o,dev:i})),v({dev:i,snapshot:a})()},a.prototype.update=function(e){var t,n,r;return t=e.dev,r=e.snapshot,n=e.id,v({dev:t,snapshot:r,id:n})()},a.prototype.duplicate=function(t){var n,r,i,o;return i=t.id,n=t.dev,o=t.scope,r=function(t){return t.name=e.findUniqueName(t.name,c({scope:o,dev:n})),t},u({dev:n,scope:o,id:i})().then(r).then(v({dev:n}))},a.prototype.rename=function(n){var r,o,a,s,l,h,p,d;return s=n.id,r=n.dev,p=n.scope,h=n.name,o=function(n){return n.name=e.findUniqueName(h,t.without(c({scope:p,dev:r}),n.name)),n},a=0,l=null,d=function(e){return"XHRError"===e.name&&412===e.status?a<3?(a+=1,l()):i.reject(new Error("Could not rename the preset because it was modified elsewhere during the rename process.")):i.reject(e)},(l=function(){return u({dev:r,scope:p,id:s})().then(o).then(v({dev:r,id:s,ifMatch:!0})).catch(d)})()},a.prototype.export=function(e){var t,n,r;return n=e.id,t=e.dev,r=e.scope,u({dev:t,scope:r,id:n})().then(function(e){return h?window.location.assign("data:application/preset;charset=uft8;base64,"+window.btoa(e.serialize())):o(new window.Blob([e.serialize()],{type:"application/octet-stream"}),e.name+".motuavbpreset")})},a.prototype.apply=function(e){var t,n,r,o;return n=e.id,t=e.dev,r=e.scope,o=e.wildcards,"device"===r?(t.set("ext/presets/load",n),i.resolve()):u({id:n,dev:t,scope:r})().then(function(e){return e.apply(t,o)})},a.prototype.capture=function(t){var r,i,o,a,s;return r=t.dev,o=t.scope,s=t.wildcards,i=t.name,(a=n.scopeSpecs[o].capturePreset({dev:r,wildcards:s})).name=e.findUniqueName(i,c({scope:o,dev:r})),v({dev:r,snapshot:a,wildcards:s})()},a.prototype.captureAndUpdate=function(e){var t,r,o,a,s,l,c;return r=e.dev,l=e.scope,c=e.wildcards,a=e.id,s=e.name,o=function(){return null!=s?s:u({dev:r,scope:l,id:a})().then(function(e){return e.name})},t=function(e){var t;return(t=n.scopeSpecs[l].capturePreset({dev:r,wildcards:c})).name=e,t},i.resolve().then(o).then(t).then(v({dev:r,wildcards:c,id:a}))},a.prototype.delete=function(e){var t,n,r;return n=e.id,t=e.dev,r=e.scope,s({id:n,dev:t,scope:r})()},a.prototype.restoreFactoryPresets=function(e){var t;return t=e.dev,r({verb:"POST",url:t.baseURL+"factory_preset_state",data:{value:"default"}}).then(function(){return i.resolve()})},a}())}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(5),n(44),n(2),n(3),n(16),n(27)],void 0===(i=function(e,t,n,r,i,o){var a;return(a=function(){function e(e){var n,o;o=e.node,this.dev=e.dev,this.mode=e.mode,this.values=e.values,n=e.id,this.container=r.appendSpec(o,{className:"selectListContainer"}),this.pane=new t({node:this.container,spec:{type:"ul",className:"selectList "+this.mode},id:n,dev:this.dev}),"radio"!==this.mode&&(this.glideScope=new i.GlideScope({axis:"y",boundingNode:this.pane.container})),this.content=this.pane.content,r.addClass(this.pane.container,"selectListWrapper"),r.setWidth(this.pane.container,204)}return e.prototype.addItem=function(t){var n,i,o,a,s,l;return o=t.label,a=t.selected,n=t.chooseValue,s=t.setValue,i=t.extraCss,l=new e.Item({node:this.content,extraCss:i,label:o,chooseValue:n,selected:a,setValue:s,dev:this.dev,glideScope:this.glideScope}),this.itemHeight=r.height(l.node),l},e.prototype.addRangeItem=function(t){var n,i,o,a,s,l,u;return s=t.label,n=t.curNum,l=t.newValue,a=t.incValue,i=t.decValue,o=t.extraCss,u=new e.Range({node:this.content,extraCss:o,label:s,newValue:l,curNum:n,incValue:a,decValue:i,dev:this.dev,glideScope:this.glideScope}),this.itemHeight=r.height(u.node),u},e.prototype.addDropdownItem=function(t){var n,i,o;return i=t.label,n=t.extraCss,o=new e.Dropdown({node:this.content,extraCss:n,label:i,dev:this.dev,glideScope:this.glideScope}),this.itemHeight=r.height(o.node),o},e.prototype.addSeparatorItem=function(t){var n,i;return n=t.label,i=new e.Separater({node:this.content,label:n}),this.itemHeight=r.height(i.node),i},e.prototype.remove=function(){return this.pane.remove()},e.prototype.setHeight=function(e){return this.pane.setHeight(e)},e.prototype.height=function(){return r.height(this.container)},e.prototype.minHeight=function(){var e;return(null!=(e=this.itemHeight)?e:30)+this.quantizeOffset()},e.prototype.maxHeight=function(){var e;return e=r.height(this.pane.content)+this.quantizeOffset(),n.isMobile&&(e-=2),e},e.prototype.quantizeOffset=function(){var e,t;return e=+(t=window.getComputedStyle(this.content).getPropertyValue("margin-top")).slice(0,t.length-2),e+=+(t=window.getComputedStyle(this.content).getPropertyValue("margin-bottom")).slice(0,t.length-2)},e}()).Item=function(){return function(t){var o,a,s,l,u,c,h,p,d,f;h=t.node,c=t.label,p=t.selected,o=t.chooseValue,d=t.setValue,a=t.dev,l=t.glideScope,s=t.extraCss,this.node=r.appendSpec(h,{type:"li",className:null!=s?s:""}),this.button=r.appendSpec(this.node,{className:"button"}),this.label=r.appendSpec(this.node,{textContent:"",className:"label"}),u=n.isMobile?this.button:this.node,this.listener=new i.GlideButton({node:u,chooseValue:o,f:d,perf:a.perf,glideScope:l}),this.selectedReaction=new e.Function(a,(f=this,function(e){return r.setClass(f.node,"ui-selected",p(e))})),this.labelReaction=new e.Function(a,function(e){return function(t){return e.label.textContent=c(t)}}(this))}}(),a.Range=function(){return function(t){var n,i,o,a,s,l,u;l=t.node,a=t.label,n=t.curNum,s=t.newValue,t.incValue,t.decValue,i=t.dev,t.glideScope,o=t.extraCss,this.node=r.appendSpec(l,{type:"li",className:null!=o?o:""}),this.input=r.appendSpec(this.node,{type:"input",className:"numericInput"}),this.input.onchange=(u=this,function(){if(!1===s(i,u.input.value))return u.input.value=n(i)}),this.input.onfocus=function(e){return function(){return e.input.select()}}(this),this.input.onkeydown=function(e){return function(t){if(27===t.keyCode)return e.input.value=n(i),e.input.blur()}}(this),this.label=r.appendSpec(this.node,{textContent:a,className:"label"}),this.curNumReaction=new e.Function(i,function(e){return function(t){return e.input.value=n(t)}}(this))}}(),a.Dropdown=function(){function e(e){var t,n,i,a;a=e.node,i=e.label,t=e.dev,e.glideScope,n=e.extraCss,this.node=r.appendSpec(a,{type:"li",className:null!=n?n:""}),this.div=r.appendSpec(this.node,{type:"div"}),this.label=r.appendSpec(this.node,{textContent:i,className:"label"}),this.menu=new o.Menu({dev:t,node:this.div,extraCss:"streamConnections"})}return e.prototype.remove=function(){return this.node.remove()},e}(),a.Separater=function(){function e(e){var t,n;n=e.node,t=e.label,this.node=r.appendSpec(n,{type:"li",className:"separator"}),this.div=r.appendSpec(this.node,{textContent:t,className:"label separator"})}return e.prototype.remove=function(){return this.node.remove()},e}(),a}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(3)],void 0===(i=function(e){return function(){function t(t){this.node=e.appendSpec(t,{type:"table",cellspacing:"0",cellpadding:"0","style:border-spacing":0,className:"devMenuTb"})}return t.prototype.addRow=function(e){return this.addMenu(this.addCustomRow(e))},t.prototype.addCustomRow=function(t){var n,r;return r=e.appendSpec(this.node,{type:"tr"}),n=e.appendSpec(r,{type:"td",className:"menuLabel"}),e.appendSpec(n,{type:"p",textContent:t}),r},t.prototype.addMenu=function(t){var n;return n=e.appendSpec(t,{type:"td",className:"menuSelect"}),e.appendSpec(n,{"style:margin-left":"12px"})},t.prototype.clear=function(){return e.removeChildren(this.node)},t}()}.apply(t,r))||(e.exports=i)},function(e,t,n){var r=n(10);n(40),n(14),(e.exports=r.pss=r.pss||{}).create=function(e){3===arguments.length&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t,n=e.md,i=e.mgf,o=n.digestLength,a=e.salt||null;if("string"==typeof a&&(a=r.util.createBuffer(a)),"saltLength"in e)t=e.saltLength;else{if(null===a)throw new Error("Salt length not specified or specific salt not given.");t=a.length()}if(null!==a&&a.length()!==t)throw new Error("Given salt length does not match length of given salt.");var s=e.prng||r.random,l={encode:function(e,l){var u,c,h=l-1,p=Math.ceil(h/8),d=e.digest().getBytes();if(p<o+t+2)throw new Error("Message is too long to encrypt.");c=null===a?s.getBytesSync(t):a.bytes();var f=new r.util.ByteBuffer;f.fillWithByte(0,8),f.putBytes(d),f.putBytes(c),n.start(),n.update(f.getBytes());var v=n.digest().getBytes(),m=new r.util.ByteBuffer;m.fillWithByte(0,p-t-o-2),m.putByte(1),m.putBytes(c);var g=m.getBytes(),b=p-o-1,y=i.generate(v,b),C="";for(u=0;u<b;u++)C+=String.fromCharCode(g.charCodeAt(u)^y.charCodeAt(u));var x=65280>>8*p-h&255;return(C=String.fromCharCode(C.charCodeAt(0)&~x)+C.substr(1))+v+String.fromCharCode(188)},verify:function(e,a,s){var l,u=s-1,c=Math.ceil(u/8);if(a=a.substr(-c),c<o+t+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==a.charCodeAt(c-1))throw new Error("Encoded message does not end in 0xBC.");var h=c-o-1,p=a.substr(0,h),d=a.substr(h,o),f=65280>>8*c-u&255;if(0!=(p.charCodeAt(0)&f))throw new Error("Bits beyond keysize not zero as expected.");var v=i.generate(d,h),m="";for(l=0;l<h;l++)m+=String.fromCharCode(p.charCodeAt(l)^v.charCodeAt(l));m=String.fromCharCode(m.charCodeAt(0)&~f)+m.substr(1);var g=c-o-t-2;for(l=0;l<g;l++)if(0!==m.charCodeAt(l))throw new Error("Leftmost octets not zero as expected");if(1!==m.charCodeAt(g))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var b=m.substr(-t),y=new r.util.ByteBuffer;return y.fillWithByte(0,8),y.putBytes(e),y.putBytes(b),n.start(),n.update(y.getBytes()),d===n.digest().getBytes()}};return l}},function(e,t,n){var r=n(10);n(53),n(47),n(91),n(46),n(386),n(52),n(65),n(108),n(90),n(14);var i=r.asn1,o=e.exports=r.pki=r.pki||{},a=o.oids,s={};s.CN=a.commonName,s.commonName="CN",s.C=a.countryName,s.countryName="C",s.L=a.localityName,s.localityName="L",s.ST=a.stateOrProvinceName,s.stateOrProvinceName="ST",s.O=a.organizationName,s.organizationName="O",s.OU=a.organizationalUnitName,s.organizationalUnitName="OU",s.E=a.emailAddress,s.emailAddress="E";var l=r.pki.rsa.publicKeyValidator,u={name:"Certificate",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:i.Class.UNIVERSAL,type:i.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:i.Class.UNIVERSAL,type:i.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:i.Class.UNIVERSAL,type:i.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:i.Class.UNIVERSAL,type:i.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},l,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:i.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:i.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},c={name:"rsapss",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:i.Class.UNIVERSAL,type:i.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:i.Class.UNIVERSAL,type:i.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:i.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:i.Class.UNIVERSAL,type:i.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:i.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:i.Class.UNIVERSAL,type:i.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},h={name:"CertificationRequestInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},l,{name:"CertificationRequestInfo.attributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0}]}]}]},p={name:"CertificationRequest",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[h,{name:"CertificationRequest.signatureAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function d(e,t){"string"==typeof t&&(t={shortName:t});for(var n,r=null,i=0;null===r&&i<e.attributes.length;++i)n=e.attributes[i],t.type&&t.type===n.type?r=n:t.name&&t.name===n.name?r=n:t.shortName&&t.shortName===n.shortName&&(r=n);return r}o.RDNAttributesAsArray=function(e,t){for(var n,r,o,l=[],u=0;u<e.value.length;++u){n=e.value[u];for(var c=0;c<n.value.length;++c)o={},r=n.value[c],o.type=i.derToOid(r.value[0].value),o.value=r.value[1].value,o.valueTagClass=r.value[1].type,o.type in a&&(o.name=a[o.type],o.name in s&&(o.shortName=s[o.name])),t&&(t.update(o.type),t.update(o.value)),l.push(o)}return l},o.CRIAttributesAsArray=function(e){for(var t=[],n=0;n<e.length;++n)for(var r=e[n],l=i.derToOid(r.value[0].value),u=r.value[1].value,c=0;c<u.length;++c){var h={};if(h.type=l,h.value=u[c].value,h.valueTagClass=u[c].type,h.type in a&&(h.name=a[h.type],h.name in s&&(h.shortName=s[h.name])),h.type===a.extensionRequest){h.extensions=[];for(var p=0;p<h.value.length;++p)h.extensions.push(o.certificateExtensionFromAsn1(h.value[p]))}t.push(h)}return t};var f=function(e,t,n){var r={};if(e!==a["RSASSA-PSS"])return r;n&&(r={hash:{algorithmOid:a.sha1},mgf:{algorithmOid:a.mgf1,hash:{algorithmOid:a.sha1}},saltLength:20});var o={},s=[];if(!i.validate(t,c,o,s)){var l=new Error("Cannot read RSASSA-PSS parameter block.");throw l.errors=s,l}return void 0!==o.hashOid&&(r.hash=r.hash||{},r.hash.algorithmOid=i.derToOid(o.hashOid)),void 0!==o.maskGenOid&&(r.mgf=r.mgf||{},r.mgf.algorithmOid=i.derToOid(o.maskGenOid),r.mgf.hash=r.mgf.hash||{},r.mgf.hash.algorithmOid=i.derToOid(o.maskGenHashOid)),void 0!==o.saltLength&&(r.saltLength=o.saltLength.charCodeAt(0)),r};function v(e){for(var t,n,o=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),a=e.attributes,s=0;s<a.length;++s){var l=(t=a[s]).value,u=i.Type.PRINTABLESTRING;"valueTagClass"in t&&(u=t.valueTagClass)===i.Type.UTF8&&(l=r.util.encodeUtf8(l)),n=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.type).getBytes()),i.create(i.Class.UNIVERSAL,u,!1,l)])]),o.value.push(n)}return o}function m(e){for(var t,n=0;n<e.length;++n){if(void 0===(t=e[n]).name&&(t.type&&t.type in o.oids?t.name=o.oids[t.type]:t.shortName&&t.shortName in s&&(t.name=o.oids[s[t.shortName]])),void 0===t.type){if(!(t.name&&t.name in o.oids))throw(l=new Error("Attribute type not specified.")).attribute=t,l;t.type=o.oids[t.name]}if(void 0===t.shortName&&t.name&&t.name in s&&(t.shortName=s[t.name]),t.type===a.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=i.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var r=0;r<t.extensions.length;++r)t.value.push(o.certificateExtensionToAsn1(g(t.extensions[r])))}var l;if(void 0===t.value)throw(l=new Error("Attribute value not specified.")).attribute=t,l}}function g(e,t){if(t=t||{},void 0===e.name&&e.id&&e.id in o.oids&&(e.name=o.oids[e.id]),void 0===e.id){if(!(e.name&&e.name in o.oids))throw(x=new Error("Extension ID not specified.")).extension=e,x;e.id=o.oids[e.name]}if(void 0!==e.value)return e;if("keyUsage"===e.name){var n=0,s=0,l=0;e.digitalSignature&&(s|=128,n=7),e.nonRepudiation&&(s|=64,n=6),e.keyEncipherment&&(s|=32,n=5),e.dataEncipherment&&(s|=16,n=4),e.keyAgreement&&(s|=8,n=3),e.keyCertSign&&(s|=4,n=2),e.cRLSign&&(s|=2,n=1),e.encipherOnly&&(s|=1,n=0),e.decipherOnly&&(l|=128,n=7);var u=String.fromCharCode(n);0!==l?u+=String.fromCharCode(s)+String.fromCharCode(l):0!==s&&(u+=String.fromCharCode(s)),e.value=i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,u)}else if("basicConstraints"===e.name)e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(i.create(i.Class.UNIVERSAL,i.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in e&&e.value.value.push(i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.pathLenConstraint).getBytes()));else if("extKeyUsage"===e.name){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);var c=e.value.value;for(var h in e)!0===e[h]&&(h in a?c.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a[h]).getBytes())):-1!==h.indexOf(".")&&c.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(h).getBytes())))}else if("nsCertType"===e.name){n=0,s=0;e.client&&(s|=128,n=7),e.server&&(s|=64,n=6),e.email&&(s|=32,n=5),e.objsign&&(s|=16,n=4),e.reserved&&(s|=8,n=3),e.sslCA&&(s|=4,n=2),e.emailCA&&(s|=2,n=1),e.objCA&&(s|=1,n=0);u=String.fromCharCode(n);0!==s&&(u+=String.fromCharCode(s)),e.value=i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,u)}else if("subjectAltName"===e.name||"issuerAltName"===e.name){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);for(var p=0;p<e.altNames.length;++p){u=(b=e.altNames[p]).value;if(7===b.type&&b.ip){if(null===(u=r.util.bytesFromIP(b.ip)))throw(x=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e,x}else 8===b.type&&(u=b.oid?i.oidToDer(i.oidToDer(b.oid)):i.oidToDer(u));e.value.value.push(i.create(i.Class.CONTEXT_SPECIFIC,b.type,!1,u))}}else if("subjectKeyIdentifier"===e.name&&t.cert){var d=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=d.toHex(),e.value=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,d.getBytes())}else if("authorityKeyIdentifier"===e.name&&t.cert){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);c=e.value.value;if(e.keyIdentifier){var f=!0===e.keyIdentifier?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;c.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!1,f))}if(e.authorityCertIssuer){var m=[i.create(i.Class.CONTEXT_SPECIFIC,4,!0,[v(!0===e.authorityCertIssuer?t.cert.issuer:e.authorityCertIssuer)])];c.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,m))}if(e.serialNumber){var g=r.util.hexToBytes(!0===e.serialNumber?t.cert.serialNumber:e.serialNumber);c.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!1,g))}}else if("cRLDistributionPoints"===e.name){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);c=e.value.value;var b,y=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),C=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);for(p=0;p<e.altNames.length;++p){u=(b=e.altNames[p]).value;if(7===b.type&&b.ip){if(null===(u=r.util.bytesFromIP(b.ip)))throw(x=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e,x}else 8===b.type&&(u=b.oid?i.oidToDer(i.oidToDer(b.oid)):i.oidToDer(u));C.value.push(i.create(i.Class.CONTEXT_SPECIFIC,b.type,!1,u))}y.value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[C])),c.push(y)}var x;if(void 0===e.value)throw(x=new Error("Extension value not specified.")).extension=e,x;return e}function b(e,t){switch(e){case a["RSASSA-PSS"]:var n=[];return void 0!==t.hash.algorithmOid&&n.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.hash.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])])),void 0!==t.mgf.algorithmOid&&n.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.mgf.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.mgf.hash.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])])])),void 0!==t.saltLength&&n.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.saltLength).getBytes())])),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,n);default:return i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")}}o.certificateFromPem=function(e,t,n){var a=r.pem.decode(e)[0];if("CERTIFICATE"!==a.type&&"X509 CERTIFICATE"!==a.type&&"TRUSTED CERTIFICATE"!==a.type){var s=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw s.headerType=a.type,s}if(a.procType&&"ENCRYPTED"===a.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var l=i.fromDer(a.body,n);return o.certificateFromAsn1(l,t)},o.certificateToPem=function(e,t){var n={type:"CERTIFICATE",body:i.toDer(o.certificateToAsn1(e)).getBytes()};return r.pem.encode(n,{maxline:t})},o.publicKeyFromPem=function(e){var t=r.pem.decode(e)[0];if("PUBLIC KEY"!==t.type&&"RSA PUBLIC KEY"!==t.type){var n=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw n.headerType=t.type,n}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var a=i.fromDer(t.body);return o.publicKeyFromAsn1(a)},o.publicKeyToPem=function(e,t){var n={type:"PUBLIC KEY",body:i.toDer(o.publicKeyToAsn1(e)).getBytes()};return r.pem.encode(n,{maxline:t})},o.publicKeyToRSAPublicKeyPem=function(e,t){var n={type:"RSA PUBLIC KEY",body:i.toDer(o.publicKeyToRSAPublicKey(e)).getBytes()};return r.pem.encode(n,{maxline:t})},o.getPublicKeyFingerprint=function(e,t){var n,a=(t=t||{}).md||r.md.sha1.create();switch(t.type||"RSAPublicKey"){case"RSAPublicKey":n=i.toDer(o.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":n=i.toDer(o.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}a.start(),a.update(n);var s=a.digest();if("hex"===t.encoding){var l=s.toHex();return t.delimiter?l.match(/.{2}/g).join(t.delimiter):l}if("binary"===t.encoding)return s.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".');return s},o.certificationRequestFromPem=function(e,t,n){var a=r.pem.decode(e)[0];if("CERTIFICATE REQUEST"!==a.type){var s=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw s.headerType=a.type,s}if(a.procType&&"ENCRYPTED"===a.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var l=i.fromDer(a.body,n);return o.certificationRequestFromAsn1(l,t)},o.certificationRequestToPem=function(e,t){var n={type:"CERTIFICATE REQUEST",body:i.toDer(o.certificationRequestToAsn1(e)).getBytes()};return r.pem.encode(n,{maxline:t})},o.createCertificate=function(){var e={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return d(e.issuer,t)},e.issuer.addField=function(t){m([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return d(e.subject,t)},e.subject.addField=function(t){m([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,n){m(t),e.subject.attributes=t,delete e.subject.uniqueId,n&&(e.subject.uniqueId=n),e.subject.hash=null},e.setIssuer=function(t,n){m(t),e.issuer.attributes=t,delete e.issuer.uniqueId,n&&(e.issuer.uniqueId=n),e.issuer.hash=null},e.setExtensions=function(t){for(var n=0;n<t.length;++n)g(t[n],{cert:e});e.extensions=t},e.getExtension=function(t){"string"==typeof t&&(t={name:t});for(var n,r=null,i=0;null===r&&i<e.extensions.length;++i)n=e.extensions[i],t.id&&n.id===t.id?r=n:t.name&&n.name===t.name&&(r=n);return r},e.sign=function(t,n){e.md=n||r.md.sha1.create();var s=a[e.md.algorithm+"WithRSAEncryption"];if(!s){var l=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw l.algorithm=e.md.algorithm,l}e.signatureOid=e.siginfo.algorithmOid=s,e.tbsCertificate=o.getTBSCertificate(e);var u=i.toDer(e.tbsCertificate);e.md.update(u.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var n=!1;if(!e.issued(t)){var s=t.issuer,l=e.subject;throw(v=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.")).expectedIssuer=s.attributes,v.actualIssuer=l.attributes,v}var u=t.md;if(null===u){if(t.signatureOid in a)switch(a[t.signatureOid]){case"sha1WithRSAEncryption":u=r.md.sha1.create();break;case"md5WithRSAEncryption":u=r.md.md5.create();break;case"sha256WithRSAEncryption":u=r.md.sha256.create();break;case"sha384WithRSAEncryption":u=r.md.sha384.create();break;case"sha512WithRSAEncryption":u=r.md.sha512.create();break;case"RSASSA-PSS":u=r.md.sha256.create()}if(null===u)throw(v=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=t.signatureOid,v;var c=t.tbsCertificate||o.getTBSCertificate(t),h=i.toDer(c);u.update(h.getBytes())}if(null!==u){var p;switch(t.signatureOid){case a.sha1WithRSAEncryption:p=void 0;break;case a["RSASSA-PSS"]:var d,f,v;if(void 0===(d=a[t.signatureParameters.mgf.hash.algorithmOid])||void 0===r.md[d])throw(v=new Error("Unsupported MGF hash function.")).oid=t.signatureParameters.mgf.hash.algorithmOid,v.name=d,v;if(void 0===(f=a[t.signatureParameters.mgf.algorithmOid])||void 0===r.mgf[f])throw(v=new Error("Unsupported MGF function.")).oid=t.signatureParameters.mgf.algorithmOid,v.name=f,v;if(f=r.mgf[f].create(r.md[d].create()),void 0===(d=a[t.signatureParameters.hash.algorithmOid])||void 0===r.md[d])throw{message:"Unsupported RSASSA-PSS hash function.",oid:t.signatureParameters.hash.algorithmOid,name:d};p=r.pss.create(r.md[d].create(),f,t.signatureParameters.saltLength)}n=e.publicKey.verify(u.digest().getBytes(),t.signature,p)}return n},e.isIssuer=function(t){var n=!1,r=e.issuer,i=t.subject;if(r.hash&&i.hash)n=r.hash===i.hash;else if(r.attributes.length===i.attributes.length){var o,a;n=!0;for(var s=0;n&&s<r.attributes.length;++s)o=r.attributes[s],a=i.attributes[s],o.type===a.type&&o.value===a.value||(n=!1)}return n},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return o.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=a.subjectKeyIdentifier,n=0;n<e.extensions.length;++n){var i=e.extensions[n];if(i.id===t){var o=e.generateSubjectKeyIdentifier().getBytes();return r.util.hexToBytes(i.subjectKeyIdentifier)===o}}return!1},e},o.certificateFromAsn1=function(e,t){var n={},s=[];if(!i.validate(e,u,n,s))throw(p=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.")).errors=s,p;if(i.derToOid(n.publicKeyOid)!==o.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var l=o.createCertificate();l.version=n.certVersion?n.certVersion.charCodeAt(0):0;var c=r.util.createBuffer(n.certSerialNumber);l.serialNumber=c.toHex(),l.signatureOid=r.asn1.derToOid(n.certSignatureOid),l.signatureParameters=f(l.signatureOid,n.certSignatureParams,!0),l.siginfo.algorithmOid=r.asn1.derToOid(n.certinfoSignatureOid),l.siginfo.parameters=f(l.siginfo.algorithmOid,n.certinfoSignatureParams,!1),l.signature=n.certSignature;var h=[];if(void 0!==n.certValidity1UTCTime&&h.push(i.utcTimeToDate(n.certValidity1UTCTime)),void 0!==n.certValidity2GeneralizedTime&&h.push(i.generalizedTimeToDate(n.certValidity2GeneralizedTime)),void 0!==n.certValidity3UTCTime&&h.push(i.utcTimeToDate(n.certValidity3UTCTime)),void 0!==n.certValidity4GeneralizedTime&&h.push(i.generalizedTimeToDate(n.certValidity4GeneralizedTime)),h.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(h.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(l.validity.notBefore=h[0],l.validity.notAfter=h[1],l.tbsCertificate=n.tbsCertificate,t){var p;if(l.md=null,l.signatureOid in a)switch(a[l.signatureOid]){case"sha1WithRSAEncryption":l.md=r.md.sha1.create();break;case"md5WithRSAEncryption":l.md=r.md.md5.create();break;case"sha256WithRSAEncryption":l.md=r.md.sha256.create();break;case"sha384WithRSAEncryption":l.md=r.md.sha384.create();break;case"sha512WithRSAEncryption":l.md=r.md.sha512.create();break;case"RSASSA-PSS":l.md=r.md.sha256.create()}if(null===l.md)throw(p=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=l.signatureOid,p;var v=i.toDer(l.tbsCertificate);l.md.update(v.getBytes())}var g=r.md.sha1.create();l.issuer.getField=function(e){return d(l.issuer,e)},l.issuer.addField=function(e){m([e]),l.issuer.attributes.push(e)},l.issuer.attributes=o.RDNAttributesAsArray(n.certIssuer,g),n.certIssuerUniqueId&&(l.issuer.uniqueId=n.certIssuerUniqueId),l.issuer.hash=g.digest().toHex();var b=r.md.sha1.create();return l.subject.getField=function(e){return d(l.subject,e)},l.subject.addField=function(e){m([e]),l.subject.attributes.push(e)},l.subject.attributes=o.RDNAttributesAsArray(n.certSubject,b),n.certSubjectUniqueId&&(l.subject.uniqueId=n.certSubjectUniqueId),l.subject.hash=b.digest().toHex(),n.certExtensions?l.extensions=o.certificateExtensionsFromAsn1(n.certExtensions):l.extensions=[],l.publicKey=o.publicKeyFromAsn1(n.subjectPublicKeyInfo),l},o.certificateExtensionsFromAsn1=function(e){for(var t=[],n=0;n<e.value.length;++n)for(var r=e.value[n],i=0;i<r.value.length;++i)t.push(o.certificateExtensionFromAsn1(r.value[i]));return t},o.certificateExtensionFromAsn1=function(e){var t={};if(t.id=i.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===i.Type.BOOLEAN?(t.critical=0!==e.value[1].value.charCodeAt(0),t.value=e.value[2].value):t.value=e.value[1].value,t.id in a)if(t.name=a[t.id],"keyUsage"===t.name){var n=0,o=0;(l=i.fromDer(t.value)).value.length>1&&(n=l.value.charCodeAt(1),o=l.value.length>2?l.value.charCodeAt(2):0),t.digitalSignature=128==(128&n),t.nonRepudiation=64==(64&n),t.keyEncipherment=32==(32&n),t.dataEncipherment=16==(16&n),t.keyAgreement=8==(8&n),t.keyCertSign=4==(4&n),t.cRLSign=2==(2&n),t.encipherOnly=1==(1&n),t.decipherOnly=128==(128&o)}else if("basicConstraints"===t.name){(l=i.fromDer(t.value)).value.length>0&&l.value[0].type===i.Type.BOOLEAN?t.cA=0!==l.value[0].value.charCodeAt(0):t.cA=!1;var s=null;l.value.length>0&&l.value[0].type===i.Type.INTEGER?s=l.value[0].value:l.value.length>1&&(s=l.value[1].value),null!==s&&(t.pathLenConstraint=i.derToInteger(s))}else if("extKeyUsage"===t.name)for(var l=i.fromDer(t.value),u=0;u<l.value.length;++u){var c=i.derToOid(l.value[u].value);c in a?t[a[c]]=!0:t[c]=!0}else if("nsCertType"===t.name){n=0;(l=i.fromDer(t.value)).value.length>1&&(n=l.value.charCodeAt(1)),t.client=128==(128&n),t.server=64==(64&n),t.email=32==(32&n),t.objsign=16==(16&n),t.reserved=8==(8&n),t.sslCA=4==(4&n),t.emailCA=2==(2&n),t.objCA=1==(1&n)}else if("subjectAltName"===t.name||"issuerAltName"===t.name){var h;t.altNames=[];l=i.fromDer(t.value);for(var p=0;p<l.value.length;++p){var d={type:(h=l.value[p]).type,value:h.value};switch(t.altNames.push(d),h.type){case 1:case 2:case 6:break;case 7:d.ip=r.util.bytesToIP(h.value);break;case 8:d.oid=i.derToOid(h.value)}}}else if("subjectKeyIdentifier"===t.name){l=i.fromDer(t.value);t.subjectKeyIdentifier=r.util.bytesToHex(l.value)}return t},o.certificationRequestFromAsn1=function(e,t){var n={},s=[];if(!i.validate(e,p,n,s))throw(u=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.")).errors=s,u;if(i.derToOid(n.publicKeyOid)!==o.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var l=o.createCertificationRequest();if(l.version=n.csrVersion?n.csrVersion.charCodeAt(0):0,l.signatureOid=r.asn1.derToOid(n.csrSignatureOid),l.signatureParameters=f(l.signatureOid,n.csrSignatureParams,!0),l.siginfo.algorithmOid=r.asn1.derToOid(n.csrSignatureOid),l.siginfo.parameters=f(l.siginfo.algorithmOid,n.csrSignatureParams,!1),l.signature=n.csrSignature,l.certificationRequestInfo=n.certificationRequestInfo,t){var u;if(l.md=null,l.signatureOid in a)switch(a[l.signatureOid]){case"sha1WithRSAEncryption":l.md=r.md.sha1.create();break;case"md5WithRSAEncryption":l.md=r.md.md5.create();break;case"sha256WithRSAEncryption":l.md=r.md.sha256.create();break;case"sha384WithRSAEncryption":l.md=r.md.sha384.create();break;case"sha512WithRSAEncryption":l.md=r.md.sha512.create();break;case"RSASSA-PSS":l.md=r.md.sha256.create()}if(null===l.md)throw(u=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=l.signatureOid,u;var c=i.toDer(l.certificationRequestInfo);l.md.update(c.getBytes())}var h=r.md.sha1.create();return l.subject.getField=function(e){return d(l.subject,e)},l.subject.addField=function(e){m([e]),l.subject.attributes.push(e)},l.subject.attributes=o.RDNAttributesAsArray(n.certificationRequestInfoSubject,h),l.subject.hash=h.digest().toHex(),l.publicKey=o.publicKeyFromAsn1(n.subjectPublicKeyInfo),l.getAttribute=function(e){return d(l,e)},l.addAttribute=function(e){m([e]),l.attributes.push(e)},l.attributes=o.CRIAttributesAsArray(n.certificationRequestInfoAttributes||[]),l},o.createCertificationRequest=function(){var e={version:0,signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return d(e.subject,t)},e.subject.addField=function(t){m([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return d(e,t)},e.addAttribute=function(t){m([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){m(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){m(t),e.attributes=t},e.sign=function(t,n){e.md=n||r.md.sha1.create();var s=a[e.md.algorithm+"WithRSAEncryption"];if(!s){var l=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw l.algorithm=e.md.algorithm,l}e.signatureOid=e.siginfo.algorithmOid=s,e.certificationRequestInfo=o.getCertificationRequestInfo(e);var u=i.toDer(e.certificationRequestInfo);e.md.update(u.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,n=e.md;if(null===n){if(e.signatureOid in a)switch(a[e.signatureOid]){case"sha1WithRSAEncryption":n=r.md.sha1.create();break;case"md5WithRSAEncryption":n=r.md.md5.create();break;case"sha256WithRSAEncryption":n=r.md.sha256.create();break;case"sha384WithRSAEncryption":n=r.md.sha384.create();break;case"sha512WithRSAEncryption":n=r.md.sha512.create();break;case"RSASSA-PSS":n=r.md.sha256.create()}if(null===n)throw(p=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=e.signatureOid,p;var s=e.certificationRequestInfo||o.getCertificationRequestInfo(e),l=i.toDer(s);n.update(l.getBytes())}if(null!==n){var u;switch(e.signatureOid){case a.sha1WithRSAEncryption:break;case a["RSASSA-PSS"]:var c,h,p;if(void 0===(c=a[e.signatureParameters.mgf.hash.algorithmOid])||void 0===r.md[c])throw(p=new Error("Unsupported MGF hash function.")).oid=e.signatureParameters.mgf.hash.algorithmOid,p.name=c,p;if(void 0===(h=a[e.signatureParameters.mgf.algorithmOid])||void 0===r.mgf[h])throw(p=new Error("Unsupported MGF function.")).oid=e.signatureParameters.mgf.algorithmOid,p.name=h,p;if(h=r.mgf[h].create(r.md[c].create()),void 0===(c=a[e.signatureParameters.hash.algorithmOid])||void 0===r.md[c])throw(p=new Error("Unsupported RSASSA-PSS hash function.")).oid=e.signatureParameters.hash.algorithmOid,p.name=c,p;u=r.pss.create(r.md[c].create(),h,e.signatureParameters.saltLength)}t=e.publicKey.verify(n.digest().getBytes(),e.signature,u)}return t},e},o.getTBSCertificate=function(e){var t=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes())]),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,r.util.hexToBytes(e.serialNumber)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.siginfo.algorithmOid).getBytes()),b(e.siginfo.algorithmOid,e.siginfo.parameters)]),v(e.issuer),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(e.validity.notBefore)),i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(e.validity.notAfter))]),v(e.subject),o.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&t.value.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.issuer.uniqueId)])),e.subject.uniqueId&&t.value.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!0,[i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.subject.uniqueId)])),e.extensions.length>0&&t.value.push(o.certificateExtensionsToAsn1(e.extensions)),t},o.getCertificationRequestInfo=function(e){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),v(e.subject),o.publicKeyToAsn1(e.publicKey),function(e){var t=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===e.attributes.length)return t;for(var n=e.attributes,o=0;o<n.length;++o){var a=n[o],s=a.value,l=i.Type.UTF8;"valueTagClass"in a&&(l=a.valueTagClass),l===i.Type.UTF8&&(s=r.util.encodeUtf8(s));var u=!1;"valueConstructed"in a&&(u=a.valueConstructed);var c=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.type).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,l,u,s)])]);t.value.push(c)}return t}(e)])},o.distinguishedNameToAsn1=function(e){return v(e)},o.certificateToAsn1=function(e){var t=e.tbsCertificate||o.getTBSCertificate(e);return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[t,i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.signatureOid).getBytes()),b(e.signatureOid,e.signatureParameters)]),i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},o.certificateExtensionsToAsn1=function(e){var t=i.create(i.Class.CONTEXT_SPECIFIC,3,!0,[]),n=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);t.value.push(n);for(var r=0;r<e.length;++r)n.value.push(o.certificateExtensionToAsn1(e[r]));return t},o.certificateExtensionToAsn1=function(e){var t=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);t.value.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.id).getBytes())),e.critical&&t.value.push(i.create(i.Class.UNIVERSAL,i.Type.BOOLEAN,!1,String.fromCharCode(255)));var n=e.value;return"string"!=typeof e.value&&(n=i.toDer(n).getBytes()),t.value.push(i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,n)),t},o.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||o.getCertificationRequestInfo(e);return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[t,i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.signatureOid).getBytes()),b(e.signatureOid,e.signatureParameters)]),i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},o.createCaStore=function(e){var t={certs:{}};function n(e){return a(e),t.certs[e.hash]||null}function a(e){if(!e.hash){var t=r.md.sha1.create();e.attributes=o.RDNAttributesAsArray(v(e),t),e.hash=t.digest().toHex()}}if(t.getIssuer=function(e){return n(e.issuer)},t.addCertificate=function(e){if("string"==typeof e&&(e=r.pki.certificateFromPem(e)),a(e.subject),!t.hasCertificate(e))if(e.subject.hash in t.certs){var n=t.certs[e.subject.hash];r.util.isArray(n)||(n=[n]),n.push(e),t.certs[e.subject.hash]=n}else t.certs[e.subject.hash]=e},t.hasCertificate=function(e){"string"==typeof e&&(e=r.pki.certificateFromPem(e));var t=n(e.subject);if(!t)return!1;r.util.isArray(t)||(t=[t]);for(var a=i.toDer(o.certificateToAsn1(e)).getBytes(),s=0;s<t.length;++s){if(a===i.toDer(o.certificateToAsn1(t[s])).getBytes())return!0}return!1},t.listAllCertificates=function(){var e=[];for(var n in t.certs)if(t.certs.hasOwnProperty(n)){var i=t.certs[n];if(r.util.isArray(i))for(var o=0;o<i.length;++o)e.push(i[o]);else e.push(i)}return e},t.removeCertificate=function(e){var s;if("string"==typeof e&&(e=r.pki.certificateFromPem(e)),a(e.subject),!t.hasCertificate(e))return null;var l=n(e.subject);if(!r.util.isArray(l))return s=t.certs[e.subject.hash],delete t.certs[e.subject.hash],s;for(var u=i.toDer(o.certificateToAsn1(e)).getBytes(),c=0;c<l.length;++c){u===i.toDer(o.certificateToAsn1(l[c])).getBytes()&&(s=l[c],l.splice(c,1))}return 0===l.length&&delete t.certs[e.subject.hash],s},e)for(var s=0;s<e.length;++s){var l=e[s];t.addCertificate(l)}return t},o.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},o.verifyCertificateChain=function(e,t,n){var i=(t=t.slice(0)).slice(0),a=new Date,s=!0,l=null,u=0;do{var c=t.shift(),h=null,p=!1;if((a<c.validity.notBefore||a>c.validity.notAfter)&&(l={message:"Certificate is not valid yet or has expired.",error:o.certificateError.certificate_expired,notBefore:c.validity.notBefore,notAfter:c.validity.notAfter,now:a}),null===l){if(null===(h=t[0]||e.getIssuer(c))&&c.isIssuer(c)&&(p=!0,h=c),h){var d=h;r.util.isArray(d)||(d=[d]);for(var f=!1;!f&&d.length>0;){h=d.shift();try{f=h.verify(c)}catch(e){}}f||(l={message:"Certificate signature is invalid.",error:o.certificateError.bad_certificate})}null!==l||h&&!p||e.hasCertificate(c)||(l={message:"Certificate is not trusted.",error:o.certificateError.unknown_ca})}if(null===l&&h&&!c.isIssuer(h)&&(l={message:"Certificate issuer is invalid.",error:o.certificateError.bad_certificate}),null===l)for(var v={keyUsage:!0,basicConstraints:!0},m=0;null===l&&m<c.extensions.length;++m){var g=c.extensions[m];!g.critical||g.name in v||(l={message:"Certificate has an unsupported critical extension.",error:o.certificateError.unsupported_certificate})}if(null===l&&(!s||0===t.length&&(!h||p))){var b=c.getExtension("basicConstraints"),y=c.getExtension("keyUsage");if(null!==y&&(y.keyCertSign&&null!==b||(l={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:o.certificateError.bad_certificate})),null!==l||null===b||b.cA||(l={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:o.certificateError.bad_certificate}),null===l&&null!==y&&"pathLenConstraint"in b)u-1>b.pathLenConstraint&&(l={message:"Certificate basicConstraints pathLenConstraint violated.",error:o.certificateError.bad_certificate})}var C=null===l||l.error,x=n?n(C,u,i):C;if(!0!==x)throw!0===C&&(l={message:"The application rejected the certificate.",error:o.certificateError.bad_certificate}),(x||0===x)&&("object"!=typeof x||r.util.isArray(x)?"string"==typeof x&&(l.error=x):(x.message&&(l.message=x.message),x.error&&(l.error=x.error))),l;l=null,s=!1,++u}while(t.length>0);return!0}},function(e,t,n){(function(t){var r=n(10);n(71),n(46),n(14);var i,o=r.pkcs5=r.pkcs5||{};r.util.isNodejs&&!r.options.usePureJavaScript&&(i=n(170)),e.exports=r.pbkdf2=o.pbkdf2=function(e,n,o,a,s,l){if("function"==typeof s&&(l=s,s=null),r.util.isNodejs&&!r.options.usePureJavaScript&&i.pbkdf2&&(null===s||"object"!=typeof s)&&(i.pbkdf2Sync.length>4||!s||"sha1"===s))return"string"!=typeof s&&(s="sha1"),e=new t(e,"binary"),n=new t(n,"binary"),l?4===i.pbkdf2Sync.length?i.pbkdf2(e,n,o,a,function(e,t){if(e)return l(e);l(null,t.toString("binary"))}):i.pbkdf2(e,n,o,a,s,function(e,t){if(e)return l(e);l(null,t.toString("binary"))}):4===i.pbkdf2Sync.length?i.pbkdf2Sync(e,n,o,a).toString("binary"):i.pbkdf2Sync(e,n,o,a,s).toString("binary");if(void 0!==s&&null!==s||(s="sha1"),"string"==typeof s){if(!(s in r.md.algorithms))throw new Error("Unknown hash algorithm: "+s);s=r.md[s].create()}var u=s.digestLength;if(a>4294967295*u){var c=new Error("Derived key is too long.");if(l)return l(c);throw c}var h=Math.ceil(a/u),p=a-(h-1)*u,d=r.hmac.create();d.start(s,e);var f,v,m,g="";if(!l){for(var b=1;b<=h;++b){d.start(null,null),d.update(n),d.update(r.util.int32ToBytes(b)),f=m=d.digest().getBytes();for(var y=2;y<=o;++y)d.start(null,null),d.update(m),v=d.digest().getBytes(),f=r.util.xorBytes(f,v,u),m=v;g+=b<h?f:f.substr(0,p)}return g}b=1;function C(){if(b>h)return l(null,g);d.start(null,null),d.update(n),d.update(r.util.int32ToBytes(b)),f=m=d.digest().getBytes(),y=2,x()}function x(){if(y<=o)return d.start(null,null),d.update(m),v=d.digest().getBytes(),f=r.util.xorBytes(f,v,u),m=v,++y,r.util.setImmediate(x);g+=b<h?f:f.substr(0,p),++b,C()}C()}}).call(this,n(92).Buffer)},function(e,t,n){var r=n(10);n(46),n(14);var i=e.exports=r.md5=r.md5||{};r.md.md5=r.md.algorithms.md5=i,i.create=function(){u||function(){o=String.fromCharCode(128),o+=r.util.fillString(String.fromCharCode(0),64),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],s=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],l=new Array(64);for(var e=0;e<64;++e)l[e]=Math.floor(4294967296*Math.abs(Math.sin(e+1)));u=!0}();var e=null,t=r.util.createBuffer(),n=new Array(16),i={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var n=i.messageLengthSize/4,o=0;o<n;++o)i.fullMessageLength.push(0);return t=r.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},i}};return i.start(),i.update=function(o,a){"utf8"===a&&(o=r.util.encodeUtf8(o));var s=o.length;i.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var l=i.fullMessageLength.length-1;l>=0;--l)i.fullMessageLength[l]+=s[1],s[1]=s[0]+(i.fullMessageLength[l]/4294967296>>>0),i.fullMessageLength[l]=i.fullMessageLength[l]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(o),c(e,n,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var a=r.util.createBuffer();a.putBytes(t.bytes());var s=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;a.putBytes(o.substr(0,i.blockLength-s));for(var l,u=0,h=i.fullMessageLength.length-1;h>=0;--h)u=(l=8*i.fullMessageLength[h]+u)/4294967296>>>0,a.putInt32Le(l>>>0);var p={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};c(p,n,a);var d=r.util.createBuffer();return d.putInt32Le(p.h0),d.putInt32Le(p.h1),d.putInt32Le(p.h2),d.putInt32Le(p.h3),d},i};var o=null,a=null,s=null,l=null,u=!1;function c(e,t,n){for(var r,i,o,u,c,h,p,d=n.length();d>=64;){for(i=e.h0,o=e.h1,u=e.h2,c=e.h3,p=0;p<16;++p)t[p]=n.getInt32Le(),r=i+(c^o&(u^c))+l[p]+t[p],i=c,c=u,u=o,o+=r<<(h=s[p])|r>>>32-h;for(;p<32;++p)r=i+(u^c&(o^u))+l[p]+t[a[p]],i=c,c=u,u=o,o+=r<<(h=s[p])|r>>>32-h;for(;p<48;++p)r=i+(o^u^c)+l[p]+t[a[p]],i=c,c=u,u=o,o+=r<<(h=s[p])|r>>>32-h;for(;p<64;++p)r=i+(u^(o|~c))+l[p]+t[a[p]],i=c,c=u,u=o,o+=r<<(h=s[p])|r>>>32-h;e.h0=e.h0+i|0,e.h1=e.h1+o|0,e.h2=e.h2+u|0,e.h3=e.h3+c|0,d-=64}}},function(e,t,n){var r=n(10);n(14),e.exports=r.cipher=r.cipher||{},r.cipher.algorithms=r.cipher.algorithms||{},r.cipher.createCipher=function(e,t){var n=e;if("string"==typeof n&&(n=r.cipher.getAlgorithm(n))&&(n=n()),!n)throw new Error("Unsupported algorithm: "+e);return new r.cipher.BlockCipher({algorithm:n,key:t,decrypt:!1})},r.cipher.createDecipher=function(e,t){var n=e;if("string"==typeof n&&(n=r.cipher.getAlgorithm(n))&&(n=n()),!n)throw new Error("Unsupported algorithm: "+e);return new r.cipher.BlockCipher({algorithm:n,key:t,decrypt:!0})},r.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),r.cipher.algorithms[e]=t},r.cipher.getAlgorithm=function(e){return(e=e.toUpperCase())in r.cipher.algorithms?r.cipher.algorithms[e]:null};var i=r.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};i.prototype.start=function(e){e=e||{};var t={};for(var n in e)t[n]=e[n];t.decrypt=this._decrypt,this._finish=!1,this._input=r.util.createBuffer(),this.output=e.output||r.util.createBuffer(),this.mode.start(t)},i.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},i.prototype.finish=function(e){!e||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(t){return e(this.blockSize,t,!1)},this.mode.unpad=function(t){return e(this.blockSize,t,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,t)))}},function(e,t,n){"use strict";var r;void 0===(r=function(){var e,t;return e=function(e){var t,n,r;if((r=e.split(" ")).length>=2){if(n=r.pop(),t=r.join(" "),!isNaN(+n))return[t,n];if("L"===n||"R"===n)return[t,n]}return[e,""]},(t={}).join=function(t){var n;return(n=t.map(e))[0][0]===n[1][0]?!n[0][1]&&!n[1][1]||"L"===n[0][1]&&"R"===n[1][1]?""+n[0][0]:n[0][0]+" "+n[0][1]+"-"+n[1][1]:t[0]+" - "+t[1]},t.split=function(e){var t,n,r,i;return e?(t=[e+" L",e+" R"],(i=e.split(" ")).length>=2&&(r=i.pop(),n=i.join(" "),r.match(/^[0-9]+-[0-9]+$/)&&(t[0]=n+" "+r.split("-")[0],t[1]=n+" "+r.split("-")[1]),"L-R"===r&&(t[0]=n+" L",t[1]=n+" R")),t):["",""]},t.wouldBeFirstChannel=function(e){return 0==(1&(e=+e))},t.getFirstStereoChannel=function(e){return 2*Math.floor(+e/2)},t.getOtherStereoCh=function(e){return 1&e?e-1:e+1},t}.apply(t,[]))||(e.exports=r)},function(e,t,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
function r(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function i(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var o=n(400),a=Object.prototype.hasOwnProperty,s=Array.prototype.slice,l="foo"===function(){}.name;function u(e){return Object.prototype.toString.call(e)}function c(e){return!i(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var h=e.exports=g,p=/\s*function\s+([^\(\s]*)\s*/;function d(e){if(o.isFunction(e)){if(l)return e.name;var t=e.toString().match(p);return t&&t[1]}}function f(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function v(e){if(l||!o.isFunction(e))return o.inspect(e);var t=d(e);return"[Function"+(t?": "+t:"")+"]"}function m(e,t,n,r,i){throw new h.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function g(e,t){e||m(e,!0,t,"==",h.ok)}function b(e,t,n,a){if(e===t)return!0;if(i(e)&&i(t))return 0===r(e,t);if(o.isDate(e)&&o.isDate(t))return e.getTime()===t.getTime();if(o.isRegExp(e)&&o.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(c(e)&&c(t)&&u(e)===u(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;var l=(a=a||{actual:[],expected:[]}).actual.indexOf(e);return-1!==l&&l===a.expected.indexOf(t)||(a.actual.push(e),a.expected.push(t),function(e,t,n,r){if(null===e||void 0===e||null===t||void 0===t)return!1;if(o.isPrimitive(e)||o.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=y(e),a=y(t);if(i&&!a||!i&&a)return!1;if(i)return e=s.call(e),t=s.call(t),b(e,t,n);var l,u,c=_(e),h=_(t);if(c.length!==h.length)return!1;for(c.sort(),h.sort(),u=c.length-1;u>=0;u--)if(c[u]!==h[u])return!1;for(u=c.length-1;u>=0;u--)if(l=c[u],!b(e[l],t[l],n,r))return!1;return!0}(e,t,n,a))}return n?e===t:e==t}function y(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function C(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function x(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&m(i,n,"Missing expected exception"+r);var a="string"==typeof r,s=!e&&o.isError(i),l=!e&&i&&!n;if((s&&a&&C(i,n)||l)&&m(i,n,"Got unwanted exception"+r),e&&i&&n&&!C(i,n)||!e&&i)throw i}h.AssertionError=function(e){var t;this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=f(v((t=this).actual),128)+" "+t.operator+" "+f(v(t.expected),128),this.generatedMessage=!0);var n=e.stackStartFunction||m;if(Error.captureStackTrace)Error.captureStackTrace(this,n);else{var r=new Error;if(r.stack){var i=r.stack,o=d(n),a=i.indexOf("\n"+o);if(a>=0){var s=i.indexOf("\n",a+1);i=i.substring(s+1)}this.stack=i}}},o.inherits(h.AssertionError,Error),h.fail=m,h.ok=g,h.equal=function(e,t,n){e!=t&&m(e,t,n,"==",h.equal)},h.notEqual=function(e,t,n){e==t&&m(e,t,n,"!=",h.notEqual)},h.deepEqual=function(e,t,n){b(e,t,!1)||m(e,t,n,"deepEqual",h.deepEqual)},h.deepStrictEqual=function(e,t,n){b(e,t,!0)||m(e,t,n,"deepStrictEqual",h.deepStrictEqual)},h.notDeepEqual=function(e,t,n){b(e,t,!1)&&m(e,t,n,"notDeepEqual",h.notDeepEqual)},h.notDeepStrictEqual=function e(t,n,r){b(t,n,!0)&&m(t,n,r,"notDeepStrictEqual",e)},h.strictEqual=function(e,t,n){e!==t&&m(e,t,n,"===",h.strictEqual)},h.notStrictEqual=function(e,t,n){e===t&&m(e,t,n,"!==",h.notStrictEqual)},h.throws=function(e,t,n){x(!0,e,t,n)},h.doesNotThrow=function(e,t,n){x(!1,e,t,n)},h.ifError=function(e){if(e)throw e};var _=Object.keys||function(e){var t=[];for(var n in e)a.call(e,n)&&t.push(n);return t}}).call(this,n(45))},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,a,s,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(o(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),a=(u=n.slice()).length,l=0;l<a;l++)u[l].apply(this,s);return!0},n.prototype.addListener=function(e,t){var a;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(a=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},n.prototype.removeListener=function(e,t){var n,o,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(n=this._events[e]).length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){o=s;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){"use strict";var r,i;r=[n(3)],void 0===(i=function(e){return function(){function t(t){var n;n=t.extraCss,this.parent=e.appendSpec(document.body,{className:"modalPaneWrapper "+(null!=n?n:"")}),this.node=e.appendSpec(this.parent,{className:"modalPane "+(null!=n?n:"")})}return t.prototype.getNode=function(){return this.node},t.prototype.getPane=function(){return this.parent},t.prototype.remove=function(){return e.remove(this.parent)},t}()}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(1),n(417)],void 0===(i=function(e,t){var n,r,i,o,a,s,l,u,c,h,p,d,f,v,m,g=[].slice,b=function(e,t){for(var n in t)y.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},y={}.hasOwnProperty;for(m=/.*\/src$/,r=function(e){var t,n,r,i,o,a,s,l;return a=/\{\{(.+?)\}\}|$/g,i=0,o=[],t=[],/\{\{(.+?)\}\}/g.test(e)?(r={"\\":"\\","\r":"r","\n":"n","\t":"t"},n=/\\|\r|\n|\t/g,s="var __r = '",e.replace(a,function(a,l,u){var c;return c=e.slice(i,u),t.push(new RegExp(c)),s+=c.replace(n,function(e){return"\\"+r[e]}),l&&(l=l.trim(),o.push(l),s+="';\n__r += t['"+l+"'];\n__r += '"),i=u+a.length}),s+="';\nreturn __r;",l=new window.Function("t",s)):l=function(){return e},l.serialized=e,l.keys=o,l.constParts=t,l},u=e.memoize(r),d=function(e,t){var n,r,i,o,a,s,l;if(!(e.keys.length>0))return t;for(s="",r=0,n=0,a=(l=e.constParts).length;n<a;n++)s+=(i=l[n].exec(t))[0],null!=(o=e.keys[r])&&(s+="{{"+o+"}}",r++),t=t.slice(i.index+i[0].length);return s},c=function(e,t){var n,r,i,o,a,s;if(null==(o=e.exec(t)))return null;for(s=o[0],i=r=0,a=(n=2<=o.length?g.call(o,1):[]).length;r<a;i=++r)if(null!=(s=n[i]))return{match:s,index:i};return null},(n=function(){function n(t){var r;e.extend(this,t),null==this.snapshot&&(this.snapshot=[]),null==this.defaults&&(this.defaults=null!=(r=n.scopeDefaults[this.scope])?r:[]),null==this.name&&(this.name=this.scope+" preset")}return n.prototype.name=null,n.prototype.origin=null,n.prototype.scope=null,n.prototype.flavor=null,n.prototype.version=null,n.prototype.snapshot=null,n.prototype.translate=function(e){return e},n.unserializeHelper=function(t,n,r){var i,o,a;for(i in o=[],n)a=n[i],e.isObject(a)?o.push(this.unserializeHelper(""===t?i:t+"/"+i,a,r)):o.push(r.push({path:u(t+"/"+i),value:a}));return o},n.unserialize=function(r){var i,o;return i=JSON.parse(t.decompressFromBase64(r)),e.isString(i.scope)&&e.isString(i.version)&&e.isObject(i.snapshot)?(o=[],this.unserializeHelper("",i.snapshot,o),i.snapshot=o,new(n.getConstructor(i.scope))(e.pick(i,"scope","flavor","version","name","snapshot","origin"))):null},n.addPresetDefaults=function(e,t,r){var i,o,a,s,l,c,h,p,d,f,v;if(o=this.Spec.prototype.capturePreset({params:t,wildcards:{type:"(?:{{\\w+}}|\\w+)",num:"(?:{{\\w+}}|\\d+)"},paths:n.scopeSpecs[e.scope].paths}),"mixer"===e.scope){for(d=[],a=0,l=(h=o.snapshot).length;a<l;a++)v=h[a],d.push(function(){var t,n,o;for(o=[],i=t=0,n=r.mixer.getNumOfStripType("chan");0<=n?t<n:t>n;i=0<=n?++t:--t)o.push(e.snapshot.push({path:u(v.path({type:"chan",num:i})),value:v.value}));return o}());return d}for(f=[],s=0,c=(p=o.snapshot).length;s<c;s++)v=p[s],f.push(e.snapshot.push(v));return f},n.prototype.serializeOnePath=function(e,t,n){var r,i,o,a,s,l;for(o=n,r=0,i=(l=(s=e.split("/")).slice(0,s.length-1)).length;r<i;r++)null==o[a=l[r]]&&(o[a]={}),o=o[a];return o[s[s.length-1]]=t},n.prototype.serialize=function(){var n,r,i,o,a,s,l;for((r=e.pick(this,"scope","flavor","version","name","origin")).snapshot={},n=0,i=(a=this.snapshot).length;n<i;n++)o=(s=a[n]).path,l=s.value,this.serializeOnePath(o.serialized,l,r.snapshot);return t.compressToBase64(JSON.stringify(r))},n.prototype.applyDefaults=function(e,t){var n,r,i,o,a,s,l,h,p,d,f,v,m;if(!(this.defaults.length>0))return{};for(f={},l=[],m=[],n=0,o=(h=this.defaults).length;n<o;n++)s=(p=h[n]).pattern,v=p.value,a=u(s)(t),l.push("^("+a+")$"),m.push(v);for(i in s=new RegExp(l.join("|")),d=e.deviceData())d[i],null!=(r=c(s,i))&&(f[r.match]=m[r.index]);return f},n.prototype.toExpandedSnapshot=function(t,n){var r,i,o,a,s,l,u,c,h;for(r=this.applyDefaults(t,n),i=0,o=(l=this.snapshot).length;i<o;i++)s=(u=l[i]).path,h=u.value,a=s(n),t.valid(a)&&(c=this.translate(h,a,n),e.isString(t.get(a))?r[a]=""+c:e.isNumber(t.get(a))?r[a]=+c:r[a]=c);return r},n.prototype.apply=function(e,t){return this.version.split(".")[0]===n.getCurScopeVersion(this.scope).split(".")[0]&&e.setMultiple(this.toExpandedSnapshot(e,t))},n}()).RoutingSnapshot=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return b(r,n),r.prototype.toExpandedSnapshot=function(t,n){return n=e.clone(n),t.router.mapIBanks(function(e,t){return n[e+" ibank"]=t}),t.router.mapOBanks(function(e,t){return n[e+" obank"]=t}),r.__super__.toExpandedSnapshot.call(this,t,n)},r.prototype.translate=function(e,t,n){return m.test(t)?u(e)(n):e},r}(),n.DeviceSnapshot=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return b(t,e),t.prototype.toExpandedSnapshot=function(e){return t.__super__.toExpandedSnapshot.call(this,e,{device:e.get("uid")})},t}(n.RoutingSnapshot),n.scopeConstructors={device:n.DeviceSnapshot,routing:n.RoutingSnapshot},n.scopeVersions={},n.globalVersion="0.5.0",n.getCurScopeVersion=function(e){var t;return null!=(t=n.scopeVersions[e])?t:n.globalVersion},n.getConstructor=function(e){var t;return null!=(t=n.scopeConstructors[e])?t:n},n.Spec=function(){function t(t){var r;e.extend(this,t),null==this.version&&(this.version=n.getCurScopeVersion(this.scope)),this.paths=function(){var e,t,n,i;for(i=[],e=0,t=(n=this.paths).length;e<t;e++)r=n[e],i.push(u(r));return i}.call(this)}return t.prototype.scope=null,t.prototype.flavor=null,t.prototype.version=null,t.prototype.paths=[],t.prototype.capturePreset=function(t){var r,i,o,a,s,l,h,p,f,v,m,g,b,y,C,x,_,w,S,k,T,E,P,I,B;for(x=t.params,B=t.wildcards,w=t.paths,f=t.dev,null==x&&(x=f.deviceData()),E=new(n.getConstructor(this.scope))(e.pick(this,"scope","flavor","version")),null==w&&(w=this.paths),a=[],o=[],v=0,y=w.length;v<y;v++)_=w[v],a.push("^("+_(B)+")$"),o.push(_);for(r=new RegExp(a.join("|")),h=[],p=[],b=0,C=(k=E.defaults).length;b<C;b++)S=(T=k[b]).pattern,I=T.value,_=u(S)(B),h.push("^("+_+")$"),p.push(I);for(g in l=new RegExp(h.join("|")),x)P=x[g],null!=(m=c(r,g))&&(i=o[m.index],_=d(i,m.match),I=this.translate(P,_),null!=(s=c(l,g))&&""+p[s.index]==""+I||E.snapshot.push({path:u(_),value:I}));return E.origin=x.uid,E},t.prototype.translate=function(e){return e},t}(),n.RoutingSpec=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return b(n,t),n.prototype.capturePreset=function(t){var r,i,o,a,s,l;return r=t.dev,i=t.params,s=t.wildcards,null==i&&(i=r.deviceData()),s=e.clone(s),o=this.paths.slice(0),this.ibankNames=[],r.router.mapIBanks((l=this,function(e,t){var n,r,i,a,c,h;for(r=e+" ibank",l.ibankNames[t]=r,s[r]=t,h=[],n=0,i=(c=l.ibankPaths).length;n<i;n++)a=c[n],h.push(o.push(u(u(a)({bank:"{{"+r+"}}"}))));return h})),r.router.mapOBanks(function(e){return function(t,n){var r,i,a,l,c,h;for(s[i=t+" obank"]=n,h=[],r=0,a=(c=e.obankPaths).length;r<a;r++)l=c[r],h.push(o.push(u(u(l)({bank:"{{"+i+"}}"}))));return h}}(this)),a=n.__super__.capturePreset.call(this,{params:i,wildcards:s,paths:o}),delete this.ibankNames,a},n.prototype.translate=function(e,t){var r,i,o;return m.test(t)&&e?(r=(o=e.split(":"))[0],i=o[1],"{{"+this.ibankNames[+r]+"}}:"+i):n.__super__.translate.call(this,e,t)},n}(n.Spec),n.DeviceSpec=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return b(t,e),t.prototype.capturePreset=function(e){var n,r,i;return n=e.dev,null==(r=e.params)&&(r=n.deviceData()),(i=t.__super__.capturePreset.call(this,{dev:n,params:r,wildcards:{device:n.get("uid")}})).flavor=r["avb/"+r.uid+"/model_name"],i},t}(n.RoutingSpec),f=[{pattern:"ext/obank/\\d*/ch/\\d*/src",value:""}],v=["ext/obank/{{bank}}/ch/\\d*/src"],h=["mix/chan/.*","mix/aux/.*","mix/group/.*","mix/main/.*","mix/monitor/.*","mix/reverb/.*","mix/talkback/.*"],n.scopeDefaults={device:e.flatten([{pattern:"ext/(?:i|o)bank/\\d*/userCh",value:0},{pattern:"ext/(?:i|o)bank/\\d*/ch/\\d*/name",value:""},f]),routing:f,channel:[{pattern:"mix/{{type}}/{{num}}/.*/enable",value:0},{pattern:"mix/{{type}}/{{num}}/.*/send",value:0}],aux:[{pattern:"mix/\\w+/\\d+/matrix/{{type}}/{{num}}/send",value:0}]},n.DeviceSnapshot=new n.DeviceSpec({scope:"device",paths:e.flatten(["avb/{{device}}/cfg/0/current_sampling_rate","avb/{{device}}/cfg/0/clock_source_index","avb/{{device}}/cfg/0/input_streams/.*/talker","ext/vlimit/lookahead","ext/enableHostVolControls","smpte/channel","smpte/freewheel","smpte/format","smpte/enableautodetect","ext/footswitch/mode","ext/footswitch/keypress/down","ext/footswitch/keypress/up","ext/ab/a/dst","ext/ab/b/dst","ext/ab/trim","ext/ab/a/enable","ext/ab/b/enable","ext/ab/a/mode","ext/ab/mute","ext/ab/mono","firmware_version",h]),ibankPaths:["ext/ibank/{{bank}}/userCh","ext/ibank/{{bank}}/mode","ext/ibank/{{bank}}/ch/\\d*/name","ext/ibank/{{bank}}/ch/\\d*/(?:stereoTrim|trim|phase|48V|pad|vlLimit|vlClip)"],obankPaths:e.flatten(["ext/obank/{{bank}}/userCh","ext/obank/{{bank}}/mode","ext/obank/{{bank}}/ch/\\d*/name","ext/obank/{{bank}}/ch/\\d*/(?:stereoTrim|trim|phase|48V|pad|vlLimit|vlClip)",v])}),n.RoutingSnapshotSpec=new n.RoutingSpec({scope:"routing",paths:[],ibankPaths:[],obankPaths:v}),l=function(e){return"mix/{{type}}/{{num}}/"+e+"/.*"},o=function(e){return new n.Spec({scope:e,paths:[l(e)]})},n.scopeSpecs={device:n.DeviceSnapshot,routing:n.RoutingSnapshotSpec,mixer:new n.Spec({scope:"mixer",paths:h}),channel:new n.Spec({scope:"channel",paths:["mix/{{type}}/{{num}}/matrix/\\w+/\\d+/send","mix/{{type}}/{{num}}/matrix/(?:prefader|mute|pan|fader)"]}),aux:new n.Spec({scope:"aux",paths:["mix/\\w+/\\d+/matrix/{{type}}/{{num}}/send"]})},a=0,s=(p=["hpf","gate","eq","comp","leveler","reverb"]).length;a<s;a++)i=p[a],n.scopeSpecs[i]=o(i),n.scopeSpecs.channel.paths.push(u(l(i))),n.scopeSpecs.aux.paths.push(u("mix/aux/{{num}}/"+i+"/.*"));return n}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r;void 0===(r=function(){return function(){function e(e){var t;this.id=e,t=this.id.split("/"),this.type=t[0],this.num=t[1],this.num=+this.num,this.basePath="mix/"+this.id,this.formatPath=this.basePath+"/config/format",this.metaPath="meta/"+this.id}return e.prototype.id=null,e.prototype.num=null,e.prototype.type=null,e.prototype.formatPath=null,e.prototype.basePath=null,e.prototype.metaPath=null,e}()}.apply(t,[]))||(e.exports=r)},function(e,t,n){"use strict";var r,i;r=[n(2),n(30),n(1)],void 0===(i=function(e,t,n){return function(){function e(e){var t,n,r,i;for(r in i=e.slots,this.f=e.f,this.src=e.src,this.gatherSlots=e.gatherSlots,null==this.gatherSlots&&(this.gatherSlots=!0),this.slots=[],n=null!=i?i:{})t=n[r],this.addSlot(r,t)}return e.prototype.removeSlot=function(e){var t,n,r,i,o;for(-1,t=n=0,r=(i=this.slots).length;n<r;t=++n)if((o=i[t]).key===e)return null!=o.path&&this.src.removeListener(o.path,this),void this.slots.splice(t,1)},e.prototype.addSlot=function(e,t){if(this.slots.push({key:e,path:t}),null!=t)return this.src.addListener(t,this)},e.prototype.rewire=function(e,t){return this.removeSlot(e),this.addSlot(e,t),this.inval()},e.prototype.inval=function(){var e,t,n,r,i,o,a;if(this.gatherSlots)for(a={},e=0,n=(i=this.slots).length;e<n;e++)t=(o=i[e]).key,null!=(r=o.path)&&(a[t]=this.src.get(r));return this.f(a)},e.prototype.remove=function(){var e,t,n,r;for(e=0,t=(n=this.slots).length;e<t;e++)null!=(r=n[e]).path&&this.src.removeListener(r.path,this);return this.slots=[]},e}()}.apply(t,r))||(e.exports=i)},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){
/*!
* screenfull
* v3.3.2 - 2017-10-27
* (c) Sindre Sorhus; MIT License
*/
!function(){"use strict";var t="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=void 0!==e&&e.exports,r="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,i=function(){for(var e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,i=n.length,o={};r<i;r++)if((e=n[r])&&e[1]in t){for(r=0;r<e.length;r++)o[n[0][r]]=e[r];return o}return!1}(),o={change:i.fullscreenchange,error:i.fullscreenerror},a={request:function(e){var n=i.requestFullscreen;e=e||t.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?e[n]():e[n](r&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){t[i.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,n){var r=o[e];r&&t.addEventListener(r,n,!1)},off:function(e,n){var r=o[e];r&&t.removeEventListener(r,n,!1)},raw:i};i?(Object.defineProperties(a,{isFullscreen:{get:function(){return Boolean(t[i.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[i.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(t[i.fullscreenEnabled])}}}),n?e.exports=a:window.screenfull=a):n?e.exports=!1:window.screenfull=!1}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n(0)),a=(d(n(13)),d(n(11)),d(n(24)),d(n(15)),d(n(6))),s=(n(20),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(18)),n(9)),l=d(n(67)),u=d(n(28)),c=d(n(203)),h=d(n(17)),p=n(12);n(4);function d(e){return e&&e.__esModule?e:{default:e}}var f=(0,p.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.id=Math.random().toString(36).substring(7),n.addChangeListeners=n.addChangeListeners.bind(n),n.removeChangeListeners=n.removeChangeListeners.bind(n),n._channelSelectionChanged=n._channelSelectionChanged.bind(n),n._onFormatValueChange=n._onFormatValueChange.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"componentDidMount",value:function(){this.addChangeListeners(),this._channelSelectionChanged()}},{key:"componentWillUnmount",value:function(){this.removeChangeListeners()}},{key:"addChangeListeners",value:function(){for(var e=this,t=this._onFormatValueChange,n=function(){var n=e.props.observableState.channels[r];a.default.has(n.formatPath)&&a.default.addChangeListener(e.id,function(){t(n)},n.formatPath,!1)},r=0;r<this.props.observableState.channels.length;r++)n()}},{key:"removeChangeListeners",value:function(){for(var e=this,t=this._onFormatValueChange,n=function(){var n=e.props.observableState.channels[r];a.default.has(n.formatPath)&&a.default.removeChangeListener(e.id,function(){t(n)},n.formatPath,!1)},r=0;r<this.props.observableState.channels.length;r++)n()}},{key:"render",value:function(){return o.default.createElement("label",{className:"main-nav "+this.props.mode+" label"},o.default.createElement("div",{className:c.default.LeftColumn},o.default.createElement("div",{className:""+c.default.FaderVisibilitySelectContainer},o.default.createElement(u.default,{type:"visibility",width:"25px",height:"25px",className:c.default.FaderVisiblityIcon,fillColor:s.Colors.lightGray}),o.default.createElement(l.default,{width:"collapsed"==this.props.mode?"25px":"100%",height:"25px",observableState:this.props.observableState,multiple:!0,input:this.props.input,output:this.props.output,types:this.props.types,order:this.props.order,onSelectionChanged:this._channelSelectionChanged,observableValues:this.props.observableState,stateKey:"faderVisibility"}),o.default.createElement(u.default,{type:"carat",width:"10px",height:"10px",className:c.default.DropDownCarat,fillColor:s.Colors.lightGray}))),"expanded"===this.props.mode?o.default.createElement("div",{className:c.default.RightColumn},o.default.createElement("span",null)):null)}},{key:"_channelSelectionChanged",value:function(e){if(e){var t={};Object.keys(this.props.observableState.faderVisibility).forEach(function(n,r,i){-1==e.indexOf(n)&&(-1!==n.indexOf("chan")&&this.props.input||-1==n.indexOf("chan")&&this.props.output)?t[n]=!1:-1!==e.indexOf(n)?t[n]=!0:t[n]=this.props.observableState.faderVisibility[n]},this),_.isEqual(this.props.observableState.faderVisibility,t)||(this.props.observableState.faderVisibility=t)}}},{key:"_onFormatValueChange",value:function(e){var t=this.props.observableState.faderVisibility[e.id],n=!0;if(a.default.has(e.formatPath)&&(n=2===parseInt(a.default.get(e.formatPath).split(":")[0],10)),t&&!n){var r=e.num%2==0?e.num+1:e.num-1,i=e.type+"/"+r,o=new h.default(i);if(o){var s=_.clone(this.props.observableState.faderVisibility);s[o.id]=!0,this.props.observableState.faderVisibility=s}}}}]),t}())||r;t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=p(n(0)),a=(p(n(13)),p(n(11)),p(n(24)),p(n(15)),p(n(6)),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(18)),n(9)),s=(n(20),p(n(67))),l=p(n(28)),u=p(n(205)),c=p(n(17)),h=n(12);n(4),p(n(99));function p(e){return e&&e.__esModule?e:{default:e}}var d=(0,h.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.id=Math.random().toString(36).substring(7),n.addChangeListeners=n.addChangeListeners.bind(n),n.removeChangeListeners=n.removeChangeListeners.bind(n),n._onChannelSelected=n._onChannelSelected.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"componentDidMount",value:function(){this.addChangeListeners(),this.props.observableState.sideBarFaderFollow&&null!==this.props.observableState.onFaderStripInfo&&(this.props.observableState.sideBarFaderStripInfo=this.props.observableState.onFaderStripInfo)}},{key:"componentWillUnmount",value:function(){this.removeChangeListeners()}},{key:"addChangeListeners",value:function(){}},{key:"removeChangeListeners",value:function(){}},{key:"render",value:function(){var e=this.props.observableState.auxMixer?[]:["chan","aux","group","reverb","monitor","main"],t="";return this.props.observableState.sideBarFaderStripInfo&&(t=this.props.observableState.sideBarFaderStripInfo.id),this.props.observableState.sideBarFaderHidden&&(t="hide"),this.props.observableState.sideBarFaderFollow&&(t="follow"),o.default.createElement("div",{className:u.default.SideBarFaderSelectContainer},o.default.createElement(l.default,{type:"sidebarfader",width:"18px",height:"36px",fillColor:a.Colors.lightGray,className:u.default.SideBarFaderIcon}),o.default.createElement(s.default,{observableState:this.props.observableState,multiple:!1,input:!0,output:!0,types:e,order:["main","monitor","aux","group","reverb","chan"],defaultValue:t,onSelectionChanged:this._onChannelSelected,observableValues:this.props.observableState,stateKey:"sideBarFaderStripInfo"},o.default.createElement("option",{value:"hide"},"Hide"),o.default.createElement("option",{value:"follow"},"Follow 'On Faders'")),o.default.createElement(l.default,{type:"carat",width:"10px",height:"10px",className:u.default.DropDownCarat,fillColor:a.Colors.lightGray}))}},{key:"_onChannelSelected",value:function(e){"follow"===e.target.value?(this.props.observableState.sideBarFaderFollow=!0,this.props.observableState.sideBarFaderHidden=!1,this.props.observableState.sideBarFaderStripInfo=this.props.observableState.onFaderStripInfo):"hide"===e.target.value?(this.props.observableState.sideBarFaderFollow=!1,this.props.observableState.sideBarFaderHidden=!0):(this.props.observableState.sideBarFaderFollow=!1,this.props.observableState.sideBarFaderHidden=!1,this.props.observableState.sideBarFaderStripInfo=new c.default(e.target.value))}}]),t}())||r;t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(9),a=m(n(6)),s=(m(n(25)),m(n(0))),l=m(n(77)),u=(n(37),m(n(28))),c=m(n(123)),h=m(n(122)),p=(m(n(67)),n(12)),d=n(4),f=(m(n(19)),m(n(11)),n(20),m(n(15)),m(n(121))),v=(m(n(17)),m(n(201)));function m(e){return e&&e.__esModule?e:{default:e}}var g=(0,p.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.id=Math.random().toString(36).substring(7),n.addChangeListeners=n.addChangeListeners.bind(n),n.removeChangeListeners=n.removeChangeListeners.bind(n),n._renderMixerSettingsToggle=n._renderMixerSettingsToggle.bind(n),n._renderMixerSettings=n._renderMixerSettings.bind(n),n._onToggleMetersPrePost=n._onToggleMetersPrePost.bind(n),n._onRequestFullScreen=n._onRequestFullScreen.bind(n),n._updateFullScreenStatus=n._updateFullScreenStatus.bind(n),n.iOS=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,n.observableState=(0,d.observable)({isFullscreen:!1}),n.iOS||f.default.onchange(n._updateFullScreenStatus),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),i(t,[{key:"componentDidUpdate",value:function(e,t){}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"addChangeListeners",value:function(){}},{key:"removeChangeListeners",value:function(){}},{key:"render",value:function(){return s.default.createElement("div",{id:"mixer-settings-drawer-"+this.props.mode,className:v.default.MixerSettingsDrawer},s.default.createElement(l.default,{id:"mixer-settings-accordion-"+this.props.mode,mode:this.props.mode,toggle:this._renderMixerSettingsToggle(),items:this._renderMixerSettings(),observableState:this.props.observableState}))}},{key:"_renderMixerSettingsToggle",value:function(){return s.default.createElement("div",{className:"main-nav "+this.props.mode+" label"},"expanded"===this.props.mode?s.default.createElement("h2",{className:"dev-sel-header"},"MIXER SETTINGS"):s.default.createElement("h2",{className:"dev-sel-header "+v.default.GearIconContainer},s.default.createElement(u.default,{type:"settings",width:"25px",height:"25px",fillColor:o.Colors.lightGray})))}},{key:"_renderMixerSettings",value:function(){var e=[];e.push(s.default.createElement("label",{className:"main-nav "+this.props.mode+" label",onClick:this._onToggleMetersPrePost},s.default.createElement("div",{className:v.default.LeftColumn},s.default.createElement(u.default,{type:"prepost",ref:"meters-pre-fader-button",id:"meters-pre-fader-button",width:"25px",height:"25px",fillColor:this.props.observableState.metersPreFader?o.Colors.blue:o.Colors.gray,className:v.default.PrePostIcon})),"expanded"===this.props.mode?s.default.createElement("div",{className:v.default.RightColumn},s.default.createElement("span",null,"Meters Pre/Post")):null)),this.iOS||e.push(s.default.createElement("label",{className:"main-nav "+this.props.mode+" label",onClick:this._onRequestFullScreen},s.default.createElement("div",{className:v.default.LeftColumn},s.default.createElement(u.default,{type:"fullscreen",width:"25px",height:"25px",fullscreen:this.observableState.isFullscreen,className:v.default.FullScreenIcon,disabledColor:o.Colors.lightGray,enabledColor:o.Colors.blue})),"expanded"===this.props.mode?s.default.createElement("div",{className:v.default.RightColumn},s.default.createElement("span",null,"Full Screen")):null)),e.push(s.default.createElement("label",{className:"main-nav "+this.props.mode+" label"},s.default.createElement("div",{className:v.default.LeftColumn},s.default.createElement(h.default,{id:"fader-visibility-dropdown",ref:"fader-visibility-dropdown",input:!0,mode:this.props.mode,observableState:this.props.observableState})),"expanded"===this.props.mode?s.default.createElement("div",{className:v.default.RightColumn},s.default.createElement("span",null,"Input Faders")):null));var t=this.props.observableState.auxMixer?a.default.getOutputSends(this.props.observableState.onFaderStripInfo):null;return e.push(s.default.createElement("label",{className:"main-nav "+this.props.mode+" label"},s.default.createElement("div",{className:v.default.LeftColumn},s.default.createElement(h.default,{id:"fader-visibility-dropdown",ref:"fader-visibility-dropdown",output:!0,types:t,mode:this.props.mode,observableState:this.props.observableState})),"expanded"===this.props.mode?s.default.createElement("div",{className:v.default.RightColumn},s.default.createElement("span",null,"Output Faders")):null)),e.push(s.default.createElement("label",{className:"main-nav "+this.props.mode+" label"},s.default.createElement("div",{className:v.default.LeftColumn},s.default.createElement(c.default,{id:"sticky-fader-dropdown",ref:"sticky-fader-dropdown",mode:this.props.mode,observableState:this.props.observableState})),"expanded"===this.props.mode?s.default.createElement("div",{className:v.default.RightColumn},s.default.createElement("span",null,"Sidebar Fader")):null)),e}},{key:"_onToggleMetersPrePost",value:function(){this.props.observableState.metersPreFader=!this.props.observableState.metersPreFader}},{key:"_onRequestFullScreen",value:function(){f.default.toggle()}},{key:"_updateFullScreenStatus",value:function(){this.observableState.isFullscreen=f.default.isFullscreen}}]),t}())||r;t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(9),a=m(n(6)),s=(m(n(25)),m(n(0))),l=m(n(77)),u=m(n(215)),c=m(n(212)),h=n(12),p=n(4),d=(m(n(19)),m(n(11)),n(20)),f=(m(n(15)),m(n(17))),v=m(n(207));function m(e){return e&&e.__esModule?e:{default:e}}var g=(0,h.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.id=Math.random().toString(36).substring(7),n.addChangeListeners=n.addChangeListeners.bind(n),n.removeChangeListeners=n.removeChangeListeners.bind(n),n._refreshNameChangeListener=n._refreshNameChangeListener.bind(n),n._renderFaderModesToggle=n._renderFaderModesToggle.bind(n),n._renderFaderModes=n._renderFaderModes.bind(n),n._onCalcChValueChange=n._onCalcChValueChange.bind(n),n._getLabel=n._getLabel.bind(n),n._onFaderModeChanged=n._onFaderModeChanged.bind(n),n._refreshToggleLabel=n._refreshToggleLabel.bind(n);var r={};return(n.props.observableState.auxMixer?o.FaderModeTypes["aux-mixing"]:o.FaderModeTypes["touch-console"]).forEach(function(e,t,n){r[e]="fader"==e?2:a.default.getCalcCh(e)},n),n.observableState=(0,p.observable)({calcCh:r,selectedStripInfo:null,toggleLabel:""}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),i(t,[{key:"componentDidMount",value:function(){this.addChangeListeners()}},{key:"componentWillUnmount",value:function(){this.removeChangeListeners()}},{key:"componentDidUpdate",value:function(e,t){}},{key:"addChangeListeners",value:function(){this.faderPathDisposer=(0,p.observe)(this.props.observableState,"faderPath",this._onFaderModeChanged),this._refreshNameChangeListener(),this._refreshToggleLabel()}},{key:"removeChangeListeners",value:function(){this.faderPathDisposer(),this.channelNamePath&&a.default.removeChangeListener(this.id,this._refreshToggleLabel,this.channelNamePath),this.defaultNamePath&&a.default.removeChangeListener(this.id,this._refreshToggleLabel,this.defaultNamePath)}},{key:"_refreshNameChangeListener",value:function(){if(this.props.observableState.onFaderStripInfo){var e=this.props.observableState.onFaderStripInfo;this.channelNamePath&&a.default.removeChangeListener(this.id,this._refreshToggleLabel,this.channelNamePath),this.defaultNamePath&&a.default.removeChangeListener(this.id,this._refreshToggleLabel,this.defaultNamePath),this.channelNamePath=(0,d.getStripNamePath)(e),this.defaultNamePath=(0,d.getDefaultNamePath)(e),a.default.addChangeListener(this.id,this._refreshToggleLabel,this.channelNamePath,!1),a.default.addChangeListener(this.id,this._refreshToggleLabel,this.defaultNamePath,!1)}}},{key:"render",value:function(){return s.default.createElement("div",{id:"fader-modes-drawer-"+this.props.mode,className:v.default.FaderModesDrawer},s.default.createElement(l.default,{id:"fader-modes-accordion-"+this.props.mode,mode:this.props.mode,toggle:this._renderFaderModesToggle(),items:this._renderFaderModes(),observableState:this.props.observableState}))}},{key:"_renderFaderModesToggle",value:function(){var e="expanded"==this.props.mode?v.default.ActiveFaderModeLabelExpanded:v.default.ActiveFaderModeLabelCollapsed;return s.default.createElement("div",null,s.default.createElement("div",{className:"main-nav "+this.props.mode+" label"},"expanded"===this.props.mode?s.default.createElement("h2",{className:"dev-sel-header"},"ON FADERS"):s.default.createElement("h2",{className:"dev-sel-header"},s.default.createElement("span",{className:"main-nav "+this.props.mode+" icon fader-mode-fader "+v.default.ToggleIcon}))),s.default.createElement("div",{style:{color:this.observableState.toggleColor},className:e},this.observableState.toggleLabel))}},{key:"_renderFaderModes",value:function(){var e=[];return Object.keys(this.observableState.calcCh).map(function(t){var n=this.observableState.calcCh[t];2===n?e.push(s.default.createElement(u.default,{stripInfo:new f.default(t+"/0"),mode:this.props.mode,showChannelNumber:!1,observableState:this.props.observableState,collapsedMode:"icon"})):e.push(s.default.createElement(c.default,{observableState:this.props.observableState,mode:this.props.mode,type:t,calcCh:n}))},this),e}},{key:"_getLabel",value:function(){var e=this.props.observableState.onFaderStripInfo,t="",n="";if("/matrix/fader"==this.props.observableState.faderPath)t=o.Colors.fader,n="expanded"==this.props.mode?"Input":"I";else if(e&&(t=o.Colors[e.type],""==(n=a.default.getMixerChannelName(e))||"collapsed"==this.props.mode)){var r="expanded"==this.props.mode?e.type:e.type.charAt(0),i=e.num;if("aux"==e.type||"group"==e.type)n="expanded"==this.props.mode?r.capitalize()+" "+(i+1):""+r.capitalize()+(i+1),(!a.default.has(e.formatPath)||"2"===a.default.get(e.formatPath).split(":")[0])&&(n=n+"-"+(i+2));else n=r.capitalize()}return{color:t,label:n}}},{key:"_onCalcChValueChange",value:function(e){if(void 0!==e){var t=e.split("/");this.observableState.calcCh[t[4]]=a.default.get(e)}}},{key:"_onFaderModeChanged",value:function(){this._refreshToggleLabel(),this._refreshNameChangeListener()}},{key:"_refreshToggleLabel",value:function(){var e=this._getLabel();this.observableState.toggleLabel=e.label,this.observableState.toggleColor=e.color}}]),t}())||r;t.default=g},function(e,t,n){(e.exports=n(8)(!1)).push([e.i,'html{height:100%;overflow:none}#app-body{height:100%;width:100%;margin:0;border:none;padding:0;background:url(img/noise-bg.png),url(img/gradient-top-bg.png) repeat-x;background-color:#212121;font-family:Helvetica,Arial,sans-serif;color:#ccc;font-size:12px;overflow:hidden;cursor:default}#app-body>*,.no-user-select{-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}#app-body>*{-webkit-tap-highlight-color:transparent}button,input,select,textarea{outline:none;font-family:Arial,Helvetica,sans-serif;font-size:12px;overflow:auto;box-sizing:content-box;-moz-box-sizing:content-box;box-shadow:none}table{empty-cells:show}svg{display:block;margin:0}input,textarea{border:none;color:inherit;background:transparent;display:block;text-align:center;width:100%;resize:none}ol,ul{padding:0;margin:0}select{overflow:hidden}.clear{clear:both}.rotate{-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-ms-transform:rotate(-90deg);-o-transform:rotate(-90deg);transform:rotate(-90deg);-webkit-transform-origin:50% 50%;-moz-transform-origin:50% 50%;-ms-transform-origin:50% 50%;-o-transform-origin:50% 50%;transform-origin:50% 50%}.selectable{-webkit-user-select:text;-khtml-user-select:text;-moz-user-select:text;-ms-user-select:text;-o-user-select:text;user-select:text}.divActive{opacity:1;filter:alpha(opacity=100)}.menuSelect{vertical-align:middle}.opacityEnabled{opacity:.99}.partialOpacity{opacity:.3}.border-box{box-sizing:border-box;-moz-box-sizing:border-box}.modal{position:absolute;top:0;bottom:0;left:0;right:0;cursor:default}.btn{color:#383838;background-image:linear-gradient(180deg,hsla(0,0%,100%,.3),transparent);background-color:#a3a3a3;box-shadow:1px 1px 1px rgba(0,0,0,.25),inset 1px 1px hsla(0,0%,100%,.09),inset -1px -1px hsla(0,0%,100%,.05);border:1px solid rgba(0,0,0,.6);border-radius:2px;font-weight:700;text-align:center;text-shadow:0 1px 1px hsla(0,0%,100%,.6);cursor:pointer;padding:4px 15px}.banner-message{display:-webkit-flex;display:flex;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;align-items:center;margin:15px;border-radius:2px}.banner-message>*{margin:15px}.banner-message .message{font-size:16px}.banner-message .action{-webkit-flex-shrink:0;flex-shrink:0}.banner-message.nag{background-color:#4c3419}.banner-message.nag .message{color:#dfc1a1}.banner-message.warn{background-color:#ec971f}.banner-message.warn .message{color:#000}.banner-message.error{background-color:#c72e26}.banner-message.error .message{color:#f4eee2}@-webkit-keyframes flash{0%,10%,20%{background-color:#1b1b1b;color:#ccc}5%,15%{background-color:#fada5e;color:#555}}@keyframes flash{0%,10%,20%{background-color:#1b1b1b;color:#ccc}5%,15%{background-color:#fada5e;color:#555}}.flash-yellow{animation-name:flash;-webkit-animation-name:flash;animation-duration:4s;-webkit-animation-duration:4s;animation-iteration-count:infinite;-webkit-animation-iteration-count:infinite}::-webkit-scrollbar{width:15px;height:15px}::-webkit-scrollbar-corner,::-webkit-scrollbar-track{background-color:#212121}::-webkit-scrollbar-thumb{background-color:#444;border-radius:6px}::-webkit-scrollbar-thumb:horizontal{border-top:3px solid #212121;border-bottom:3px solid #212121}::-webkit-scrollbar-thumb:vertical{border-left:3px solid #212121;border-right:3px solid #212121}.scrollContainer{position:relative;height:100%;width:100%}.scrollH{right:0}.scrollH,.scrollV{display:block;overflow:hidden;position:absolute;background:#222}.scrollV{bottom:0}.xHeader{top:0;height:100px;right:0}.yHeader{left:0;width:100px;bottom:0}.yHeader>div{padding-bottom:20px}.xyHeader{top:0;left:0;width:100px;height:100px;position:absolute}.xScroll{bottom:0;height:20px}.yScroll{right:0;width:20px}.scrollWrapper{display:block;position:absolute;top:100px;bottom:0;right:0;left:100px;overflow:hidden}.scrollContext{-webkit-overflow-scrolling:touch}body.mobile .yHeader{overflow-y:scroll;overflow-x:hidden}body.mobile .xHeader{overflow-x:scroll;overflow-y:hidden}.scrollWrapperX{overflow-x:auto}.scrollWrapperY{overflow-y:auto}.mobile .scrollWrapper>*,.mobile .xHeader>*,.mobile .yHeader>*{min-height:calc(100% + 2px)}.mobile .scrollWrapper>.selectList{min-height:0}.scrollContent{display:inline-block}.selectMenu{cursor:pointer}.preferenceReadout{cursor:text}.preferenceReadout::-ms-expand,.selectMenu::-ms-expand{display:none}@-moz-document url-prefix(){.preferenceReadout,.selectMenu{text-overflow:""!important;text-indent:.01px}}.preferenceReadout,.selectMenu{outline:none;font:-webkit-small-control;height:25px;padding:0 10px;-webkit-appearance:none;-moz-appearance:none;appearance:none;color:#93d2ff;border:1px solid #000;border-radius:2px;background-image:linear-gradient(180deg,hsla(0,0%,100%,.1),transparent);background-color:#10222e;font-weight:700;font-family:Lucida Grande,Arial,Helvetica,sans-serif;text-overflow:ellipsis;white-space:nowrap}.selectMenu.stringTest{padding:0;border:0;visibility:hidden}.selectMenu[disabled]{opacity:.3;cursor:auto}.selectListHeader{box-sizing:border-box;-moz-box-sizing:border-box;overflow:hidden;margin:0;padding:9px 12px;border-top:1px solid #000;border-bottom:1px solid #000;background-image:linear-gradient(180deg,hsla(0,0%,100%,.1),transparent);background-color:#2e2e2e;box-shadow:inset 1px 1px hsla(0,0%,100%,.09),inset -1px -1px hsla(0,0%,100%,.05);color:#dcdcdc;height:36px;font-weight:700;text-shadow:-1px -1px rgba(0,0,0,.8);text-transform:uppercase;clear:both}.selectListHeader h2{font-size:13px;vertical-align:top;margin:0;float:left}.selectListHeader .glideMetaButton{height:27px;width:27px;right:0;margin:-7px 0;cursor:pointer;display:inline-block;float:right;vertical-align:top}.grip{cursor:row-resize;background-image:url(img/header-grip.png),linear-gradient(180deg,hsla(0,0%,100%,.07),transparent);background-position:100%,0 0;background-repeat:no-repeat}.selectListContainer{position:relative}.selectListWrapper{overflow-y:hidden;height:100px;width:204px;background-color:#292f36;background-image:-webkit-gradient(linear,0 top,0 bottom,from(#21262b),to(rgba(0,0,0,.6)));background-image:-webkit-linear-gradient(top,#21262b,rgba(0,0,0,.6));background-image:-moz-linear-gradient(top,#21262b,rgba(0,0,0,.6));background-image:-ms-linear-gradient(top,#21262b,rgba(0,0,0,.6));background-image:-o-linear-gradient(top,#21262b,rgba(0,0,0,.6));box-shadow:inset 2px 1px 30px 10px rgba(0,0,0,.4)}.selectListWrapper .scrollWrapper{overflow-y:scroll}.selectListScroll{position:absolute;top:36px;bottom:0;right:0}.selectList{list-style:none;height:auto;margin:5px;padding:0;border:0;background-image:url(img/dot-grid-blue.png)}.selectList li{display:block;overflow:hidden;height:30px;cursor:pointer;vertical-align:top;opacity:.99}.selectList li.disabled{opacity:.3}.selectList li>.button{float:right;vertical-align:top;background-image:url(img/radiocheckbox.png);background-size:150px 60px;background-position:-120px 30px;height:30px;width:30px;display:block}.selectList.radio li>.button{background-position:-120px 0}.selectList li>.label,.selectList li>input{font-size:12px;font-weight:700;white-space:nowrap;text-decoration:none;text-overflow:ellipsis;text-shadow:1px 1px #0f1e2b,1px -1px #0f1e2b,-1px 1px #0f1e2b,-1px -1px #0f1e2b;max-width:80%;overflow:hidden;display:block;vertical-align:top;padding:8px 0 0 10px}.selectList li>.label.separator{text-transform:uppercase;font-size:12px;text-shadow:none}.selectList li.separator{border:1px solid #000;background-image:-moz-linear-gradient(90deg,rgba(0,0,0,.025) 0,hsla(0,0%,100%,.025) 100%);background-image:-webkit-linear-gradient(90deg,rgba(0,0,0,.025),hsla(0,0%,100%,.025));background-image:-ms-linear-gradient(90deg,rgba(0,0,0,.025) 0,hsla(0,0%,100%,.025) 100%);background-color:#343434;margin-left:-1px;margin-right:-1px;box-shadow:inset 1px -1px 1px 0 rgba(0,0,0,.3),inset -1px 0 1px 0 hsla(0,0%,100%,.1);box-sizing:border-box}.selectList li.ui-selected>.button{background-position:0 30px}.selectList.radio li.ui-selected>.button{background-position:0 0}.selectList li.ui-selecting>.button{background-position:-60px 30px}.selectList.radio li.ui-selecting>.button{background-position:-60px 0}.selectList li>.numericInputUp{float:right;width:16px;height:16px;border:solid #2d779c;border-width:1px;border-radius:0 2px 2px 0;box-sizing:border-box;display:inline-block;margin-top:7px;margin-right:7px;padding:1px;text-align:center;font-size:10px;background-color:#003d5c;color:#73c7fc;box-shadow:inset 1px 1px 1px 0 hsla(0,0%,100%,.2),inset -1px -1px 1px 0 rgba(0,0,0,.4)}.selectList li>.numericInputUp:hover{color:#4189bb}.selectList li>.numericInputUp:active{padding-top:2px;box-shadow:none}.selectList li>.numericInputDown{float:right;width:16px;height:16px;border:solid #2d779c;border-width:1px 0 1px 1px;border-radius:2px 0 0 2px;box-sizing:border-box;display:inline-block;margin-top:7px;font-size:10px;background-color:#003d5c;color:#73c7fc;padding:1px;text-align:center;box-shadow:inset 1px 1px 1px 0 hsla(0,0%,100%,.2),inset -1px -1px 1px 0 rgba(0,0,0,.4)}.selectList li>.numericInputDown:hover{color:#4189bb}.selectList li>.numericInputDown:active{padding-top:2px;box-shadow:none}.selectList li>.numericInput{float:right;width:30px;height:16px;background-color:#191d24;margin-top:7px;margin-right:7px;padding:0;text-align:center;border:solid #2d779c;border-width:1px;border-radius:3px;box-sizing:border-box;font-size:11px;font-weight:400}.selectMenu.streamConnections{float:right;margin-top:5px;margin-right:5px;height:19px;width:145px;box-sizing:border-box;background-color:rgba(113,196,250,.1);background-image:linear-gradient(45deg,transparent 50%,#73c7fc 0),linear-gradient(135deg,#73c7fc 50%,transparent 0);background-position:calc(100% - 10px) calc(1em + -3px),calc(100% - 5px) calc(1em + -3px);background-size:5px 5px,5px 5px;background-repeat:no-repeat;padding-right:18px;padding-left:4px;border:0;border-radius:4px;color:#c9c9c9}.selectMenu.streamConnections:hover{background-image:linear-gradient(45deg,transparent 50%,#4189bb 0),linear-gradient(135deg,#4189bb 50%,transparent 0)}.selectMenu.streamConnections.connecting{-webkit-animation-name:stream-routing-connecting-blinker;-webkit-animation-duration:.5s;-webkit-animation-iteration-count:infinite;-webkit-animation-direction:alternate;-webkit-animation-timing-function:ease-out;animation-name:stream-routing-connecting-blinker;animation-duration:.5s;animation-iteration-count:infinite;animation-direction:alternate;animation-timing-function:ease-out}@-webkit-keyframes stream-routing-connecting-blinker{0%{color:hsla(0,0%,79%,.01)}to{color:#c9c9c9}}@keyframes stream-routing-connecting-blinker{0%{color:hsla(0,0%,79%,.01)}to{color:#c9c9c9}}.selectMenu.streamConnections.failed{color:#949494;font-style:italic}body:not(.mobile) .selectList li:not(.disabled):hover>.button{background-position:-90px 30px}body:not(.mobile) .selectList.radio li:not(.disabled):hover>.button{background-position:-90px 0}body:not(.mobile) .selectList li.ui-selected:not(.disabled):hover>.button{background-position:-30px 30px}body:not(.mobile) .selectList.radio li.ui-selected:not(.disabled):hover>.button{background-position:-30px 0}.glideMetaButton{background-image:url(img/radiocheckbox.png);background-size:150px 60px;background-position:-60px 30px}body:not(.mobile) .glideMetaButton:hover{background-position:-30px 30px}body:not(.mobile) .glideMetaButton:active{background-position:-60px 30px}.glideMetaButton.ui-none-selected{background-position:-120px 30px}.glideMetaButton.ui-all-selected{background-position:0 30px}body:not(.mobile) .glideMetaButton.ui-none-selected:hover{background-position:-90px 30px}.toolTip{position:absolute;z-index:12;padding:2px;background-color:#121212;color:#7faec6;border:1px solid #000;border-radius:2px;box-shadow:1px 1px 2px #000;font-size:11px;font-weight:700;text-align:center;overflow:hidden}.toolTipInvisible{opacity:0}.toolTipText{display:block;color:#7faec6;width:75px;height:20px}.toolTipText input{border:none;padding:0;margin:0;resize:none;text-align:center;background:transparent;position:absolute;top:0;bottom:0;right:0;left:0}.toolTipWarning{color:#7faec6;padding:0 4px 4px;margin:0;max-width:150px;word-wrap:break-word}.popupDiv{position:abolute;z-index:11;margin:1px;border:1px solid #000;background-image:linear-gradient(180deg,hsla(0,0%,100%,.04),transparent);background-color:#5c5c5c;box-shadow:inset 1px 1px hsla(0,0%,100%,.09),inset -1px -1px hsla(0,0%,100%,.05);border-radius:2px}.knobArcWell{position:relative;width:30px;height:30px;margin:auto}.knobArc{top:1px;left:3px}.knobArcWellBg{top:0;left:2px}.knobCap{width:28px;height:27px;margin:0 auto;background:url(img/knob-cap.png) no-repeat;background-size:30px 30px;text-align:center;padding-left:1px;padding-top:1px;cursor:pointer;opacity:.99}:not(.enabled).enabledWrapper .knobCap{opacity:.3}.hFaderEmpty{height:21px}.hFaderGroup{position:relative;height:23px;width:64px;margin:auto;font-size:9px;text-align:center;cursor:pointer}.hFaderGroup.double{height:40px}.hFaderGroup.effectMeter{cursor:default}.hFaderGroup .label{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.hFaderIndicator{display:block;position:absolute;width:0;height:0;border-left:3px solid transparent;border-right:3px solid transparent;border-bottom:3px solid #333;bottom:0;opacity:.99}:not(.enabled).enabledWrapper .hFaderIndicator{opacity:.3}.hFaderWell{opacity:.99}.hFaderArc{position:relative;top:2px;left:-2px}.hFaderArc>canvas{width:68px;height:20px}:not(.enabled).enabledWrapper .hFaderWell{opacity:.3}.hFader{position:relative;height:10px}.hFaderMeter{width:62px;height:4px;background-color:#121212;border:1px solid #000;border-radius:2px}.hFaderThumb{position:absolute;top:-1px;width:2px;padding:1px 1px 2px;background-image:linear-gradient(180deg,hsla(0,0%,100%,.3),transparent);background-color:hsla(0,0%,100%,.3);box-shadow:0 0 1px 1px rgba(0,0,0,.25),2px 2px 5px rgba(0,0,0,.2),inset 0 0 1px 1px hsla(0,0%,100%,.15),inset -1px -1px hsla(0,0%,100%,.05);border-radius:2px;-webkit-user-select:element;-moz-user-select:element;-ms-user-select:element;-o-user-select:element;user-select:element;cursor:pointer;color:#379b37;font-size:8px;font-weight:100}.talkbackWrapper .auxDiv .hFaderMeter,.talkbackWrapper .auxDiv .hFaderThumb,.talkbackWrapper .faderMeterDiv .hFaderMeter,.talkbackWrapper .faderMeterDiv .hFaderThumb,.talkbackWrapper .groupDiv .hFaderMeter,.talkbackWrapper .groupDiv .hFaderThumb{opacity:.3}.compDiv{position:relative}.hFaderGroup.effectMeter{margin-top:3px}.hFaderWell>canvas,.meterLED>canvas{vertical-align:top}.meterLED{overflow:hidden;display:inline-block;width:8px;height:8px;border:1px solid rgba(0,0,0,.6);border-radius:4px;background:rgba(0,0,0,.6);opacity:.99}.faderWellWrapper{clear:both;position:absolute;top:30px;left:15px;width:44px;padding:2px;background:#000;border-radius:3px}.faderMeterWell{position:relative;height:178px;width:40px;padding:2px;background-color:#0b232f;border-radius:3px 3px 0 0}.faderThumb{position:absolute;left:2px;width:36px;padding:18px 0;margin:auto;background-image:linear-gradient(180deg,hsla(0,0%,100%,.3),transparent);background-color:hsla(0,0%,100%,.3);box-shadow:0 0 1px 1px rgba(0,0,0,.25),2px 2px 5px rgba(0,0,0,.2),inset 0 0 1px 1px hsla(0,0%,100%,.15),inset -1px -1px hsla(0,0%,100%,.05);border-radius:2px}.faderMeterTrack{margin-top:17px;height:162px;position:relative;cursor:pointer}.faderThumbTick{height:1px;border-top:1px solid rgba(0,0,0,.7);background-color:#3eff3e}.faderMeterOn{border:0;height:180px;border-radius:2px 2px 0 0}.faderMeterOn,.faderMeterPeak{position:absolute;top:2px;left:2px;padding:0;margin:0;width:40px}.faderMeterPeak{border:0;height:1px;background-color:red}.leftPeak,.rightPeak{width:19px}.rightPeak{left:23px}.faderMeterStereo{width:19px}.faderMeterStereoRight{left:23px}.faderTrackDiv{display:none;position:absolute;top:2px;left:2px;width:40px;padding:18px 0}.faderReadout{width:44px;margin:4px 0;height:15px;background:transparent;border:none;resize:none;font-weight:400}.meterLabelDiv{position:absolute;top:21px;left:-13px}.meterLabel{cursor:pointer;width:12px;height:15px;margin-bottom:17px;background-image:url(img/meter-labels.png);background-size:12px 192px;text-indent:-8000px}.meterLabel0dB{background-position:0 -32px}.meterLabel-12dB{background-position:0 -64px}.meterLabel-24dB{background-position:0 -96px}.meterLabel-36dB{background-position:0 -128px}.meterLabel-infdB{background-position:0 -158px}.meterLabelTickDiv{position:absolute;top:20px;left:45px}.meterLabelTick{width:12px;height:10px;margin-bottom:22.5px;background-image:url(img/meter-label-tick.png);background-size:12px 32px}.panKnobWell{position:absolute;top:250px;left:15px;width:44px;height:58px;background-color:#000;border-radius:22px 22px 6px 6px;box-shadow:1px 1px hsla(0,0%,100%,.1)}.talkbackWrapper .panKnobWell{opacity:.3}body.mobile .panKnobWell{top:243px;height:40px}.panKnobArcOff,.panKnobArcOn{position:absolute}.panKnobCap{margin:0 auto;background:url(img/pan-knob-cap.png) no-repeat;background-size:34px 34px;background-position:50%;margin-top:2px;text-align:center;cursor:pointer}.panKnobReadout{box-sizing:border-box;-moz-box-sizing:border-box;position:absolute;display:block;bottom:2px;background:transparent;border:none;resize:none;width:44px;cursor:text}body.mobile .panKnobReadout{display:none}.centerButton{box-sizing:border-box;-moz-box-sizing:border-box;position:absolute;display:block;top:285px;height:24px;width:44px;text-align:center;left:15px;font-size:10px}body:not(.mobile) input:not(.preferenceReadout).selectable,body:not(.mobile) input:not(.preferenceReadout):hover,body:not(.mobile) textarea.selectable,body:not(.mobile) textarea:hover{box-shadow:inset 0 0 4px 2px rgba(25,178,255,.65);transition:box-shadow .1s}body:not(.mobile) input[readonly]:not(.preferenceReadout):hover,body:not(.mobile) textarea[readonly]:hover{box-shadow:none;transition:none}.progressBarFrame{position:relative;border:1px solid #ccc;width:50%;height:20px;margin:auto}.progressBarFrame .progressBar{height:100%;position:absolute;background-color:#555}.checkBtn{background:none;background-image:url(img/radiocheckbox.png);background-size:150px 60px;height:30px;width:30px;background-position:-120px 30px;padding:0;border:none;box-shadow:none;border-radius:0;display:inline-block;cursor:pointer}body:not(.mobile) .checkBtn.active{background-position:0 30px}body:not(.mobile) .checkBtn:not(.disabled):hover{background-position:-90px 30px}body:not(.mobile) .checkBtn.active:not(.disabled):hover{background-position:-30px 30px}body:not(.mobile) .checkBtn:not(.disabled).active:active,body:not(.mobile) .checkBtn:not(.disabled):active{background-position:-60px 30px}.modalPaneWrapper{position:absolute;width:100%;height:100%;bottom:0;top:0;text-align:center;background-color:#212121;display:table;z-index:3000}.modalPane{display:table-row}.modalPane .prompt{max-width:600px;margin:auto;text-align:center;font-family:Helvetica,Arial,sans-serif;font-size:24px;margin-bottom:20px;overflow-x:auto}.modalPane .progressBarFrame{margin-bottom:20px}.modalPane .utilityBtn{width:200px;display:inline-block;margin:auto}.modalPane .confirmation,.modalPane .modal{height:auto;width:auto;left:auto;top:auto;position:static;display:table-cell;vertical-align:middle}.modalPane .modal .spinner-container{height:auto;position:relative}.modalPane .spinner-container .spinner{height:auto;position:relative;display:block;margin-bottom:20px}.modalPane .cancel,.modalPane .okay{margin-left:15px;margin-right:15px}.inline-navbar{float:left;height:100%;padding:0}.avb-menu{height:100%;border:1px solid #000;border-top:0;overflow:hidden}.avb-menu.collapsed{width:36px;padding-right:0}.extra{display:table;width:auto;border-right:1px solid #000;overflow:hidden;background:#292929}.extra.hidden{width:0;border:none;display:block}.content{position:absolute;right:0;bottom:0;left:0;top:0;background:#292929}@media (orientation:landscape){body.iPadOS7 .content{bottom:0;height:672px!important}}.logo-div{margin:0;width:123px}.collapse-btn,.logo-div{box-sizing:border-box;-moz-box-sizing:border-box;height:36px;border-top:1px solid #000;border-bottom:1px solid #000;display:inline-block;background-image:linear-gradient(180deg,hsla(0,0%,100%,.1),transparent);background-color:#2e2e2e;box-shadow:inset 1px 1px hsla(0,0%,100%,.09),inset -1px -1px hsla(0,0%,100%,.05);position:relative;vertical-align:top}.collapse-btn{width:36px;border-right:1px solid #000;cursor:pointer}.collapse-btn:before{content:"";background-position:-22px 5px;background-size:260px 260px;background-image:url(img/iconset.png);position:absolute;top:0;left:0;right:0;bottom:2px}.collapse-btn.collapsed:before{width:100%;background-position:-48px 5px}.collapse-btn.collapsed{border-right:none}.motu-logo{display:block;background:url(img/motu-logo.png) no-repeat;height:34px}.main-nav{clear:both;margin:0}.main-nav.collapsed{width:auto}.main-nav.input{display:none}.main-nav.label{position:relative;display:block;overflow:hidden;height:36px;color:#bbb;border-bottom:1px solid #323232;box-sizing:border-box;-moz-box-sizing:border-box;background-color:#1b1b1b;font-size:14px;padding:0;cursor:pointer;width:159px}.main-nav.label.collapsed{width:36px}.main-nav.item.collapsed{font-size:10px;white-space:nowrap}.main-nav.label.extra-toggle.expanded{position:absolute;right:0;top:0;width:36px}.extra-options{padding-top:7px;padding-bottom:7px}body:not(.mobile) .main-nav.label:not(.selected):hover{background-color:#404040;box-shadow:none}.main-nav.label.selected,.main-nav.label.sub-selected{color:#3fb8ff;box-shadow:inset 0 0 4px rgba(0,0,0,.25),2px 2px 3px rgba(0,0,0,.3);text-shadow:0 0 3px rgba(0,0,0,.8)}.main-nav.label.grab-attention:not(.selected){animation-name:flash;-webkit-animation-name:flash;animation-duration:4s;-webkit-animation-duration:4s;animation-iteration-count:infinite;-webkit-animation-iteration-count:infinite}.main-nav.label.selected{background-color:#003d5c}.main-nav.label.sub-selected{background-color:#11598b}.main-nav.item,.nav-text{font-family:Helvetica,Arial,sans-serif;font-size:14px;text-align:left}.main-nav.item{position:relative;top:10px;margin-right:10px;padding:10px 0;padding-left:4px}.main-nav.item.sub{top:8px;margin-right:1px;padding-right:34px}.main-nav.icon{box-sizing:border-box;-moz-box-sizing:border-box;height:36px;width:36px;float:left;background-origin:padding-box;background-size:auto;-webkit-background-clip:border-box;-webkit-background-origin:padding-box;-webkit-background-size:auto;background-attachment:scroll;background-clip:border-box;background-color:transparent;background-image:url(img/tabicons.png);background-size:105px 423px}.main-nav.icon.device{background-position:0 0}.main-nav.icon.routing{background-position:0 -36px}.main-nav.icon.aux-mixing{background-position:0 -72px}.main-nav.icon.mixing{background-position:0 -108px}.main-nav.icon.touch-console{background-position:0 -180px}.main-nav.icon.fader-mode-aux{background-position:0 -216px}.main-nav.icon.fader-mode-reverb{background-position:0 -252px}.main-nav.icon.fader-mode-fader{background-position:0 -288px}.main-nav.icon.fader-mode-group{background-position:0 -324px}.main-nav.icon.fader-mode-main{background-position:0 -360px}.main-nav.label .icon.aux-setup,.main-nav.label .icon.mix-setup,.main-nav.label .icon.routing-setup{background-position:0 -141px}.selected>.main-nav.icon.device{background-position:-35px 0}.selected>.main-nav.icon.routing{background-position:-35px -36px}.selected>.main-nav.icon.aux-mixing{background-position:-35px -72px}.selected>.main-nav.icon.mixing{background-position:-35px -108px}.selected>.main-nav.icon.touch-console{background-position:-35px -180px}.selected>.main-nav.icon.fader-mode-aux{background-position:-35px -216px}.selected>.main-nav.icon.fader-mode-reverb{background-position:-35px -252px}.selected>.main-nav.icon.fader-mode-fader{background-position:-35px -288px}.selected>.main-nav.icon.fader-mode-group{background-position:-35px -324px}.selected>.main-nav.icon.fader-mode-main{background-position:-35px -360px}.sub-selected>.main-nav.icon.aux-setup,.sub-selected>.main-nav.icon.mix-setup,.sub-selected>.main-nav.icon.routing-setup{background-position:-35px -141px}.dev-sel-header{height:36px;box-sizing:border-box;-moz-box-sizing:border-box;margin:0;padding:9px 12px;border-top:1px solid #000;border-bottom:1px solid #000;background-image:linear-gradient(180deg,hsla(0,0%,100%,.1),transparent);background-color:#2e2e2e;box-shadow:inset 1px 1px hsla(0,0%,100%,.09),inset -1px -1px hsla(0,0%,100%,.05);color:#ccc;font-family:Helvetica,Arial,sans-serif;font-size:13px;font-weight:700;text-shadow:-1px -1px rgba(0,0,0,.8);text-transform:uppercase;vertical-align:middle;overflow:hidden;clear:both}.dev-sel-list{height:100%;margin:0;border:0;padding:5px 0;width:159px;background-color:#292f36;background-image:url(img/dot-grid-blue.png);background-image:-webkit-gradient(linear,0 top,0 bottom,from(#21262b),to(rgba(0,0,0,.6)));background-image:-webkit-linear-gradient(top,#21262b,rgba(0,0,0,.6));background-image:-moz-linear-gradient(top,#21262b,rgba(0,0,0,.6));background-image:-ms-linear-gradient(top,#21262b,rgba(0,0,0,.6));background-image:-o-linear-gradient(top,#21262b,rgba(0,0,0,.6));box-shadow:inset 2px 1px 30px 10px rgba(0,0,0,.4);overflow-y:hidden;list-style:none}.hidden,.list-hidden li{display:none}.dev-sel-list li{cursor:pointer}.dev-list-item{width:129px;position:relative;display:inline-block;overflow:hidden;height:30px;padding:8px 0 0 10px;box-sizing:border-box;-moz-box-sizing:border-box;color:#75c5ff;font-size:12px;font-weight:700;white-space:nowrap;text-decoration:none;text-overflow:ellipsis;text-shadow:1px 1px #0f1e2b,1px -1px #0f1e2b,-1px 1px #0f1e2b,-1px -1px #0f1e2b}.dev-sel-list li:after{background-image:url(img/radiocheckbox.png);background-size:150px 60px;background-position:-120px 0;content:"";display:inline-block;height:30px;width:30px;vertical-align:top}body:not(.mobile) .dev-sel-list li:hover:after{background-position:-90px 0}body:not(.mobile) .dev-sel-list li.selected:hover:after{background-position:-30px 0}body:not(.mobile) .dev-sel-list li.selected:active:after,body:not(.mobile) .dev-sel-list li:active:after{background-position:-60px 0}.dev-sel-list li.selected:after{background-position:0 0}.dev-list-item.acquired{padding-right:50px}.dev-list-item.acquired:before{content:"";background:url(img/iconset.png) no-repeat right 0;background-size:260px 260px;background-position:-80px -40px;background-size:130px 130px;position:absolute;width:9px;height:11px;right:34px}.nav-ui-container{position:absolute;bottom:0;overflow-x:hidden;overflow-y:scroll;overflow:-moz-scrollbars-none;-webkit-overflow-scrolling:touch}.passwordField,.preferenceReadout,.selectMenu.deviceMenu,.selectMenu.streamMenu{box-sizing:border-box;-moz-box-sizing:border-box;vertical-align:baseline;width:190px}@-moz-document url-prefix(){.preferenceReadout,.selectMenu.deviceMenu,.selectMenu.streamMenu{padding-top:2px}}.selectMenu.deviceMenu.inProgress,.selectMenu.streamMenu.connecting{-webkit-animation-name:stream-connecting-blinker;-webkit-animation-duration:.5s;-webkit-animation-iteration-count:infinite;-webkit-animation-direction:alternate;-webkit-animation-timing-function:ease-out;animation-name:stream-connecting-blinker;animation-duration:.5s;animation-iteration-count:infinite;animation-direction:alternate;animation-timing-function:ease-out}@-webkit-keyframes stream-connecting-blinker{0%{color:rgba(147,210,255,.01)}to{color:#93d2ff}}@keyframes stream-connecting-blinker{0%{color:rgba(147,210,255,.01)}to{color:#93d2ff}}.selectMenu.streamMenu.failed{color:#628caa;font-style:italic}.preferenceReadout{color:#93d2ff;border-radius:2px;resize:none;text-align:left}.passwordField{color:#93d2ff;resize:none;text-align:center;font-weight:700;background-color:#10222e;background-image:linear-gradient(180deg,hsla(0,0%,100%,.1),transparent);display:inline-block;padding:0 10px;width:200px;height:25px;border:1px solid #000;border-radius:2px}.authentication{height:auto;width:auto;left:auto;top:auto;position:relative;display:table-cell;vertical-align:middle}.passwordTopText{font-size:18px;height:32px}.passwordLabel{font-size:12px;font-weight:700;color:#989999}.auxLinksTitle{margin-top:20px;font-size:18px;height:32px}.auxBtnContainer{width:325px;display:inline-block}.auxBtnSpacer{height:32px}.utilityBtn.auxBtnList{margin:1px}.devDivRow{display:table-row}.devDivRow:firstChild{width:100%}.spacerRow{color:transparent;height:6px;display:table-row}.devDiv{position:relative;background-color:#1f1f1f;padding-bottom:20px}.icDiv{margin-top:15px;margin-left:30px}.icBankDiv h5{margin:auto;font-size:14px;padding-top:5px;height:24px;border-radius:2px;margin-bottom:5px;background:#363636;color:#6e6e6e}.devDiv h3,.entityName,.icBankDiv h5{display:block;box-sizing:border-box;-moz-box-sizing:border-box;text-shadow:-1px -1px #000}.devDiv h3,.entityName{resize:none;margin:0;margin-bottom:9px;padding:6px;color:#e5e5e5;font-size:18px;text-align:center;background-image:linear-gradient(180deg,hsla(0,0%,100%,.05),transparent);background-color:#0b0d12}.entityName{clear:none;height:36px;margin-top:0;border:1px solid #000;width:100%;box-sizing:border-box;-moz-box-sizing:border-box}.devDiv h4{margin:40px auto 5px 30px;color:#c9c9c9;font-size:18px;text-shadow:-1px -1px #000;font-weight:400}.entDiv{position:relative}.devBtn,.devBtnStyle{background:linear-gradient(180deg,hsla(0,0%,100%,.01),transparent),#353535;border:1px solid #424242;box-sizing:border-box;-moz-box-sizing:border-box}.devBtn{position:absolute;width:30px;height:29px;cursor:pointer;bottom:3px;opacity:.99}.devBtn.disabled{opacity:.3}.devBtn:before{content:"";display:inline-block;width:26px;height:26px;margin-top:2px;text-align:center;background:url(img/iconset.png);background-size:260px 260px}body:not(.mobile) .devBtn:active:not(.clock):not(.disabled):before{margin-top:3px}.devBtn.lock:before{background-position:-130px -55px}.devBtn.lock.locked:before{background-position:-154px -55px}.targBtn{right:4px}.targBtn:before{background-position:1px -27px}.targBtn.active:before{background-position:-25px -27px}.devBtn.clock{left:4px;background:transparent;border:none;cursor:auto;position:static}.devBtn.clock.locked:before{background-position:-129px -27px}.devBtn.clock:not(.locked):before{background-position:-103px -27px;-webkit-animation-name:clocklock-blinker;-webkit-animation-duration:.5s;-webkit-animation-iteration-count:infinite;-webkit-animation-direction:alternate;-webkit-animation-timing-function:ease-out;animation-name:clocklock-blinker;animation-duration:.5s;animation-iteration-count:infinite;animation-direction:alternate;animation-timing-function:ease-out}@-webkit-keyframes clocklock-blinker{0%{opacity:.01}to{opacity:1}}@keyframes clocklock-blinker{0%{opacity:.01}to{opacity:1}}.presetButton.devBtn{left:4px}.presetButton.devBtn:before{background-position:1px -81px}.devMenuTb{margin:auto;margin-top:24px;margin-left:30px;text-shadow:-1px -1px #000}.devMenuTb .LTCmenuLabelNotResolved,.devMenuTb .menuLabel{vertical-align:center;width:33%;font-size:12px;font-weight:700;text-align:right}.devMenuTb .LTCmenuLabelNotResolved{color:#d80000}.devMenuTb .menuGroup{text-align:left}.devMenuTb .devMenuHeader,.devMenuTb .menuGroup{vertical-align:center;width:33%;font-size:12px;font-weight:700}.devMenuTb .devMenuHeader{text-align:center;margin-left:12px}.devSection{text-align:left;vertical-align:top;display:inline-block;width:335px;color:#989999}.devSection.info{width:auto;display:block}.infoTb{margin-left:30px;margin-top:18px;border-spacing:0;font-size:11px}.infoTb th{text-align:center;padding:3px;color:#696969;border-top:1px solid #232323;border-left:1px solid #484848;background-color:#232323}.infoTb td{padding:4px;border:1px solid #232323;border-right:0;text-align:center}.infoTb th:first-child{border-left:1px solid #232323;border-radius:5px 0 0 0}.infoTb th:last-child{border-radius:0 5px 0 0}.infoTb th:only-child{border-left:1px solid #232323;border-radius:5px 5px 0 0}.infoTb td:first-child{border-radius:0 0 0 5px}.infoTb td:last-child{border-right:1px solid #232323;border-radius:0 0 5px 0}.infoTb td:only-child{border-right:1px solid #232323;border-radius:0 0 5px 5px}.bankTable .helpText{margin-left:30px}.bankTable .selectListContainer{margin-top:10px;margin-left:30px}.bankTable .selectListContainer .scrollContainer{height:250px;bottom:auto}.bankItem{cursor:pointer;border-radius:5px;margin:auto;margin-left:5px;margin-top:5px;display:inline-block;border:1px solid #000;padding:5px}.bankItem.active{background:#670067}.bankItem.disabled{background:#006700}.icChDiv,.rcChDiv{float:left;width:68px;margin:1px;background-color:#5c5c5c;background-image:linear-gradient(180deg,hsla(0,0%,100%,.04),transparent);box-shadow:inset 1px 1px hsla(0,0%,100%,.09),inset -1px -1px hsla(0,0%,100%,.05);text-align:center;border-radius:3px;border:1px solid #333}.icChDiv{float:none;display:inline-block;padding-bottom:5px;vertical-align:top;color:#ccc}.icChDiv textarea{box-sizing:border-box;-moz-box-sizing:border-box}.icChDiv .knobGroup{margin-top:4px}.rcChDiv{margin-top:5px;background-color:#121212;box-shadow:inset 1px 1px 2px #000,1px 1px hsla(0,0%,100%,.1)}.icBankDiv{vertical-align:top;display:inline-block;margin-right:16px;margin-top:8px;text-align:left}.icBankDiv h5{text-align:center}.firmwareButton,.quickSetupButton,.restoreBtn,.slaveAll{text-align:center;width:180px;margin-top:24px;margin-left:60px}.slaveAll{width:150px}.activityMeter{background:#363636;border:1px solid #000;display:block;box-sizing:border-box;-moz-box-sizing:border-box;height:5px;width:35px;margin:auto;overflow:hidden}.activityMeter>canvas{vertical-align:top}.firmwareNag{background:#363636;padding:8px;padding-left:0;padding-right:0;border-radius:2px;margin:15px 3px -10px 30px;background-color:#4c3419;position:relative}.firmwareNag .firmwareButton{display:inline-block;position:absolute;right:5px;top:4px;color:#000;margin:auto;width:90px;border:1px solid #000;box-sizing:border-box;-moz-box-sizing:border-box}.firmwareNag span{font-weight:700;display:inline-block;margin-left:15px;font-size:14px;color:#dfc1a1;text-shadow:-1px -1px #000}.utilityBtn.devOK{width:50px;margin:auto}.toolTipWarning p{text-align:left}.toolTipWarning ul{text-align:left;padding-left:10px;margin-bottom:10px}.utilityBtn.pcUtilityBtn.vlLookahead{width:100px;margin-left:0;display:inline-block}.irrelevantCol,.irrelevantRow{opacity:.3}.irrelevantCol .irrelevantRow,.irrelevantRow .irrelevantCol{opacity:1}.devDiv .message ul{margin-left:40px}.jamsyncBtn{margin:0}.utilityBtn.abBtns{width:45px;float:left;margin-bottom:4px;margin-left:16px}.utilityBtn.active.abMute{background-color:red}.utilityBtn.footClear{width:20px;float:right;margin-left:3px}.preferenceReadout.footInput{float:left;width:163px}.abTrim{color:#ccc}.abControlContainer{float:left;border-radius:3px;border:1px solid #333;background-color:#5c5c5c;padding:11px;text-align:center;background-image:linear-gradient(180deg,hsla(0,0%,100%,.04),transparent);box-shadow:inset 1px 1px hsla(0,0%,100%,.09),inset -1px -1px hsla(0,0%,100%,.05);width:166px;height:50px}.abTrimContainer{float:left;margin-top:6px}.ctrlNameSpan{display:block;padding:2px}.routingPane{display:table;height:100%;width:100%}.ftdr2c1,.ftdr2c2,.ftdr2c3{vertical-align:top}.routeDivRow{display:table-row;height:100%;width:100%;margin:0}.routeWrapper{height:100%;background-image:linear-gradient(180deg,hsla(0,0%,100%,.08),transparent);background-color:#494949;border:1px solid #000;border-left:none}.routeDiv{display:table;height:100%;width:100%}.h4-internal-routing{display:table-cell;text-align:center;font-size:14px;margin:0;padding:10px 0;border-bottom:1px solid #000}.routeTableWrapper{display:table-row;height:100%;width:100%}.svgBG{z-index:10}.svgGrid{position:absolute;top:0;left:0;z-index:11}.rowLabelsSVG{position:absolute;right:-1px}.colLabelsSVG{position:absolute;bottom:-1px}.routingYHeader{-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-ms-transform:rotate(-90deg);-o-transform:rotate(-90deg);transform:rotate(-90deg);-webkit-transform-origin:50% 50%;-moz-transform-origin:50% 50%;-ms-transform-origin:50% 50%;-o-transform-origin:50% 50%;transform-origin:50% 50%}.routeDiv .clickBox.chLabel,.routeDiv .clickBox.groupLabel,.svgGrid .clickBox{cursor:pointer}.routeDiv.locked .svgGrid .clickBox{cursor:not-allowed}.routeOutput.srcLabel.bg{fill:#363636}.routeOutput.srcLabel.bg.hilite{fill:#232323}.groupLabel.routeOutput.bg,.outputHeader.bg,.routeInput.groupLabel.bg{fill:#2e2e2e;fill:#292929}.groupLabel.routeOutput.bg.collapsed,.routeInput.groupLabel.bg.collapsed{fill:#292929}.groupLabel.routeOutput.bg.collapsed.hilite,.routeInput.groupLabel.bg.collapsed.hilite{fill:#232323}.routeInput.chLabel.bg,.routeOutput.chLabel.bg{fill:#424242}.routeInput.chLabel.bg.hilite,.routeOutput.chLabel.bg.hilite{fill:#373737}.routeOutput.abLabel.bg{fill:#54b6fc;stroke:none}.routeOutput.abLabel{fill:#292929;pointer-events:none}.routingLed{stroke:#000}.disclosureArrowShadow{fill:none;stroke:#000}.disclosureArrow{fill:#a3a3a3;stroke:none}.disclosureArrow.hover{fill:#62c1ee}.bg{stroke:#191919;stroke-width:1px}text.groupLabel,text.outputHeader{fill:#9d9d9d}text.chLabel,text.srcLabel{fill:#c5c5c5;font-weight:400}text.chLabel.defaultName{fill:#959595;font-weight:400}text.chLabel.hilite,text.hilite,text.srcLabel.hilite{fill:#75c5ff}text.disconnected{font-style:italic}.gridLines{fill:none;stroke:rgba(39,165,255,.15);stroke-width:1px}.gridHilite{fill:#000;stroke:none;opacity:.1}.chicklet{fill:#8fc98f}.chicklet.preview{fill:#84cbff}.chicklet.preview.unroute{fill:#dc1212}.chicklet.preview.invalid{opacity:.2}.chicklet.full-dest-route,.chicklet.full-src-route{fill:#1289dc}.routingContent{background-color:#292929}.routingContent .xHeader{height:157px}.routingContent .yHeader{width:276px}.routingContent .xyHeader{height:157px;width:275px;background-color:#1e1e1e;display:table-cell;vertical-align:bottom;border-right:1px solid #000}.routingContent .xyHeader>div:not(.presetButton):not(.utilityBtn):not(.routingLock){position:absolute;bottom:0}.routingContent .xyHeader .presetButton{position:absolute;top:5px;left:5px}.routingContent .xyHeader .routingLock{border:1px solid #000;border-radius:2px;position:absolute;top:5px;left:40px;-webkit-transition:border .5s ease;-moz-transition:border .5s ease;-o-transition:border .5s ease;transition:border .5s ease}.routingContent .xyHeader .routingLock.routingLockFlash{border:1px solid red}.routingContent .xyHeader{padding-top:33px;box-sizing:border-box;-moz-box-sizing:border-box}.routingContent .xyHeader .utilityBtn{display:block;margin:auto;width:95px;vertical-align:top;margin-bottom:5px}.routingContent .scrollWrapper{left:276px;top:157px}.routingContent .scrollH{background-color:#1e1e1e;left:276px}.routingContent .scrollV{background-color:#1e1e1e;top:157px}.routeLegendX{position:absolute;top:0;height:19px;box-sizing:border-box;-moz-box-sizing:border-box;right:20px;left:276px;padding-top:3px;margin-bottom:1px;background:#1c1c1c}.routeLegendX p{margin:auto;color:#9d9d9d;text-align:center}.routeLegendY{position:absolute;left:0;width:19px;top:157px;bottom:20px;margin:0;border:1px solid #000;border-left:none;background:#1c1c1c;color:#9d9d9d;vertical-align:middle;line-height:100%;overflow:hidden}.routingPane .expandCollapseButton{background:url(img/disclosure-arrows.png);background-size:20px 80px;height:20px;width:23px;position:absolute;top:0;left:0;cursor:pointer}.routeLegendX .expandCollapseButton.collapse,.routeLegendY .expandCollapseButton.expand{background-position:-2px -3px}body:not(.mobile) .routeLegendX .expandCollapseButton.collapse:hover,body:not(.mobile) .routeLegendY .expandCollapseButton.expand:hover{background-position:-2px -23px}.routeLegendX .expandCollapseButton.expand,.routeLegendY .expandCollapseButton.collapse{background-position:-2px -43px}body:not(.mobile) .routeLegendX .expandCollapseButton.expand:hover,body:not(.mobile) .routeLegendY .expandCollapseButton.collapse:hover{background-position:-2px -63px}.routeLegendY p{position:absolute;top:40%;left:-11px;color:#9d9d9d;text-align:center}.chStripsDiv{margin:0;border:0;padding:0;text-shadow:0 -1px #282828;white-space:nowrap;display:inline-block;-webkit-transform:translateZ(0);transform:translateZ(0)}.chStripLabelCol{box-sizing:border-box;-moz-box-sizing:border-box;width:105px;padding:3px 0;border-right:1px solid #000;border-top:1px solid hsla(0,0%,100%,.07);border-bottom:1px solid rgba(0,0,0,.75);background-image:linear-gradient(90deg,hsla(0,0%,100%,.04),transparent);background-color:#2b2b2b;text-align:right}.chStripLabelCol h5{margin:3px 5px 2px;height:13px;padding:0;color:gray;font-size:11px}.processingLabel{font-size:11px;position:absolute;bottom:14px;left:2px}.processingWell{border:1px solid gray;height:4px;position:absolute;left:5px;width:85px;bottom:4px;border-radius:2px}.processingOn{position:absolute;left:0;top:0;bottom:0;right:0;background:#606060}.chParamGroupDiv{background-image:linear-gradient(180deg,hsla(0,0%,100%,.04),transparent);overflow:hidden}.legendGroupDiv{position:relative;top:0;height:auto}.auxCtrlGroup{width:auto;margin-left:56px;margin-bottom:5px}.groupCtrlGroup{width:auto;margin-left:40px;margin-bottom:5px}.chDisabledDiv{position:absolute;left:0;top:0;width:100%;height:0;background:#666;opacity:.8;margin:0;padding:0}.chStripsNamesDiv .chDisabledDiv{background:#555;width:73px}.chDisabled{height:100%}.legendSendRow{height:23px}.legendSendRow.double{height:40px}.chStripNamesDiv{padding-bottom:3px;text-align:center;color:#ccc;text-shadow:0 -1px #282828}.chStripNameTd{position:relative;margin:0;padding:0;padding-top:10px;height:34px;background-image:linear-gradient(180deg,hsla(0,0%,100%,.1),transparent);background-color:#2e2e2e;border-bottom:1px solid #000;vertical-align:bottom;display:hidden;overflow:hidden}.chNameDiv{position:relative;display:inline-block;box-sizing:border-box;-moz-box-sizing:border-box;width:75px;height:69px;vertical-align:top;border-right:1px solid #1a1a1a;background-color:#373737}body:not(.mobile) .chNameDiv.hover,body:not(.mobile) .chNameDiv:hover{background:#4b4b4b}.reverbNameDiv{width:149px}.chNameDivSpacer{display:inline-block;width:5px}.bankChNameEntry,.chNameEntry,.chNameEntryDiv{overflow-y:auto;overflow-x:hidden;width:75px;background-color:transparent;border:none;text-align:center;font-family:Lucida Grande,Helvetica,Arial,sans-serif;font-size:11px;color:#ccc;margin-bottom:2px}.reverb .chNameEntryDiv{width:149px}.reverb .chNameEntryDiv.auxMixerReverb{width:75px}body:not(.mobile) .chNameDiv.hover .chNameEntry,body:not(.mobile) .chNameDiv.hover .chNameEntryDiv{background-color:#262626;color:#fff}.chNameEntry,.chNameEntryDiv{background-color:#1a1a1a;box-sizing:border-box;-moz-box-sizing:border-box;border-right:1px solid #373737}.bankChNameEntry{height:15px;width:97%;padding:0;resize:none}.chNameEntry,.chNameEntryDiv{height:44px;padding:2px 0}.chNameEntry{cursor:pointer;resize:none}.chNameEntry:focus{color:#fff;padding:none}.chStripsControlsDiv{width:74px;height:20px;position:relative;top:10px;left:0;border-top:1px solid #444}.chFormatDiv{vertical-align:top;display:inline-block;float:right;padding:0;border:0;width:16px;height:16px;overflow:hidden;background:url(img/iconset.png) -4px -50px;background-size:260px 260px;cursor:pointer}.chFormatDiv.active{background:url(img/iconset.png) -30px -50px;background-size:260px 260px}.noClick{cursor:auto;opacity:.5}.disclosureDiv{display:inline-block;margin:0;padding:0;border:0;width:20px;height:20px;overflow:hidden;background:url(img/iconset.png) -108px -54px;background-size:260px 260px;cursor:pointer}.disclosureDiv.disabled{cursor:auto;opacity:.15}.routingDiv{display:inline-block;padding:0;border:0;width:20px;height:20px;background:url(img/iconset.png) -82px -55px;background-size:260px 260px;cursor:pointer}.forceCompositingRoot{-webkit-transform:rotateX(0)}.chStripDiv{display:inline-block;vertical-align:top;position:relative;margin:0;padding:0;margin-right:1px;background-color:#5c5c5c}.chStripDiv.aux,.chStripDiv.group,.chStripDiv.main,.chStripDiv.monitor,.chStripDiv.reverb{background-color:#484848}.chStripSpacer{vertical-align:top;display:inline-block;padding-right:4px;border-right:1px solid #000}.chStripGroupDiv,.chStripGroupEmptyDiv,.reverbSidecar{box-sizing:border-box;-moz-box-sizing:border-box;position:relative;text-align:center;overflow:none;padding:3px;margin:0;white-space:normal;background-color:transparent;border-top:1px solid #797e7e;border-bottom:1px solid #2e2e2e}.gateLED canvas,body:not(.mobile).chrome .effectMeter canvas,body:not(.mobile).chrome .faderMeterWell canvas{-webkit-transform:rotateX(0)}.chStripGroupDiv{width:74px}.reverbDoubleSection .chStripGroupDiv{vertical-align:top;display:inline-block;width:74px;border-right:1px solid #2b2b2b}.reverbDoubleSection .faderMeterDiv{border-right:none}.reverbDoubleSection .chStripGroupDiv.reverbDiv{border-right:none;height:353px}.reverbDoubleSection .chStripGroupEmptyDiv{vertical-align:top;display:inline-block;width:74px}.reverbSidecar{width:74px;padding:3px;display:inline-block}.chStripGroupDiv .chStripGroup:first-child{border-top:0}.chStripGroupDiv .chStripGroup:last-child{border-bottom:0}.legendDiv{overflow:hidden}.hpfDiv{height:84px}.gateDiv{height:126px}.eqDiv{height:482px;position:relative}.eqGraphDiv{height:49px;position:relative}.compDiv{height:215px}.compGraphDiv{height:77px;position:relative}.compDiv .knobGroup{margin-bottom:3px}.auxDiv{padding-bottom:19px}.auxDiv:not(.chStripLabelCol){padding-top:21px}.faderMeterDiv,.reverbSidecar{height:353px;position:relative}.groupDiv:not(.chStripLabelCol){padding-top:21px}.talkbackDiv,.tbDiv{height:90px;position:relative}.eqHr{padding-top:5px;border-bottom:1px solid #333;margin-bottom:5px;clear:both}.groupLabel{display:inline-block;max-width:40px;vertical-align:top;margin-bottom:4px;padding-top:4px;padding-bottom:2px;margin-top:3px;font-size:10px;font-weight:700}.groupLabel.lowshelf,.groupLabel.mid1,.groupLabel.mid2{margin-right:16px}:not(.enabled).enabledWrapper{color:#a0a0a0}.auxMix.chStripFaderGroup,.chStripFaderGroup{height:333px;padding:5px 2px}.auxMix.chStripFaderGroup{width:74px;display:table-cell;vertical-align:bottom}.chStripGroup{padding:3px}.groupDivider{margin:3px 0;border-bottom:1px solid rgba(0,0,0,.3)}.groupSpacer{margin:8px 0}.smallLabel{font-size:8px}.knobGroup{white-space:nowrap;display:inline-block;width:32px;height:42px;margin:0;padding:0;font-size:9px;text-align:center;vertical-align:top}.knobGroup.makeup{margin-top:17px}.knobGroup.wide{width:auto;min-width:32px}.knobGroup .knobPath,.panKnobCap .knobPath{stroke:#62c1ee}.ctrlEv{border:0;margin:0;padding:0;width:100%;height:100%}.faderReadout,.panKnobReadout{color:#7faec6;font-size:9px;font-weight:700;text-align:center;overflow:hidden}.panKnobCap>svg{margin:auto}.gateLED{position:absolute;bottom:4px;right:4px}.gateLED canvas{border-radius:4px}:not(.enabled).enabledWrapper .gateLED{opacity:.3}.utilityBtn.active{background-color:#62c1ee}.utilityBtn.reverseActive.active{background-color:#a3a3a4}.utilityBtn.reverseActive:not(.active){background-color:#62c1ee}.btnGroup{width:56px;margin:3px auto}.btnGroup .utilityBtn{float:left;margin:0 1px}.utilityBtn{text-decoration:none;padding:4px 1px 3px;color:#383838;background-image:linear-gradient(180deg,hsla(0,0%,100%,.3),transparent);background-color:#a3a3a3;box-shadow:1px 1px 1px rgba(0,0,0,.25),inset 1px 1px hsla(0,0%,100%,.09),inset -1px -1px hsla(0,0%,100%,.05);border:1px solid rgba(0,0,0,.6);border-radius:2px;font-weight:700;text-align:center;text-shadow:0 1px 1px hsla(0,0%,100%,.6);cursor:pointer}.effectHeader{display:block;text-align:justified}.utilityBtn{opacity:.99}:not(.enabled).enabledWrapper .utilityBtn{opacity:.3}.utilityBtn.placeholder{visibility:hidden}body:not(.mobile) .utilityBtn:active{padding:5px 1px 2px}body:not(.mobile) .utilityBtn.disabled:active,body:not(.mobile) :not(.enabled).enabledWrapper .utilityBtn:active{padding:4px 1px 3px}.enableBtn{cursor:pointer;display:inline-block;float:left;margin-top:-3px;margin-left:-3px;width:16px;height:20px;background-image:url(img/power-btn.png);background-size:32px 16px;background-repeat:no-repeat}.enableBtn.active{background-position:-16px 0}body:not(.mobile) .enableBtn.active:active,body:not(.mobile) .enableBtn:active{background-position:-16px 1px}.utilityBtn.smUtilityBtn{width:20px}.utilityBtn.pcUtilityBtn{width:50px;margin:3px auto}.utilityBtn.limitUtilityBtn,.utilityBtn.rmsUtilityBtn,.utilityBtn.shelfBtn{display:inline-block;float:none;padding:6px 1px 5px;min-width:27px;margin:auto;margin-top:7px;margin-right:2px;font-size:9px}body:not(.mobile) .utilityBtn.makeupGainBtn:active,body:not(.mobile) .utilityBtn.rmsUtilityBtn:active{padding:5px 1px 4px}body:not(.mobile) :not(.enabled).enabledWrapper .utilityBtn.makeupGainBtn:active,body:not(.mobile) :not(.enabled).enabledWrapper .utilityBtn.rmsUtilityBtn:active{padding:4px 1px 5px}.utilityBtn.rmsUtilityBtn{padding:4px 1px 5px;margin-top:-2px}.utilityBtn.makeupGainBtn{font-size:9px;width:27px;margin-top:0;position:absolute;top:95px;margin-left:2px;padding:4px 1px 5px}body:not(.mobile) .limitUtilityBtn:active,body:not(.mobile) .utilityBtn.shelfBtn:active{padding:7px 1px 4px}body:not(.mobile) :not(.enabled).enabledWrapper .limitUtilityBtn:active,body:not(.mobile) :not(.enabled).enabledWrapper .utilityBtn.shelfBtn:active{padding:6px 1px 5px}.utilityBtn.limitUtilityBtn{margin-top:10px}.utilityBtn.talkSelBtn{margin:auto;width:20px;height:14px;font-size:16px;line-height:17px}.utilityBtn.compGraph{width:82px;margin:auto;margin-top:4px}.pannerBtn,.preFadeBtn,.sendSoloBtn{float:right;width:24px;box-sizing:border-box;-moz-box-sizing:border-box;height:18px;margin-top:3px;margin-right:3px;font-size:9px}.preFadeBtn.placeholder{padding:5px 2 4px;border:1px}.utilityBtn.invalid{opacity:0;pointer-events:none}.utilityBtn.preFadeBtn.active{background-color:#62c1ee}.utilityBtn.sendSoloBtn.active{background-color:#fff94f}.utilityBtn.smSoloBtn{float:left;width:24px;height:9px;margin-top:3px;margin-right:3px;font-size:9px}.utilityBtn.legendClearSolo{width:66px;position:absolute;top:3px;right:5px}.utilityBtn.legendPreFader{width:30px;position:absolute;top:56px;right:5px}.legendTalkback{width:35px;position:absolute;left:12px;top:31px}.legendTalkbackSticky{width:30px;height:9px;position:absolute;left:68px;top:64px;font-size:9px}.enBtnGroup{width:56px}.enBtnGroup .utilityBtn{float:left}.utilityBtn.smSoloBtn.active,.utilityBtn.soloBtn.active{background-color:#fff94f}.utilityBtn.muteBtn.active{background-color:#ff584f}.utilityBtn.disabled{cursor:auto;opacity:.5}.enableBtn{opacity:.99}.enableBtn:not(.available):not(.active){opacity:.3;cursor:default}.utilityBtn.autoBtn.active{background-color:#62c1ee}.dev-list-item.identify,.utilityBtn.autoBtn.rude{-webkit-animation-name:rude-blinker;-webkit-animation-duration:.6s;-webkit-animation-iteration-count:infinite;-webkit-animation-direction:alternate;-webkit-animation-timing-function:ease;animation-name:rude-blinker;animation-duration:.6s;animation-iteration-count:infinite;animation-direction:alternate;animation-timing-function:ease}.utilityBtn.autoBtn.rude.active{-webkit-animation-name:active-rude-blinker;animation-name:active-rude-blinker}@-webkit-keyframes rude-blinker{0%{background:#a3a3a3}to{background:#fff94f}}@keyframes rude-blinker{0%{background:#a3a3a3}to{background:#fff94f}}@-webkit-keyframes active-rude-blinker{0%{background:#62c1ee}to{background:#fff94f}}@keyframes active-rude-blinker{0%{background:#62c1ee}to{background:#fff94f}}.dev-list-item.identify{-webkit-animation-name:device-blinker;animation-name:device-blinker}@-webkit-keyframes device-blinker{to{background-color:rgba(68,185,255,.5)}}@keyframes device-blinker{to{background-color:rgba(68,185,255,.5)}}.utilityBtn.vlClipBtn.active,.utilityBtn.vlLimitBtn.active{background-color:#62c1ee}.utilityBtn.phantomBtn.active{background-color:red}.utilityBtn.phaseBtn.active{background-color:#ff0}.utilityBtn.padBtn.active{background-color:#62c1ee}.utilityBtn.redBtn.active{background-color:#ff584f}.soloBtn{float:left;margin-left:8px}.muteBtn{float:left;margin-left:4px}.muteBtn:first-child{margin-left:8px}.monitorAssignMenu{font-family:Lucida Grande,Tahoma,sans-serif;font-size:11px;padding:0;position:absolute;width:68px;top:250px;text-align:center;margin:auto;display:block;box-sizing:border-box;-moz-box-sizing:border-box}.monitorAssignMenu.ignored{font-style:italic}@-moz-document url-prefix(){.monitorAssignMenu{padding-top:4px;font-size:10px}}.utilityBtn.autoBtn{margin:auto;text-align:center;width:66px;font-size:12px;height:14px;padding:4px 0 3px}.utilityBtn.autoBtnStripPos{top:280px}.utilityBtn.autoBtnStripPos,.utilityBtn.auxPanPos{box-sizing:border-box;-moz-box-sizing:border-box;position:absolute;margin:auto;text-align:center;width:68px;font-size:10px;height:23px;padding:4px 2px 3px}.utilityBtn.auxPanPos{top:250px}.utilityBtn.shareMixPos{box-sizing:border-box;-moz-box-sizing:border-box;position:absolute;top:310px;margin:auto;text-align:center;width:68px;font-size:10px;height:36px;left:2px;padding:4px 2px 3px}.utilityBtn.active.soloIgnored,.utilityBtn.active.soloOverridden{background-color:#a39f65}.mixerContent .xHeader{height:70px}.mixerContent .yHeader{width:105px}.mixerContent .xyHeader{height:70px;width:105px;box-sizing:border-box;-moz-box-sizing:border-box;background-image:linear-gradient(90deg,hsla(0,0%,100%,.04),transparent);background-color:#2b2b2b;border-bottom:1px solid rgba(0,0,0,.75);border-top:1px solid hsla(0,0%,100%,.07);border-right:1px solid #000}.mixerContent .scrollWrapper{left:105px;top:70px}.mixerContent .scrollH{left:105px}.mixerContent .scrollV{top:70px}.chRouting.toolTip{background-image:linear-gradient(180deg,hsla(0,0%,100%,.05),transparent);background-color:#464646;background-attachment:fixed;box-shadow:inset 1px 1px hsla(0,0%,100%,.09),0 0 10px rgba(0,0,0,.5),10px 10px 50px rgba(0,0,0,.5);box-sizing:border-box;-moz-box-sizing:border-box;height:353px;width:223px;padding:6px}.chRouting .scrollContainer{height:auto;background-color:#0b1318;height:322px;overflow-y:hidden;overflow-x:hidden;color:#75c5ff}.chRouting ol.topLevel{padding:0;margin:0;margin-top:7px;margin-left:3px;margin-right:1px;width:200px;list-style:none;color:#ccc}.chRouting li{position:relative;padding:0;list-style:none}.chRouting li.file .wrap{color:#50a0da;padding-top:2px;padding-bottom:2px;padding-left:6px;margin-left:22px;text-decoration:none;display:block;cursor:pointer;border-radius:2px}.chRouting li.file .wrap.none{padding-left:3px;margin-left:0;color:#ccc}body:not(.mobile) .chRouting li.file .wrap:hover{color:#000;background-color:#3881b6}.chRouting li.bank label,.chRouting li.file span{margin-left:4px}.chRouting li.bank span.count{color:gray}.chRouting li.file.activeCh .wrap{color:#000;background-color:#49aef8}body:not(.mobile) .chRouting li.file.activeCh .wrap:hover{color:#000;background-color:#3881b6}.chRouting li input{position:absolute;top:0;left:0;margin-left:0;opacity:0;z-index:2;height:1em;width:1em;cursor:pointer}.chRouting li.bank ol{list-style:none;margin-top:-12px;height:1em}.chRouting li.bank ol>li{display:none;margin-left:-14px;padding-left:1px}.chRouting li.bank{cursor:pointer;display:block;font-weight:700;vertical-align:middle}.chRouting li.bank label{cursor:pointer}.chRouting .topLevel>li.bank:before{content:"";background:url(img/disclosure-arrows.png) no-repeat 0 -3px;background-size:20px 80px;height:18px;width:20px;display:inline-block;vertical-align:middle}body:not(.mobile) .chRouting .topLevel>li.bank:before:hover{color:#e5e5e5;background-position:0 -23px}.chRouting .topLevel>li.bank.selected:before{background-position:0 -43px}body:not(.mobile) .chRouting .topLevel>li.bank.selected:hover:before{background-position:0 -63px}.chRouting li.bank.selected ol{margin:0;padding:0;height:auto}.chRouting li.bank.selected ol>li{display:block;margin:0}.chRouting li.bank.selected ol>li:last-child{margin:0 0 .063em}.chRouting{background-color:#292f36;padding:3px;font-size:12px;text-align:left}.chRouting .chStripsNamesDiv{width:170px;height:20px;background:none;display:inline-block;vertical-align:middle;border-radius:none;box-shadow:none}.devBtn.mixerPreset{top:5px}.chanPreset,.effectPreset{background:url(img/iconset.png) -52px -49px;background-size:260px 260px;border:none;display:inline-block;height:20px;width:16px;vertical-align:top;cursor:pointer}.chanPreset:active{margin-top:1px;margin-bottom:-1px}.effectPreset{float:right;margin-top:-6px}.effectPreset:active{top:4px}.chStripLabelCol .chFormatDiv{height:18px;margin-top:1px;margin-bottom:2px}.faderMeterDiv .hFaderGroup{position:absolute;bottom:15px;left:5px;margin:auto}.compGraphLayer{position:fixed;top:0;left:0;right:0;bottom:0;z-index:1;display:none}.compGraphParent{border-radius:4px;box-shadow:0 0 20px 4px rgba(0,0,0,.8);position:absolute;top:50px;left:50px;z-index:100}.compGraphTitleBar{background-image:linear-gradient(180deg,hsla(0,0%,100%,.1),transparent);background-color:#2e2e2e;box-shadow:inset 1px 1px hsla(0,0%,100%,.09),inset -1px -1px hsla(0,0%,100%,.05);border-bottom:1px solid #000;border-top-left-radius:4px;border-top-right-radius:4px;position:relative;height:25px}.compGraphClose{background-color:#ff584f;border-radius:7px;border:1px solid grey;height:12px;left:9px;position:absolute;top:6px;width:12px;cursor:pointer}.compGraphTitle{height:20px;font-size:13px;padding-top:5px;text-align:center}.compGraphContainer{background-color:#2b2b2b;position:relative;padding:5px;padding-top:0;height:402px;white-space:nowrap}.compGraphBackground{background-color:#1e2328;border:1px solid #000;display:inline-block;vertical-align:top}.compGraphForeground{background-color:transparent;left:6px;position:absolute;top:1px}.compGraphForeground__controlHover{cursor:crosshair}.compGraphDetails{display:inline-block;vertical-align:top;text-align:center;width:120px;height:402px}.compGraphDetailHeader{text-align:right;overflow:hidden;margin:4px 10px;padding:10px}.compGraphDetailLabel{text-align:center;font-weight:700;text-transform:uppercase;font-size:11px;color:gray;margin-top:6px}.compGraphDetailReadout{text-align:center;color:#93d2ff;padding:0 2px;background-color:#1e2328;margin:5px 0;border-radius:12px;display:inline-block;vertical-align:top;width:60%;border:1px solid #000}.compGraphThumb{border:2px solid #121212;background-color:#1e2328;border-radius:2px;cursor:pointer;width:64px;height:64px}.compGraphThumbForeground{border:none;background-color:transparent;border-radius:0;position:absolute;top:5px;left:5px}.eqThumb{border:2px solid #121212;background-color:#1e2328;border-radius:2px;cursor:pointer;width:64px;height:36px}.eqLargeGraphDiv{width:905px;position:absolute;background-color:#2b2b2b;z-index:9;top:80px;left:60px;border-radius:4px;display:none;box-shadow:0 0 20px 4px rgba(0,0,0,.8)}.eqLargeGraphTitleBar{width:100%;height:25px;border-top-left-radius:4px;border-top-right-radius:4px;background-image:linear-gradient(180deg,hsla(0,0%,100%,.1),transparent);background-color:#2e2e2e;box-shadow:inset 1px 1px hsla(0,0%,100%,.09),inset -1px -1px hsla(0,0%,100%,.05);border-bottom:1px solid #000}.eqLargeGraphTitle{display:inline-block;text-align:center;width:95%;font-size:15px}.eqLargeGraphClose{width:12px;height:12px;background-color:#ff584f;margin-left:9px;margin-top:6px;display:inline-block;border-radius:7px;border:1px solid grey;cursor:pointer}.eqLargeGraphContainer{background-color:#2b2b2b;padding:5px;padding-top:0;padding-right:0;width:900px}.eqLargeGraphCanvas{background-color:#1e2328;border:1px solid #000;height:400px;vertical-align:top;width:800px}.eqGraphDetailContainer{display:inline-block;vertical-align:top;width:98px}.eqGraphDetailGroup{padding:4px 6px;font-size:12px;font-family:sans-serif;font-weight:lighter;line-height:17px;text-align:right;color:#fff;width:98px;height:100px;display:inline-block;box-sizing:border-box}.eqGraphDetailOnOff{display:inline-block;height:12px;width:12px;background-color:transparent;color:grey;line-height:normal;text-align:center;cursor:default;border:1px solid grey;border-radius:7px;cursor:pointer}.eqGraphDetailTxt{text-align:left;font-family:sans-serif;font-weight:lighter;font-size:11px;display:inline-block;border:none;box-sizing:border-box;color:#fff;width:50px;height:15px;padding:0}.eqGraphDetailHeaderContainer{display:inline-block;width:100%}.eqGraphDetailHeaderSpan{width:58px;text-align:center;display:inline-block;font-weight:700;text-shadow:0 1px 2px #1a1a1a;font-size:10px;position:relative;top:-3px}.eqGraphDetailTxt::selection{background:#bbb}.eqGraphDetailTxt:focus{outline:0;border:1px solid;padding:0}body input.eqGraphDetailTxt.eqGraphDetailTxt:hover{box-shadow:none;transition:none}.eqDivBackdrop{width:100%;height:100%;position:absolute;z-index:3}.eqGraphDetailType{height:18px;width:100%;background-color:#fff;color:#000;line-height:normal;text-align:center;box-sizing:border-box;border:1px solid;cursor:default;margin-top:3px;border-radius:2px}.selectList.radio li.legend>.button{background-position:-120px 30px}.selectList.radio li.legend.ui-selected>.button{background-position:0 30px}.selectList.radio li.legend.ui-selecting>.button{background-position:-60px 30px}body:not(.mobile) .selectList.radio li.legend:not(.disabled):hover>.button{background-position:-90px 30px}body:not(.mobile) .selectList.radio li.legend.ui-selected:not(.disabled):hover>.button{background-position:-30px 30px}.presetPopup{width:257px;box-sizing:border-box;-moz-box-sizing:border-box;padding-bottom:2px;padding-left:5px;padding-right:5px;background-image:linear-gradient(180deg,hsla(0,0%,100%,.05),transparent);background-color:#464646;background-attachment:fixed;box-shadow:inset 1px 1px hsla(0,0%,100%,.09),0 0 10px rgba(0,0,0,.5),10px 10px 50px rgba(0,0,0,.5)}.presetManagementPopup .scrollContainer{display:inline-block;width:100%;margin:5px 0;overflow-y:hidden;overflow-x:hidden;height:140px}.presetActions{display:block;margin-top:7px;margin-bottom:8px;margin-left:5px}.presetAction,.presetActions{height:41px;vertical-align:top;text-align:center}.presetAction{opacity:.99;background:linear-gradient(180deg,hsla(0,0%,100%,.01),transparent),#353535;border:1px solid #424242;position:relative;margin-right:3px;margin-left:3px;box-sizing:border-box;-moz-box-sizing:border-box;border:1px solid #000;background-image:linear-gradient(180deg,hsla(0,0%,100%,.05),transparent);display:inline-block;width:40px}.presetButton.mixerPreset,.routingPane .presetButton{border-radius:2px;border:1px solid #000}.presetAction.confirming{background-color:salmon}.presetAction:not(.disabled){cursor:pointer}.presetAction input{position:absolute;overflow:hidden;top:0;bottom:0;left:0;right:0;display:inline-block;cursor:pointer;opacity:0;margin:0}.presetAction input::-webkit-file-upload-button{cursor:pointer}.presetAction span{font-size:9px;color:#ccc;text-align:center;position:absolute;bottom:2px;left:0;right:0;display:inline-block}.presetAction:not(.disabled):active{padding-top:1px}.presetAction.disabled{opacity:.3}.presetAction:before{content:"";display:inline-block;margin-top:4px;width:26px;height:26px;text-align:center}.presetAction.import:before{background-position:-26px -81px}.presetAction.export:before,.presetAction.import:before{background-image:url(img/iconset.png);background-size:260px 260px}.presetAction.export:before{background-position:-52px -81px}.presetAction.rename:before{background-position:-78px -81px}.presetAction.copy:before,.presetAction.rename:before{background-image:url(img/iconset.png);background-size:260px 260px}.presetAction.copy:before{background-position:-104px -81px}.presetAction.delete:before{background-image:url(img/iconset.png);background-size:260px 260px;background-position:-130px -81px}.presetPopup .confirmation,.presetPopup .modal{position:absolute;top:0;bottom:0;left:0;right:0;cursor:default;background-color:rgba(0,1,1,.01)}.presetPopup .visiblyModal{background-color:rgba(0,1,1,.3)}.presetPopup .confirmation{background-color:rgba(0,1,1,.8)}.presetManagementPopup .scrollContainer{margin:0}.presetManagementPopup .scrollWrapper{text-align:center}.presetPopup .presetTarget input:not(.selectable){-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;cursor:pointer}.presetPopup .capture{margin-top:18px;margin-bottom:18px}.presetPopup .managePresets{text-align:left;margin-left:10px;vertical-align:top;height:24px;cursor:pointer}.presetPopup .managePresets:before{content:"";display:inline-block;vertical-align:middle;position:relative;height:26px;width:23px;background:url(img/iconset.png) no-repeat -52px -3px;background-size:260px 260px}.presetPopup .managePresets.selected:before{background-position:0 -3px}.presetPopup .confirmation .prompt,.presetPopup .managePresets .label{vertical-align:baseline;color:#ccc;font-size:12px;font-weight:400}.presetPopup .confirmation .prompt{margin:20px 10px 18px}.presetPopup .applySave{padding-top:15px;text-align:center}.presetPopup .capture{text-align:center}.presetPopup .applySave .input{display:inline-block;box-sizing:border-box;-moz-box-sizing:border-box;width:227px;margin-bottom:7px}.presetPopup .applySave .action,.presetPopup .capture .action,.presetPopup .confirmation .utilityBtn{vertical-align:top;box-sizing:border-box;-moz-box-sizing:border-box;color:#000;border-color:#000;margin-left:3px;margin-right:3px;display:inline-block}.presetPopup .applySave .action,.presetPopup .confirmation .utilityBtn{width:111px;padding-top:8px;height:31px;font-size:12px}.presetPopup .scrollWrapper{background:#0b1318}body:not(.mobile) .presetPopup .applySave .action:not(.disabled):active,body:not(.mobile) .presetPopup .confirmation .utilityBtn:not(.disabled):active{padding-top:9px}body:not(.mobile) .presetPopup .applySave .action.disabled:active,body:not(.mobile) .presetPopup .confirmation .utilityBtn.disabled:active{padding-top:8px}.presetPopup .capture .action{width:62px;height:25px;padding-top:5px}body:not(.mobile) .presetPopup .capture .action:active{padding-top:6px}.presetPopup .capture .input{cursor:text;outline:none;font:-webkit-small-control;height:25px;padding:0 10px;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:1px solid #000;background-image:linear-gradient(180deg,hsla(0,0%,100%,.1),transparent);background-color:#10222e;font-weight:700;font-family:Lucida Grande,Arial,Helvetica,sans-serif;text-overflow:ellipsis;white-space:nowrap;vertical-align:baseline;width:190px;color:#93d2ff;border-radius:2px;resize:none;text-align:left;box-sizing:border-box;-moz-box-sizing:border-box;width:161px;display:inline-block;margin-left:2px;margin-right:3px}.presetPopup .action{opacity:.99}.presetPopup .action.disabled{cursor:default;opacity:.3}.presetPopup select{cursor:pointer}@-moz-document url-prefix(){.presetPopup select{padding-top:2px}}.presetPopup .presetItems{padding:2px;width:225px;color:#93d2ff}.presetPopup .presetTarget{height:24px;vertical-align:middle;border-radius:3px;display:block}.presetPopup .presetTarget input{display:inline-block;height:24px;text-align:left;padding-left:4px}.presetPopup .presetTarget.factory{color:#ccc}.presetPopup .presetTarget.ui-selected{color:#0b1318;background:#49adf8}.utilityBtn.restoreBtn{width:150px}.firmwareButton input{position:absolute;overflow:hidden;top:0;bottom:0;left:0;right:0;display:inline-block;cursor:pointer;opacity:0;margin:0}.firmwareButton{position:relative}.modalPane .changeListWrap{background:#333;display:block;margin:auto;margin-bottom:20px;max-width:600px;height:300px;word-wrap:break-word;text-align:left;cursor:text;padding-left:30px;box-sizing:border-box;-moz-box-sizing:border-box}.modalPane .changeList ul{font-size:14px;margin-left:30px}.quickSetup.modalPaneWrapper{display:block}.quickSetup.modalPane{display:block;height:100%}.quickSetup .prompt,.quickSetup .setup{max-width:500px;margin:auto;text-align:left}.quickSetup p{font-size:18px}.quickSetup .preferenceReadout,.quickSetup .selectMenu{width:250px;margin-left:25px}.quickSetup>.scrollContainer{height:100%;width:550px;display:block;margin:auto}.quickSetup .quickSetupScroll{padding-top:25px;padding-bottom:25px}.quickSetup .quickSetupScroll .scrollContainer{background:#333;display:block;margin:auto;margin-bottom:20px;max-width:450px;height:150px;word-wrap:break-word;text-align:left;cursor:text;margin-left:25px;margin-top:25px;box-sizing:border-box;-moz-box-sizing:border-box}.quickSetup .setupDescriptionContent{padding-left:10px;padding-right:10px}',""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(142)),o=l(n(29)),a=l(n(59)),s=l(n(0));l(n(60));function l(e){return e&&e.__esModule?e:{default:e}}var u=-40,c=0,h=-40,p=0,d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._draw=n._draw.bind(n),n.curve=new i.default({path:n.props.path,meterIndex:n.props.meterIndex,drawMeters:!0,notify:n._queueDraw.bind(n),xMin:u,xMax:c,yMin:h,yMax:p}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),r(t,[{key:"componentDidUpdate",value:function(e,t){this.curve.destructor(),this.curve=new i.default({path:this.props.path,meterIndex:this.props.meterIndex,drawMeters:!0,notify:this._queueDraw.bind(this),xMin:u,xMax:c,yMin:h,yMax:p})}},{key:"componentWillUnmount",value:function(){this.curve.destructor()}},{key:"render",value:function(){return s.default.createElement(a.default,{ref:"plot",className:this.props.className,width:this.props.width,height:this.props.height,xAxis:{min:u,max:c,scale:function(e){return e},ticks:[-30,-20,-10],labels:["-30db","-20db","-10db"]},yAxis:{min:h,max:p,scale:function(e){return e},ticks:[-30,-20,-10],labels:["-30db","-20db","-10db"]},gridEnabled:!0})}},{key:"_queueDraw",value:function(){o.default.queue(this._draw)}},{key:"_draw",value:function(){if(void 0!==this.refs.plot){var e=this.refs.plot.refs.canvas;e.clear(),this.curve.draw.call(this.curve,e)}}}]),t}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(29)),o=l(n(141)),a=l(n(59)),s=l(n(0));l(n(60));function l(e){return e&&e.__esModule?e:{default:e}}var u=-80,c=0,h=-80,p=0,d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._draw=n._draw.bind(n),n.curve=new o.default({path:n.props.path,meterIndex:n.props.meterIndex,drawMeters:!0,notify:n._queueDraw.bind(n),xMin:u,xMax:c,yMin:h,yMax:p}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),r(t,[{key:"componentDidUpdate",value:function(e,t){this.curve.destructor(),this.curve=new o.default({path:this.props.path,meterIndex:this.props.meterIndex,drawMeters:!0,notify:this._queueDraw.bind(this),xMin:u,xMax:c,yMin:h,yMax:p})}},{key:"componentWillUnmount",value:function(){this.curve.destructor()}},{key:"render",value:function(){return s.default.createElement(a.default,{ref:"plot",className:this.props.className,width:this.props.width,height:this.props.height,xAxis:{min:u,max:c,scale:function(e){return e},ticks:[-60,-40,-20],labels:["-60db","-40db","-20db"]},yAxis:{min:h,max:p,scale:function(e){return e},ticks:[-60,-40,-20],labels:["-60db","-40db","-20db"]},gridEnabled:!0})}},{key:"_queueDraw",value:function(){i.default.queue(this._draw)}},{key:"_draw",value:function(){if(void 0!==this&&void 0!==this.refs.plot){var e=this.refs.plot.refs.canvas;e.clear(),this.curve.draw.call(this.curve,e)}}}]),t}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=w(n(6)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(18)),s=n(20),l=w(n(267)),u=w(n(257)),c=w(n(252)),h=w(n(249)),p=w(n(246)),d=w(n(243)),f=n(9),v=w(n(0)),m=(w(n(13)),w(n(36)),n(102)),g=w(n(11)),b=(w(n(15)),w(n(237))),y=n(12),C=n(4),x=w(n(28)),_=w(n(235));function w(e){return e&&e.__esModule?e:{default:e}}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=(0,y.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.id=Math.random().toString(36).substring(7),n._renderTabContent=n._renderTabContent.bind(n),n._renderTabIcon=n._renderTabIcon.bind(n),n._onKeyUp=n._onKeyUp.bind(n),n._getActiveChannelName=n._getActiveChannelName.bind(n),n._onNameTextKeyDown=n._onNameTextKeyDown.bind(n),n._setChannelName=n._setChannelName.bind(n),n._onClose=n._onClose.bind(n),n._switchTab=n._switchTab.bind(n),n._selectedStripInfoChanged=n._selectedStripInfoChanged.bind(n),n._removeChangeListeners=n._removeChangeListeners.bind(n),n._initPaths=n._initPaths.bind(n),n._addChangeListeners=n._addChangeListeners.bind(n),n._resizeStart=n._resizeStart.bind(n),n._resize=n._resize.bind(n),n._resizeStop=n._resizeStop.bind(n),n._onTouchStart=n._onTouchStart.bind(n),n._onTouchMove=n._onTouchMove.bind(n),n.selectedStripInfoDisposer=(0,C.observe)(n.props.observableState,"selectedStripInfo",n._selectedStripInfoChanged),n.FocusChannelTabs=f.FocusChannelTabs,n.observableState=(0,C.observable)({channelName:"",defaultName:"",stereoEnabled:!1}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,v.default.Component),i(t,[{key:"componentDidMount",value:function(){this.resizeHandle=document.getElementById("focusChannelResizeHandle")}},{key:"componentWillUnmount",value:function(){this.selectedStripInfoDisposer()}},{key:"render",value:function(){var e,t=(0,g.default)((S(e={},b.default.FocusChannel,!0),S(e,b.default.FocusChannelVisible,this.props.observableState.focusChannelVisible),e),this.props.className),n=Math.min(Math.max(this.props.observableState.focusChannelHeight-52,f.FocusChannelMinHeight),this.props.observableState.mixerHeight),r=this.props.observableState.focusChannelWidth,i=this.props.observableState.mixerWidth/this.props.observableState.mixerHeight,a=r/n,s=this.props.observableState.orientation===f.Orientations.PORTRAIT&&(i<.5||a<1.5)&&r||r<500?f.Orientations.PORTRAIT:f.Orientations.LANDSCAPE,l=b.default.FocusChannelTabContentContainer+" scrollContext",u=[];if(null!==this.props.observableState.selectedStripInfo){var c="mix/ctrls/"+this.props.observableState.selectedStripInfo.type;if(o.default.has(c))for(var h=o.default.get(c).split(":"),p=Object.keys(f.FocusChannelTabs).filter(function(e){var t=f.FocusChannelTabControls[e].split(":"),n=h.some(function(e){return t.indexOf(e)>=0})||e===f.FocusChannelTabs.SETTINGS;return e===f.FocusChannelTabs.SENDS&&(n=o.default.hasSends(this.props.observableState.selectedStripInfo)),n},this),d=100/p.length-1+"%",y=0;y<p.length;y++){var C=p[y],w=b.default.FocusChannelNavBarTab,k=f.Colors.lightGray;C===this.props.observableState.focusChannelActiveTab&&(w=w+" "+b.default.FocusChannelNavBarTabSelected,k=f.Colors.blue);var T=C.toLowerCase().capitalize();u.push(v.default.createElement("div",{className:w,style:{width:d},onClick:this._switchTab.bind(this,C)},v.default.createElement("div",{className:b.default.FocusChannelNavBarTabInner},v.default.createElement("div",{className:b.default.FocusChannelNavBarTabIcon},this._renderTabIcon(C,k)),this.props.observableState.mixerWidth>1080?v.default.createElement("div",{className:b.default.FocusChannelNavBarTabText},T):null)))}}return v.default.createElement("div",{id:"focusChannelVisible",className:t,style:{width:this.props.observableState.focusChannelWidth,height:this.props.observableState.focusChannelHeight,minHeight:f.FocusChannelMinHeight,maxHeight:this.props.observableState.mixerHeight,left:this.props.observableState.focusChannelLeftOffset}},v.default.createElement(m.Split,{className:b.default.FocusChannelNavBar},v.default.createElement(m.SplitCell,{className:b.default.FocusChannelNavBarCell},u),v.default.createElement(m.SplitCell,{className:b.default.FocusChannelNavBarCell+" "+b.default.FocusChannelLabelCell},v.default.createElement("div",{className:b.default.FocusChannelTitleContainer},v.default.createElement("div",{className:b.default.FocusChannelNavBarTab+" "+b.default.FocusChannelNameEditContainer},v.default.createElement(x.default,{type:"edit",width:"15",height:"34",fillColor:f.Colors.lightGray}),v.default.createElement("input",{ref:"name",type:"text",name:"name",className:b.default.FocusChannelTitle,placeholder:this.observableState.defaultName,value:this.observableState.channelName,onChange:this._setChannelName,onKeyDown:this._onNameTextKeyDown})))),v.default.createElement(m.SplitCell,{className:b.default.FocusChannelCloseButtonContainer},v.default.createElement("a",{onClick:this._onClose,className:b.default.FocusChannelClose,href:"#"},"×"))),v.default.createElement("div",{className:b.default.FocusChannelTabContentPadding},v.default.createElement("div",{id:"focusChannelScroller",onTouchStart:this._onTouchStart,onTouchMove:this._onTouchMove,className:l},v.default.createElement("div",{className:b.default.FocusChannelTabContent},this._renderTabContent(s)))),v.default.createElement("div",{id:"focusChannelResizeHandle",className:b.default.FocusChannelBottomBar,onMouseDown:this._resizeStart,onTouchStart:this._resizeStart},v.default.createElement(_.default,{className:b.default.FocusChannelResizeHandle,width:"111",height:"43"})))}},{key:"_renderTabContent",value:function(e){if(null!==this.props.observableState.selectedStripInfo)switch(this.props.observableState.focusChannelActiveTab){case f.FocusChannelTabs.SETTINGS:return v.default.createElement(l.default,{ref:"settingstab",tabOrientation:e,stripInfo:this.props.observableState.selectedStripInfo,observableState:this.props.observableState});case f.FocusChannelTabs.EQUALIZER:return v.default.createElement(u.default,{ref:"eqtab",tabOrientation:e,stripInfo:this.props.observableState.selectedStripInfo,observableState:this.props.observableState});case f.FocusChannelTabs.GATE:return v.default.createElement(c.default,{ref:"gatetab",type:"gate",tabOrientation:e,stripInfo:this.props.observableState.selectedStripInfo,observableState:this.props.observableState});case f.FocusChannelTabs.COMPRESSOR:return v.default.createElement(c.default,{ref:"compressortab",type:"comp",tabOrientation:e,stripInfo:this.props.observableState.selectedStripInfo,observableState:this.props.observableState});case f.FocusChannelTabs.REVERB:return v.default.createElement(h.default,{ref:"reverbtab",tabOrientation:e,stripInfo:this.props.observableState.selectedStripInfo,observableState:this.props.observableState});case f.FocusChannelTabs.LEVELER:return v.default.createElement(p.default,{ref:"levelertab",tabOrientation:e,stripInfo:this.props.observableState.selectedStripInfo,observableState:this.props.observableState});case f.FocusChannelTabs.SENDS:return v.default.createElement(d.default,{ref:"sendstab",tabOrientation:e,stripInfo:this.props.observableState.selectedStripInfo,observableState:this.props.observableState});default:return null}}},{key:"_renderTabIcon",value:function(e,t){var n=e.toString().toLowerCase();return v.default.createElement(x.default,{type:n,width:"15",height:"31",fillColor:t})}},{key:"_onKeyUp",value:function(e){27===e.keyCode&&this._onClose(e)}},{key:"_onClose",value:function(e){this.props.observableState.focusChannelVisible=!1,e.preventDefault()}},{key:"_switchTab",value:function(e){this.props.observableState.focusChannelActiveTab=e}},{key:"_selectedStripInfoChanged",value:function(e){this.stripInfo=e.newValue;var t="mix/ctrls/"+this.stripInfo.type,n=(Object.keys(f.FocusChannelTabs),f.FocusChannelTabControls[this.props.observableState.focusChannelActiveTab].split(":"));o.default.has(t)&&(o.default.get(t).split(":").some(function(e){return n.indexOf(e)>=0})||this.props.observableState.focusChannelActiveTab===f.FocusChannelTabs.SETTINGS||(this.props.observableState.focusChannelActiveTab=f.FocusChannelTabs.SETTINGS));this._removeChangeListeners(),this._initPaths(),this._addChangeListeners()}},{key:"_removeChangeListeners",value:function(){o.default.removeChangeListener(this.id,this._getActiveChannelName,this.channelNamePath),o.default.removeChangeListener(this.id,this._getActiveChannelName,this.defaultNamePath),o.default.removeChangeListener(this.id,this._getActiveChannelName,this.sourcePath),o.default.removeChangeListener(this.id,this._getActiveChannelName,this.secondSourcePath),o.default.removeChangeListener(this.id,this._getActiveChannelName,this.stripInfo.formatPath)}},{key:"_initPaths",value:function(){this.channelNamePath=(0,s.getStripNamePath)(this.stripInfo),this.defaultNamePath=(0,s.getDefaultNamePath)(this.stripInfo),this.sourcePath=(0,s.getMixerChOBankPath)(this.stripInfo)+"/src",o.default.has(this.stripInfo.formatPath)&&(this.observableState.stereoEnabled="2"===o.default.get(this.stripInfo.formatPath).split(":")[0],this.secondStripInfo=(0,s.getOtherStereoChStripInfo)(this.stripInfo),this.secondSourcePath=(0,s.getMixerChOBankPath)(this.secondStripInfo)+"/src")}},{key:"_addChangeListeners",value:function(){o.default.has(this.channelNamePath)&&o.default.addChangeListener(this.id,this._getActiveChannelName,this.channelNamePath),o.default.has(this.defaultNamePath)&&o.default.addChangeListener(this.id,this._getActiveChannelName,this.defaultNamePath),o.default.addChangeListener(this.id,this._getActiveChannelName,this.sourcePath,!1),this.observableState.stereoEnabled&&o.default.has(this.stripInfo.formatPath)&&o.default.addChangeListener(this.id,this._getActiveChannelName,this.secondSourcePath,!1),o.default.has(this.stripInfo.formatPath)&&o.default.addChangeListener(this.id,this._getActiveChannelName,this.stripInfo.formatPath,!1)}},{key:"_getActiveChannelName",value:function(){if(null!==this.props.observableState.selectedStripInfo){var e=o.default.getMixerChannelName(this.props.observableState.selectedStripInfo),t=o.default.getDefaultMixerChannelName(this.props.observableState.selectedStripInfo);this.observableState.channelName=e,this.observableState.defaultName=t}}},{key:"_onNameTextKeyDown",value:function(e){return 27!==e.keyCode&&13!==e.keyCode||(this.refs.name.blur(),!1)}},{key:"_setChannelName",value:function(e){e.target instanceof HTMLInputElement&&a.setMixerChannelName(this.stripInfo.basePath,e.target.value)}},{key:"_resizeStart",value:function(e){this.startY=void 0!==e.touches?e.touches[0].clientY:e.clientY,window.onmousemove=this._resize,window.ontouchmove=this._resize,window.onmouseup=this._resizeStop,window.ontouchcancel=this._resizeStop,window.ontouchend=this._resizeStop}},{key:"_resize",value:function(e){this.props.observableState.focusChannelResizing=!0;var t=void 0!==e.touches?e.touches[0].clientY:e.clientY,n=this.startY-t,r=document.getElementById("focusChannelVisible"),i=parseInt(r.style.height),o=Math.min(Math.max(i-n,f.FocusChannelMinHeight),this.props.observableState.mixerHeight);r.style.height=o+"px",this.startY=t}},{key:"_resizeStop",value:function(e){window.onmousemove=null,window.ontouchmove=null,window.onmouseup=null,window.ontouchcancel=null,window.ontouchend=null;var t=document.getElementById("focusChannelVisible"),n=parseInt(t.style.height);this.props.observableState.focusChannelHeight=n,this.props.observableState.focusChannelResizing=!1}},{key:"_onTouchStart",value:function(e){this.xDown=e.touches[0].clientX,this.yDown=e.touches[0].clientY}},{key:"_onTouchMove",value:function(e){if(this.xDown&&this.yDown){var t=e.touches[0].clientX,n=e.touches[0].clientY,r=this.xDown-t,i=this.yDown-n;Math.abs(i)>Math.abs(r)||e.preventDefault(),this.xDown=null,this.yDown=null}}}]),t}())||r;t.default=k},function(e,t,n){var r=n(272);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FaderStripInternal=void 0;var r,i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(37),s=(n(144),n(23)),l=P(n(6)),u=P(n(277)),c=P(n(61)),h=P(n(43)),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(18)),d=n(9),f=n(48),v=P(n(28)),m=P(n(0)),g=(P(n(13)),P(n(36))),b=P(n(57)),y=P(n(56)),C=n(26),x=(n(100),P(n(29)),P(n(19)),P(n(11))),_=n(58),w=n(20),S=(P(n(15)),P(n(130))),k=n(12),T=n(4),E=P(n(17));function P(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var M=(0,y.default)({prefix:"",suffix:" dB",includeThousandsSeparator:!1,allowDecimal:!0,allowNegative:!0}),O=function(e){var t=Number(e);return!window.isNaN(t)||e.startsWith("-")||e.startsWith(".")?(0,y.default)({prefix:"",includeThousandsSeparator:!1,allowDecimal:!0,allowNegative:!0})(e):[/[LCR]/i]},A=t.FaderStripInternal=(0,k.observer)(r=function(e){function t(e){I(this,t);var n=B(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.id=Math.random().toString(36).substring(7),n.initPaths=n.initPaths.bind(n),n.addChangeListeners=n.addChangeListeners.bind(n),n.removeChangeListeners=n.removeChangeListeners.bind(n),n._onFaderStripClick=n._onFaderStripClick.bind(n),n._onFaderStripTouchMove=n._onFaderStripTouchMove.bind(n),n._onFaderStripTouchEnd=n._onFaderStripTouchEnd.bind(n),n._onFaderStripDoubleClick=n._onFaderStripDoubleClick.bind(n),n._toggleSolo=n._toggleSolo.bind(n),n._toggleMute=n._toggleMute.bind(n),n._setChannelName=n._setChannelName.bind(n),n._onNameTextKeyDown=n._onNameTextKeyDown.bind(n),n._onFormatChange=n._onFormatChange.bind(n),n._onSoloEnabledChange=n._onSoloEnabledChange.bind(n),n._onMuteEnabledChange=n._onMuteEnabledChange.bind(n),n._onChannelNameChange=n._onChannelNameChange.bind(n),n._onFaderValueChange=n._onFaderValueChange.bind(n),n._onGainTextChange=n._onGainTextChange.bind(n),n._onGainTextKeyDown=n._onGainTextKeyDown.bind(n),n._onPanValueChange=n._onPanValueChange.bind(n),n._onPanTextChange=n._onPanTextChange.bind(n),n._onPanTextKeyDown=n._onPanTextKeyDown.bind(n),n._onMonitorOverrideValueChange=n._onMonitorOverrideValueChange.bind(n),n._onPersonalAuxMixButtonClick=n._onPersonalAuxMixButtonClick.bind(n),n._onSourceValueChange=n._onSourceValueChange.bind(n),n._onTalkbackChanChanged=n._onTalkbackChanChanged.bind(n),n._onMeterIndexStoreChange=n._onMeterIndexStoreChange.bind(n),n._onFaderChange=n._onFaderChange.bind(n),n._onPanSliderChange=n._onPanSliderChange.bind(n),n._onPanSliderDoubleClick=n._onPanSliderDoubleClick.bind(n),n._onMonitorOverrideClick=n._onMonitorOverrideClick.bind(n),n._getRect=n._getRect.bind(n),n.getMuteButton=n.getMuteButton.bind(n),n.getSoloButton=n.getSoloButton.bind(n),n.observableState=(0,T.observable)({stereoEnabled:!1,soloEnabled:!1,muteEnabled:!1,channelName:"",defaultName:"",levelMeterIndex:-1,faderValue:0,scaledFaderValue:0,panValue:0,scaledPanValue:0,monitorOverride:0,initialTouchPos:null,lastTouchPos:null,faderRect:null,talkbackChan:-1}),n.initPaths(e.stripInfo,e.faderPath,e.panPath),n}return N(t,m.default.Component),o(t,[{key:"componentDidUpdate",value:function(){}},{key:"componentWillReceiveProps",value:function(e){this.removeChangeListeners(),this.initPaths(e.stripInfo,e.faderPath,e.panPath),this.addChangeListeners()}},{key:"componentDidMount",value:function(){this.addChangeListeners(),l.default.addChangeListener(this.id,this._onSourceValueChange,this.sourcePath,!1)}},{key:"componentWillUnmount",value:function(){this.removeChangeListeners(),l.default.removeChangeListener(this.id,this._onSourceValueChange,this.sourcePath)}},{key:"initPaths",value:function(e,t,n){this.stripInfo=e,this.talkbackChanPath="mix/talkback/chan";var r=e.basePath.split("/");this.channelNumber=parseInt(r[r.length-1]),this.channelPath=e.basePath,this.sourcePath=(0,w.getMixerChOBankPath)(e)+"/src",this.channelNamePath=(0,w.getStripNamePath)(e),this.defaultNamePath=(0,w.getDefaultNamePath)(e),this.formatPath=e.basePath+"/config/format",this.soloPath=e.basePath+"/matrix/solo",this.mutePath=e.basePath+"/matrix/mute",this.faderValuePath=""+e.basePath+t,l.default.has(this.faderValuePath)||(this.faderValuePath=e.basePath+"/matrix/fader"),this.panValuePath=""+e.basePath+n,l.default.has(this.panValuePath)||(this.panValuePath=e.basePath+"/matrix/pan"),this.monitorOverridePath="mix/monitor/0/override";var i=this.props.observableState.assignIds.filter(function(t,n,r){return t.key===e.type},this);if(void 0!==i[0]){var o=i[0].ids.filter(function(t,n,r){return t.stripInfo.id===e.id},this);void 0!==o[0]&&(this.assignId=o[0].id)}this.faderWarp=new _.FaderWarp}},{key:"addChangeListeners",value:function(){if(this.observableState.stereoEnabled=!0,l.default.has(this.formatPath)){var e=l.default.get(this.formatPath);this.observableState.stereoEnabled=2===parseInt(e.split(":")[0],10),l.default.addChangeListener(this.id,this._onFormatChange,this.formatPath)}l.default.has(this.soloPath)&&l.default.addChangeListener(this.id,this._onSoloEnabledChange,this.soloPath),l.default.has(this.mutePath)&&l.default.addChangeListener(this.id,this._onMuteEnabledChange,this.mutePath),l.default.has(this.channelNamePath)&&l.default.addChangeListener(this.id,this._onChannelNameChange,this.channelNamePath),l.default.has(this.defaultNamePath)&&l.default.addChangeListener(this.id,this._onChannelNameChange,this.defaultNamePath),l.default.has(this.faderValuePath)&&l.default.addChangeListener(this.id,this._onFaderValueChange,this.faderValuePath),l.default.has(this.panValuePath)&&l.default.addChangeListener(this.id,this._onPanValueChange,this.panValuePath),l.default.has(this.monitorOverridePath)&&"aux"===this.stripInfo.type&&l.default.addChangeListener(this.id,this._onMonitorOverrideValueChange,this.monitorOverridePath),l.default.has(this.talkbackChanPath)&&l.default.addChangeListener(this.id,this._onTalkbackChanChanged,this.talkbackChanPath),h.default.addChangeListener(this._onMeterIndexStoreChange),this.props.observableState.faderStrips[this.stripInfo.id]=this}},{key:"removeChangeListeners",value:function(){l.default.removeChangeListener(this.id,this._onFormatChange,this.formatPath),l.default.removeChangeListener(this.id,this._onSoloEnabledChange,this.soloPath),l.default.removeChangeListener(this.id,this._onMuteEnabledChange,this.mutePath),l.default.removeChangeListener(this.id,this._onChannelNameChange,this.channelNamePath),l.default.removeChangeListener(this.id,this._onChannelNameChange,this.defaultNamePath),l.default.removeChangeListener(this.id,this._onFaderValueChange,this.faderValuePath),l.default.removeChangeListener(this.id,this._onPanValueChange,this.panValuePath),l.default.removeChangeListener(this.id,this._onMonitorOverrideValueChange,this.monitorOverridePath),l.default.removeChangeListener(this.id,this._onTalkbackChanChanged),h.default.removeChangeListener(this._onMeterIndexStoreChange),delete this.props.observableState.faderStrips[this.stripInfo.id]}},{key:"render",value:function(){var e=this,t=!!this.props.sideBar&&this.props.sideBar,n="chan"===this.stripInfo.type?d.FaderStripTypes.INPUT:d.FaderStripTypes.OUTPUT,r=!0;l.default.has(this.stripInfo.formatPath)&&(r=2===parseInt(l.default.get(this.stripInfo.formatPath).split(":")[0],10));var i=this.stripInfo.num%2==0,o=i?this.stripInfo.num+1:this.stripInfo.num-1,s=this.stripInfo.type+"/"+o,h=new E.default(s),p=this.props.observableState.faderVisibility[this.stripInfo.id]||t,f=p?"inline-block":"none",v=this.props.observableState.mixerHeight<=d.MixerMinControlsHeight||0==this.props.observableState.mixerHeight,y=this.props.observableState.miniMapVisible?d.MiniMapHeight:0,_=r||i?this.props.observableState.channels.indexOf(this.stripInfo)+1+d.MixerTabIndexOffset:this.props.observableState.channels.indexOf(h)+2+d.MixerTabIndexOffset,w=this.props.observableState.channels.length+_,k=n===d.FaderStripTypes.INPUT?S.default.FaderStrip+" "+S.default.InputFaderStrip:S.default.FaderStrip+" "+S.default.OutputFaderStrip,T=this.props.observableState.belowFaderHeight+y;this.props.observableState.auxMixer||(T+=this.props.observableState.aboveFaderHeight);var P=this.props.observableState.mixerHeight-T;P=P<d.FaderMaxHeight+d.SettingsThumbHeight?P-d.SettingsThumbHeight:P,this.props.observableState.auxMixer||(P=Math.min(Math.max(P,0),d.FaderMaxHeight));var I,B,N,O=v?S.default.Hidden:S.default.FaderStripCell,A=this.props.observableState.faderPath.split("/"),L=d.Colors.meter;return this.faderValuePath===""+this.stripInfo.basePath+this.props.faderPath&&(L=d.SliderTrackColors[A[2]]),m.default.createElement("div",{ref:"faderStrip",id:"faderStrip_"+this.id+"_"+this.stripInfo.type+"_"+this.stripInfo.num,style:{display:f},className:k,onClick:this._onFaderStripClick,onTouchStart:this._onFaderStripClick,onTouchMove:this._onFaderStripTouchMove,onTouchEnd:this._onFaderStripTouchEnd},this.props.observableState.auxMixer?null:m.default.createElement("div",{className:O},m.default.createElement(g.default,{onMeasure:function(t){e.props.observableState.aboveFaderHeight=t.height+12}},m.default.createElement(a.GlideButton,{ref:"muteButton",id:"muteButton_"+this.stripInfo.type+"_"+this.stripInfo.num,stripInfo:this.stripInfo,className:(0,x.default)((I={},B=a.ButtonStyles.RED,N=this.observableState.muteEnabled,B in I?Object.defineProperty(I,B,{value:N,enumerable:!0,configurable:!0,writable:!0}):I[B]=N,I)),glideScope:this.props.observableState.muteGlideScope,observableState:this.props.observableState,glidePath:this.mutePath},"MUTE"))),m.default.createElement("div",{ref:"levelMeterCell",className:S.default.FaderStripCell},m.default.createElement(c.default,{type:"level",path:"mix/level/",className:S.default.FaderStripMeter,width:12,height:P,enabled:!0,stereo:this.observableState.stereoEnabled,meterIndex:this.observableState.levelMeterIndex,stripInfo:this.stripInfo,scaleFactor:1,observableState:this.props.observableState,renderPeakHolds:!0,sideBar:t}),p?m.default.createElement("div",{id:this.stripInfo.type+"-"+this.stripInfo.num+"-fader",className:S.default.FaderStripFaderContainer,style:{height:P}},m.default.createElement(g.default,{onMeasure:function(t){e.props.observableState.faderHeight=t.height}},m.default.createElement(u.default,{observableValues:this.observableState,observableState:this.props.observableState,stateKey:"faderValue",anchorType:d.SliderTrackAnchorTypes.LEFT_TO_RIGHT,color1:d.Colors.faderTrack,color2:L,height:P,onChange:this._onFaderChange,onDoubleClick:this._onFaderStripDoubleClick}))):null),m.default.createElement(g.default,{onMeasure:function(t){t.height>0?e.props.observableState.belowFaderHeight=t.height+6:e.props.observableState.belowFaderHeight=v?92:182}},m.default.createElement("div",null,m.default.createElement("div",{className:S.default.FaderStripCell+" "+S.default.GainTextContainer},m.default.createElement(b.default,{ref:"gainText",type:"tel",mask:M,placeholderChar:"∞",className:S.default.FaderStripTextInput+" "+S.default.GainTextInput,value:Math.round(100*(0,C.mag2db)(this.observableState.faderValue))/100,tabIndex:_,onChange:this._onGainTextChange,onKeyDown:this._onGainTextKeyDown})),this.props.observableState.auxMixer&&t&&!window.auxID?this._renderPersonalAuxMixButton(O,L):this._renderSoloAndPan(O,L),m.default.createElement("div",{className:S.default.FaderStripCell+" "+S.default.FaderStripNameCell},this.props.observableState.mobileBrowser?m.default.createElement("div",{style:{color:this.observableState.channelName?d.Colors.blue:d.Colors.white},className:S.default.FaderStripNameTextMobile},this.observableState.channelName||this.observableState.defaultName):m.default.createElement("textarea",{ref:"name",type:"text",className:S.default.FaderStripTextInput+" "+S.default.FaderStripNameText,placeholder:this.observableState.defaultName,value:this.observableState.channelName,tabIndex:w,onChange:this._setChannelName,onKeyDown:this._onNameTextKeyDown})))))}},{key:"_renderSoloAndPan",value:function(e,t){var n=this.observableState.soloEnabled?a.ButtonStyles.YELLOW:"",r=this.observableState.monitorOverride?a.ButtonStyles.YELLOW:"",i=this.observableState.talkbackChan==this.props.stripInfo.num&&"chan"==this.props.stripInfo.type;l.default.has(this.soloPath)||(n+=" "+S.default.Hidden),(l.default.has(this.soloPath)||"monitor"==this.props.stripInfo.type||"main"==this.props.stripInfo.type)&&(r+=" "+S.default.Hidden),-1!==n.indexOf(S.default.Hidden)&&-1!==r.indexOf(S.default.Hidden)&&(n=S.default.Invisible);var o=S.default.FaderStripPanContainer;return!this.observableState.stereoEnabled&&l.default.has(this.panValuePath)||i||(o=S.default.FaderStripPanContainer+" "+S.default.Invisible),m.default.createElement("div",null,this.props.observableState.auxMixer?null:m.default.createElement("div",{className:e},m.default.createElement(a.GlideButton,{ref:"soloButton",id:"soloButton_"+this.stripInfo.type+"_"+this.stripInfo.num,stripInfo:this.stripInfo,className:n,glideScope:this.props.observableState.soloGlideScope,observableState:this.props.observableState,glidePath:this.soloPath},"SOLO"),m.default.createElement(a.Button,{ref:"monitorOverride",id:"monitorOverride_"+this.stripInfo.type+"_"+this.stripInfo.num,className:r,onClick:this._onMonitorOverrideClick},"SOLO")),m.default.createElement("div",{className:e},m.default.createElement("div",{className:o},i?m.default.createElement("div",{className:S.default.TalkbackContainer},m.default.createElement(v.default,{type:"talkback",width:"15px",height:"15px",strokeColor:d.Colors.blue,fillColor:d.Colors.blue}),m.default.createElement("br",null),"TALKBACK"):m.default.createElement(f.Slider,{ref:"panSlider",observableValues:this.observableState,observableState:this.props.observableState,stateKey:"scaledPanValue",anchorType:d.SliderTrackAnchorTypes.CENTER,color2:t,showToolTip:!0,toolTipContents:m.default.createElement(b.default,{ref:"panText",type:"text",mask:O,className:S.default.FaderStripTextInput,value:this.observableState.panValue,onChange:this._onPanTextChange,onKeyDown:this._onPanTextKeyDown}),disabled:!1,onChange:this._onPanSliderChange,onDoubleClick:this._onPanSliderDoubleClick},m.default.createElement(f.SliderTrack,{trackWidth:4},m.default.createElement(f.SliderThumb,null))))))}},{key:"_renderPersonalAuxMixButton",value:function(e){return m.default.createElement("div",{className:e},m.default.createElement("div",{className:S.default.PersonalAuxMixButtonContainer},m.default.createElement(a.Button,{ref:"personalAuxMixButton",id:"personalAuxMixButton",style:{color:d.SliderTrackColors[this.stripInfo.type],borderColor:d.SliderTrackColors[this.stripInfo.type]},onClick:this._onPersonalAuxMixButtonClick},"Personal Aux Mix")))}},{key:"_initFaderRect",value:function(){if(void 0!==this.props.observableState&&void 0!==this.stripInfo&&void 0!==this.refs.fader){var e=this.refs.fader.getBoundingClientRect();document.getElementById("scroller");this.props.observableState.faderRects[this.stripInfo.id]=e}}},{key:"_onFaderStripClick",value:function(e){if(void 0!==this.props.observableState)if(void 0===e.touches){var t=e.clientX,n=e.clientY,r=document.elementFromPoint(t,n);"string"==typeof r.className?-1===r.className.indexOf("SliderThumb")&&(this.props.observableState.selectedStripInfo=this.stripInfo):this.props.observableState.selectedStripInfo=this.stripInfo}else this.observableState.initialTouchPos=e.touches[0]}},{key:"_onFaderStripTouchMove",value:function(e){void 0!==e.touches&&(this.observableState.lastTouchPos=e.touches[0])}},{key:"_onFaderStripTouchEnd",value:function(e){if(null!==this.observableState.initialTouchPos&&null!==this.observableState.lastTouchPos){var t=this.observableState.initialTouchPos.clientX-20,n=this.observableState.initialTouchPos.clientY-20,r=this.observableState.initialTouchPos.clientX+20,i=this.observableState.initialTouchPos.clientY+20;this.observableState.lastTouchPos.clientX>=t&&this.observableState.lastTouchPos.clientX<=r&&this.observableState.lastTouchPos.clientY>=n&&this.observableState.lastTouchPos.clientY<=i&&(this.props.observableState.selectedStripInfo=this.stripInfo,this.observableState.lastTouchPos=null)}else this.props.observableState.selectedStripInfo=this.stripInfo}},{key:"_onFaderStripDoubleClick",value:function(e){var t=1===parseFloat(this.observableState.faderValue.toFixed(2))?0:1;p.setAny(this.faderValuePath,t)}},{key:"_onFormatChange",value:function(){var e=l.default.get(this.formatPath),t=2===parseInt(e.split(":")[0],10);this.observableState.stereoEnabled=t,this._onChannelNameChange()}},{key:"_onSoloEnabledChange",value:function(){var e=!!l.default.get(this.soloPath);this.observableState.soloEnabled=e}},{key:"_onMuteEnabledChange",value:function(){var e=!!l.default.get(this.mutePath);this.observableState.muteEnabled=e}},{key:"_onChannelNameChange",value:function(){var e=l.default.getMixerChannelName(this.stripInfo),t=l.default.getDefaultMixerChannelName(this.stripInfo);this.observableState.channelName=e,this.observableState.defaultName=t}},{key:"_onFaderValueChange",value:function(){this.observableState.faderValue=l.default.get(this.faderValuePath)}},{key:"_onPanValueChange",value:function(){var e=l.default.get(this.panValuePath),t=(e+1)/2;this.observableState.panValue=e,this.observableState.scaledPanValue=t,void 0!==this.refs.panText&&this.refs.panText.textMaskInputElement.update(Math.round(100*e)/100)}},{key:"_onMonitorOverrideValueChange",value:function(){var e=l.default.get(this.monitorOverridePath);this.observableState.monitorOverride=e===this.assignId?1:0}},{key:"_onPersonalAuxMixButtonClick",value:function(){window.open((0,s.getInjectedDevice)().baseURL+"/"+(-1!==window.location.href.indexOf("localhost")?l.default.get("uid")+"/":"")+this.stripInfo.type+(this.stripInfo.num+1)+".html","_blank")}},{key:"_onSourceValueChange",value:function(){var e=this.removeChangeListeners,t=this.initPaths,n=this.addChangeListeners,r=this.props.stripInfo,i=this.props.faderPath,o=this.props.panPath;setTimeout(function(){e(),t(r,i,o),n()},250)}},{key:"_onTalkbackChanChanged",value:function(){this.observableState.talkbackChan=l.default.get(this.talkbackChanPath)}},{key:"_onMeterIndexStoreChange",value:function(){this.observableState.levelMeterIndex=h.default.getMeterIndex("level",this.stripInfo.type,this.stripInfo.num)}},{key:"_toggleMute",value:function(e){p.setAny(this.stripInfo.basePath+"/matrix/mute",+!this.observableState.muteEnabled)}},{key:"_toggleSolo",value:function(e){p.setAny(this.stripInfo.basePath+"/matrix/solo",+!this.observableState.soloEnabled)}},{key:"_onNameTextKeyDown",value:function(e){return 27!==e.keyCode&&13!==e.keyCode||(this.refs.name.blur(),!1)}},{key:"_setChannelName",value:function(e){e.target instanceof HTMLTextAreaElement&&p.setMixerChannelName(this.stripInfo.basePath,e.target.value)}},{key:"_onFaderChange",value:function(e){p.setAny(this.faderValuePath,e)}},{key:"_onGainTextChange",value:function(e){if(e.target instanceof HTMLInputElement&&""!=e.target.value&&"-∞ dB"!=e.target.value){var t=(0,C.db2mag)(Number(e.target.value.replace(" dB",""))),n=Math.min(Math.max(t,0),4);t!=n&&(e.target.value=Math.round((0,C.mag2db)(n)))}}},{key:"_onGainTextKeyDown",value:function(e){13!==e.keyCode&&9!==e.keyCode||p.setAny(this.faderValuePath,(0,C.db2mag)(Number(e.target.value.replace(" dB",""))))}},{key:"_onPanTextChange",value:function(e){if(e.target instanceof HTMLInputElement){var t=Number(e.target.value);if(!window.isNaN(t)){var n=Math.min(Math.max(t,-1),1);t!=n&&(e.target.value=n)}}}},{key:"_onPanTextKeyDown",value:function(e){if(13===e.keyCode||9===e.keyCode){var t=Number(e.target.value);if(window.isNaN(t))switch(e.target.value.toLowerCase()){case"l":t=-1;break;case"c":t=0;break;case"r":t=1;break;default:t=0}p.setAny(this.panValuePath,t)}}},{key:"_onPanSliderChange",value:function(e){p.setAny(this.panValuePath,2*e-1)}},{key:"_onPanSliderDoubleClick",value:function(e){p.setAny(this.panValuePath,0)}},{key:"_onMonitorOverrideClick",value:function(e){var t=l.default.get(this.monitorOverridePath)!==this.assignId?this.assignId:-1;p.setAny(this.monitorOverridePath,t)}},{key:"_getRect",value:function(){return void 0!==this.refs.faderStrip?this.refs.faderStrip.getBoundingClientRect():null}},{key:"getMuteButton",value:function(){if(void 0!==this.refs.muteButton)return this.refs.muteButton}},{key:"getSoloButton",value:function(){if(void 0!==this.refs.soloButton)return this.refs.soloButton}}]),t}())||r,L=(0,k.observer)(i=function(e){function t(e){I(this,t);var n=B(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.id=Math.random().toString(36).substring(7),n._onFormatValueChange=n._onFormatValueChange.bind(n);var r=e.stripInfo,i=e.observableState,o=(e.faderPath,e.panPath,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}(e,["stripInfo","observableState","faderPath","panPath"]),!l.default.has(r.formatPath)||"2"===l.default.get(r.formatPath).split(":")[0]),a=r.num%2==0?r.num+1:r.num-1,s=r.type+"/"+a;n.observableState=(0,T.observable)({stereoEnabled:o}),n.leftProps={stripInfo:r,observableState:i,faderPath:e.faderPath,panPath:e.panPath,sideBar:e.sideBar};var u=new E.default(s);return n.rightProps={stripInfo:u,observableState:i,faderPath:e.faderPath,panPath:e.panPath,sideBar:e.sideBar},n}return N(t,m.default.Component),o(t,[{key:"componentWillReceiveProps",value:function(e){Object.assign(this.leftProps,{stripInfo:e.stripInfo,observableState:e.observableState,faderPath:e.faderPath,panPath:e.panPath,sideBar:e.sideBar});var t=new E.default(e.stripInfo.type+"/"+(e.stripInfo.num+1));Object.assign(this.rightProps,{stripInfo:t,observableState:e.observableState,faderPath:e.faderPath,panPath:e.panPath,sideBar:e.sideBar})}},{key:"componentDidMount",value:function(){var e=this.leftProps.stripInfo;l.default.has(e.formatPath)&&l.default.addChangeListener(this.id,this._onFormatValueChange,e.formatPath,!1)}},{key:"componentWillUnmount",value:function(){var e=this.leftProps.stripInfo;l.default.removeChangeListener(this.id,this._onFormatValueChange,e.formatPath,!1)}},{key:"_onFormatValueChange",value:function(){var e=this.leftProps.stripInfo,t=!l.default.has(e.formatPath)||"2"===l.default.get(e.formatPath).split(":")[0];t||(this.props.observableState.faderVisibility[this.rightProps.stripInfo.id]=!0),this.observableState.stereoEnabled=t}},{key:"render",value:function(){return this.observableState.stereoEnabled||this.props.sideBar?m.default.createElement("div",{className:S.default.FaderStripContainer},m.default.createElement(A,this.leftProps)):m.default.createElement("div",{className:S.default.FaderStripContainer},m.default.createElement(A,this.leftProps),m.default.createElement(A,this.rightProps))}}]),t}())||i;t.default=L},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={eventList:new Map,on:function(e,t){return this.eventList.has(e)||this.eventList.set(e,[]),this.eventList.get(e).push(t),this},off:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.eventList.delete(e)},emit:function(e){for(var t=this,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return!!this.eventList.has(e)&&(this.eventList.get(e).forEach(function(e){return setTimeout(function(){return e.call.apply(e,[t].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r)))},0)}),!0)}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e){var t=e.enter,n=e.exit,s=e.duration,u=void 0===s?750:s,c=e.appendPosition,h=void 0!==c&&c;return function(e){var s=e.children,c=e.position,p=e.preventExitTransition,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children","position","preventExitTransition"]),f=h?t+"--"+c:t,v=h?n+"--"+c:n,m=void 0,g=void 0;if(Array.isArray(u)&&2===u.length){var b=i(u,2);m=b[0],g=b[1]}else m=g=u;return o.default.createElement(a.default,r({},d,{timeout:p?0:{enter:m,exit:g},onEnter:function(e){e.classList.add(f),e.style.animationFillMode="forwards",e.style.animationDuration=.001*m+"s"},onEntered:function(e){e.classList.remove(f),e.style.cssText=""},onExit:p?l:function(e){e.classList.add(v),e.style.animationFillMode="forwards",e.style.animationDuration=.001*g+"s"}}),s)}};var o=s(n(0)),a=s(n(280));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Flip=t.Zoom=t.Slide=t.Bounce=void 0;var r,i=n(133),o=(r=i)&&r.__esModule?r:{default:r};var a=(0,o.default)({enter:"Toastify__bounce-enter",exit:"Toastify__bounce-exit",appendPosition:!0}),s=(0,o.default)({enter:"Toastify__slide-enter",exit:"Toastify__slide-exit",duration:[450,750],appendPosition:!0}),l=(0,o.default)({enter:"Toastify__zoom-enter",exit:"Toastify__zoom-exit"}),u=(0,o.default)({enter:"Toastify__flip-enter",exit:"Toastify__flip-exit"});t.Bounce=a,t.Slide=s,t.Zoom=l,t.Flip=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.falseOrElement=t.falseOrDelay=void 0,t.isValidDelay=i,t.objectValues=function(e){return Object.keys(e).map(function(t){return e[t]})};var r=n(0);function i(e){return"number"==typeof e&&!isNaN(e)&&e>0}function o(e){return e.isRequired=function(t,n,r){if(void 0===t[n])return new Error("The prop "+n+" is marked as required in \n      "+r+", but its value is undefined.");e(t,n,r)},e}t.falseOrDelay=o(function(e,t,n){var r=e[t];return!1===r||i(r)?null:new Error(n+" expect "+t+" \n      to be a valid Number > 0 or equal to false. "+r+" given.")}),t.falseOrElement=o(function(e,t,n){var i=e[t];return!1===i||(0,r.isValidElement)(i)?null:new Error(n+" expect "+t+" \n      to be a valid react element or equal to false. "+i+" given.")})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Flip=t.Zoom=t.Slide=t.Bounce=t.cssTransition=t.toast=t.ToastContainer=void 0;var r=s(n(288)),i=n(134),o=s(n(278)),a=s(n(133));function s(e){return e&&e.__esModule?e:{default:e}}t.ToastContainer=r.default,t.toast=o.default,t.cssTransition=a.default,t.Bounce=i.Bounce,t.Slide=i.Slide,t.Zoom=i.Zoom,t.Flip=i.Flip},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=h(n(29)),o=(c(n(31)),h(n(6)),c(n(18)),h(n(291))),a=h(n(59)),s=h(n(0)),l=(h(n(36)),h(n(24))),u=(c(n(35)),n(26));h(n(80));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e){return e&&e.__esModule?e:{default:e}}Math.sqrt;var p=0,d=65e3,f=-60,v=12,m=[0,500,3e3,5e3,1e4,2e4,3e4,4e4,5e4,6e4],g=["","500ms","3s","5s","10s","20s","30s","40s","50s","60s"],b=[-60,-30,-24,-18,-12,-6,0,6,12],y=["-60dB","-30dB","-24dB","-18dB","-12dB","-6dB","0dB","6dB","12dB"],C=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.gridEnabled=e.gridEnabled,n._xspace=(0,u.logspace)(p,d,n.props.segments),n._draw=n._draw.bind(n),n._canvasMouseMove=n._canvasMouseMove.bind(n),n._canvasMouseDown=n._canvasMouseDown.bind(n),n._canvasMouseDrag=(0,l.default)(n._canvasMouseDrag,n,1e3/60),n._canvasMouseUp=n._canvasMouseUp.bind(n),n._canvasTouchStart=n._canvasTouchStart.bind(n),n._canvasTouchMove=n._canvasTouchMove.bind(n),n._canvasTouchEnd=n._canvasTouchEnd.bind(n),n._getTouchPos=n._getTouchPos.bind(n),n.curve=new o.default({stripInfo:n.props.stripInfo,notify:n._queueDraw.bind(n),drawMeters:!0,xMin:p,xMax:d,yMin:f,yMax:v}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),r(t,[{key:"componentDidMount",value:function(){this.CANVAS=this.refs.plot.getCanvas().ctx.canvas,this.CANVAS_2D_CONTEXT=this.refs.plot.getCanvas().getContext("2d"),this.PLOT=this.refs.plot.getCanvas(),this.CANVAS.onmousemove=this._canvasMouseMove,this.CANVAS.onmousedown=this._canvasMouseDown,this.CANVAS.onmouseup=this._canvasMouseUp,this.CANVAS.ontouchstart=this._canvasTouchStart,this.CANVAS.ontouchmove=this._canvasTouchMove,this.CANVAS.ontouchend=this._canvasTouchEnd}},{key:"componentDidUpdate",value:function(e,t){var n=this.CANVAS.getBoundingClientRect();this.CANVAS_RECT={left:n.left,right:n.left+this.props.width,top:n.top,bottom:n.top+this.props.height,width:this.props.width,height:this.props.height},this.PLOT_WIDTH=this.props.width,this.PLOT_HEIGHT=this.props.height,this._draw()}},{key:"componentWillUnmount",value:function(){this.CANVAS_RECT=null,this.curve.destructor()}},{key:"setGridEnabled",value:function(e){this.gridEnabled=e}},{key:"render",value:function(){return s.default.createElement(a.default,{ref:"plot",width:this.props.width,height:this.props.height,xAxis:{min:p,max:d,scale:function(e){return Math.sqrt(e)},ticks:m,labels:this.drawLabels()?g:null},yAxis:{min:f,max:v,scale:function(e){return e},ticks:b,labels:this.drawLabels()?y:null},gridEnabled:this.gridEnabled})}},{key:"drawLabels",value:function(){return!0}},{key:"_queueDraw",value:function(){i.default.queue(this._draw)}},{key:"_draw",value:function(){if(void 0!==this.refs.plot){var e=this.refs.plot.refs.canvas;e.clear(),this.curve.draw.call(this.curve,e)}}},{key:"_canvasMouseMove",value:function(e){}},{key:"_canvasMouseDown",value:function(e){}},{key:"_canvasMouseDrag",value:function(e){}},{key:"_canvasMouseUp",value:function(e){}},{key:"_canvasTouchStart",value:function(e){}},{key:"_canvasTouchMove",value:function(e){}},{key:"_canvasTouchEnd",value:function(e){}},{key:"_getTouchPos",value:function(e,t){}}]),t}();t.default=C},function(e,t,n){"use strict";var r,i;r=[n(1),n(2),n(5)],void 0===(i=function(e,t,n){var r,i=function(e,t){for(var n in t)o.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},o={}.hasOwnProperty;return(r={}).PerformanceSettingsReference=function(){function e(){}return e.prototype.fromServerThrottleTime=0,e.prototype.toServerThrottleTime=0,e.prototype.debounceStripHideShow=0,e.prototype.deferKnobDraws=!1,e.prototype.alwaysShowDelayedSpinners=!1,e}(),r.PerformanceSettings=function(n){function a(){a.__super__.constructor.call(this,"performance/"),this.activeModes=[],this.addMode(new r.Defaults),t.isMobile&&this.addMode(new r.Mobile)}return i(a,n),a.prototype.addMode=function(e){var t;for(t in this.activeModes.push(e),e)o.call(e,t)&&this.updateSetting(t);return e},a.prototype.removeMode=function(t){var n,r;for(n in this.activeModes=e.without(this.activeModes,t),r=[],t)o.call(t,n)&&r.push(this.updateSetting(n));return r},a.prototype.choose=function(t,n){return e.max(n)},a.prototype.updateSetting=function(t){var n;return 0===(n=e.filter(e.pluck(this.activeModes,t),function(e){return null!=e})).length?this.set("performance/"+t,void 0):this.set("performance/"+t,this.choose(t,n))},a}(n.ScopedSource),r.Mode=function(){function t(){e.defaults(this,this.settings)}return t.prototype.settings={},t}(),r.UserInteractionDrag=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.settings={fromServerThrottleTime:100,toServerThrottleTime:200,deferKnobDraws:!0,debounceStripHideShow:600},t}(r.Mode),r.MixerCreation=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.settings={debounceStripHideShow:2e3},t}(r.Mode),r.Defaults=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.settings={},t}(r.Mode),r.Mobile=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.settings={alwaysShowDelayedSpinners:!0},t}(r.Mode),r}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=x(n(29)),o=x(n(6)),a=n(9),s=C(n(18)),l=n(63),u=n(298),c=x(n(59)),h=x(n(0)),p=(x(n(13)),x(n(36)),n(62)),d=x(n(24)),f=C(n(35)),v=n(26),m=(x(n(80)),n(4),x(n(99))),g=x(n(297)),b=n(23),y=x(n(138));function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}var _=Math.sqrt,w=20,S=22050,k=function(e){return Math.log10(e+1)},T=function(e){return e},E=2/Math.log(2)*Math.asinh(1/.9),P=2/Math.log(2)*Math.asinh(.05),I=[-16,-8,0,8,16],B=["-16db","","0db","","+16db"],N=[40,60,80,100,200,400,600,800,1e3,2e3,4e3,6e3,8e3,1e4,18e3,2e4],M=["40","","","100","","","","","1k","","","","","10k","18k",""],O=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.gridEnabled=e.gridEnabled,n._xspace=(0,v.logspace)(w,S,n.props.segments),n._onResize=n._onResize.bind(n),n._draw=n._draw.bind(n),n.dragdown=n.dragdown.bind(n),n.dragmove=(0,d.default)(n.dragmove,n,1e3/60),n.dragup=n.dragup.bind(n),n.dragcancel=n.dragcancel.bind(n),n._canvasMouseMove=n._canvasMouseMove.bind(n),n._getTouchPos=n._getTouchPos.bind(n),n._getNearestHandle=n._getNearestHandle.bind(n),n.perf=(0,b.getInjectedDevice)().perf,n.HANDLES=n.props.bands.map(function(e){return new u.EQHandle({band:e,x:0,y:0,radius:10})},n),n.CURVES=n.props.bands.map(function(e,t,n){return o.default.addChangeListener(Math.random().toString(36).substring(7),this._queueDraw.bind(this),e.path+"/enable"),new l.EQBandCurve({path:e.path,defaultType:e.defaultType,notify:this._queueDraw.bind(this),last:t+1==n.length,color:e.color})},n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,h.default.Component),r(t,[{key:"componentDidMount",value:function(){this.CANVAS=this.refs.plot.getCanvas().ctx.canvas,this.CANVAS_2D_CONTEXT=this.refs.plot.getCanvas().refs.canvas.getContext("2d"),this.PLOT=this.refs.plot.getCanvas(),this.CANVAS_RECT=this.CANVAS.getBoundingClientRect(),this.FAT_CHANNEL_SCROLLER=document.getElementById("focusChannelScroller"),this.PREV_X=0,this.PREV_Y=0,this.PREV_PINCH_DISTANCE=0,this.DRAGGING=!1,this.DRAGGING_BAND="",this.HANDLE_RADIUS=10,this.GAIN_ENABLED=!1,this.CURVES.forEach(function(e){e.addChangeListeners()}),this.CANVAS_DRAG_LISTENER=new m.default.Listener({node:this.CANVAS,proxy:this,events:["dragdown","dragmove","dragup","dragcancel"]}),this.CANVAS.onmousemove=this._canvasMouseMove}},{key:"componentDidUpdate",value:function(e,t){this._onResize(this.props),this._draw()}},{key:"componentWillReceiveProps",value:function(e){this.props.width===e.width&&this.props.height===e.height||this._onResize(e)}},{key:"componentWillUnmount",value:function(){this.CANVAS_RECT=null,this.CURVES.forEach(function(e){e.removeChangeListeners()})}},{key:"setGridEnabled",value:function(e){this.gridEnabled=e}},{key:"render",value:function(){return h.default.createElement(c.default,{ref:"plot",className:g.default.EQGraph,width:this.props.width,height:this.props.height,xAxis:{min:w,max:S,scale:k,ticks:N,labels:this.drawLabels()?M:null},yAxis:{min:-24,max:24,scale:T,ticks:I,labels:this.drawLabels()?B:null},gridEnabled:this.gridEnabled})}},{key:"drawLabels",value:function(){return!0}},{key:"_queueDraw",value:function(){i.default.queue(this._draw)}},{key:"_draw",value:function(){for(var e=this._xspace,t=new Array(e.length),n=0;n<t.length;n++)t[n]=0;this.PLOT.clear();for(var r=0;r<this.CURVES.length;r++){var i=this.HANDLES[r],o=this.CURVES[r];if(o.isEnabled()){i.x=f.freqToXPos(o.observableState.fc,44100,this.CANVAS.width),i.y=f.gainToYPos(o.observableState.gain,this.CANVAS.height),i.color=o.color,i.radius=this.DRAGGING&&i.band.path===this.DRAGGING_BAND.path?this.HANDLE_RADIUS:10;var s=o.generateCurve(e),l=s[0]>0?90:270,u=o.color;u=this.PLOT.createGradient(l,null,i.y,(0,p.hex2rgba)(u,.05),(0,p.hex2rgba)(a.Colors.blacker,.5)),this.PLOT.beginPath(o.color,u),this.PLOT.moveTo(e[0],s[0]);for(var c=0;c<s.length;c++)this.PLOT.lineTo(e[c],s[c]),o.getType()&&(t[c]+=s[c]);this.PLOT.stroke(),this.PLOT.lineTo(S,0),this.PLOT.lineTo(w,0),this.PLOT.fill(),i.drawToContext(this.CANVAS_2D_CONTEXT)}}this.PLOT.beginPath(a.Colors.white),this.PLOT.moveTo(e[0],t[0]);for(var h=1;h<t.length;h++)this.PLOT.lineTo(e[h],t[h]);this.PLOT.stroke()}},{key:"_onResize",value:function(e){var t=this.CANVAS.getBoundingClientRect();this.CANVAS_RECT={left:t.left,right:t.left+e.width,top:t.top,bottom:t.top+e.height,width:e.width,height:e.height},this.PLOT_WIDTH=e.width,this.PLOT_HEIGHT=e.height,this.CURVES.forEach(function(e){e.removeChangeListeners()}),this.HANDLES=e.bands.map(function(e){return new u.EQHandle({band:e,x:0,y:0,radius:10})},this),this.CURVES=e.bands.map(function(e){var t=new l.EQBandCurve({path:e.path,defaultType:e.defaultType,notify:this._queueDraw.bind(this),color:e.color});return t.refreshValues(),t.addChangeListeners(),t},this)}},{key:"_canvasMouseMove",value:function(e){if(!this.DRAGGING&&!this.PINCHING){null==this.CANVAS_RECT&&(this.CANVAS_RECT=this.CANVAS.getBoundingClientRect()),null==this.FAT_CHANNEL_SCROLLER&&(this.FAT_CHANNEL_SCROLLER=document.getElementById("focusChannelScroller"));var t=e.clientX-this.CANVAS_RECT.left,n=e.clientY-this.CANVAS_RECT.top+this.FAT_CHANNEL_SCROLLER.scrollTop,r=0;for(r=0;r<this.CURVES.length;r++){var i=this.HANDLES[r],o=this.CURVES[r];if(o.isEnabled()){f.freqToXPos(o.observableState.fc,44100,this.CANVAS.width),f.gainToYPos(o.observableState.gain,this.CANVAS.height);i.hitTest(t,n)&&(this.CANVAS.style.cursor="crosshair",i.radius=this.HANDLE_RADIUS,i.drawToContext(this.CANVAS_2D_CONTEXT)),!i.hitTest(t,n)&&i.hitTest(this.PREV_X,this.PREV_Y)&&(this.CANVAS.style.cursor="default",i.radius=10,this._draw())}}this.PREV_X=t,this.PREV_Y=n}}},{key:"dragdown",value:function(e,t,n){var r=e.clientX-this.CANVAS_RECT.left,i=e.clientY-this.CANVAS_RECT.top+this.FAT_CHANNEL_SCROLLER.scrollTop,a=0;if(n.touches){a=n.touches.length;var s=this._getTouchPos(this.CANVAS,n.touches[0]);if(1==a){var l=this._getNearestHandle(s.x,s.y);this.DRAGGING=!0,this.DRAGGING_BAND=l.band,void 0!=this.props.setActiveBandPath&&this.props.setActiveBandPath(this.DRAGGING_BAND),this.GAIN_ENABLED=!!o.default.has(this.DRAGGING_BAND.path+"/gain"),this.HANDLE_RADIUS=20}else if(2==a){var u=this._getTouchPos(this.CANVAS,n.touches[1]);this.DRAGGING=!1;var c=s.x-u.x,h=s.y-u.y;this.PINCH_START_DISTANCE=_(c*c+h*h);var p=this._getNearestHandle(s.x,u.y);this.PINCHING_BAND_PATH=p.band.path,this.PINCHING=!0}}else{var d=this.HANDLES.filter(function(e,t){if(e.hitTest(r,i))return e});this.DRAGGING_BAND=1==d.length?d[0].band:void 0,void 0!==this.DRAGGING_BAND&&(this.DRAGGING=!0,void 0!=this.props.setActiveBandPath&&this.props.setActiveBandPath(this.DRAGGING_BAND),this.GAIN_ENABLED=!!o.default.has(this.DRAGGING_BAND.path+"/gain"))}this.props.observableState&&(this.props.observableState.draggingEQGraph=!0),a<2&&(this.perfMode?this.perf.addMode(this.perfMode):this.perfMode=this.perf.addMode(new y.default.UserInteractionDrag))}},{key:"dragmove",value:function(e,t,n){if(this.DRAGGING_BAND||this.PINCHING_BAND_PATH){var r=e.clientX-this.CANVAS_RECT.left,i=e.clientY-this.CANVAS_RECT.top+this.FAT_CHANNEL_SCROLLER.scrollTop;if(this.PINCHING&&n){if(2==n.touches.length){var a=this._getTouchPos(this.CANVAS,n.touches[0]),l=this._getTouchPos(this.CANVAS,n.touches[1]),u=a.x-l.x,c=a.y-l.y,h=_(u*u+c*c)-this.PINCH_START_DISTANCE,p=10*(1-h/(this.CANVAS.width/2)),d=Math.floor(100*p)/100;if(d<.45?d=.45:d>10&&(d=10),o.default.has(this.PINCHING_BAND_PATH+"/bw")){var v=o.default.get(this.PINCHING_BAND_PATH+"/bw"),m=0;(m=this.PREV_PINCH_DISTANCE<h?2/Math.log(2)*Math.asinh(1/(2*d))+v:v-2/Math.log(2)*Math.asinh(1/(2*d)))>E?m=E:m<P&&(m=P),this.PREV_PINCH_DISTANCE=h,s.setAny(this.PINCHING_BAND_PATH+"/bw",m)}}}else if(this.DRAGGING){var g=Math.floor(100*f.xPosToFreq(r,44100,w,S,this.CANVAS.width))/100,b=Math.floor(100*f.yPosToGain(i,22,this.CANVAS.height))/100,y=[],C={};if(C.path=this.DRAGGING_BAND.path+"/freq",C.value=g,y.push(C),this.GAIN_ENABLED){var x={};x.path=this.DRAGGING_BAND.path+"/gain",x.value=b,y.push(x)}s.setMultiple(y)}}}},{key:"dragup",value:function(e,t){this.perf.removeMode(this.perfMode),(this.DRAGGING||this.PINCHING)&&(this.DRAGGING=!1,this.PINCHING=!1,this.DRAGGING_BAND=null,this.props.observableState&&(this.props.observableState.draggingEQGraph=!1),this._queueDraw())}},{key:"dragcancel",value:function(e,t){this.DRAGGING=!1,this.PINCHING=!1,this.DRAGGING_BAND=null,this.props.observableState&&(this.props.observableState.draggingEQGraph=!1),this._queueDraw()}},{key:"dblclick",value:function(e){}},{key:"_getTouchPos",value:function(e,t){return null==this.CANVAS_RECT&&(this.CANVAS_RECT=this.CANVAS.getBoundingClientRect()),null==this.FAT_CHANNEL_SCROLLER&&(this.FAT_CHANNEL_SCROLLER=document.getElementById("focusChannelScroller")),{x:t.clientX-this.CANVAS_RECT.left,y:t.clientY-this.CANVAS_RECT.top+this.FAT_CHANNEL_SCROLLER.scrollTop}}},{key:"_getNearestHandle",value:function(e,t){for(var n=0,r=null,i=0;i<this.HANDLES.length;i++){var o=this.HANDLES[i],a=_((o.x-e)*(o.x-e)+(o.y-t)*(o.y-t));0==i?(n=a,r=o):a<n&&(n=a,r=o)}return r}}]),t}();t.default=O},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=g(n(29)),s=n(9),l=g(n(6)),u=g(n(42)),c=g(n(43)),h=(m(n(18)),g(n(0))),p=(g(n(36)),g(n(24)),m(n(35)),n(26),m(n(39))),d=(g(n(80)),g(n(301))),f=n(12),v=n(4);function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}var b=(0,f.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.id=Math.random().toString(36).substring(7),n.initPaths=n.initPaths.bind(n),n.addChangeListeners=n.addChangeListeners.bind(n),n.addChangeListeners=n.addChangeListeners.bind(n),n._queueDrawGrid=n._queueDrawGrid.bind(n),n._queueDrawNeedle=n._queueDrawNeedle.bind(n),n._drawGrid=n._drawGrid.bind(n),n._drawNeedle=n._drawNeedle.bind(n),n._onEnabledValueChange=n._onEnabledValueChange.bind(n),n._onMeterChange=n._onMeterChange.bind(n),n.observableState=(0,v.observable)({enabled:!0,meterIndex:c.default.getMeterIndex("leveler",e.stripInfo.type,e.stripInfo.num)}),n.level=1,n.grWarper=new p.FullScaleMeter(null),n.ticks=n.initPaths(e.stripInfo,e.control,e.property),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,h.default.Component),o(t,[{key:"initPaths",value:function(e,t,n){this.meterPath="mix/"+t+"/"+n,this.enablePath=e.basePath+"/"+t+"/enable"}},{key:"componentDidMount",value:function(){this.GRID_CANVAS=this.refs.gridCanvas,this.GRID_CANVAS_2D_CONTEXT=this.GRID_CANVAS.getContext("2d"),this.GRID_CANVAS_2D_CONTEXT.fillStyle=s.Colors.blacker,this.NEEDLE_CANVAS=this.refs.needleCanvas,this.NEEDLE_CANVAS_2D_CONTEXT=this.NEEDLE_CANVAS.getContext("2d"),this.addChangeListeners(),this._queueDrawGrid()}},{key:"componentWillReceiveProps",value:function(e){this.removeChangeListeners(),this.observableState.meterIndex=c.default.getMeterIndex("leveler",e.stripInfo.type,e.stripInfo.num),this.initPaths(e.stripInfo,e.control,e.property),this.addChangeListeners(),this._queueDrawGrid()}},{key:"componentDidUpdate",value:function(e,t){this._queueDrawGrid()}},{key:"componentWillUnmount",value:function(){this.removeChangeListeners()}},{key:"setGridEnabled",value:function(e){this.gridEnabled=e}},{key:"addChangeListeners",value:function(){u.default.addChangeListener(this._onMeterChange),l.default.addChangeListener(this.id,this._onEnabledValueChange,this.enablePath)}},{key:"removeChangeListeners",value:function(){u.default.removeChangeListener(this._onMeterChange),l.default.removeChangeListener(this.id,this._onEnabledValueChange,this.enablePath)}},{key:"render",value:function(){return h.default.createElement("div",{className:d.default.VUMeter},h.default.createElement("canvas",{ref:"needleCanvas",className:d.default.Canvas,style:{width:this.props.width,height:this.props.height,zIndex:2},width:this.props.width,height:this.props.height}),h.default.createElement("canvas",{ref:"gridCanvas",className:d.default.Canvas,style:{width:this.props.width,height:this.props.height},width:this.props.width,height:this.props.height}))}},{key:"drawLabels",value:function(){return!0}},{key:"_queueDrawGrid",value:function(){a.default.queue(this._drawGrid),a.default.queue(this._drawNeedle)}},{key:"_drawGrid",value:function(){if(void 0!==this.GRID_CANVAS){var e=this.GRID_CANVAS,t=this.GRID_CANVAS_2D_CONTEXT,n=e.width,r=e.height;t.fillStyle=s.Colors.blacker,t.clearRect(0,0,n,r),t.fillRect(0,0,n,r);var i=n/2,o=1.45*r,a=n/1.7,l=1.25*Math.PI,u=1.75*Math.PI;t.beginPath(),t.arc(i,o,a,l,u,!1),t.lineWidth=3,t.lineCap="round",t.strokeStyle=this.observableState.enabled?s.Colors.white:s.Colors.gray,t.stroke(),t.closePath()}}},{key:"_queueDrawNeedle",value:function(){a.default.queue(this._drawNeedle)}},{key:"_drawNeedle",value:function(){if(void 0!==this.NEEDLE_CANVAS){var e=this.NEEDLE_CANVAS,t=this.NEEDLE_CANVAS_2D_CONTEXT,n=e.width,r=e.height;t.clearRect(0,0,n,r);var i=n/2,o=1.45*r,a=n/1.7,l=(.5*this.grWarper.warp(this.level)+1.25)*Math.PI,u=i-5,c=[i+Math.cos(l)*a,o+Math.sin(l)*a];t.beginPath(),t.lineWidth=2,t.strokeStyle=s.Colors.blue;for(var h=0;h<10;h++)t.moveTo(u+h,1.5*r),t.lineTo(c[0],c[1]),t.stroke();t.closePath()}}},{key:"_onMeterChange",value:function(){var e=u.default.get(this.meterPath);if(this.observableState.enabled&&"object"===(void 0===e?"undefined":i(e))&&null!==e&&0!==e.length){var t=this.level;(t=e[this.observableState.meterIndex]/1e3)!==this.level&&(this.level=t,this._queueDrawNeedle())}}},{key:"_onEnabledValueChange",value:function(){this.observableState.enabled=l.default.get(this.enablePath),this.level=1,this._queueDrawGrid()}}]),t}())||r;t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=p(n(6)),a=p(n(42)),s=n(9),l=n(62),u=(p(n(19)),n(26)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(35)),h=n(4);function p(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=Math.random().toString(36).substring(7),this.path=t.path,this.meterIndex=t.meterIndex,this.drawMeters=t.drawMeters,this.notify=t.notify,this.xMin=t.xMin,this.xMax=t.xMax,this.yMin=t.yMin,this.yMax=t.yMax,this.draw=this.draw.bind(this),this._onEnabledValueChange=this._onEnabledValueChange.bind(this),this._onThresholdValueChange=this._onThresholdValueChange.bind(this),this._onMeterChange=this._onMeterChange.bind(this),this.observableState=(0,h.observable)({path:t.path,enabledPath:t.path+"/enable",thresholdPath:t.path+"/threshold",enabled:!1,threshold:0,meterLevel:0}),o.default.addChangeListener(this.id,this._onEnabledValueChange,this.observableState.enabledPath),o.default.addChangeListener(this.id,this._onThresholdValueChange,this.observableState.thresholdPath),a.default.addChangeListener(this._onMeterChange)}return i(e,[{key:"destructor",value:function(){o.default.removeChangeListener(this.id,this._onEnabledValueChange,this.observableState.enabledPath),o.default.removeChangeListener(this.id,this._onThresholdValueChange,this.observableState.thresholdPath),a.default.removeChangeListener(this._onMeterChange)}},{key:"draw",value:function(e){var t=this._getPoints(),n=t.p0,r=t.p1,i=t.c;this._drawFill(e,n,r,i),this._drawCurve(e,n,r,i)}},{key:"_onEnabledValueChange",value:function(){var e=!!o.default.get(this.observableState.enabledPath);this.observableState.enabled=e,this.notify()}},{key:"_onThresholdValueChange",value:function(){var e=c.sliderValueToGateThreshold(o.default.get(this.observableState.thresholdPath));this.observableState.threshold=e,this.notify()}},{key:"_onMeterChange",value:function(){var e=a.default.get("mix/gate/level");if(this.observableState.enabled&&"object"===(void 0===e?"undefined":r(e))&&null!==e&&0!==e.length){var t=(0,u.mag2db)(e[this.meterIndex]/1e3);t!==this.observableState.meterLevel&&(this.observableState.meterLevel=t,this.observableState.enabled&&this.drawMeters&&this.notify())}}},{key:"_getPoints",value:function(){var e=Math.max(this.xMin,this.observableState.threshold),t={x:e,y:e};return{p0:{x:e,y:this.yMin},p1:{x:this.xMax,y:this.yMax},c:t}}},{key:"_drawCurve",value:function(e,t,n,r){var i=this.observableState.enabled?s.Colors.teal:s.Colors.gray;e.beginPath(i),e.moveTo(t.x,t.y),e.lineTo(r.x,r.y),e.lineTo(n.x,n.y),e.stroke()}},{key:"_drawFill",value:function(e,t,n,r){!this.drawMeters||!this.observableState.enabled||this.observableState.meterLevel<this.observableState.threshold||(e.beginPath((0,l.hex2rgba)(s.Colors.teal,.2)),e.moveTo(t.x,t.y),e.lineTo(r.x,r.y),e.lineTo(this.observableState.meterLevel,this.observableState.meterLevel),e.lineTo(this.observableState.meterLevel,this.yMin),e.lineTo(this.xMin,this.yMin),e.fill())}}]),e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=h(n(6)),a=h(n(42)),s=n(9),l=n(62),u=(h(n(19)),n(26)),c=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(35)),n(4));function h(e){return e&&e.__esModule?e:{default:e}}var p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=Math.random().toString(36).substring(7),this.path=t.path,this.meterIndex=t.meterIndex,this.drawMeters=t.drawMeters,this.notify=t.notify,this.xMin=t.xMin,this.xMax=t.xMax,this.yMin=t.yMin,this.yMax=t.yMax,this.draw=this.draw.bind(this),this._onEnabledValueChange=this._onEnabledValueChange.bind(this),this._onMakeupValueChange=this._onMakeupValueChange.bind(this),this._onThresholdValueChange=this._onThresholdValueChange.bind(this),this._onRatioValueChange=this._onRatioValueChange.bind(this),this._onMeterChange=this._onMeterChange.bind(this),this.observableState=(0,c.observable)({path:t.path,enabledPath:t.path+"/enable",makeupPath:t.path+"/makeup",thresholdPath:t.path+"/threshold",ratioPath:t.path+"/ratio",enabled:!0,makeup:!0,threshold:0,ratio:0,meterLevel:0}),o.default.addChangeListener(this.id,this._onEnabledValueChange,this.observableState.enabledPath),o.default.has(this.observableState.makeupPath)&&o.default.addChangeListener(this.id,this._onMakeupValueChange,this.observableState.makeupPath),o.default.addChangeListener(this.id,this._onThresholdValueChange,this.observableState.thresholdPath),o.default.addChangeListener(this.id,this._onRatioValueChange,this.observableState.ratioPath),a.default.addChangeListener(this._onMeterChange)}return i(e,[{key:"destructor",value:function(){o.default.removeChangeListener(this.id,this._onEnabledValueChange,this.observableState.enabledPath),o.default.removeChangeListener(this.id,this._onMakeupValueChange,this.observableState.makeupPath),o.default.removeChangeListener(this.id,this._onThresholdValueChange,this.observableState.thresholdPath),o.default.removeChangeListener(this.id,this._onRatioValueChange,this.observableState.ratioPath),a.default.removeChangeListener(this._onMeterChange)}},{key:"draw",value:function(e){var t=this._getPoints(),n=t.p0,r=t.p1,i=t.k0,o=t.k1,a=t.c;this._drawFill(e,n,r,a,i,o),this._drawCurve(e,n,r,a,i,o)}},{key:"_onEnabledValueChange",value:function(){var e=!!o.default.get(this.observableState.enabledPath);this.observableState.enabled=e,this.notify()}},{key:"_onMakeupValueChange",value:function(){var e=!!o.default.get(this.observableState.makeupPath);this.observableState.makeup=e,this.notify()}},{key:"_onThresholdValueChange",value:function(){var e=o.default.get(this.observableState.thresholdPath);this.observableState.threshold=e,this.notify()}},{key:"_onRatioValueChange",value:function(){var e=o.default.get(this.observableState.ratioPath);this.observableState.ratio=e,this.notify()}},{key:"_onMeterChange",value:function(){var e=a.default.get("mix/comp/level");if(this.observableState.enabled&&"object"===(void 0===e?"undefined":r(e))&&null!==e&&0!==e.length){var t=(0,u.mag2db)(e[this.meterIndex]/1e3);t!==this.observableState.meterLevel&&(this.observableState.meterLevel=t,this.observableState.enabled&&this.drawMeters&&this.notify())}}},{key:"_getPoints",value:function(){var e=this.observableState.threshold,t=this.observableState.ratio,n=e-4,r=e+4,i=this.observableState.makeup?{x:e,y:e/t}:{x:e,y:e};return{p0:this.observableState.makeup?{x:this.xMin,y:i.y+this.yMin-i.x}:{x:this.xMin,y:this.yMin},p1:this.observableState.makeup?{x:this.xMax,y:this.yMax}:{x:this.xMax,y:e-e/t},k0:{x:n,y:i.y-4},k1:{x:r,y:i.y+4/t},c:i}}},{key:"_drawCurve",value:function(e,t,n,r,i,o){var a=this.observableState.enabled?s.Colors.purple:s.Colors.gray;e.beginPath(a),e.moveTo(t.x,t.y),e.lineTo(i.x,i.y),e.quadraticCurveTo(o.x,o.y,r.x,r.y),e.lineTo(n.x,n.y),e.stroke()}},{key:"_drawFill",value:function(e,t,n,r,i,o){var a=this.observableState.meterLevel;if(this.drawMeters&&this.observableState.enabled&&!(a<this.xMin)){if(a<=i.x&&(e.beginPath((0,l.hex2rgba)(s.Colors.purple,.2)),e.moveTo(t.x,t.y),e.lineTo(t.x+a-this.xMin,t.y+a-this.yMin),e.lineTo(t.x+a-this.xMin,this.yMin),e.lineTo(this.xMin,this.yMin),e.fill()),i.x<a&&a<=o.x){e.beginPath((0,l.hex2rgba)(s.Colors.purple,.2));var u=o.x-i.x,c=(o.x-a)/u,h=1-c,p={x:c*i.x+h*r.x,y:c*i.y+h*r.y},d={x:c*r.x+h*o.x,y:c*r.y+h*o.y},f={x:c*p.x+h*d.x,y:c*p.y+h*d.y};e.moveTo(t.x,t.y),e.lineTo(i.x,i.y),e.quadraticCurveTo(f.x,f.y,p.x,p.y),e.lineTo(f.x,this.yMin),e.lineTo(this.xMin,this.yMin),e.fill()}o.x<a&&(e.beginPath((0,l.hex2rgba)(s.Colors.purple,.2)),e.moveTo(t.x,t.y),e.lineTo(i.x,i.y),e.quadraticCurveTo(o.x,o.y,r.x,r.y),e.lineTo(a,o.y+(a-o.x)/this.observableState.ratio),e.lineTo(a,this.yMin),e.lineTo(this.xMin,this.yMin),e.fill())}}}]),e}();t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ChannelSelectOptionInternal=void 0;var r,i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=p(n(0)),s=(p(n(13)),p(n(11)),p(n(24)),p(n(15)),p(n(6))),l=n(20),u=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(18)),n(9),p(n(28)),p(n(318)),p(n(17))),c=(p(n(82)),n(23),n(12)),h=n(4);function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=t.ChannelSelectOptionInternal=(0,c.observer)(r=function(e){function t(e){d(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.arrayPush=Array.prototype.push,n.id=Math.random().toString(36).substring(7),n._onChannelNameChanged=n._onChannelNameChanged.bind(n),n.addChangeListeners=n.addChangeListeners.bind(n),n.removeChangeListeners=n.removeChangeListeners.bind(n),n.observableState=(0,h.observable)({label:n.props.label}),n}return v(t,a.default.Component),o(t,[{key:"componentDidMount",value:function(){this.props.stripInfo?(this.channelNamePath=(0,l.getStripNamePath)(this.props.stripInfo),this.defaultNamePath=(0,l.getDefaultNamePath)(this.props.stripInfo),this.observableState.label=s.default.getLabel(this.props.stripInfo)):this.props.label&&(this.observableState.label=this.props.label),this.addChangeListeners()}},{key:"componentWillUnmount",value:function(){this.removeChangeListeners()}},{key:"addChangeListeners",value:function(){if(this.props.stripInfo){var e=this.props.stripInfo;s.default.addChangeListener(this.id,this._onChannelNameChanged,this.channelNamePath,!1),s.default.addChangeListener(this.id,this._onChannelNameChanged,this.defaultNamePath,!1),s.default.has(e.formatPath)&&s.default.addChangeListener(this.id,this._onChannelNameChanged,e.formatPath,!1)}}},{key:"removeChangeListeners",value:function(){if(this.props.stripInfo){var e=this.props.stripInfo;s.default.removeChangeListener(this.id,this._onChannelNameChanged,this.channelNamePath),s.default.removeChangeListener(this.id,this._onChannelNameChanged,this.defaultNamePath),s.default.has(e.formatPath)&&s.default.removeChangeListener(this.id,this._onChannelNameChanged,e.formatPath)}}},{key:"componentWillReceiveProps",value:function(e){this.props.stripInfo?this.observableState.label=s.default.getLabel(this.props.stripInfo):this.props.label&&(this.observableState.label=this.props.label)}},{key:"render",value:function(){return a.default.createElement("option",{value:this.props.value},this.observableState.label)}},{key:"_onChannelNameChanged",value:function(){this.props.stripInfo&&(this.observableState.label=s.default.getLabel(this.props.stripInfo))}}]),t}())||r,g=(0,c.observer)(i=function(e){function t(e){d(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.id=Math.random().toString(36).substring(7),n._processProps=n._processProps.bind(n),n._onFormatValueChange=n._onFormatValueChange.bind(n),n._processProps(e);var r;return r=!n.leftProps.stripInfo||(!s.default.has(n.leftProps.stripInfo.formatPath)||"2"===s.default.get(n.leftProps.stripInfo.formatPath).split(":")[0]),n.observableState=(0,h.observable)({stereoEnabled:r}),n}return v(t,a.default.Component),o(t,[{key:"_processProps",value:function(e){var t=e.stripInfo,n=e.value,r=e.label,i=e.stereoStripInfo,o=e.stereoValue,a=e.stereoLabel,s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["stripInfo","value","label","stereoStripInfo","stereoValue","stereoLabel"]),l=n;if(null!=n&&void 0!=n||null===t||void 0===t||(l=t.id),this.leftProps=Object.assign({},s,{stripInfo:t,value:l,label:r}),i){null!=o&&void 0!=o||null===i||void 0===i||i.id,this.rightProps=Object.assign({},s,{stripInfo:i,value:o,label:a})}else if(t){var c=t.num%2==0?t.num+1:t.num-1,h=t.type+"/"+c,p=new u.default(h);this.rightProps=Object.assign({},s,{stripInfo:p,value:p.id})}}},{key:"componentWillReceiveProps",value:function(e){this._processProps(e)}},{key:"componentDidMount",value:function(){if(this.leftProps.stripInfo){var e=this.leftProps.stripInfo;s.default.has(e.formatPath)&&s.default.addChangeListener(this.id,this._onFormatValueChange,e.formatPath,!1)}}},{key:"componentWillUnmount",value:function(){if(this.leftProps.stripInfo){var e=this.leftProps.stripInfo;s.default.removeChangeListener(this.id,this._onFormatValueChange,e.formatPath,!1)}}},{key:"_onFormatValueChange",value:function(){var e=this.leftProps.stripInfo;this.observableState.stereoEnabled=!s.default.has(e.formatPath)||"2"===s.default.get(e.formatPath).split(":")[0]}},{key:"render",value:function(){return this.observableState.stereoEnabled?a.default.createElement(m,this.leftProps):[a.default.createElement(m,this.leftProps),a.default.createElement(m,this.rightProps)]}}]),t}())||i;t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MonitorFollowDropDown=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n(0)),a=(d(n(13)),d(n(11))),s=(d(n(24)),d(n(15)),d(n(6))),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(18)),u=(n(9),d(n(143))),c=d(n(316)),h=(d(n(17)),n(12)),p=n(4);function d(e){return e&&e.__esModule?e:{default:e}}t.MonitorFollowDropDown=(0,h.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.id=Math.random().toString(36).substring(7),n.addChangeListeners=n.addChangeListeners.bind(n),n.removeChangeListeners=n.removeChangeListeners.bind(n),n._getDefaultValue=n._getDefaultValue.bind(n),n._onAssignValueChange=n._onAssignValueChange.bind(n),n._onAssignChange=n._onAssignChange.bind(n),n._onAssignIdsChanged=n._onAssignIdsChanged.bind(n),n.assignPath=n.props.stripInfo.basePath+"/assign",n.observableState=(0,p.observable)({assign:0}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"componentDidMount",value:function(){this.addChangeListeners()}},{key:"componentWillUnmount",value:function(){this.removeChangeListeners()}},{key:"addChangeListeners",value:function(){s.default.addChangeListener(this.id,this._onAssignValueChange,this.assignPath),this.assignIdsDisposer=(0,p.observe)(this.props.observableState,"assignIds",this._onAssignIdsChanged)}},{key:"removeChangeListeners",value:function(){s.default.removeChangeListener(this.id,this._onAssignValueChange,this.assignPath),this.assignIdsDisposer()}},{key:"render",value:function(){for(var e=(0,a.default)(c.default.MonitorFollowDropDown,this.props.className),t=[],n=0;n<this.props.observableState.assignIds.length;n++){this.props.observableState.assignIds[n].key;var r=this.props.observableState.assignIds[n].ids.map(function(e,t){return o.default.createElement(u.default,{stripInfo:e.stripInfo,label:e.displayName,value:e.id,stereoStripInfo:e.stereoStripInfo,stereoValue:e.stereoValue,stereoLabel:e.stereoDisplayName})},this);t=t.concat(r)}return o.default.createElement("div",{className:c.default.MonitorFollowSelectContainer},o.default.createElement("select",{ref:"monitorFollowDropDown",className:e,defaultValue:this._getDefaultValue(),onChange:this._onAssignChange},t))}},{key:"_getDefaultValue",value:function(){var e="";return this.props.observableState.assignIds.forEach(function(t,n,r){t.ids.forEach(function(t,n,r){t==this.observableState.assign&&(e=t)},this)},this),e}},{key:"_onAssignValueChange",value:function(){this.observableState.assign=s.default.get(this.assignPath),this.refs.monitorFollowDropDown.value=this.observableState.assign}},{key:"_onAssignChange",value:function(e){l.setAny(this.assignPath,e.target.value)}},{key:"_onAssignIdsChanged",value:function(){this.forceUpdate()}}]),t}())||r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=Math.abs(e),i=Math.abs(t);if(n===i)return!0;return e-t<r};var r=Number.EPSILON||2.22e-16},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.EffectsStripInternal=void 0;var r,i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=P(n(6)),s=E(n(18)),l=n(63),u=P(n(325)),c=E(n(31)),h=n(144),p=n(37),d=P(n(11)),f=P(n(314)),v=P(n(302)),m=P(n(299)),g=P(n(295)),b=P(n(292)),y=n(9),C=P(n(0)),x=(P(n(15)),P(n(36))),_=n(12),w=n(4),S=(P(n(60)),P(n(290))),k=P(n(17)),T=n(136);function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function P(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var M=l.BandTypes.HIGHPASS,O=l.BandTypes.LOWSHELF,A=l.BandTypes.PEAK,L=l.BandTypes.HIGHSHELF;var D=t.EffectsStripInternal=(0,_.observer)(r=function(e){function t(e){I(this,t);var n=B(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.id=Math.random().toString(36).substring(7),n.initPaths=n.initPaths.bind(n),n.addChangeListeners=n.addChangeListeners.bind(n),n.removeChangeListeners=n.removeChangeListeners.bind(n),n._onResize=n._onResize.bind(n),n._renderEQGraphThumbnail=n._renderEQGraphThumbnail.bind(n),n._renderDynamicsThumbnail=n._renderDynamicsThumbnail.bind(n),n._renderLevelerThumbnail=n._renderLevelerThumbnail.bind(n),n._renderReverbThumbnail=n._renderReverbThumbnail.bind(n),n._renderSendsThumbnail=n._renderSendsThumbnail.bind(n),n._renderMonitorFollowDropDown=n._renderMonitorFollowDropDown.bind(n),n._renderMonitorSoloButtons=n._renderMonitorSoloButtons.bind(n),n._renderPlaceholder=n._renderPlaceholder.bind(n),n._onFormatValueChange=n._onFormatValueChange.bind(n),n._onFollowSoloValueChange=n._onFollowSoloValueChange.bind(n),n._onFormatChange=n._onFormatChange.bind(n),n._onSoloCountChange=n._onSoloCountChange.bind(n),n._onThumbnailClick=n._onThumbnailClick.bind(n),n._onPlaceHolderClick=n._onPlaceHolderClick.bind(n),n._openSettingsTab=n._openSettingsTab.bind(n),n._openEqualizerTab=n._openEqualizerTab.bind(n),n._openDynamicsTab=n._openDynamicsTab.bind(n),n._openLevelerLab=n._openLevelerLab.bind(n),n._openSendsTab=n._openSendsTab.bind(n),n._openReverbTab=n._openReverbTab.bind(n),n._onSoloClearClick=n._onSoloClearClick.bind(n),n._onFollowSoloClick=n._onFollowSoloClick.bind(n),n.renderFunctions={eq:n._renderEQGraphThumbnail,dynamics:n._renderDynamicsThumbnail,leveler:n._renderLevelerThumbnail,sends:n._renderSendsThumbnail,reverb:n._renderReverbThumbnail,monitorfollowdropdown:n._renderMonitorFollowDropDown,monitorsolobuttons:n._renderMonitorSoloButtons,placeholder:n._renderPlaceholder},n.observableState=(0,w.observable)({stereoEnabled:!1,controls:null,followSolo:0,soloCount:0}),n.initPaths(e.stripInfo),n}return N(t,C.default.Component),o(t,[{key:"componentDidMount",value:function(){this.addChangeListeners(),window.addEventListener("resize",this._onResize),window.addEventListener("orientationchange",this._onResize),this.props.observableState.effectsStrips[this.stripInfo.id]=this}},{key:"componentWillUnmount",value:function(){this.removeChangeListeners(),delete this.props.observableState.effectsStrips[this.stripInfo.id]}},{key:"componentWillReceiveProps",value:function(e){this.removeChangeListeners(),this.initPaths(e.stripInfo),this.addChangeListeners()}},{key:"initPaths",value:function(e){this.stripInfo=e,this.soloCountPath=this.stripInfo.basePath+"/solocount",this.monitorOverridePath="mix/monitor/0/override",this.followSoloPath=e.basePath+"/auto";var t="mix/ctrls/"+e.type;a.default.has(t)&&(this.observableState.controls=a.default.get(t).split(":"))}},{key:"addChangeListeners",value:function(){a.default.has(this.stripInfo.formatPath)&&a.default.addChangeListener(this.id,this._onFormatValueChange,this.stripInfo.formatPath),a.default.has(this.followSoloPath)&&a.default.addChangeListener(this.id,this._onFollowSoloValueChange,this.followSoloPath),"monitor"==this.stripInfo.type&&a.default.has(this.soloCountPath)&&a.default.addChangeListener(this.id,this._onSoloCountChange,this.soloCountPath)}},{key:"removeChangeListeners",value:function(){a.default.removeChangeListener(this.id,this._onFormatValueChange,this.stripInfo.formatPath),a.default.removeChangeListener(this.id,this._onFollowSoloValueChange,this.followSoloPath),a.default.removeChangeListener(this.id,this._onSoloCountChange,this.soloCountPath)}},{key:"render",value:function(){var e=this;if(this.props.observableState.init){var t=!!this.props.sideBar&&this.props.sideBar,n=(this.stripInfo.num,this.props.observableState.faderVisibility[this.stripInfo.id]||t),r=n?"inline-block":"none",i="chan"===this.stripInfo.type?S.default.EffectsStrip+" "+S.default.InputEffectsStrip:S.default.EffectsStrip+" "+S.default.OutputEffectsStrip,o=(this.stripInfo.type,this.props.observableState.miniMapVisible?y.MiniMapHeight:0),s=this.props.observableState.mixerHeight-y.SettingsThumbHeight-y.FormatButtonHeight-this.props.observableState.faderHeight-this.props.observableState.belowFaderHeight-o,l=Math.floor(s/y.ThumbnailHeight),c=this.observableState.stereoEnabled?p.ButtonStyles.BLUE:"",h=a.default.has(this.stripInfo.formatPath)?c:S.default.Invisible;return C.default.createElement("div",{style:{display:r},className:i},C.default.createElement(x.default,{onMeasure:function(t){e.props.observableState.effectStripHeight<t.height&&(e.props.observableState.effectStripHeight=t.height)}},C.default.createElement("div",null,C.default.createElement("div",{className:S.default.EffectsStripCell,onClick:this._openSettingsTab},C.default.createElement(u.default,{stripInfo:this.stripInfo})),s>=y.SettingsThumbHeight+y.FormatButtonHeight+4*y.ThumbnailHeight?C.default.createElement("div",{className:S.default.EffectsStripCell},C.default.createElement(p.GlideButton,{ref:"formatButton",id:"formatButton_"+this.stripInfo.type+"_"+this.stripInfo.num,className:h,type:"format",stripInfo:this.stripInfo,glideScope:this.props.observableState.formatGlideScope,observableState:this.props.observableState},this.observableState.stereoEnabled?"STEREO":"MONO")):null,n?this._renderThumbs(l):null)))}return null}},{key:"_onResize",value:function(){this.forceUpdate()}},{key:"_renderThumbs",value:function(e){if(e>0){var t=[],n=y.StripThumbPriority[this.stripInfo.type],r=n.map(function(t,n,r){return n<e?this.renderFunctions[t]():null},this);if(Array.prototype.push.apply(t,r),e>n.length)for(var i=Math.min(Math.max(y.MaxThumbs-n.length,0),e-n.length),o=0;o<i;o++)t.push(this._renderPlaceholder());return t}return null}},{key:"_renderEQGraphThumbnail",value:function(){return-1!==this.observableState.controls.indexOf("eq")?C.default.createElement("div",{className:S.default.EffectsStripCell,onTouchEnd:this._openEqualizerTab,onClick:this._openEqualizerTab},C.default.createElement(m.default,{className:S.default.EffectsStripThumbnail,path:this.stripInfo.basePath,segments:92,bands:(e=this.stripInfo.basePath,t=[],a.default.has(e+"/hpf/enable")&&t.push({path:e+"/hpf",name:"High Pass",defaultType:M,defaultFreq:100,color:c.LIGHTGRAY}),t.push({path:e+"/eq/lowshelf",name:"Low",defaultType:O,defaultFreq:200,color:c.BLUE}),t.push({path:e+"/eq/mid1",name:"Low-Mid",defaultType:A,defaultFreq:1500,color:c.TEAL}),t.push({path:e+"/eq/mid2",name:"High-Mid",defaultType:A,defaultFreq:5e3,color:c.YELLOW}),t.push({path:e+"/eq/highshelf",name:"High",defaultType:L,defaultFreq:1e4,color:c.PURPLE}),t)})):this._renderPlaceholder();var e,t}},{key:"_renderDynamicsThumbnail",value:function(){return-1!==this.observableState.controls.indexOf("comp")||-1!==this.observableState.controls.indexOf("gate:")?C.default.createElement("div",{className:S.default.EffectsStripCell,onClick:this._openDynamicsTab},C.default.createElement(f.default,{className:S.default.EffectsStripThumbnail,stripInfo:this.stripInfo,observableState:this.props.observableState})):this._renderPlaceholder()}},{key:"_renderLevelerThumbnail",value:function(){return-1!==this.observableState.controls.indexOf("leveler")?C.default.createElement("div",{className:S.default.EffectsStripCell,onClick:this._openLevelerLab},C.default.createElement(v.default,{className:S.default.EffectsStripThumbnail,stripInfo:this.stripInfo,control:"leveler",property:"gain",observableState:this.props.observableState})):this._renderPlaceholder()}},{key:"_renderReverbThumbnail",value:function(){return-1!==this.observableState.controls.indexOf("reverb")&&"reverb"===this.stripInfo.type?C.default.createElement("div",{className:S.default.EffectsStripCell,onClick:this._openReverbTab},C.default.createElement(b.default,{className:S.default.EffectsStripThumbnail,stripInfo:this.stripInfo})):this._renderPlaceholder()}},{key:"_renderSendsThumbnail",value:function(){return a.default.hasSends(this.stripInfo)?C.default.createElement("div",{className:S.default.EffectsStripCell,onClick:this._openSendsTab},C.default.createElement(g.default,{className:S.default.EffectsStripThumbnail,width:94,height:60,stripInfo:this.stripInfo})):this._renderPlaceholder()}},{key:"_renderMonitorFollowDropDown",value:function(){return"monitor"===this.stripInfo.type?C.default.createElement("div",{className:S.default.EffectsStripCell+" "+S.default.EffectsStripThumbnail},C.default.createElement(h.MonitorFollowDropDown,{ref:"monitorFollowDropDown",id:"monitorFollowDropDown",stripInfo:this.stripInfo,observableState:this.props.observableState})):this._renderPlaceholder()}},{key:"_renderMonitorSoloButtons",value:function(){if("monitor"===this.stripInfo.type){var e=(this.observableState.soloCount>0?p.ButtonStyles.YELLOW:"")+" "+S.default.SoloClearButton;return C.default.createElement("div",{className:S.default.EffectsStripCell+" "+S.default.EffectsStripThumbnail},C.default.createElement(p.Button,{ref:"soloClear",id:"soloClear",className:e,onClick:this._onSoloClearClick},"Solo Clear"),C.default.createElement(p.Button,{ref:"followSolo",id:"followSolo",className:(0,d.default)((t={},n=p.ButtonStyles.YELLOW,r=+this.observableState.followSolo,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t)),onClick:this._onFollowSoloClick},"Follow Solo"))}return this._renderPlaceholder();var t,n,r}},{key:"_renderPlaceholder",value:function(){return C.default.createElement("div",{onClick:this._onPlaceHolderClick,className:S.default.EffectsStripCell},C.default.createElement("div",{className:S.default.EffectsStripThumbnail}))}},{key:"_onFormatValueChange",value:function(){var e=a.default.get(this.stripInfo.formatPath);this.observableState.stereoEnabled=2===parseInt(e.split(":")[0],10)}},{key:"_onFollowSoloValueChange",value:function(){var e=!!a.default.get(this.followSoloPath);this.observableState.followSolo=e}},{key:"_onFormatChange",value:function(e){var t=this.stripInfo.num%2==0,n=t?this.stripInfo.num+1:this.stripInfo.num-1,r=new k.default(this.stripInfo.type+"/"+n),i=[];this.observableState.stereoEnabled?(i.push({path:this.stripInfo.formatPath,value:"1:0"}),i.push({path:r.formatPath,value:"1:0"})):(i.push({path:this.stripInfo.formatPath,value:"2:"+(t?"0":"1")}),i.push({path:r.formatPath,value:"2:"+(t?"1":"0")})),s.setMultiple(i)}},{key:"_onSoloCountChange",value:function(){var e=a.default.get(this.soloCountPath);e>0&&e>this.observableState.soloCount&&!this.observableState.followSolo&&(T.toast.isActive(this.toastId)||this.props.sideBar||(this.toastId=(0,T.toast)("Solo is ignored",{}),T.toast.update(this.toastId,{render:C.default.createElement("div",null,C.default.createElement("div",{className:S.default.ToastContent},C.default.createElement("span",{className:S.default.ToastText+" "+S.default.Inline},"Solo is ignored:"),"  ",C.default.createElement(p.Button,{className:p.ButtonStyles.BLACK+" "+S.default.Inline,onClick:this._onFollowSoloClick},"Follow")))}))),this.observableState.soloCount=e}},{key:"_onThumbnailClick",value:function(e,t,n){if(!this.props.observableState.focusChannelVisible){var r=document.getElementById("channelstrips");if(null!==r){var i=this.props.observableState.mixerHeight-y.MiniMapHeight,o=Math.min(Math.max(i-r.clientHeight,y.FocusChannelMinHeight),i);this.props.observableState.focusChannelHeight=Math.min(Math.max(y.FocusChannelDefaultHeights[t],o),i)}}this.props.observableState.focusChannelVisible=!0,this.props.observableState.focusChannelActiveTab=t,this.props.observableState.selectedStripInfo=n,e.preventDefault()}},{key:"_onPlaceHolderClick",value:function(e){this.props.observableState.selectedStripInfo=this.stripInfo,e.preventDefault()}},{key:"_openSettingsTab",value:function(e){this._onThumbnailClick(e,y.FocusChannelTabs.SETTINGS,this.stripInfo)}},{key:"_openEqualizerTab",value:function(e){this._onThumbnailClick(e,y.FocusChannelTabs.EQUALIZER,this.stripInfo)}},{key:"_openDynamicsTab",value:function(e){this._onThumbnailClick(e,y.FocusChannelTabs.COMPRESSOR,this.stripInfo)}},{key:"_openLevelerLab",value:function(e){this._onThumbnailClick(e,y.FocusChannelTabs.LEVELER,this.stripInfo)}},{key:"_openSendsTab",value:function(e){this._onThumbnailClick(e,y.FocusChannelTabs.SENDS,this.stripInfo)}},{key:"_openReverbTab",value:function(e){this._onThumbnailClick(e,y.FocusChannelTabs.REVERB,this.stripInfo)}},{key:"_onSoloClearClick",value:function(e){var t=[];this.props.observableState.channels.map(function(e,n,r){var i=e.basePath+"/matrix/solo";if(a.default.has(i)&&t.push({path:i,value:0}),!(!a.default.has(e.formatPath)||"2"===a.default.get(e.formatPath).split(":")[0])){var o=new k.default(e.type+"/"+(e.num+1)).basePath+"/matrix/solo";t.push({path:o,value:0})}},this),t.push({path:this.monitorOverridePath,value:-1}),s.setMultiple(t)}},{key:"_onFollowSoloClick",value:function(e){s.setAny(this.stripInfo.basePath+"/auto",+!this.observableState.followSolo)}},{key:"getFormatButton",value:function(){if(void 0!==this.refs.formatButton)return this.refs.formatButton}}]),t}())||r,R=(0,_.observer)(i=function(e){function t(e){I(this,t);var n=B(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.id=Math.random().toString(36).substring(7),n._onFormatValueChange=n._onFormatValueChange.bind(n);var r=e.stripInfo,i=e.observableState,o=e.onThumbnailClick,s=e.glideIndex,l=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["stripInfo","observableState","onThumbnailClick","glideIndex"]),u=!a.default.has(r.formatPath)||"2"===a.default.get(r.formatPath).split(":")[0],c=r.num%2==0?r.num+1:r.num-1,h=r.type+"/"+c;n.leftProps=Object.assign({},l,{stripInfo:r,observableState:i,onThumbnailClick:o,glideIndex:s,sideBar:e.sideBar});var p=new k.default(h);return n.rightProps=Object.assign({},l,{stripInfo:p,observableState:i,onThumbnailClick:o,glideIndex:s+1,sideBar:e.sideBar}),n.observableState=(0,w.observable)({stereoEnabled:u}),n}return N(t,C.default.Component),o(t,[{key:"componentWillReceiveProps",value:function(e){Object.assign(this.leftProps,{stripInfo:e.stripInfo,onThumbnailClick:e.onThumbnailClick,glideIndex:e.glideIndex,sideBar:e.sideBar});var t=new k.default(e.stripInfo.type+"/"+(e.stripInfo.num+1));Object.assign(this.rightProps,{stripInfo:t,onThumbnailClick:e.onThumbnailClick,glideIndex:e.glideIndex+1,sideBar:e.sideBar})}},{key:"componentDidMount",value:function(){var e=this.leftProps.stripInfo;a.default.has(e.formatPath)&&a.default.addChangeListener(this.id,this._onFormatValueChange,e.formatPath,!1)}},{key:"componentWillUnmount",value:function(){var e=this.leftProps.stripInfo;a.default.removeChangeListener(this.id,this._onFormatValueChange,e.formatPath,!1)}},{key:"_onFormatValueChange",value:function(){var e=this.leftProps.stripInfo;this.observableState.stereoEnabled=!a.default.has(e.formatPath)||"2"===a.default.get(e.formatPath).split(":")[0]}},{key:"render",value:function(){return this.observableState.stereoEnabled||this.props.sideBar?C.default.createElement("div",{className:S.default.EffectsStripContainer},C.default.createElement(D,this.leftProps)):C.default.createElement("div",{className:S.default.EffectsStripContainer},C.default.createElement(D,this.leftProps),C.default.createElement(D,this.rightProps))}}]),t}())||i;t.default=R},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return{top:r(e.marginTop),right:r(e.marginRight),bottom:r(e.marginBottom),left:r(e.marginLeft)}};var r=function(e){return parseInt(e)||0};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(335);var o=n(23),a=I(n(6)),s=I(n(334)),l=(I(n(42)),I(n(103))),u=n(20),c=n(333),h=n(9),p=(I(n(36)),n(83),I(n(146))),d=I(n(131)),f=I(n(271)),v=I(n(268)),m=I(n(129)),g=I(n(230)),b=I(n(226)),y=I(n(0)),C=I(n(13)),x=(I(n(11)),I(n(29)),I(n(24)),I(n(223))),_=(P(n(130)),P(n(221)),P(n(97))),w=I(n(17)),S=n(12),k=n(4),T=(I(n(81)),I(n(220))),E=n(136);function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function I(e){return e&&e.__esModule?e:{default:e}}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(219);var N=(0,S.observer)(r=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.id=Math.random().toString(36).substring(7),r.channelTypesInitialized={},r.getMixerChannelInputPath=u.getMixerChannelInputPath,r.getMixerChOBankPath=u.getMixerChOBankPath,r.DataStore=a.default,r.allowUp=!1,r.allowDown=!1,r.initPaths=r.initPaths.bind(r),r.getObservableState=r.getObservableState.bind(r),r.saveSettings=r.saveSettings.bind(r),r.restoreSettings=r.restoreSettings.bind(r),r.setInitialFaderPaths=r.setInitialFaderPaths.bind(r),r._onVisibilityChange=r._onVisibilityChange.bind(r),r._windowResize=r._windowResize.bind(r),r._doneResizing=r._doneResizing.bind(r),r._initMiniMap=r._initMiniMap.bind(r),r._updateMixerSizing=r._updateMixerSizing.bind(r),r._getScrollBarWidth=r._getScrollBarWidth.bind(r),r._onCalcChValueChange=r._onCalcChValueChange.bind(r),r._countChannels=r._countChannels.bind(r),r._getAssignIds=r._getAssignIds.bind(r),r._refreshAssignIds=r._refreshAssignIds.bind(r),r._refreshGlideIndexes=r._refreshGlideIndexes.bind(r),r._onTouchStart=r._onTouchStart.bind(r),r._onTouchMove=r._onTouchMove.bind(r),r._onTouchEnd=r._onTouchEnd.bind(r),r._onTouchCancel=r._onTouchCancel.bind(r),r._onScroll=r._onScroll.bind(r),r._onMiniMapScroll=r._onMiniMapScroll.bind(r),r._updateMiniMapLensPos=r._updateMiniMapLensPos.bind(r),r._afterScroll=r._afterScroll.bind(r),r._doneScrolling=r._doneScrolling.bind(r),r._disableZoom=r._disableZoom.bind(r),r._restoreZoom=r._restoreZoom.bind(r),r._checkTilt=r._checkTilt.bind(r),r._onFormatChange=r._onFormatChange.bind(r),r._onFaderModeChanged=r._onFaderModeChanged.bind(r);var i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,o=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;void 0!==document.hidden?(r.hidden="hidden",r.visibilityChange="visibilitychange"):void 0!==document.msHidden?(r.hidden="msHidden",r.visibilityChange="msvisibilitychange"):void 0!==document.webkitHidden&&(r.hidden="webkitHidden",r.visibilityChange="webkitvisibilitychange");var s=navigator.userAgent||navigator.vendor||window.opera,l=h.MobileBrowserRegex.test(s)||h.MobileBrowserRegex2.test(s.substr(0,4));(0,c.maybeSetObjectAssignPolyfill)();var p=!!e.auxMixer&&e.auxMixer,d=e.auxID?e.auxID:null;return r.observableState=(0,k.observable)((B(n={onFaderStripInfo:new w.default("main/0"),faderPath:"/matrix/fader",panPath:"/matrix/pan",sideBarFaderStripInfo:new w.default("main/0"),miniMapHeight:0,sideBarFaderFollow:!1,sideBarFaderHidden:!0,channelTypes:{},channels:[],assignIds:[],glideIndexes:[],numChannels:0,numStereoChannels:0,numFaderStrips:0,startChannel:0,navExpanded:!1,collapsedNavWidth:0,expandedNavWidth:0},"navExpanded",!1),B(n,"effectStripHeight",0),B(n,"meterCanvas",null),B(n,"guideCanvas",null),B(n,"availableHeight",0),B(n,"mixerWidth",0),B(n,"mixerHeight",0),B(n,"mixerBoundingRect",null),B(n,"meterPainters",new Map),B(n,"meterCanvasWidth",0),B(n,"meterCanvasHeight",0),B(n,"metersPreFader",!1),B(n,"effectsStrips",{}),B(n,"faderStrips",{}),B(n,"faderHeight",0),B(n,"aboveFaderHeight",0),B(n,"belowFaderHeight",0),B(n,"faderRects",{}),B(n,"meterCanvasGateMeterRects",{}),B(n,"meterCanvasCompMeterRects",{}),B(n,"meterCanvasMeterRects",{}),B(n,"selectedStripInfo",null),B(n,"faderVisibility",{}),B(n,"focusChannelVisible",!1),B(n,"focusChannelActiveTab",h.FocusChannelTabs.EQUALIZER),B(n,"focusChannelWidth",i),B(n,"focusChannelHeight",o),B(n,"focusChannelLeftOffset",0),B(n,"fadersOnScreen",0),B(n,"miniMapMeterWidth",0),B(n,"miniMapSliderWidth",0),B(n,"miniMapVisible",!0),B(n,"scrollBarWidth",0),B(n,"formatGlideScope",null),B(n,"muteGlideScope",null),B(n,"soloGlideScope",null),B(n,"init",!1),B(n,"mobileBrowser",l),B(n,"performanceLevel",h.PerformanceLevels.GOOD),B(n,"displayMode",h.DisplayModes.FULL_SIZE),B(n,"orientation",h.Orientations.LANDSCAPE),B(n,"resizing",!1),B(n,"draggingEQGraph",!1),B(n,"scrollWidth",0),B(n,"scrollOffset",0),B(n,"focusChannelResizing",!1),B(n,"collapsedNavAccordions",new Map),B(n,"expandedNavAccordions",new Map),B(n,"auxMixer",p),B(n,"auxID",d),n)),r.initPaths(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,y.default.Component),i(t,[{key:"initPaths",value:function(){if(a.default.isReady()){var e=this.observableState.auxMixer?"aux-mixing":"touch-console";this.stripOrder=h.StripOrder[e],this.iBankPaths={},this.iBankPaths.chan=a.default.getPathForValue("Mix In").replace("/name",""),this.iBankPaths.group=a.default.getPathForValue("Mix Group").replace("/name",""),this.iBankPaths.reverb=a.default.getPathForValue("Mix Reverb").replace("/name",""),this.iBankPaths.monitor=a.default.getPathForValue("Mix Monitor").replace("/name",""),this.iBankPaths.main=a.default.getPathForValue("Mix Main").replace("/name",""),this.iBankPaths.aux=a.default.getPathForValue("Mix Aux").replace("/name",""),this.stripOrder.map(function(e,t,n){this.observableState.channelTypes[e]={type:e,calcChPath:this.iBankPaths[e]+"/calcCh",calcCh:0},this.channelTypesInitialized[e]=!1},this),this.assignIdsPath="mix/ctrls/assignids"}}},{key:"addChangeListeners",value:function(){if(null!==this.observableState.channelTypes){this.faderVisibilityDisposer=(0,k.observe)(this.observableState,"faderVisibility",this._windowResize),this.faderPathDisposer=(0,k.observe)(this.observableState,"faderPath",this._onFaderModeChanged),this.glideIndexDisposer=(0,k.observe)(this.observableState,"faderStrips",this._refreshGlideIndexes);for(var e=Object.keys(this.observableState.channelTypes),t=0;t<e.length;t++)a.default.addChangeListener(this.id,this._onCalcChValueChange,this.observableState.channelTypes[e[t]].calcChPath,!1)}}},{key:"removeChangeListeners",value:function(){if(null!==this.observableState.channelTypes){this.faderVisibilityDisposer(),this.faderPathDisposer(),this.glideIndexDisposer();for(var e=Object.keys(this.observableState.channelTypes),t=0;t<e.length;t++)if(a.default.removeChangeListener(this.id,this._onCalcChValueChange,this.observableState.channelTypes[e[t]].calcChPath),"chan"===this.observableState.channelTypes[e[t]].type)for(var n=0;n<this.observableState.channelTypes[e[t]].calcCh;n++){var r="mix/chan/"+n+"/config/format";a.default.has(r)&&a.default.removeChangeListener(this.id,this._onCalcChValueChange,r)}}}},{key:"componentDidMount",value:function(){if(this.initialSpinner=new T.default({node:C.default.findDOMNode(this.refs.mixer)}),this.observableState.init=!0,void 0!==this.observableState.channelTypes){this.addChangeListeners(),this._countChannels(),window.addEventListener("resize",this._windowResize),window.addEventListener("orientationchange",this._windowResize);document.getElementById("channelstrips");this.restoreSettings(),this.metersPreFaderDisposer=(0,k.observe)(this.observableState,"metersPreFader",this.saveSettings),this.sideBarFaderStripInfoDisposer=(0,k.observe)(this.observableState,"sideBarFaderStripInfo",this.saveSettings),this.sideBarFaderHiddenDisposer=(0,k.observe)(this.observableState,"sideBarFaderHidden",this.saveSettings),this.sideBarFaderFollowDisposer=(0,k.observe)(this.observableState,"sideBarFaderFollow",this.saveSettings),this.faderVisibilitySettingsDisposer=(0,k.observe)(this.observableState,"faderVisibility",this.saveSettings),this.faderPathDisposer=(0,k.observe)(this.observableState,"faderPath",this.saveSettings),this.panPathDisposer=(0,k.observe)(this.observableState,"panPath",this.saveSettings),this.meta=window.document.querySelector("meta[name=viewport]");var e=this.meta&&this.meta.getAttribute("content");this.disabledZoom=e+",maximum-scale=1",this.enabledZoom=e+",maximum-scale=10",this.zoomFixEnabled=!0;navigator.userAgent;/iPhone|iPad|iPod/.test(navigator.platform)&&(window.addEventListener("orientationchange",this._restoreZoom,!1),window.addEventListener("orientationchange",this._windowResize,!1),window.addEventListener("devicemotion",this._checkTilt,!1)),document.addEventListener(this.visibilityChange,this._onVisibilityChange,!1),this.observableState.auxMixer||(this.presetPane=new l.default({scope:"mixer",node:this.refs.presetContainer,dev:(0,o.getInjectedDevice)(),extraCss:"devBtn"})),this._windowResize()}}},{key:"componentWillUnmount",value:function(){this.saveSettings(),this.metersPreFaderDisposer(),this.sideBarFaderStripInfoDisposer(),this.sideBarFaderHiddenDisposer(),this.sideBarFaderFollowDisposer(),this.faderVisibilitySettingsDisposer(),this.faderPathDisposer(),this.panPathDisposer(),this.removeChangeListeners()}},{key:"componentWillReceiveProps",value:function(e){}},{key:"getObservableState",value:function(){return this.observableState}},{key:"saveSettings",value:function(){var e=this.observableState.auxMixer?"aux-mixing":"touch-console";s.default.saveSettings(e,this.observableState)}},{key:"restoreSettings",value:function(){var e=this.observableState.auxMixer?"aux-mixing":"touch-console";s.default.restoreSettings(e,this.observableState),this.setInitialFaderPaths()}},{key:"setInitialFaderPaths",value:function(){if(this.observableState.auxID){var e=new w.default(this.observableState.auxID),t=!0;a.default.has(e.formatPath)&&(t="2"===a.default.get(e.formatPath).split(":")[0]);var n=e.num%2==0,r=n?e.num+1:e.num-1,i=new w.default(e.type+"/"+r);t&&!n&&(this.observableState.auxID=i.id,e=i),this.observableState.faderPath="/matrix/"+this.observableState.auxID+"/send",this.observableState.panPath="/matrix/"+this.observableState.auxID+"/pan",this.observableState.onFaderStripInfo=e,this.observableState.sideBarFaderStripInfo=e}else{var o=this.observableState.auxMixer?"aux-mixing":"touch-console",s=window.localStorage.getItem(o+"_onFaderStripInfo"),l=null!==s?new w.default(s):this.observableState.auxMixer?new w.default("aux/0"):new w.default("main/0"),u=null==window.localStorage.getItem(o+"_faderPath")?this.observableState.auxMixer?"/matrix/aux/0/send":"/matrix/fader":window.localStorage.getItem(o+"_faderPath"),c=null==window.localStorage.getItem(o+"_panPath")?this.observableState.auxMixer?"/matrix/aux/0/pan":"/matrix/pan":window.localStorage.getItem(o+"_panPath");if(u&&c)if(this.observableState.auxMixer){var p=!1;h.FaderModeTypes["aux-mixing"].forEach(function(e,t,n){l.type==e&&(p=!0)},this),this.observableState.onFaderStripInfo=p?l:new w.default("aux/0"),this.observableState.faderPath=p?u:"/matrix/aux/0/send",this.observableState.panPath=p?c:"/matrix/aux/0/pan"}else this.observableState.onFaderStripInfo=l,this.observableState.faderPath=u,this.observableState.panPath=c;else this.observableState.faderPath=this.observableState.auxMixer?"/matrix/aux/0/send":"/matrix/fader",this.observableState.panPath=this.observableState.auxMixer?"/matrix/aux/0/pan":"/matrix/pan"}this._onFaderModeChanged()}},{key:"render",value:function(){var e=x.default.channelstrips+" scrollContext",t=(this.observableState.navExpanded?this.observableState.expandedNavWidth:this.observableState.collapsedNavWidth,this.observableState.sideBarFaderHidden||null===this.observableState.sideBarFaderStripInfo?null:h.FaderStripWidth+8),n=x.default.minimap+" "+(this.observableState.miniMapVisible?x.default.minimapvisible:x.default.minimaphidden);return y.default.createElement("div",{ref:"mixer",className:x.default.mixer},y.default.createElement("span",{ref:"presetContainer",className:"presetContainer "+x.default.presetcontainer}),y.default.createElement("div",{className:x.default.focuschannel},y.default.createElement(m.default,{ref:"focuschannel",observableState:this.observableState})),y.default.createElement("div",{ref:"scroller",id:"scroller",className:e,onTouchStart:this._onTouchStart,onTouchMove:this._onTouchMove,onTouchEnd:this._onTouchEnd,onTouchCancel:this._onTouchCancel},y.default.createElement("div",{ref:"channelstrips",id:"channelstrips",style:{paddingRight:this.observableState.miniMapVisible?t:null},className:x.default.channelstrips_inner},this.observableState.init?y.default.createElement(g.default,{id:"guideCanvas",type:"guide",observableState:this.observableState,zIndex:1}):null,this.observableState.init?y.default.createElement(E.ToastContainer,{id:"toastContainer",ref:"toastContainer",toastClassName:x.default.toast,progressClassName:x.default.toastprogress,position:"bottom-center",autoClose:5e3}):null,y.default.createElement("div",{ref:"effects",id:"effects"},this.observableState.init&&0==this.observableState.auxMixer?y.default.createElement(v.default,{observableState:this.observableState}):null),y.default.createElement("div",{ref:"faders",id:"faders"},this.observableState.init?y.default.createElement(f.default,{observableState:this.observableState}):null))),y.default.createElement("div",{id:"miniMap",className:n},this.observableState.init?y.default.createElement(b.default,{ref:"miniMap",onScroll:this._onMiniMapScroll,observableState:this.observableState}):null),this.observableState.init&&null!==this.observableState.sideBarFaderStripInfo&&!this.observableState.sideBarFaderHidden?y.default.createElement("div",{id:"sideBarFader",style:{bottom:this.observableState.miniMapVisible?h.MiniMapHeight:null},className:x.default.sidebarfader},y.default.createElement("div",{className:x.default.sidebarfaderdivider}),y.default.createElement("div",{className:x.default.sidebarfadercontainer},0==this.observableState.auxMixer?y.default.createElement("div",{className:x.default.sidebarfadereffects},y.default.createElement(p.default,{stripInfo:this.observableState.sideBarFaderStripInfo,observableState:this.observableState,glideIndex:-1,sideBar:!0})):null,y.default.createElement(d.default,{ref:"sideBarFader",stripInfo:this.observableState.sideBarFaderStripInfo,observableState:this.observableState,faderPath:this.observableState.faderPath,panPath:this.observableState.panPath,glideIndex:-1,sideBar:!0}))):null)}},{key:"_onVisibilityChange",value:function(){document[this.hidden]?(this.observableState.meterPainters.get("minimap").unmount(),(0,o.getMetersSource)().pause(),this.metersUnmounted=!0):this.metersUnmounted&&((0,o.getMetersSource)().unpause(),this.observableState.meterPainters.get("minimap").mount(),this.metersUnmounted=!1)}},{key:"_windowResize",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.observableState.resizing=!0,!this.spinner&&!this.initialSpinner&&this.refs.mixer&&e&&(this.spinner=new T.default({node:C.default.findDOMNode(this.refs.mixer)})),clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(this._doneResizing,500)}},{key:"_doneResizing",value:function(){this._updateMixerSizing(),this.observableState.resizing=!1,this.spinner&&(this.spinner.remove(),this.spinner=null);var e=!0;this.stripOrder.map(function(t,n,r){this.channelTypesInitialized[t]||(e=!1)},this),e&&this.initialSpinner&&(this.initialSpinner.remove(),this.initialSpinner=null,setTimeout(this._doneResizing,5e3))}},{key:"_initMiniMap",value:function(){var e=document.getElementById("miniMap");this._countChannels();var t=0;this.observableState.channels.map(function(e,n,r){this.observableState.faderVisibility[e.id]||t++;var i=!0;if(a.default.has(e.formatPath)&&(i="2"===a.default.get(e.formatPath).split(":")[0]),!i){var o=new w.default(e.type+"/"+(e.num+1));this.observableState.faderVisibility[o.id]||t++}},this);var n=this.observableState.numChannels-t,r=(this.observableState.navExpanded?this.observableState.expandedNavWidth:this.observableState.collapsedNavWidth,this.observableState.mixerWidth/h.FaderStripWidth),i=(this.observableState.mixerWidth-10)/n,o=i*r,s=n>r,l=0;null!==e&&(l=e.clientHeight),Object.assign(this.observableState,{numFaderStrips:n,fadersOnScreen:r,miniMapHeight:l,miniMapMeterWidth:i,miniMapSliderWidth:o,miniMapVisible:s}),this._onScroll()}},{key:"_updateMixerSizing",value:function(){var e=document.documentElement.clientWidth||document.body.clientWidth||window.innerWidth,t=document.documentElement.clientHeight||document.body.clientHeight||window.innerHeight,n=document.getElementById("nav-ui-container-expanded"),r=document.getElementById("nav-ui-container-collapsed");null!==n&&null!==r&&(n.style.maxHeight=t-36+"px",r.style.maxHeight=t-36+"px");var i=null,o=null;i=t<=780&&t>600?h.DisplayModes.TABLET:t<=600?h.DisplayModes.MOBILE:h.DisplayModes.FULL_SIZE,o=t>e?h.Orientations.PORTRAIT:h.Orientations.LANDSCAPE;var a=document.getElementById("expanded-nav"),s=document.getElementById("collapsed-nav"),l=161,u=38,c=!1;null!==a&&null!==s&&(l=a.getBoundingClientRect().width,u=s.getBoundingClientRect().width,a.offsetWidth>0&&a.offsetHeight>0&&(c=!0));var p=c?e-l:e-u,d=this.observableState.miniMapVisible?t-h.MiniMapHeight:t,f=this.observableState.scrollWidth,v=this.observableState.scrollOffset;this.refs.channelstrips&&(f=this.refs.channelstrips.getBoundingClientRect().width),this.refs.scroller&&(v=this.refs.scroller.scrollLeft);var m=document.getElementById("channelstrips"),g=(document.getElementById("faders"),C.default.findDOMNode(this.refs.miniMap));if(void 0!==m&&null!==m&&void 0!==g&&null!==g){var b=t-m.clientHeight-g.clientHeight-this.observableState.scrollBarWidth;Object.assign(this.observableState,{mixerWidth:p,mixerHeight:d,expandedNavWidth:l,collapsedNavWidth:u,displayMode:i,orientation:o,availableHeight:b,scrollBarWidth:this._getScrollBarWidth(),focusChannelWidth:p,scrollWidth:f,scrollOffset:v})}this._refreshGlideIndexes(),this._initMiniMap()}},{key:"_getScrollBarWidth",value:function(){var e=document.createElement("p");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var r=e.offsetWidth;return n==r&&(r=t.clientWidth),document.body.removeChild(t),n-r}},{key:"_onCalcChValueChange",value:function(e){if(this.observableState.init&&void 0!==e){this.observableState.init=!1,this.observableState.resizing=!0;var t=Object.keys(this.observableState.channelTypes).filter(function(t,n,r){if(this.observableState.channelTypes[t].calcChPath==e)return t},this);if(1==t.length){this.spinner||this.initialSpinner||(this.spinner=new T.default({node:C.default.findDOMNode(this.refs.mixer)}));for(var n=this.observableState.channelTypes[t[0]],r=this.observableState.channels.filter(function(e,t,r){if(e.type!==n.type)return e},this),i=[],o=a.default.get(e),s=0;s<o;s+=2){var l=new w.default(n.type+"/"+s);i.push(l),void 0==this.observableState.faderVisibility[l.id]&&(this.observableState.faderVisibility[l.id]=!0);if(a.default.has(l.formatPath)&&("chan"===l.type||"aux"===l.type)){a.default.addChangeListener(this.id,this._onFormatChange,l.formatPath,!1),"2"===a.default.get(l.formatPath).split(":")[0];var u=new w.default(n.type+"/"+(s+1));void 0==this.observableState.faderVisibility[u.id]&&(this.observableState.faderVisibility[u.id]=!0)}}r.splice.apply(r,[0,0].concat(i));var c=[];this.stripOrder.map(function(e,t,n){r.map(function(t,n,r){t.type==e&&c.push(t)})}),delete this.observableState.channels;var h={};h.channels=c,(0,k.extendObservable)(this.observableState,h),this.observableState.assignIds=this._getAssignIds(),this.channelTypesInitialized[n.type]=!0,this._windowResize(),this.observableState.init=!0}}}},{key:"_countChannels",value:function(){var e=this.observableState.channels.reduce(function(e,t){return a.default.has(t.formatPath)?"2"===a.default.get(t.formatPath).split(":")[0]?e+1:e+2:e+1},0),t=this.observableState.channels.reduce(function(e,t){return a.default.has(t.formatPath)?"2"===a.default.get(t.formatPath).split(":")[0]?e+1:e:e+1},0);Object.assign(this.observableState,{numChannels:e,numStereoChannels:t})}},{key:"_getAssignIds",value:function(){if(a.default.has(this.assignIdsPath)){var e=a.default.get(this.assignIdsPath).split(":"),t=e.filter(function(e,t){if(t%2==0)return e}),n=e.filter(function(e,t){if(t%2==1)return e});return t.map(function(e,t,r){var i=[];if("solo"!==e){var o=this.observableState.channelTypes[e];if(o)for(var s=a.default.get(o.calcChPath),l=0;l<s;l+=2){var u=new w.default(e+"/"+l),c=parseInt(n[t])+l+1,p=new w.default(e+"/"+(l+1)),d=a.default.getMixerChannelName(u)||a.default.getDefaultMixerChannelName(u),f=a.default.getMixerChannelName(p)||a.default.getDefaultMixerChannelName(p);i.push({id:parseInt(n[t])+l,stripInfo:u,displayName:d,stereoId:c,stereoStripInfo:p,stereoDisplayName:f})}}else i.push({id:parseInt(n[t]),stripInfo:null,displayName:""+h.ChannelTypeDisplayNames[e]});return{key:e,ids:i}},this)}}},{key:"_refreshAssignIds",value:function(){this.observableState.assignIds=this._getAssignIds()}},{key:"_refreshGlideIndexes",value:function(){var e=Object.keys(this.observableState.faderStrips),t=[];this.stripOrder.map(function(n,r,i){var o=[];e.map(function(e,t,r){-1!==e.indexOf(n)&&o.push(e)}),o.sort(function(e,t){var n=e.split("/"),r=t.split("/");return parseInt(n[1])<parseInt(r[1])?-1:1}),t.splice.apply(t,[t.length,0].concat(o))}),this.observableState.formatGlideScope=new _.GlideScope({axis:"x",boundingNode:null}),this.observableState.muteGlideScope=new _.GlideScope({axis:"x",boundingNode:null}),this.observableState.soloGlideScope=new _.GlideScope({axis:"x",boundingNode:null}),t.map(function(e,t,n){var r=this.observableState.effectsStrips[e],i=this.observableState.faderStrips[e];if(r){var o=r.getFormatButton();o&&this.observableState.formatGlideScope.register({node:C.default.findDOMNode(o),setValue:o.setValue,glideIndex:t})}if(i){var a=i.getMuteButton(),s=i.getSoloButton();a&&this.observableState.muteGlideScope.register({node:C.default.findDOMNode(a),setValue:a.setValue,glideIndex:t}),s&&this.observableState.soloGlideScope.register({node:C.default.findDOMNode(s),setValue:s.setValue,glideIndex:t})}this.observableState.glideIndexes[e]=t},this)}},{key:"_onTouchStart",value:function(e){this.observableState.userInteracting=!0,this.xDown=e.touches[0].clientX,this.yDown=e.touches[0].clientY,void 0!==this.refs.scroller&&(this.refs.scroller.addEventListener("scroll",this._onScroll),this.waitForScroll=!1)}},{key:"_onTouchMove",value:function(e){if(this.xDown&&this.yDown){var t=e.touches[0].clientX,n=e.touches[0].clientY,r=this.xDown-t,i=this.yDown-n;Math.abs(r)>Math.abs(i)||e.preventDefault(),this.xDown=null,this.yDown=null,void 0!==this.refs.scroller&&(this.scrollStartTime=(new Date).getTime(),this.scrollStart=this.refs.scroller.scrollLeft)}}},{key:"_onTouchEnd",value:function(e){if(void 0!==this.refs.scroller){this.observableState.userInteracting=!1;var t=this.refs.scroller,n=(new Date).getTime()-this.scrollStartTime;Math.abs(this.scrollStart-t.scrollLeft)/n>.25||t.scrollTop<0||t.scrollTop>t.height?this.waitForScroll=!0:this.refs.scroller.removeEventListener("scroll",this._onScroll),this.scrollStartTime=0}}},{key:"_onTouchCancel",value:function(e){}},{key:"_onScroll",value:function(e){e&&(this._updateMiniMapLensPos(),this.waitForScroll&&this.refs.scroller.removeEventListener("scroll",this._onScroll),clearTimeout(this.scrollTimeout),this.afterScrollTimeout=setTimeout(this._afterScroll,1e3/15),this.scrollTimeout=setTimeout(this._doneScrolling,5e3))}},{key:"_onMiniMapScroll",value:function(e){if(void 0!==this.refs.scroller){var t=e*(this.refs.scroller.scrollWidth-this.refs.scroller.clientWidth);if(this.observableState.scrollOffset=t,this.observableState.mobileBrowser){var n={behavior:"smooth",left:t};this.refs.scroller.scrollTo(n)}else this.refs.scroller.scrollLeft=t}}},{key:"_updateMiniMapLensPos",value:function(){if(void 0!==this.refs.miniMap&&void 0!==this.refs.scroller){this.observableState.scrollOffset=this.refs.scroller.scrollLeft;var e=scroller.scrollLeft/(this.refs.scroller.scrollWidth-this.refs.scroller.clientWidth);this.refs.miniMap.setScroll(e)}}},{key:"_afterScroll",value:function(){this._updateMiniMapLensPos(),clearTimeout(this.afterScrollTimeout),this.afterScrollTimeout=setTimeout(this._afterScroll,1e3/30)}},{key:"_doneScrolling",value:function(){this._updateMiniMapLensPos(),clearTimeout(this.afterScrollTimeout),clearTimeout(this.scrollTimeout)}},{key:"_restoreZoom",value:function(){this.meta.setAttribute("content",this.enabledZoom),this.zoomFixEnabled=!0}},{key:"_disableZoom",value:function(){this.meta.setAttribute("content",this.disabledZoom),this.zoomFixEnabled=!1}},{key:"_checkTilt",value:function(e){var t=e.accelerationIncludingGravity,n=Math.abs(t.x),r=Math.abs(t.y),i=Math.abs(t.z);window.orientation&&180!==window.orientation||!(n>7||(i>6&&r<8||i<8&&r>6)&&n>5)?this.zoomFixEnabled||this._restoreZoom():this.zoomFixEnabled&&this._disableZoom()}},{key:"_onFormatChange",value:function(){this._windowResize(!1)}},{key:"_onFaderModeChanged",value:function(){if(this.observableState.auxMixer){var e=a.default.getOutputSends(this.observableState.onFaderStripInfo);["group","reverb"].forEach(function(t,n,r){if(-1==e.indexOf(t))for(var i=a.default.getBankForMixerStripType(t).split("/")[2],o=a.default.get("ext/ibank/"+i+"/maxCh"),s=0;s<o;s++)this.observableState.faderVisibility[t+"/"+s]=!1},this)}}}]),t}())||r;t.default=N},function(e,t,n){"use strict";var r,i;r=[n(2),n(5)],void 0===(i=function(e,t){var n,r,i={}.hasOwnProperty;return{},r=window.localStorage,n="com.motu.avb-www:",new(function(e){function o(){var e,t,i,a,s,l,u;for(o.__super__.constructor.call(this,"preferences/"),t=e=0,s=r.length;0<=s?e<s:e>s;t=0<=s?++e:--e)i=r.key(t),n===i.substring(0,n.length)&&(a=i.substring(n.length),u=""+r.getItem(i),this.set(a,u));l=this.set,this.set=function(e,t){try{if(this.data[e]!==t)return r.setItem(""+n+e,t)}catch(e){e}finally{l.call(this,e,t)}}}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(o,t.ScopedSource),o}())}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(64),n(86),n(2),n(3)],void 0===(i=function(e,t,n,r){var i,o={}.hasOwnProperty;return(i=function(){function i(n){this.dsvg=null,this.path=null,this.hiliteRow=0,this.hiliteCol=0,this.hilitePath=null,this.enabled={},this.w=0,this.h=0,this.dsvg=new e.SVGContext,n.appendChild(this.dsvg.div),r.addClass(this.dsvg.div,"svgBG"),this.bg=this.dsvg.makeRect(0,0,1,1),r.addClass(this.bg,"gridBG"),this.gridLines=this.dsvg.makePath(),r.addClass(this.gridLines,"gridLines"),this.dsvgOverlay=new e.SVGContext,n.appendChild(this.dsvgOverlay.div),r.addClass(this.dsvgOverlay.div,"svgGrid"),this.hilite=this.dsvgOverlay.makePath(),r.addClass(this.hilite,"gridHilite"),this.clicky=new t.ClickBox({dsvg:this.dsvgOverlay})}return i.CellWidth=18,i.prototype.getClickNode=function(){return this.clicky.getNode()},i.prototype.clientToRowCol=function(e){var t,o,a,s,l;return t=e.clientX,o=e.clientY,s=t-(a=r.getBoundingClientRect(this.clicky.getNode())).left,l=o-a.top,s=n.constrain(s,0,this.w-1),l=n.constrain(l,0,this.h-1),{row:Math.floor(+l/i.CellWidth),col:Math.floor(+s/i.CellWidth)}},i.prototype.rowColToClient=function(e){var t,n,o,a,s;return a=e.row,t=e.col,n=(o=r.getBoundingClientRect(this.clicky.getNode())).left,s=o.top,{clientX:t*i.CellWidth+i.CellWidth/2+n,clientY:a*i.CellWidth+i.CellWidth/2+s}},i.prototype.reset=function(t,n){var r,o,a,s,l,u,c,h,p,d;for(r="M0,0",h=this.w=t*i.CellWidth,o=this.h=n*i.CellWidth,l=0,l=a=0,u=t;0<=u?a<u:a>u;l=0<=u?++a:--a)p=l*i.CellWidth-.5,r+=e.subPathLine(p,0,p,o);for(l=s=0,c=n;0<=c?s<c:s>c;l=0<=c?++s:--s)d=l*i.CellWidth-.5,r+=e.subPathLine(0,d,h,d);return this.dsvgOverlay.setSize(h,o),this.hilite.setAttribute("d","M0,0"),this.clicky.setBox({left:0,right:h,top:0,bottom:o}),this.dsvg.setSize(h,o),this.gridLines.setAttribute("d",r),this.bg.setAttribute("width",h),this.bg.setAttribute("height",o),this.hiliteRow=this.hiliteCol=0},i.prototype.width=function(){return this.w},i.prototype.height=function(){return this.h},i.prototype.setHilite=function(e,t){var n,r,o,a,s;if(this.hiliteRow!==e||this.hiliteCol!==t)return n="M0,0",this.hiliteRow=e,this.hiliteCol=t,e>=0&&t>=0&&(r=t*i.CellWidth,n="M0,"+(a=e*i.CellWidth)+"L"+r+","+a+"L"+r+",0L"+(o=r+i.CellWidth)+",0L"+o+","+(s=a+i.CellWidth)+"L0,"+s+"Z"),this.hilite.setAttribute("d",n)},i}()).Icon=function(e){function n(e){var t,r,o,a;o=e.icon,t=e.c,a=e.r,r=e.dsvg,n.__super__.constructor.call(this,{dsvg:r,box:{left:t*i.CellWidth,top:a*i.CellWidth,height:i.CellWidth,width:i.CellWidth},extraCss:o})}return function(e,t){for(var n in t)o.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,t.Chicklet),n}(),i}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(2),n(16),n(3),n(44),n(75),n(1),n(5),n(87),n(86),n(50)],void 0===(i=function(e,t,n,r,i,o,a,s,l,u){var c,h,p,d,f,v,m,g,b,y,C={}.hasOwnProperty,x=function(e,t){return function(){return e.apply(t,arguments)}};return y={},m={input:{bank:"ibank",Bank:"IBank",mode:"input",otherMode:"output"},output:{bank:"obank",Bank:"OBank",mode:"output",otherMode:"input"}},v=function(){return function(e){var t;this.format=e.format,this.strip=e.strip,this.node=n.appendSpec(e.node,{className:"chStripNamesDiv"}),new a.Function(e.dev,(t=this,function(e){var n,r,i;return"chan"===t.strip.type?t.node.textContent=2===t.format[0]?e.mixer.getNthInStereoChName(t.strip.num):e.mixer.getNthInChNameImpl(t.strip.num):t.node.textContent=2===t.format[0]?(n=(i=e.mixer.getStripBnCn(t.strip.id)).bn,r=i.cn,e.mixer.getInStereoChName({Bank:"IBank",bn:n,cn:r})):e.router.getIBankChName(e.mixer.getStripBnCn(t.strip.id))}))}}(),h=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)C.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,s.ActivityMeter),t.prototype.elemHeight=8,t.prototype.elemWidth=8,t.prototype.className="meterLED minirouteActivity",t.prototype.render=function(e){return this.ctx.fillStyle=l.LED.colorFunc(e),this.ctx.clearRect(0,0,this.elemWidth,this.elemHeight),this.ctx.fillRect(0,0,this.elemWidth,this.elemHeight)},t.prototype.getNode=function(){return this.node},t}(),f=function(){return function(t){var r,i,s;this.format=t.format,this.bn=t.bn,this.cn=t.cn,this.dev=t.dev,this.io=t.io,this.showSrc=t.showSrc,this.displayActivity=null==(i=t.displayActivity)||i,this.node=n.appendSpec(t.node,{className:"wrap"}),r=1===this.format[0]?[this.cn]:[this.cn,this.dev.mixer.getOtherStereoCh(this.cn)],this.displayActivity&&(this.activityLED=new h({bn:this.bn,cns:r,dev:this.dev,node:this.node,io:{Bank:this.io.Bank}})),this.text=n.appendSpec(this.node,{type:"span"}),this.calcWatch=new a.Function(this.dev,(s=this,function(e){var t,i,a;return i=e.get("meta/"+s.io.bank+"/"+s.bn+"/calcCh"),t=function(){var e,t,n;for(n=[],e=0,t=r.length;e<t;e++)a=r[e],n.push(a<i);return n}(),o.all(t)?n.show(s.node):n.hide(s.node)})),"obank"===this.io.bank&&null!=this.showSrc&&(this.srcTxt=n.appendSpec(this.node,{type:"span",className:"chNameSrc"})),this.nameWatch=new a.Function(this.dev,function(e){return function(t){var n,r,i,o;if(e.text.textContent=2===e.format[0]?t.mixer.getInStereoChName({bn:e.bn,cn:e.cn,Bank:e.io.Bank}):t.router["get"+e.io.Bank+"ChName"]({bn:e.bn,cn:e.cn}),"obank"===e.io.bank&&null!=e.showSrc)return(i=t.get("meta/obank/"+e.bn+"/ch/"+e.cn+"/src")).length?(i=i.split(":"),n=t.router.getIBankChName({bn:i[0],cn:i[1]}),r=t.router.getIBankChName({bn:i[0],cn:u.getOtherStereoCh(parseInt(i[1]))}),o=2===e.format[0]?u.join([n,r]):n,e.srcTxt.textContent=" ← "+o):e.srcTxt.textContent=""}}(this)),e.forwardMethods(this,"remove",[this.availWatch,this.nameWatch])}}(),p=function(){return function(e){var t,r,i;this.node=n.appendSpec(e.node,{type:"li",className:"bank"}),this.bn=e.bn,this.scroll=e.scroll,t=e.dev,this.format=e.format,this.io=e.io,this.displayActivity=null==(r=e.displayActivity)||r,this.displayActivity&&(this.activityLED=new h({bn:this.bn,cns:[],node:this.node,io:{Bank:this.io.Bank},dev:t})),this.text=n.appendSpec(this.node,{type:"label",className:"group"}),this.countText=n.appendSpec(this.node,{type:"span",className:"count"}),this.displayActivity&&new a.Function(t,(i=this,function(e){var t,n,r;return n=e.router["get"+i.io.Bank+"CalcCh"](i.bn),r=0,t=function(){var e;for(e=[];r<n;)e.push(r++);return e}(),i.activityLED.setCns(t)})),new a.Function(t,function(e){return function(t){var r;return r=+t.get("meta/"+e.io.bank+"/"+e.bn+"/calcCh"),e.text.textContent=""+t.router["get"+e.io.Bank+"Title"](e.bn),e.countText.textContent=" ("+Math.floor(r/e.format[0])+")",0===r?n.hide(e.node):n.show(e.node)}}(this))}}(),d=function(){function e(e){var i,o,s,l,u,c;this.dev=e.dev,this.parent=e.div,l=e.args,this.strip=l[0],this.io=l[1],this.close=e.close,this.setupBank=x(this.setupBank,this),n.addClass(this.parent,"chRouting"),this.format=this.dev.mixer.getStripFormat(this.strip.id),u=this.dev.mixer.getStripBnCn(this.strip.id),this.bn=u.bn,this.cn=u.cn,this.stripIO=m[this.io.otherMode],new a.Function(this.dev,(c=this,function(e){var t;if(t=+e.get("meta/"+c.stripIO.bank+"/"+c.bn+"/calcCh"),!(c.cn<t))return c.close()})),new v({dev:this.dev,strip:this.strip,format:this.format,node:this.parent,path:this.strip.metaPath+"/name"}),this.scroll=new r({node:this.parent}),this.listNode=n.appendSpec(this.scroll.content,{type:"ol",className:"topLevel"}),this.eventBindings=[],o=n.appendSpec(this.listNode,{type:"li",className:"file"}),s=n.appendSpec(o,{className:"wrap none"}),i=n.appendSpec(s,{type:"span",textContent:"None"}),new a.Function(this.dev,function(e){return function(t){return n.setClass(o,"activeCh",e.noneIsActive(t))}}(this)),this.eventBindings.push(new t.FunctionButton({node:i,f:function(e){return function(){return e.choose()}}(this)})),this.dev.router["map"+this.io.Bank+"s"](this.setupBank)}return e.popupKey="ChannelRoutingPane",e.prototype.noneIsActive=function(e){var t,n;return null==e&&(e=this.dev),t=!1,this.dev.router["map"+this.io.Bank+"s"]((n=this,function(r,i){var o,a,s,l,u;for(u=[],o=a=0,s=n.dev.router["get"+n.io.Bank+"MaxCh"](i),l=n.format[0];l>0?a<s:a>s;o=a+=l)n.channelIsConnected(e,{bn:i,cn:o})?u.push(t=!0):u.push(void 0);return u})),!t},e.prototype.setupBank=function(e,r){var i,o,a,s,l,u,c;if(0!==e.indexOf("Mix ")){var h;for(o=new p({io:this.io,scroll:this.scroll,dev:this.dev,bn:r,format:this.format,node:this.listNode}),c=n.appendSpec(o.node,{type:"ol"}),null==this.headerHeight&&(this.headerHeight=n.height(o.node)),this.eventBindings.push(new t.FunctionButton({node:o.node,f:(h=this,function(){return h.expandBank(o.node)})})),i=!1,a=s=0,l=this.dev.router["get"+this.io.Bank+"MaxCh"](r),u=this.format[0];u>0?s<l:s>l;a=s+=u)this.setupChannel({bn:r,cn:a},c),this.channelIsConnected(this.dev,{bn:r,cn:a})&&(i=!0);return i?n.addClass(o.node,"selected"):void 0}},e.prototype.monoChannelIsConnected=function(e,t){var n,r,i,o,a,s,l,u,c,h,p,d,f;return n=t.bn,r=t.cn,"input"===this.io.mode?(a=(l={bn:this.bn,cn:this.cn}).bn,s=l.cn,i=(u={bn:n,cn:r}).bn,o=u.cn,u):(a=(c={bn:n,cn:r}).bn,s=c.cn,i=(h={bn:this.bn,cn:this.cn}).bn,o=h.cn,h),d=(p=e.get("meta/obank/"+a+"/ch/"+s+"/src").split(":").map(function(e){return+e}))[0],f=p[1],d===i&&f===o||2===this.format[0]&&d===i&&f===e.mixer.getOtherStereoCh(o)},e.prototype.channelIsConnected=function(e,t){var n,r;return n=t.bn,r=t.cn,this.monoChannelIsConnected(e,{bn:n,cn:r})||2===this.format[0]&&"LTC Clock 1"!==e.get("meta/obank/"+n+"/ch/"+r+"/name")&&this.monoChannelIsConnected(e,{bn:n,cn:e.mixer.getOtherStereoCh(r)})},e.prototype.setupChannel=function(e,r){var i,s,l,u;return i=e.bn,l=e.cn,s=n.appendSpec(r,{type:"li",className:"file"}),new f({dev:this.dev,format:this.format,bn:i,cn:l,io:this.io,node:s,path:"meta/"+this.io.bank+"/"+i+"/ch/"+l+"/name"}),new a.Function(this.dev,(u=this,function(e){return n.setClass(s,"activeCh",u.channelIsConnected(e,{bn:i,cn:l}))})),n.testClass(s,"activeCh")&&o.defer(function(e){return function(){return e.scroll.scrollToClientRect(n.getBoundingClientRect(s))}}(this)),this.eventBindings.push(new t.FunctionButton({node:s,f:function(e){return function(){return e.choose({bn:i,cn:l})}}(this)}))},e.prototype.choose=function(e){var t,n,r,i;if("input"===this.io.mode)return this.dev.mixer.setNthInChSrc(this.strip.num,e),2===this.format[0]&&(e=null!=e?{bn:e.bn,cn:this.dev.mixer.getOtherStereoCh(e.cn)}:null,this.dev.mixer.setNthInChSrc(this.dev.mixer.getOtherStereoCh(this.strip.num),e)),this.close();{if(e)return r=this.channelIsConnected(this.dev,e),t=e.bn,n=e.cn,this.dev.router.setOBankChSrc({bn:t,cn:n},r?"":this.bn+":"+this.cn),2===this.format[0]?this.dev.router.setOBankChSrc({bn:t,cn:this.dev.mixer.getOtherStereoCh(n)},r?"":this.bn+":"+this.dev.mixer.getOtherStereoCh(this.cn)):void 0;this.dev.router["map"+this.io.Bank+"s"]((i=this,function(e,t){var n,r,o,a;for(a=[],n=r=0,o=i.dev.router["get"+i.io.Bank+"MaxCh"](t);0<=o?r<o:r>o;n=0<=o?++r:--r)i.channelIsConnected(i.dev,{bn:t,cn:n})?a.push(i.dev.router.setOBankChSrc({bn:t,cn:n},"")):a.push(void 0);return a}))}},e.prototype.expandBank=function(e){return n.toggleClass(e,"selected")},e.prototype.remove=function(){var e,t,n;for(e=0,t=(n=this.eventBindings).length;e<t;e++)n[e].remove();return this.dev.remove()},e}(),y.ChannelRoutingButton=function(){return function(e){this.node=n.appendSpec(e.node,{className:"routingDiv"}),this.strip=e.strip,new t.Popup({node:this.node,args:[this.strip,m[e.mode]],control:d,dev:e.dev})}}(),g=function(){function e(e){var i,o,s,l,u;this.dev=e.dev,this.parent=e.div,this.close=e.close,this.setupBank=x(this.setupBank,this),n.addClass(this.parent,"chRouting"),this.io={Bank:"IBank",bank:"ibank",mode:"input",otherMode:"output"},this.format=[1,0],l=this.getLTCBnCn(),this.bn=l.bn,this.cn=l.cn,this.scroll=new r({node:this.parent}),this.listNode=n.appendSpec(this.scroll.content,{type:"ol",className:"topLevel"}),this.eventBindings=[],o=n.appendSpec(this.listNode,{type:"li",className:"file"}),s=n.appendSpec(o,{className:"wrap none"}),i=n.appendSpec(s,{type:"span",textContent:"None"}),new a.Function(this.dev,(u=this,function(e){return n.setClass(o,"activeCh",u.noneIsActive(e))})),this.eventBindings.push(new t.FunctionButton({node:i,f:function(e){return function(){return e.choose()}}(this)})),this.dev.router["map"+this.io.Bank+"s"](this.setupBank)}return e.popupKey="ChannelRoutingPane",e.prototype.getLTCBnCn=function(){var e,t,n;for(e=0,n=-1;null!=(t=this.dev.get("ext/obank/"+e+"/name"));)"LTC Clock"===t&&(n=e),e++;return{bn:n,cn:0}},e.prototype.noneIsActive=function(e){var t,n;return null==e&&(e=this.dev),t=!1,this.dev.router["map"+this.io.Bank+"s"]((n=this,function(r,i){var o,a,s,l,u;for(u=[],o=a=0,s=n.dev.router["get"+n.io.Bank+"MaxCh"](i),l=n.format[0];l>0?a<s:a>s;o=a+=l)n.channelIsConnected(e,{bn:i,cn:o})?u.push(t=!0):u.push(void 0);return u})),!t},e.prototype.setupBank=function(e,r){var i,o,a,s,l,u,c;if(0!==e.indexOf("Mix ")){var h;for(o=new p({io:this.io,scroll:this.scroll,dev:this.dev,bn:r,format:this.format,node:this.listNode}),c=n.appendSpec(o.node,{type:"ol"}),null==this.headerHeight&&(this.headerHeight=n.height(o.node)),this.eventBindings.push(new t.FunctionButton({node:o.node,f:(h=this,function(){return h.expandBank(o.node)})})),i=!1,a=s=0,l=this.dev.router["get"+this.io.Bank+"MaxCh"](r),u=this.format[0];u>0?s<l:s>l;a=s+=u)this.setupChannel({bn:r,cn:a},c),this.channelIsConnected(this.dev,{bn:r,cn:a})&&(i=!0);return i?n.addClass(o.node,"selected"):void 0}},e.prototype.monoChannelIsConnected=function(e,t){var n,r,i,o,a,s,l,u,c,h,p,d,f;return n=t.bn,r=t.cn,"input"===this.io.mode?(a=(l={bn:this.bn,cn:this.cn}).bn,s=l.cn,i=(u={bn:n,cn:r}).bn,o=u.cn,u):(a=(c={bn:n,cn:r}).bn,s=c.cn,i=(h={bn:this.bn,cn:this.cn}).bn,o=h.cn,h),d=(p=e.get("meta/obank/"+a+"/ch/"+s+"/src").split(":").map(function(e){return+e}))[0],f=p[1],d===i&&f===o||2===this.format[0]&&d===i&&f===e.mixer.getOtherStereoCh(o)},e.prototype.channelIsConnected=function(e,t){var n,r;return n=t.bn,r=t.cn,this.monoChannelIsConnected(e,{bn:n,cn:r})||2===this.format[0]&&this.monoChannelIsConnected(e,{bn:n,cn:e.mixer.getOtherStereoCh(r)})},e.prototype.setupChannel=function(e,r){var i,s,l,u;return i=e.bn,l=e.cn,s=n.appendSpec(r,{type:"li",className:"file"}),new f({dev:this.dev,format:this.format,bn:i,cn:l,io:this.io,node:s,path:"meta/"+this.io.bank+"/"+i+"/ch/"+l+"/name"}),new a.Function(this.dev,(u=this,function(e){return n.setClass(s,"activeCh",u.channelIsConnected(e,{bn:i,cn:l}))})),n.testClass(s,"activeCh")&&o.defer(function(e){return function(){return e.scroll.scrollToClientRect(n.getBoundingClientRect(s))}}(this)),this.eventBindings.push(new t.FunctionButton({node:s,f:function(e){return function(){return e.choose({bn:i,cn:l})}}(this)}))},e.prototype.choose=function(e){return e?"input"===this.io.mode&&this.dev.set("ext/obank/"+this.bn+"/ch/0/src",e.bn+":"+e.cn):this.dev.set("ext/obank/"+this.bn+"/ch/0/src",""),this.close()},e.prototype.expandBank=function(e){return n.toggleClass(e,"selected")},e.prototype.remove=function(){var e,t,n;for(e=0,t=(n=this.eventBindings).length;e<t;e++)n[e].remove();return this.dev.remove()},e}(),y.LTCInputChannelRoutingMenu=function(){function e(e){var r,i;this.node=n.appendSpec(e.node,{type:"select",className:"selectMenu deviceMenu"}),this.dev=e.dev,this.opt=n.appendSpec(this.node,{type:"option",className:"menuItem"}),this.opt.textContent="LTC Channel",r=this.getLTCBnCn(),this.bn=r.bn,r.x,new a.Function(this.dev,(i=this,function(e){var t,n,r;return""!==(t=e.get("ext/obank/"+i.bn+"/ch/0/src"))?(n=t.split(":"),r=e.router.getIBankChName({bn:n[0],cn:n[1]})):r="None",i.opt.textContent=r})),new t.Popup({node:this.node,control:g,dev:e.dev})}return e.prototype.getLTCBnCn=function(){var e,t,n;for(e=0,n=-1;null!=(t=this.dev.get("ext/obank/"+e+"/name"));)"LTC Clock"===t&&(n=e),e++;return{bn:n,cn:0}},e}(),b=function(){function e(e){var i,o,s,l,u;this.dev=e.dev,this.parent=e.div,l=e.args,this.bn=l[0],this.cn=l[1],this.computerobank=l[2],this.close=e.close,this.setupBank=x(this.setupBank,this),n.addClass(this.parent,"chRouting"),this.io={Bank:"OBank",bank:"obank",mode:"output",otherMode:"input"},this.format=[1,0],this.scroll=new r({node:this.parent}),this.listNode=n.appendSpec(this.scroll.content,{type:"ol",className:"topLevel"}),this.eventBindings=[],o=n.appendSpec(this.listNode,{type:"li",className:"file"}),s=n.appendSpec(o,{className:"wrap none"}),i=n.appendSpec(s,{type:"span",textContent:"None"}),new a.Function(this.dev,(u=this,function(e){return n.setClass(o,"activeCh",u.noneIsActive(e))})),this.eventBindings.push(new t.FunctionButton({node:i,f:function(e){return function(){return e.choose()}}(this)})),this.dev.router["map"+this.io.Bank+"s"](this.setupBank)}return e.popupKey="ChannelRoutingPane",e.prototype.noneIsActive=function(e){var t,n;return null==e&&(e=this.dev),t=!1,this.dev.router["map"+this.io.Bank+"s"]((n=this,function(r,i){var o,a,s,l,u;for(u=[],o=a=0,s=n.dev.router["get"+n.io.Bank+"MaxCh"](i),l=n.format[0];l>0?a<s:a>s;o=a+=l)n.channelIsConnected(e,{bn:i,cn:o})?u.push(t=!0):u.push(void 0);return u})),!t},e.prototype.setupBank=function(e,r){var i,o,a,s,l,u;if(0===e.indexOf("Computer")){var c;for(i=new p({io:this.io,scroll:this.scroll,dev:this.dev,bn:r,format:this.format,node:this.listNode}),u=n.appendSpec(i.node,{type:"ol"}),null==this.headerHeight&&(this.headerHeight=n.height(i.node)),this.eventBindings.push(new t.FunctionButton({node:i.node,f:(c=this,function(){return c.expandBank(i.node)})})),!1,o=a=0,s=this.dev.router["get"+this.io.Bank+"MaxCh"](r),l=this.format[0];l>0?a<s:a>s;o=a+=l)this.setupChannel({bn:r,cn:o},u),this.channelIsConnected(this.dev,{bn:r,cn:o})&&!0;return n.addClass(i.node,"selected")}},e.prototype.monoChannelIsConnected=function(e,t){var n,r,i,o,a,s,l,u,c,h,p,d,f;return n=t.bn,r=t.cn,"input"===this.io.mode?(a=(l={bn:this.bn,cn:this.cn}).bn,s=l.cn,i=(u={bn:n,cn:r}).bn,o=u.cn,u):(a=(c={bn:n,cn:r}).bn,s=c.cn,i=(h={bn:this.bn,cn:this.cn}).bn,o=h.cn,h),d=(p=e.get("meta/obank/"+a+"/ch/"+s+"/src").split(":").map(function(e){return+e}))[0],f=p[1],d===i&&f===o||2===this.format[0]&&d===i&&f===e.mixer.getOtherStereoCh(o)},e.prototype.channelIsConnected=function(e,t){var n,r;return n=t.bn,r=t.cn,e.get("ext/obank/"+n+"/ch/"+r+"/src")===this.bn+":"+this.cn},e.prototype.setupChannel=function(e,r){var i,s,l,u;return i=e.bn,l=e.cn,s=n.appendSpec(r,{type:"li",className:"file"}),new f({dev:this.dev,format:this.format,bn:i,cn:l,io:this.io,node:s,path:"meta/"+this.io.bank+"/"+i+"/ch/"+l+"/name"}),new a.Function(this.dev,(u=this,function(e){return n.setClass(s,"activeCh",u.channelIsConnected(e,{bn:i,cn:l}))})),n.testClass(s,"activeCh")&&o.defer(function(e){return function(){return e.scroll.scrollToClientRect(n.getBoundingClientRect(s))}}(this)),this.eventBindings.push(new t.FunctionButton({node:s,f:function(e){return function(){return e.choose({bn:i,cn:l})}}(this)}))},e.prototype.choose=function(e){var t,n,r,i,o,a;if(i=this.bn+":"+this.cn,!e){for(a=[],n=r=0,o=this.dev.get("ext/obank/"+this.computerobank+"/calcCh");0<=o?r<o:r>o;n=0<=o?++r:--r)this.dev.get("ext/obank/"+this.computerobank+"/ch/"+n+"/src")===i?a.push(this.dev.set("ext/obank/"+this.computerobank+"/ch/"+n+"/src","")):a.push(void 0);return a}if("output"===this.io.mode)return""===(t=this.dev.get("ext/obank/"+e.bn+"/ch/"+e.cn+"/src"))||t!==i?this.dev.set("ext/obank/"+e.bn+"/ch/"+e.cn+"/src",i):this.dev.set("ext/obank/"+e.bn+"/ch/"+e.cn+"/src","")},e.prototype.expandBank=function(e){return n.toggleClass(e,"selected")},e.prototype.remove=function(){var e,t,n;for(e=0,t=(n=this.eventBindings).length;e<t;e++)n[e].remove();return this.dev.remove()},e}(),y.LTCOutputChannelRoutingMenu=function(){return function(e){var r;this.node=n.appendSpec(e.node,{type:"select",className:"selectMenu deviceMenu"}),this.dev=e.dev,this.bn=e.bn,this.cn=e.cn,this.opt=n.appendSpec(this.node,{type:"option",className:"menuItem"}),this.opt.textContent=e.name,this.computerobank=e.computerobank,new a.Function(this.dev,(r=this,function(e){var t,n,i,o,a,s;for(a="None",o=0,n=i=0,s=e.get("ext/obank/"+r.computerobank+"/calcCh");0<=s?i<s:i>s;n=0<=s?++i:--i)e.get("ext/obank/"+r.computerobank+"/ch/"+n+"/src")===r.bn+":"+r.cn&&(o++,t=n);return 1===o?a=e.router.getOBankChName({bn:r.computerobank,cn:t}):o>=2&&(a="Multiple"),r.opt.textContent=a})),new t.Popup({node:this.node,args:[this.bn,this.cn,this.computerobank],control:b,dev:e.dev})}}(),c=function(){function e(e){var i,o,s,l,u;this.dev=e.dev,this.parent=e.div,l=e.args,this.ab=l[0],this.close=e.close,this.setupBank=x(this.setupBank,this),n.addClass(this.parent,"chRouting"),this.io={Bank:"OBank",bank:"obank",mode:"output",otherMode:"input"},this.format=[2,0],this.scroll=new r({node:this.parent}),this.listNode=n.appendSpec(this.scroll.content,{type:"ol",className:"topLevel"}),this.eventBindings=[],o=n.appendSpec(this.listNode,{type:"li",className:"file"}),s=n.appendSpec(o,{className:"wrap none"}),i=n.appendSpec(s,{type:"span",textContent:"None"}),new a.Function(this.dev,(u=this,function(e){return n.setClass(o,"activeCh",u.noneIsActive(e))})),this.eventBindings.push(new t.FunctionButton({node:i,f:function(e){return function(){return e.choose()}}(this)})),this.dev.router["map"+this.io.Bank+"s"](this.setupBank)}return e.popupKey="ABRoutingPane",e.prototype.noneIsActive=function(e){var t,n;return null==e&&(e=this.dev),t=!1,this.dev.router["map"+this.io.Bank+"s"]((n=this,function(r,i){var o,a,s,l,u;for(u=[],o=a=0,s=n.dev.router["get"+n.io.Bank+"MaxCh"](i),l=n.format[0];l>0?a<s:a>s;o=a+=l)n.channelIsConnected(e,{bn:i,cn:o})?u.push(t=!0):u.push(void 0);return u})),!t},e.prototype.setupBank=function(e,r){var i,o,a,s,l,u;if(0!==e.indexOf("Mix")&&0!==e.indexOf("LTC")){var c;for(i=new p({io:this.io,scroll:this.scroll,dev:this.dev,bn:r,format:this.format,node:this.listNode}),u=n.appendSpec(i.node,{type:"ol"}),null==this.headerHeight&&(this.headerHeight=n.height(i.node)),this.eventBindings.push(new t.FunctionButton({node:i.node,f:(c=this,function(){return c.expandBank(i.node)})})),!1,o=a=0,s=this.dev.router["get"+this.io.Bank+"MaxCh"](r),l=this.format[0];l>0?a<s:a>s;o=a+=l)this.setupChannel({bn:r,cn:o},u),this.channelIsConnected(this.dev,{bn:r,cn:o})&&!0;return n.addClass(i.node,"selected")}},e.prototype.channelIsConnected=function(e,t){var n,r;return n=t.bn,r=t.cn,e.get("ext/ab/"+this.ab+"/dst")===n+":"+r},e.prototype.setupChannel=function(e,r){var i,s,l,u;return i=e.bn,l=e.cn,s=n.appendSpec(r,{type:"li",className:"file"}),new f({dev:this.dev,format:this.format,bn:i,cn:l,io:this.io,node:s,path:"meta/"+this.io.bank+"/"+i+"/ch/"+l+"/name"}),new a.Function(this.dev,(u=this,function(e){return n.setClass(s,"activeCh",u.channelIsConnected(e,{bn:i,cn:l}))})),n.testClass(s,"activeCh")&&o.defer(function(e){return function(){return e.scroll.scrollToClientRect(n.getBoundingClientRect(s))}}(this)),this.eventBindings.push(new t.FunctionButton({node:s,f:function(e){return function(){return e.choose({bn:i,cn:l})}}(this)}))},e.prototype.choose=function(e){var t,n;if(n="",null==e||(n=e.bn+":"+e.cn,t="a"===this.ab?"b":"a",this.dev.get("ext/ab/"+t+"/dst")!==n))return this.dev.set("ext/ab/"+this.ab+"/dst",n)},e.prototype.expandBank=function(e){return n.toggleClass(e,"selected")},e.prototype.remove=function(){var e,t,n;for(e=0,t=(n=this.eventBindings).length;e<t;e++)n[e].remove();return this.dev.remove()},e}(),y.ABSpeakerOutputSelect=function(){return function(e){var r;this.node=n.appendSpec(e.node,{type:"select",className:"selectMenu deviceMenu"}),this.dev=e.dev,this.ab=e.ab,this.opt=n.appendSpec(this.node,{type:"option",className:"menuItem"}),this.opt.textContent=e.name,new a.Function(this.dev,(r=this,function(e){var t,n,i,o;return""===(i=e.get("ext/ab/"+r.ab+"/dst"))?o="None":(t=(i=i.split(":"))[0],n=i[1],o=s.getStereoName({dev:r.dev,bn:+t,cn:+n,io:s.ios.output})),r.opt.textContent=o})),new t.Popup({node:this.node,control:c,args:[this.ab],dev:e.dev})}}(),y.Selector=function(){function e(e){var i,o,a,s,l,u,c;this.setupBank=x(this.setupBank,this),this.dev=e.dev,this.parent=e.parent,this.io=e.io,this.onChange=e.onChange,this.src=e.src,this.strip_id=null!=(a=e.strip_id)?a:null,this.bn=null!=(s=e.bank)?s:null,this.cn=null!=(l=e.channel)?l:null,this.displayActivity=null==(u=e.displayActivity)||u,n.addClass(this.parent,"chRouting"),null!==this.strip_id?this.format=this.dev.mixer.getStripFormat(this.strip_id):this.format=[1,0],null===this.bn?null==this.bn&&(this.bn=[-1]):this.bn=[this.bn],null===this.cn?null==this.cn&&(this.cn=[0]):this.cn=[this.cn],this.channels={},this.scroll=new r({node:this.parent}),this.listNode=n.appendSpec(this.scroll.content,{type:"ol",className:"topLevel"}),this.eventBindings=[],this.channels["-1:0"]={node:n.appendSpec(this.listNode,{type:"li",className:"file"}),path:""},i=this.channels["-1:0"].node,o=n.appendSpec(i,{className:"wrap none"}),n.appendSpec(o,{type:"span",textContent:"None"}),n.setClass(i,"activeCh",!0),this.eventBindings.push(new t.FunctionButton({node:o,f:(c=this,function(){return c.choose({bn:-1,cn:0,chLi:i})})})),this.dev.router["map"+this.io.Bank+"s"](this.setupBank)}return e.prototype.setupBank=function(e,r){var i,o,a,s,l,u,c;if(null===this.strip_id||0!==e.indexOf("Mix ")){var h;for(o=new p({io:this.io,scroll:this.scroll,dev:this.dev,bn:r,format:this.format,node:this.listNode,displayActivity:this.displayActivity}),c=n.appendSpec(o.node,{type:"ol"}),null==this.headerHeight&&(this.headerHeight=n.height(o.node)),this.eventBindings.push(new t.FunctionButton({node:o.node,f:(h=this,function(){return h.expandBank(o.node)})})),i=!1,a=s=0,l=this.dev.router["get"+this.io.Bank+"MaxCh"](r),u=this.format[0];u>0?s<l:s>l;a=s+=u)this.setupChannel({bn:r,cn:a},c),this.channelIsSelected({bn:r,cn:a})&&(i=!0);return i?n.addClass(o.node,"selected"):void 0}},e.prototype.channelIsConnected=function(e,t){var n,r;return n=t.bn,r=t.cn,e.get("ext/obank/"+n+"/ch/"+r+"/src")===this.src},e.prototype.channelIsSelected=function(e){var t,n,r;return t=e.bn,n=e.cn,(r=this.bn.indexOf(t))>-1&&this.cn[r]===n},e.prototype.setupChannel=function(e,r){var i,o,a,s,l;if(i=e.bn,a=e.cn,this.channels[i+":"+a]={node:n.appendSpec(r,{type:"li",className:"file"}),path:"meta/"+this.io.bank+"/"+i+"/ch/"+a+"/name"},o=this.channels[i+":"+a].node,s="obank"===this.io.bank,new f({dev:this.dev,format:this.format,bn:i,cn:a,io:this.io,node:o,path:"meta/"+this.io.bank+"/"+i+"/ch/"+a+"/name",showSrc:s,displayActivity:this.displayActivity}),this.eventBindings.push(new t.FunctionButton({node:o,f:(l=this,function(){return l.choose({bn:i,cn:a,chLi:o},!1)})})),"obank"===this.io.bank&&this.channelIsConnected(this.dev,{bn:i,cn:a})&&this.dev.get("meta/obank/"+i+"/calcCh")>0)return this.choose({chLi:o,bn:i,cn:a},!0)},e.prototype.choose=function(e,t){var r,i,a,s,l,u,c,h,p,d,f,v,m,g,b,y;if("ibank"===this.io.bank)n.setClass(this.channels[this.bn[0]+":"+this.cn[0]].node,"activeCh",!1,{bn:this.bn[0],cn:this.cn[0]}),this.bn[0]=e.bn,this.cn[0]=e.cn,n.setClass(e.chLi,"activeCh",!0,{bn:this.bn[0],cn:this.cn[0]});else{for(a=-1,i=s=0,c=(v=this.bn).length;s<c;i=++s)if((r=v[i])===e.bn&&this.cn[i]===e.cn){a=i;break}if(a>-1&&this.cn[a]===e.cn)n.setClass(this.channels[e.bn+":"+e.cn].node,"activeCh",!1,{bn:e.bn,cn:e.cn}),this.bn.splice(a,1),this.cn.splice(a,1);else if(-1===e.bn){for(i=l=0,h=(m=this.bn).length;l<h;i=++l)r=m[i],n.setClass(this.channels[r+":"+this.cn[i]].node,"activeCh",!1,{bn:r,cn:this.cn[i]});this.bn=[-1],this.cn=[0],n.setClass(e.chLi,"activeCh",!0,{bn:e.bn,cn:e.cn})}else this.bn.push(e.bn),this.cn.push(e.cn),n.setClass(e.chLi,"activeCh",!0,{bn:e.bn,cn:e.cn}),(d=this.bn.indexOf(-1))>-1&&(this.bn.splice(d,1),this.cn.splice(d,1),n.setClass(this.channels["-1:0"].node,"activeCh",!1,{bn:-1,cn:0}))}for(o.defer((y=this,function(){return y.scroll.scrollToClientRect(n.getBoundingClientRect(e.chLi))})),f=[],b=new RegExp("(\\s|^)activeCh(\\s|$)"),a=u=0,p=(g=this.bn).length;u<p;a=++u)r=g[a],b.test(this.channels[r+":"+this.cn[a]].node.className)&&f.push(this.channels[r+":"+this.cn[a]].path);return this.onChange(f,t)},e.prototype.expandBank=function(e){return n.toggleClass(e,"selected")},e.prototype.remove=function(){var e,t,n;for(e=0,t=(n=this.eventBindings).length;e<t;e++)n[e].remove();return this.dev.remove()},e}(),y.ChannelRoutingPane=d,y}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";t.__esModule=!0,t.nameShape=void 0,t.transitionTimeout=function(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}};i(n(0));var r=i(n(49));function i(e){return e&&e.__esModule?e:{default:e}}t.nameShape=r.default.oneOfType([r.default.string,r.default.shape({enter:r.default.string,leave:r.default.string,active:r.default.string}),r.default.shape({enter:r.default.string,enterActive:r.default.string,leave:r.default.string,leaveActive:r.default.string,appear:r.default.string,appearActive:r.default.string})])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=!("undefined"==typeof window||!window.document||!window.document.createElement),e.exports=t.default},function(e,t,n){var r;void 0===(r=function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};return function(){function t(e,t,n){this.dev=e,this.guid=t,this.hostMasterSourceIndex=n}return t.prototype.displayName=function(){var t;return t=this.guid,e.call(this.dev.avb.getDevs(),t)>=0?this.dev.avb.getName(this.guid):"Unknown Device"},t.prototype.optValue=function(){return this.hostMasterSourceIndex+":"+this.guid},t.prototype.isSelectable=function(){return!0},t}()}.apply(t,[]))||(e.exports=r)},function(e,t,n){var r,i;r=[n(5),n(2),n(21)],void 0===(i=function(e,t,n){var r=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};return"MOTU AVB Master Clock",function(){function e(e,t,n){this.dev=e,this.guid=t,this.index=n}return e.prototype.name=function(){return this.dev.avb.getNthClockSourceName(this.guid,this.index)},e.prototype.type=function(){return this.dev.avb.getNthClockSourceType(this.guid,this.index)},e.prototype.routerOK=function(){return this.dev.get("uid")===this.guid&&n.works({dev:this.dev,cap:"router"})},e.prototype.isMasterSource=function(){var e;return e=this.dev.avb.hasMasterClockSupport(this.guid),"MOTU AVB Master Clock"===this.dev.avb.getNthClockSourceName(this.guid,this.index)&&e},e.prototype.isHostDevice=function(){return this.guid===this.dev.get("uid")},e.prototype.isOwnMasterSource=function(){return this.isMasterSource()&&this.isHostDevice()},e.prototype.optValue=function(){return this.index+":"},e.prototype.displayName=function(){switch(this.type()){case"stream":return this.streamDisplayName();default:return this.name()}},e.prototype.masterDisplayName=function(){var e;return e=this.guid,r.call(this.dev.avb.getDevs(),e)<0?"Unknown Device":""+this.dev.avb.getName(this.guid)},e.prototype.streamDisplayName=function(){var e,t,n,i,o,a,s;if(e=this.dev.avb.getNthClockSourceStreamID(this.guid,this.index),null!=(o=this.dev.avb.getNthInputStreamTalker(this.guid,e)))return a=(i=o.split(":"))[0],s=i[1],t=this.dev.avb.getNthInputStreamName(this.guid,e),r.call(this.dev.avb.getDevs(),a)>=0?this.dev.avb.getName(a)+":"+(null!=(n=this.dev.avb.getNthOutputStreamName(a,s))?n:"Unknown Stream"):t+" (Disconnected)"},e.prototype.isSelectable=function(){return!!this.nameAndTypeValid()&&!(this.isStreamSource()&&!this.isValidStreamSource())},e.prototype.nameAndTypeValid=function(){return null!=this.name()&&null!=this.type()},e.prototype.isStreamSource=function(){return"stream"===this.type()},e.prototype.isValidStreamSource=function(){var e,t,n;if(!((t=this.dev.avb.getNthClockSourceStreamID(this.guid,this.index))<this.dev.avb.getNumInputStreams(this.guid,this.index)))return!1;if(this.routerOK()){if(null==(e=this.dev.router.getNthInputStreamIBank(t)))return!1;if(!(this.dev.get("meta/ibank/"+e+"/calcCh")>0))return!1}return n=this.dev.avb.getNthInputStreamTalker(this.guid,t).split(":")[0],r.call(this.dev.avb.getDevs(),n)>=0},e}()}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(2),n(16),n(3),n(44),n(75),n(1),n(5),n(87),n(86),n(50)],void 0===(i=function(e,t,n,r,i,o,a,s,l,u){var c,h,p,d,f,v,m,g,b,y,C={}.hasOwnProperty,x=function(e,t){return function(){return e.apply(t,arguments)}};return y={},m={input:{bank:"ibank",Bank:"IBank",mode:"input",otherMode:"output"},output:{bank:"obank",Bank:"OBank",mode:"output",otherMode:"input"}},v=function(){return function(e){var t;this.format=e.format,this.strip=e.strip,this.node=n.appendSpec(e.node,{className:"chStripNamesDiv"}),new a.Function(e.dev,(t=this,function(e){var n,r,i;return"chan"===t.strip.type?t.node.textContent=2===t.format[0]?e.mixer.getNthInStereoChName(t.strip.num):e.mixer.getNthInChNameImpl(t.strip.num):t.node.textContent=2===t.format[0]?(n=(i=e.mixer.getStripBnCn(t.strip.id)).bn,r=i.cn,e.mixer.getInStereoChName({Bank:"IBank",bn:n,cn:r})):e.router.getIBankChName(e.mixer.getStripBnCn(t.strip.id))}))}}(),h=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)C.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,s.ActivityMeter),t.prototype.elemHeight=8,t.prototype.elemWidth=8,t.prototype.className="meterLED minirouteActivity",t.prototype.render=function(e){return this.ctx.fillStyle=l.LED.colorFunc(e),this.ctx.clearRect(0,0,this.elemWidth,this.elemHeight),this.ctx.fillRect(0,0,this.elemWidth,this.elemHeight)},t.prototype.getNode=function(){return this.node},t}(),f=function(){return function(t){var r,i,s;this.format=t.format,this.bn=t.bn,this.cn=t.cn,this.dev=t.dev,this.io=t.io,this.showSrc=t.showSrc,this.displayActivity=null==(i=t.displayActivity)||i,this.node=n.appendSpec(t.node,{className:"wrap"}),r=1===this.format[0]?[this.cn]:[this.cn,this.dev.mixer.getOtherStereoCh(this.cn)],this.displayActivity&&(this.activityLED=new h({bn:this.bn,cns:r,dev:this.dev,node:this.node,io:{Bank:this.io.Bank}})),this.text=n.appendSpec(this.node,{type:"span"}),this.calcWatch=new a.Function(this.dev,(s=this,function(e){var t,i,a;return i=e.get("meta/"+s.io.bank+"/"+s.bn+"/calcCh"),t=function(){var e,t,n;for(n=[],e=0,t=r.length;e<t;e++)a=r[e],n.push(a<i);return n}(),o.all(t)?n.show(s.node):n.hide(s.node)})),"obank"===this.io.bank&&null!=this.showSrc&&(this.srcTxt=n.appendSpec(this.node,{type:"span",className:"chNameSrc"})),this.nameWatch=new a.Function(this.dev,function(e){return function(t){var n,r,i,o;if(e.text.textContent=2===e.format[0]?t.mixer.getInStereoChName({bn:e.bn,cn:e.cn,Bank:e.io.Bank}):t.router["get"+e.io.Bank+"ChName"]({bn:e.bn,cn:e.cn}),"obank"===e.io.bank&&null!=e.showSrc)return(i=t.get("meta/obank/"+e.bn+"/ch/"+e.cn+"/src")).length?(i=i.split(":"),n=t.router.getIBankChName({bn:i[0],cn:i[1]}),r=t.router.getIBankChName({bn:i[0],cn:u.getOtherStereoCh(parseInt(i[1]))}),o=2===e.format[0]?u.join([n,r]):n,e.srcTxt.textContent=" ← "+o):e.srcTxt.textContent=""}}(this)),e.forwardMethods(this,"remove",[this.availWatch,this.nameWatch])}}(),p=function(){return function(e){var t,r,i;this.node=n.appendSpec(e.node,{type:"li",className:"bank"}),this.bn=e.bn,this.scroll=e.scroll,t=e.dev,this.format=e.format,this.io=e.io,this.displayActivity=null==(r=e.displayActivity)||r,this.displayActivity&&(this.activityLED=new h({bn:this.bn,cns:[],node:this.node,io:{Bank:this.io.Bank},dev:t})),this.text=n.appendSpec(this.node,{type:"label",className:"group"}),this.countText=n.appendSpec(this.node,{type:"span",className:"count"}),this.displayActivity&&new a.Function(t,(i=this,function(e){var t,n,r;return n=e.router["get"+i.io.Bank+"CalcCh"](i.bn),r=0,t=function(){var e;for(e=[];r<n;)e.push(r++);return e}(),i.activityLED.setCns(t)})),new a.Function(t,function(e){return function(t){var r;return r=+t.get("meta/"+e.io.bank+"/"+e.bn+"/calcCh"),e.text.textContent=""+t.router["get"+e.io.Bank+"Title"](e.bn),e.countText.textContent=" ("+Math.floor(r/e.format[0])+")",0===r?n.hide(e.node):n.show(e.node)}}(this))}}(),d=function(){function e(e){var i,o,s,l,u,c;this.dev=e.dev,this.parent=e.div,l=e.args,this.strip=l[0],this.io=l[1],this.close=e.close,this.setupBank=x(this.setupBank,this),n.addClass(this.parent,"chRouting"),this.format=this.dev.mixer.getStripFormat(this.strip.id),u=this.dev.mixer.getStripBnCn(this.strip.id),this.bn=u.bn,this.cn=u.cn,this.stripIO=m[this.io.otherMode],new a.Function(this.dev,(c=this,function(e){var t;if(t=+e.get("meta/"+c.stripIO.bank+"/"+c.bn+"/calcCh"),!(c.cn<t))return c.close()})),new v({dev:this.dev,strip:this.strip,format:this.format,node:this.parent,path:this.strip.metaPath+"/name"}),this.scroll=new r({node:this.parent}),this.listNode=n.appendSpec(this.scroll.content,{type:"ol",className:"topLevel"}),this.eventBindings=[],o=n.appendSpec(this.listNode,{type:"li",className:"file"}),s=n.appendSpec(o,{className:"wrap none"}),i=n.appendSpec(s,{type:"span",textContent:"None"}),new a.Function(this.dev,function(e){return function(t){return n.setClass(o,"activeCh",e.noneIsActive(t))}}(this)),this.eventBindings.push(new t.FunctionButton({node:i,f:function(e){return function(){return e.choose()}}(this)})),this.dev.router["map"+this.io.Bank+"s"](this.setupBank)}return e.popupKey="ChannelRoutingPane",e.prototype.noneIsActive=function(e){var t,n;return null==e&&(e=this.dev),t=!1,this.dev.router["map"+this.io.Bank+"s"]((n=this,function(r,i){var o,a,s,l,u;for(u=[],o=a=0,s=n.dev.router["get"+n.io.Bank+"MaxCh"](i),l=n.format[0];l>0?a<s:a>s;o=a+=l)n.channelIsConnected(e,{bn:i,cn:o})?u.push(t=!0):u.push(void 0);return u})),!t},e.prototype.setupBank=function(e,r){var i,o,a,s,l,u,c;if(0!==e.indexOf("Mix ")){var h;for(o=new p({io:this.io,scroll:this.scroll,dev:this.dev,bn:r,format:this.format,node:this.listNode}),c=n.appendSpec(o.node,{type:"ol"}),null==this.headerHeight&&(this.headerHeight=n.height(o.node)),this.eventBindings.push(new t.FunctionButton({node:o.node,f:(h=this,function(){return h.expandBank(o.node)})})),i=!1,a=s=0,l=this.dev.router["get"+this.io.Bank+"MaxCh"](r),u=this.format[0];u>0?s<l:s>l;a=s+=u)this.setupChannel({bn:r,cn:a},c),this.channelIsConnected(this.dev,{bn:r,cn:a})&&(i=!0);return i?n.addClass(o.node,"selected"):void 0}},e.prototype.monoChannelIsConnected=function(e,t){var n,r,i,o,a,s,l,u,c,h,p,d,f;return n=t.bn,r=t.cn,"input"===this.io.mode?(a=(l={bn:this.bn,cn:this.cn}).bn,s=l.cn,i=(u={bn:n,cn:r}).bn,o=u.cn,u):(a=(c={bn:n,cn:r}).bn,s=c.cn,i=(h={bn:this.bn,cn:this.cn}).bn,o=h.cn,h),d=(p=e.get("meta/obank/"+a+"/ch/"+s+"/src").split(":").map(function(e){return+e}))[0],f=p[1],d===i&&f===o||2===this.format[0]&&d===i&&f===e.mixer.getOtherStereoCh(o)},e.prototype.channelIsConnected=function(e,t){var n,r;return n=t.bn,r=t.cn,this.monoChannelIsConnected(e,{bn:n,cn:r})||2===this.format[0]&&"LTC Clock 1"!==e.get("meta/obank/"+n+"/ch/"+r+"/name")&&this.monoChannelIsConnected(e,{bn:n,cn:e.mixer.getOtherStereoCh(r)})},e.prototype.setupChannel=function(e,r){var i,s,l,u;return i=e.bn,l=e.cn,s=n.appendSpec(r,{type:"li",className:"file"}),new f({dev:this.dev,format:this.format,bn:i,cn:l,io:this.io,node:s,path:"meta/"+this.io.bank+"/"+i+"/ch/"+l+"/name"}),new a.Function(this.dev,(u=this,function(e){return n.setClass(s,"activeCh",u.channelIsConnected(e,{bn:i,cn:l}))})),n.testClass(s,"activeCh")&&o.defer(function(e){return function(){return e.scroll.scrollToClientRect(n.getBoundingClientRect(s))}}(this)),this.eventBindings.push(new t.FunctionButton({node:s,f:function(e){return function(){return e.choose({bn:i,cn:l})}}(this)}))},e.prototype.choose=function(e){var t,n,r,i;if("input"===this.io.mode)return this.dev.mixer.setNthInChSrc(this.strip.num,e),2===this.format[0]&&(e=null!=e?{bn:e.bn,cn:this.dev.mixer.getOtherStereoCh(e.cn)}:null,this.dev.mixer.setNthInChSrc(this.dev.mixer.getOtherStereoCh(this.strip.num),e)),this.close();{if(e)return r=this.channelIsConnected(this.dev,e),t=e.bn,n=e.cn,this.dev.router.setOBankChSrc({bn:t,cn:n},r?"":this.bn+":"+this.cn),2===this.format[0]?this.dev.router.setOBankChSrc({bn:t,cn:this.dev.mixer.getOtherStereoCh(n)},r?"":this.bn+":"+this.dev.mixer.getOtherStereoCh(this.cn)):void 0;this.dev.router["map"+this.io.Bank+"s"]((i=this,function(e,t){var n,r,o,a;for(a=[],n=r=0,o=i.dev.router["get"+i.io.Bank+"MaxCh"](t);0<=o?r<o:r>o;n=0<=o?++r:--r)i.channelIsConnected(i.dev,{bn:t,cn:n})?a.push(i.dev.router.setOBankChSrc({bn:t,cn:n},"")):a.push(void 0);return a}))}},e.prototype.expandBank=function(e){return n.toggleClass(e,"selected")},e.prototype.remove=function(){var e,t,n;for(e=0,t=(n=this.eventBindings).length;e<t;e++)n[e].remove();return this.dev.remove()},e}(),y.ChannelRoutingButton=function(){return function(e){this.node=n.appendSpec(e.node,{className:"routingDiv"}),this.strip=e.strip,new t.Popup({node:this.node,args:[this.strip,m[e.mode]],control:d,dev:e.dev})}}(),g=function(){function e(e){var i,o,s,l,u;this.dev=e.dev,this.parent=e.div,this.close=e.close,this.setupBank=x(this.setupBank,this),n.addClass(this.parent,"chRouting"),this.io={Bank:"IBank",bank:"ibank",mode:"input",otherMode:"output"},this.format=[1,0],l=this.getLTCBnCn(),this.bn=l.bn,this.cn=l.cn,this.scroll=new r({node:this.parent}),this.listNode=n.appendSpec(this.scroll.content,{type:"ol",className:"topLevel"}),this.eventBindings=[],o=n.appendSpec(this.listNode,{type:"li",className:"file"}),s=n.appendSpec(o,{className:"wrap none"}),i=n.appendSpec(s,{type:"span",textContent:"None"}),new a.Function(this.dev,(u=this,function(e){return n.setClass(o,"activeCh",u.noneIsActive(e))})),this.eventBindings.push(new t.FunctionButton({node:i,f:function(e){return function(){return e.choose()}}(this)})),this.dev.router["map"+this.io.Bank+"s"](this.setupBank)}return e.popupKey="ChannelRoutingPane",e.prototype.getLTCBnCn=function(){var e,t,n;for(e=0,n=-1;null!=(t=this.dev.get("ext/obank/"+e+"/name"));)"LTC Clock"===t&&(n=e),e++;return{bn:n,cn:0}},e.prototype.noneIsActive=function(e){var t,n;return null==e&&(e=this.dev),t=!1,this.dev.router["map"+this.io.Bank+"s"]((n=this,function(r,i){var o,a,s,l,u;for(u=[],o=a=0,s=n.dev.router["get"+n.io.Bank+"MaxCh"](i),l=n.format[0];l>0?a<s:a>s;o=a+=l)n.channelIsConnected(e,{bn:i,cn:o})?u.push(t=!0):u.push(void 0);return u})),!t},e.prototype.setupBank=function(e,r){var i,o,a,s,l,u,c;if(0!==e.indexOf("Mix ")){var h;for(o=new p({io:this.io,scroll:this.scroll,dev:this.dev,bn:r,format:this.format,node:this.listNode}),c=n.appendSpec(o.node,{type:"ol"}),null==this.headerHeight&&(this.headerHeight=n.height(o.node)),this.eventBindings.push(new t.FunctionButton({node:o.node,f:(h=this,function(){return h.expandBank(o.node)})})),i=!1,a=s=0,l=this.dev.router["get"+this.io.Bank+"MaxCh"](r),u=this.format[0];u>0?s<l:s>l;a=s+=u)this.setupChannel({bn:r,cn:a},c),this.channelIsConnected(this.dev,{bn:r,cn:a})&&(i=!0);return i?n.addClass(o.node,"selected"):void 0}},e.prototype.monoChannelIsConnected=function(e,t){var n,r,i,o,a,s,l,u,c,h,p,d,f;return n=t.bn,r=t.cn,"input"===this.io.mode?(a=(l={bn:this.bn,cn:this.cn}).bn,s=l.cn,i=(u={bn:n,cn:r}).bn,o=u.cn,u):(a=(c={bn:n,cn:r}).bn,s=c.cn,i=(h={bn:this.bn,cn:this.cn}).bn,o=h.cn,h),d=(p=e.get("meta/obank/"+a+"/ch/"+s+"/src").split(":").map(function(e){return+e}))[0],f=p[1],d===i&&f===o||2===this.format[0]&&d===i&&f===e.mixer.getOtherStereoCh(o)},e.prototype.channelIsConnected=function(e,t){var n,r;return n=t.bn,r=t.cn,this.monoChannelIsConnected(e,{bn:n,cn:r})||2===this.format[0]&&this.monoChannelIsConnected(e,{bn:n,cn:e.mixer.getOtherStereoCh(r)})},e.prototype.setupChannel=function(e,r){var i,s,l,u;return i=e.bn,l=e.cn,s=n.appendSpec(r,{type:"li",className:"file"}),new f({dev:this.dev,format:this.format,bn:i,cn:l,io:this.io,node:s,path:"meta/"+this.io.bank+"/"+i+"/ch/"+l+"/name"}),new a.Function(this.dev,(u=this,function(e){return n.setClass(s,"activeCh",u.channelIsConnected(e,{bn:i,cn:l}))})),n.testClass(s,"activeCh")&&o.defer(function(e){return function(){return e.scroll.scrollToClientRect(n.getBoundingClientRect(s))}}(this)),this.eventBindings.push(new t.FunctionButton({node:s,f:function(e){return function(){return e.choose({bn:i,cn:l})}}(this)}))},e.prototype.choose=function(e){return e?"input"===this.io.mode&&this.dev.set("ext/obank/"+this.bn+"/ch/0/src",e.bn+":"+e.cn):this.dev.set("ext/obank/"+this.bn+"/ch/0/src",""),this.close()},e.prototype.expandBank=function(e){return n.toggleClass(e,"selected")},e.prototype.remove=function(){var e,t,n;for(e=0,t=(n=this.eventBindings).length;e<t;e++)n[e].remove();return this.dev.remove()},e}(),y.LTCInputChannelRoutingMenu=function(){function e(e){var r,i;this.node=n.appendSpec(e.node,{type:"select",className:"selectMenu deviceMenu"}),this.dev=e.dev,this.opt=n.appendSpec(this.node,{type:"option",className:"menuItem"}),this.opt.textContent="LTC Channel",r=this.getLTCBnCn(),this.bn=r.bn,r.x,new a.Function(this.dev,(i=this,function(e){var t,n,r;return""!==(t=e.get("ext/obank/"+i.bn+"/ch/0/src"))?(n=t.split(":"),r=e.router.getIBankChName({bn:n[0],cn:n[1]})):r="None",i.opt.textContent=r})),new t.Popup({node:this.node,control:g,dev:e.dev})}return e.prototype.getLTCBnCn=function(){var e,t,n;for(e=0,n=-1;null!=(t=this.dev.get("ext/obank/"+e+"/name"));)"LTC Clock"===t&&(n=e),e++;return{bn:n,cn:0}},e}(),b=function(){function e(e){var i,o,s,l,u;this.dev=e.dev,this.parent=e.div,l=e.args,this.bn=l[0],this.cn=l[1],this.computerobank=l[2],this.close=e.close,this.setupBank=x(this.setupBank,this),n.addClass(this.parent,"chRouting"),this.io={Bank:"OBank",bank:"obank",mode:"output",otherMode:"input"},this.format=[1,0],this.scroll=new r({node:this.parent}),this.listNode=n.appendSpec(this.scroll.content,{type:"ol",className:"topLevel"}),this.eventBindings=[],o=n.appendSpec(this.listNode,{type:"li",className:"file"}),s=n.appendSpec(o,{className:"wrap none"}),i=n.appendSpec(s,{type:"span",textContent:"None"}),new a.Function(this.dev,(u=this,function(e){return n.setClass(o,"activeCh",u.noneIsActive(e))})),this.eventBindings.push(new t.FunctionButton({node:i,f:function(e){return function(){return e.choose()}}(this)})),this.dev.router["map"+this.io.Bank+"s"](this.setupBank)}return e.popupKey="ChannelRoutingPane",e.prototype.noneIsActive=function(e){var t,n;return null==e&&(e=this.dev),t=!1,this.dev.router["map"+this.io.Bank+"s"]((n=this,function(r,i){var o,a,s,l,u;for(u=[],o=a=0,s=n.dev.router["get"+n.io.Bank+"MaxCh"](i),l=n.format[0];l>0?a<s:a>s;o=a+=l)n.channelIsConnected(e,{bn:i,cn:o})?u.push(t=!0):u.push(void 0);return u})),!t},e.prototype.setupBank=function(e,r){var i,o,a,s,l,u;if(0===e.indexOf("Computer")){var c;for(i=new p({io:this.io,scroll:this.scroll,dev:this.dev,bn:r,format:this.format,node:this.listNode}),u=n.appendSpec(i.node,{type:"ol"}),null==this.headerHeight&&(this.headerHeight=n.height(i.node)),this.eventBindings.push(new t.FunctionButton({node:i.node,f:(c=this,function(){return c.expandBank(i.node)})})),!1,o=a=0,s=this.dev.router["get"+this.io.Bank+"MaxCh"](r),l=this.format[0];l>0?a<s:a>s;o=a+=l)this.setupChannel({bn:r,cn:o},u),this.channelIsConnected(this.dev,{bn:r,cn:o})&&!0;return n.addClass(i.node,"selected")}},e.prototype.monoChannelIsConnected=function(e,t){var n,r,i,o,a,s,l,u,c,h,p,d,f;return n=t.bn,r=t.cn,"input"===this.io.mode?(a=(l={bn:this.bn,cn:this.cn}).bn,s=l.cn,i=(u={bn:n,cn:r}).bn,o=u.cn,u):(a=(c={bn:n,cn:r}).bn,s=c.cn,i=(h={bn:this.bn,cn:this.cn}).bn,o=h.cn,h),d=(p=e.get("meta/obank/"+a+"/ch/"+s+"/src").split(":").map(function(e){return+e}))[0],f=p[1],d===i&&f===o||2===this.format[0]&&d===i&&f===e.mixer.getOtherStereoCh(o)},e.prototype.channelIsConnected=function(e,t){var n,r;return n=t.bn,r=t.cn,e.get("ext/obank/"+n+"/ch/"+r+"/src")===this.bn+":"+this.cn},e.prototype.setupChannel=function(e,r){var i,s,l,u;return i=e.bn,l=e.cn,s=n.appendSpec(r,{type:"li",className:"file"}),new f({dev:this.dev,format:this.format,bn:i,cn:l,io:this.io,node:s,path:"meta/"+this.io.bank+"/"+i+"/ch/"+l+"/name"}),new a.Function(this.dev,(u=this,function(e){return n.setClass(s,"activeCh",u.channelIsConnected(e,{bn:i,cn:l}))})),n.testClass(s,"activeCh")&&o.defer(function(e){return function(){return e.scroll.scrollToClientRect(n.getBoundingClientRect(s))}}(this)),this.eventBindings.push(new t.FunctionButton({node:s,f:function(e){return function(){return e.choose({bn:i,cn:l})}}(this)}))},e.prototype.choose=function(e){var t,n,r,i,o,a;if(i=this.bn+":"+this.cn,!e){for(a=[],n=r=0,o=this.dev.get("ext/obank/"+this.computerobank+"/calcCh");0<=o?r<o:r>o;n=0<=o?++r:--r)this.dev.get("ext/obank/"+this.computerobank+"/ch/"+n+"/src")===i?a.push(this.dev.set("ext/obank/"+this.computerobank+"/ch/"+n+"/src","")):a.push(void 0);return a}if("output"===this.io.mode)return""===(t=this.dev.get("ext/obank/"+e.bn+"/ch/"+e.cn+"/src"))||t!==i?this.dev.set("ext/obank/"+e.bn+"/ch/"+e.cn+"/src",i):this.dev.set("ext/obank/"+e.bn+"/ch/"+e.cn+"/src","")},e.prototype.expandBank=function(e){return n.toggleClass(e,"selected")},e.prototype.remove=function(){var e,t,n;for(e=0,t=(n=this.eventBindings).length;e<t;e++)n[e].remove();return this.dev.remove()},e}(),y.LTCOutputChannelRoutingMenu=function(){return function(e){var r;this.node=n.appendSpec(e.node,{type:"select",className:"selectMenu deviceMenu"}),this.dev=e.dev,this.bn=e.bn,this.cn=e.cn,this.opt=n.appendSpec(this.node,{type:"option",className:"menuItem"}),this.opt.textContent=e.name,this.computerobank=e.computerobank,new a.Function(this.dev,(r=this,function(e){var t,n,i,o,a,s;for(a="None",o=0,n=i=0,s=e.get("ext/obank/"+r.computerobank+"/calcCh");0<=s?i<s:i>s;n=0<=s?++i:--i)e.get("ext/obank/"+r.computerobank+"/ch/"+n+"/src")===r.bn+":"+r.cn&&(o++,t=n);return 1===o?a=e.router.getOBankChName({bn:r.computerobank,cn:t}):o>=2&&(a="Multiple"),r.opt.textContent=a})),new t.Popup({node:this.node,args:[this.bn,this.cn,this.computerobank],control:b,dev:e.dev})}}(),c=function(){function e(e){var i,o,s,l,u;this.dev=e.dev,this.parent=e.div,l=e.args,this.ab=l[0],this.close=e.close,this.setupBank=x(this.setupBank,this),n.addClass(this.parent,"chRouting"),this.io={Bank:"OBank",bank:"obank",mode:"output",otherMode:"input"},this.format=[2,0],this.scroll=new r({node:this.parent}),this.listNode=n.appendSpec(this.scroll.content,{type:"ol",className:"topLevel"}),this.eventBindings=[],o=n.appendSpec(this.listNode,{type:"li",className:"file"}),s=n.appendSpec(o,{className:"wrap none"}),i=n.appendSpec(s,{type:"span",textContent:"None"}),new a.Function(this.dev,(u=this,function(e){return n.setClass(o,"activeCh",u.noneIsActive(e))})),this.eventBindings.push(new t.FunctionButton({node:i,f:function(e){return function(){return e.choose()}}(this)})),this.dev.router["map"+this.io.Bank+"s"](this.setupBank)}return e.popupKey="ABRoutingPane",e.prototype.noneIsActive=function(e){var t,n;return null==e&&(e=this.dev),t=!1,this.dev.router["map"+this.io.Bank+"s"]((n=this,function(r,i){var o,a,s,l,u;for(u=[],o=a=0,s=n.dev.router["get"+n.io.Bank+"MaxCh"](i),l=n.format[0];l>0?a<s:a>s;o=a+=l)n.channelIsConnected(e,{bn:i,cn:o})?u.push(t=!0):u.push(void 0);return u})),!t},e.prototype.setupBank=function(e,r){var i,o,a,s,l,u;if(0!==e.indexOf("Mix")&&0!==e.indexOf("LTC")){var c;for(i=new p({io:this.io,scroll:this.scroll,dev:this.dev,bn:r,format:this.format,node:this.listNode}),u=n.appendSpec(i.node,{type:"ol"}),null==this.headerHeight&&(this.headerHeight=n.height(i.node)),this.eventBindings.push(new t.FunctionButton({node:i.node,f:(c=this,function(){return c.expandBank(i.node)})})),!1,o=a=0,s=this.dev.router["get"+this.io.Bank+"MaxCh"](r),l=this.format[0];l>0?a<s:a>s;o=a+=l)this.setupChannel({bn:r,cn:o},u),this.channelIsConnected(this.dev,{bn:r,cn:o})&&!0;return n.addClass(i.node,"selected")}},e.prototype.channelIsConnected=function(e,t){var n,r;return n=t.bn,r=t.cn,e.get("ext/ab/"+this.ab+"/dst")===n+":"+r},e.prototype.setupChannel=function(e,r){var i,s,l,u;return i=e.bn,l=e.cn,s=n.appendSpec(r,{type:"li",className:"file"}),new f({dev:this.dev,format:this.format,bn:i,cn:l,io:this.io,node:s,path:"meta/"+this.io.bank+"/"+i+"/ch/"+l+"/name"}),new a.Function(this.dev,(u=this,function(e){return n.setClass(s,"activeCh",u.channelIsConnected(e,{bn:i,cn:l}))})),n.testClass(s,"activeCh")&&o.defer(function(e){return function(){return e.scroll.scrollToClientRect(n.getBoundingClientRect(s))}}(this)),this.eventBindings.push(new t.FunctionButton({node:s,f:function(e){return function(){return e.choose({bn:i,cn:l})}}(this)}))},e.prototype.choose=function(e){var t,n;if(n="",null==e||(n=e.bn+":"+e.cn,t="a"===this.ab?"b":"a",this.dev.get("ext/ab/"+t+"/dst")!==n))return this.dev.set("ext/ab/"+this.ab+"/dst",n)},e.prototype.expandBank=function(e){return n.toggleClass(e,"selected")},e.prototype.remove=function(){var e,t,n;for(e=0,t=(n=this.eventBindings).length;e<t;e++)n[e].remove();return this.dev.remove()},e}(),y.ABSpeakerOutputSelect=function(){return function(e){var r;this.node=n.appendSpec(e.node,{type:"select",className:"selectMenu deviceMenu"}),this.dev=e.dev,this.ab=e.ab,this.opt=n.appendSpec(this.node,{type:"option",className:"menuItem"}),this.opt.textContent=e.name,new a.Function(this.dev,(r=this,function(e){var t,n,i,o;return""===(i=e.get("ext/ab/"+r.ab+"/dst"))?o="None":(t=(i=i.split(":"))[0],n=i[1],o=s.getStereoName({dev:r.dev,bn:+t,cn:+n,io:s.ios.output})),r.opt.textContent=o})),new t.Popup({node:this.node,control:c,args:[this.ab],dev:e.dev})}}(),y.Selector=function(){function e(e){var i,o,a,s,l,u,c;this.setupBank=x(this.setupBank,this),this.dev=e.dev,this.parent=e.parent,this.io=e.io,this.onChange=e.onChange,this.src=e.src,this.strip_id=null!=(a=e.strip_id)?a:null,this.bn=null!=(s=e.bank)?s:null,this.cn=null!=(l=e.channel)?l:null,this.displayActivity=null==(u=e.displayActivity)||u,n.addClass(this.parent,"chRouting"),null!==this.strip_id?this.format=this.dev.mixer.getStripFormat(this.strip_id):this.format=[1,0],null===this.bn?null==this.bn&&(this.bn=[-1]):this.bn=[this.bn],null===this.cn?null==this.cn&&(this.cn=[0]):this.cn=[this.cn],this.channels={},this.scroll=new r({node:this.parent}),this.listNode=n.appendSpec(this.scroll.content,{type:"ol",className:"topLevel"}),this.eventBindings=[],this.channels["-1:0"]={node:n.appendSpec(this.listNode,{type:"li",className:"file"}),path:""},i=this.channels["-1:0"].node,o=n.appendSpec(i,{className:"wrap none"}),n.appendSpec(o,{type:"span",textContent:"None"}),n.setClass(i,"activeCh",!0),this.eventBindings.push(new t.FunctionButton({node:o,f:(c=this,function(){return c.choose({bn:-1,cn:0,chLi:i})})})),this.dev.router["map"+this.io.Bank+"s"](this.setupBank)}return e.prototype.setupBank=function(e,r){var i,o,a,s,l,u,c;if(null===this.strip_id||0!==e.indexOf("Mix ")){var h;for(o=new p({io:this.io,scroll:this.scroll,dev:this.dev,bn:r,format:this.format,node:this.listNode,displayActivity:this.displayActivity}),c=n.appendSpec(o.node,{type:"ol"}),null==this.headerHeight&&(this.headerHeight=n.height(o.node)),this.eventBindings.push(new t.FunctionButton({node:o.node,f:(h=this,function(){return h.expandBank(o.node)})})),i=!1,a=s=0,l=this.dev.router["get"+this.io.Bank+"MaxCh"](r),u=this.format[0];u>0?s<l:s>l;a=s+=u)this.setupChannel({bn:r,cn:a},c),this.channelIsSelected({bn:r,cn:a})&&(i=!0);return i?n.addClass(o.node,"selected"):void 0}},e.prototype.channelIsConnected=function(e,t){var n,r;return n=t.bn,r=t.cn,e.get("ext/obank/"+n+"/ch/"+r+"/src")===this.src},e.prototype.channelIsSelected=function(e){var t,n,r;return t=e.bn,n=e.cn,(r=this.bn.indexOf(t))>-1&&this.cn[r]===n},e.prototype.setupChannel=function(e,r){var i,o,a,s,l;if(i=e.bn,a=e.cn,this.channels[i+":"+a]={node:n.appendSpec(r,{type:"li",className:"file"}),path:"meta/"+this.io.bank+"/"+i+"/ch/"+a+"/name"},o=this.channels[i+":"+a].node,s="obank"===this.io.bank,new f({dev:this.dev,format:this.format,bn:i,cn:a,io:this.io,node:o,path:"meta/"+this.io.bank+"/"+i+"/ch/"+a+"/name",showSrc:s,displayActivity:this.displayActivity}),this.eventBindings.push(new t.FunctionButton({node:o,f:(l=this,function(){return l.choose({bn:i,cn:a,chLi:o},!1)})})),"obank"===this.io.bank&&this.channelIsConnected(this.dev,{bn:i,cn:a})&&this.dev.get("meta/obank/"+i+"/calcCh")>0)return this.choose({chLi:o,bn:i,cn:a},!0)},e.prototype.choose=function(e,t){var r,i,a,s,l,u,c,h,p,d,f,v,m,g,b,y;if("ibank"===this.io.bank)n.setClass(this.channels[this.bn[0]+":"+this.cn[0]].node,"activeCh",!1,{bn:this.bn[0],cn:this.cn[0]}),this.bn[0]=e.bn,this.cn[0]=e.cn,n.setClass(e.chLi,"activeCh",!0,{bn:this.bn[0],cn:this.cn[0]});else{for(a=-1,i=s=0,c=(v=this.bn).length;s<c;i=++s)if((r=v[i])===e.bn&&this.cn[i]===e.cn){a=i;break}if(a>-1&&this.cn[a]===e.cn)n.setClass(this.channels[e.bn+":"+e.cn].node,"activeCh",!1,{bn:e.bn,cn:e.cn}),this.bn.splice(a,1),this.cn.splice(a,1);else if(-1===e.bn){for(i=l=0,h=(m=this.bn).length;l<h;i=++l)r=m[i],n.setClass(this.channels[r+":"+this.cn[i]].node,"activeCh",!1,{bn:r,cn:this.cn[i]});this.bn=[-1],this.cn=[0],n.setClass(e.chLi,"activeCh",!0,{bn:e.bn,cn:e.cn})}else this.bn.push(e.bn),this.cn.push(e.cn),n.setClass(e.chLi,"activeCh",!0,{bn:e.bn,cn:e.cn}),(d=this.bn.indexOf(-1))>-1&&(this.bn.splice(d,1),this.cn.splice(d,1),n.setClass(this.channels["-1:0"].node,"activeCh",!1,{bn:-1,cn:0}))}for(o.defer((y=this,function(){return y.scroll.scrollToClientRect(n.getBoundingClientRect(e.chLi))})),f=[],b=new RegExp("(\\s|^)activeCh(\\s|$)"),a=u=0,p=(g=this.bn).length;u<p;a=++u)r=g[a],b.test(this.channels[r+":"+this.cn[a]].node.className)&&f.push(this.channels[r+":"+this.cn[a]].path);return this.onChange(f,t)},e.prototype.expandBank=function(e){return n.toggleClass(e,"selected")},e.prototype.remove=function(){var e,t,n;for(e=0,t=(n=this.eventBindings).length;e<t;e++)n[e].remove();return this.dev.remove()},e}(),y.ChannelRoutingPane=d,y}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(3),n(2),n(5),n(27),n(32),n(1),n(21),n(106),n(107),n(156),n(16),n(371)],void 0===(i=function(e,t,n,r,i,o,a,s,l,u,c,h){var p,d,f,v,m,g,b,y,C,x,_,w,S,k,T,E,P,I,B,N,M,O,A,L,D=function(e,t){for(var n in t)R.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},R={}.hasOwnProperty,F=function(e,t){return function(){return e.apply(t,arguments)}};return L={in:{bank:"ibank",Bank:"IBank",label:"Input",plural:"Inputs"},out:{bank:"obank",Bank:"OBank",label:"Output",plural:"Outputs"}},function(){function t(t){var r,i,o,a,l,u,c;for(i=t.div,this.dev=t.dev,this.io=t.io,this.info=L[this.io],r=[],this.dev.router["map"+this.info.Bank+"s"]((c=this,function(e,t){if(c.nameFilter(e))return r.push(t)})),this.div=e.appendSpec(i,{className:"devSection bankTable"}),e.appendSpec(this.div,{type:"h4",textContent:this.info.label+" Banks"}),e.appendSpec(this.div,{className:"helpText",textContent:"Enable or Disable "+this.info.label+" Banks"}),u=new s({node:this.div,dev:this.dev,mode:"check"}),o=function(t){return function(r){var i,o,a,s,l,c,h,p;if(i=t.info.Bank,o=t.info.bank,l=function(e){return l=(l=e.router["get"+i+"Name"](r)).replace("ADAT","Optical")},c=t.dev.router["get"+i+"Name"](r),"obank"!==o||"LTC Clock"!==c)return h=function(e){return 0!==e.router["get"+i+"CalcCh"](r)},p=function(e){return e?t.dev.router["set"+i+"UserCh"](r,t.dev.router["get"+i+"MaxCh"](r)):t.dev.router["set"+i+"UserCh"](r,0)},a=function(){return h(t.dev)?0:1},s=u.addItem({label:l,selected:h,setValue:p,chooseValue:a}),new n.Function(t.dev,function(n){return e.setClass(s.node,"disabled",0==+n.get("ext/"+t.info.bank+"/"+r+"/numCh"))})}}(this),a=0,l=r.length;a<l;a++)o(r[a])}return t.prototype.nameFilter=function(e){var t,n,r,i;for(t=0,n=(r=["Mix ","Computer","AVB Stream"]).length;t<n;t++)if(i=r[t],-1!==e.indexOf(i))return!1;return!0},t}(),m=function(t){function n(e){var t;this.io=e.io,this.bn=e.bn,this.dev=e.dev,this.info=L[this.io],this.interactionPath="ext/"+this.info.bank+"/"+this.bn+"/userCh",n.__super__.constructor.call(this,o.extend(o.clone(e),{path:"meta/"+this.info.bank+"/"+this.bn+"/calcCh",type:new i(["int",0,0,this.dev.router["get"+this.info.Bank+"MaxCh"](this.bn)]),allowMobile:!0,onblur:(t=this,function(){return t.inval()})})),this.node.pattern="[0-9]*"}return D(n,t),n.prototype.changeVal=function(e){return e=Math.min(e,this.dev.router["get"+this.info.Bank+"NumCh"](this.bn)),this.dev.set(this.interactionPath,e)},n.prototype.update=function(t){var n;if(t=Math.min(t,this.dev.router["get"+this.info.Bank+"NumCh"](this.bn)),!e.testClass(this.node,"selectable"))return n=this.dev.router["get"+this.info.Bank+"NumCh"](this.bn),this.node.value=t+" out of "+n},n}(r.Readout),I=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return D(t,m),t.prototype.getVal=function(e,n){var r;return null!=(r=t.__super__.getVal.call(this,e,n))?2*Math.ceil(r/2):r},t.prototype.changeVal=function(e){var n,r,i;return t.__super__.changeVal.call(this,e),e=this.dev.get(this.path),n=function(e){return-1!==e.indexOf("Mix ")},0===e?r=function(){return 0}:(i=this,r=function(e){return i.dev.router.getIBankMaxCh(e)}),this.dev.router.mapIBanks(function(e){return function(t,i){if(n(t))return e.dev.router.setIBankUserCh(i,r(i))}}(this))},t}(),P=function(){return function(t){var n,r,i;n=t.div,i=t.text,r=t.extraCss,this.div=e.appendSpec(n,{className:"devSection "+(null!=r?r:"")}),e.appendSpec(this.div,{type:"h4",textContent:i}),this.menuTable=new l(this.div)}}(),b=function(e,t){var n;return n={in:[],out:[]},e.router.mapIBanks(function(e,r){if(e.match(t))return n.in.push(r)}),e.router.mapOBanks(function(e,r){if(e.match(t))return n.out.push(r)}),n},f=function(t){function n(t){var r,i,o,a,s,l,u,c,h,p,d,f,v,m,g,y,C,x,_;if(this.dev=t.dev,i=t.div,_=t.title,y=t.pattern,l=t.ins,g=t.outs,o=t.headers,this.bns=b(this.dev,y,l,g),this.bns.in.length||this.bns.out.length){for(n.__super__.constructor.call(this,{dev:this.dev,div:i,text:_}),h=0===this.bns.in.length&&this.bns.out.length>1?L.out.plural:this.bns.in.length>1?L.in.plural:"",this.header=e.appendSpec(this.menuTable.node,{type:"tr"}),e.appendSpec(this.header,{type:"td",className:"menuLabel",textContent:h}),a=0,p=o.length;a<p;a++)r=o[a],this.appendHeader(r);if(this.bns.in)for(m=1===this.bns.in.length,u=0,d=(C=this.bns.in).length;u<d;u++)s=C[u],new this.addBank(!0,s,m);if(this.bns.out)for(m=1===this.bns.out.length,this.bns.in.length>0&&!m&&this.menuTable.addRow(L.out.plural),c=0,f=(x=this.bns.out).length;c<f;c++)v=x[c],new this.addBank(!1,v,m)}}return D(n,P),n.prototype.appendHeader=function(t){return e.appendSpec(this.header,{type:"td",className:"devMenuHeader",textContent:t})},n.prototype.addBank=function(){throw new Error("subclasses must override")},n}(),w=function(e){var t;return 88200<=(t=+e.avb.getCurSampleRate(e.get("uid")))&&t<174400},S=function(e){return+e.avb.getCurSampleRate(e.get("uid"))>=174400},C=function(t,r){return new n.Function(t,function(t){return e.setClass(r,"irrelevantCol",!w(t))})},_=function(t,r,i){return new n.Function(t,function(t){return e.setClass(r,"irrelevantCol",!w(t)||t.get(i)===B.modeOpts[1][0])})},x=function(t,r,i){return new n.Function(t,function(t){return e.setClass(i,"irrelevantRow",!r(t))})},E=function(t){function i(e){var t,n;t=e.dev,n=e.div,this.addBank=F(this.addBank,this),i.__super__.constructor.call(this,{dev:t,div:n,title:"MADI Setup",pattern:/MADI/,ins:!0,outs:!0,headers:["Channels","Frame Mode"]}),this.bns.in.length||this.bns.out.length}return D(i,f),i.clockOpts=[["1x","44.1/48kHz"],["2x","88.2/96kHz"]],i.prototype.addBank=function(t,o,a){var s,l,u,c,h,p;return u=L[t?"in":"out"],c=this.menuTable.addCustomRow(a?u.label:this.dev.router["get"+u.Bank+"Title"](o)+":"),p=function(e){return e+" ("+e/2+"/"+e/4+") channels"},l=null,t?(x(this.dev,function(e){return+e.get("ext/ibank/"+o+"/ch/0/connection")},c),s=e.appendSpec(this.menuTable.addMenu(c),{}),new n.Function(this.dev,function(e){return s.textContent=p(e.get("ext/"+u.bank+"/"+o+"/madiFormat"))}),l=e.appendSpec(this.menuTable.addMenu(c),{}),h=r.MakeShowOpt(i.clockOpts),new n.Function(this.dev,function(e){var t;return t=e.get("ext/"+u.bank+"/"+o+"/madiClock"),l.textContent=h(t,e)})):(s=new r.Menu({title:"Channel Format",node:this.menuTable.addMenu(c),dev:this.dev,path:"ext/"+u.bank+"/"+o+"/madiFormat",showOpt:p,getOpts:function(e){return["64","56"]}}),l=new r.Menu({title:"Choose 44.1/48kHz or 88.1/96kHz clock when at 88.1/96kHz sample rates",node:this.menuTable.addMenu(c),dev:this.dev,path:"ext/"+u.bank+"/"+o+"/madiClock",showOpt:r.MakeShowOpt(i.clockOpts),getOpts:r.MakeGetOpts(i.clockOpts)}).node),C(this.dev,l)},i}(),B=function(t){function n(t){var r,i,a,s,l;this.dev=t.dev,i=t.div,this.addBanks=F(this.addBanks,this),this.bns=b(this.dev,/ADAT/,!0,!0),this.anyToslinkIns=o.some(function(){var e,t,n,i;for(i=[],e=0,t=(n=this.bns.in).length;e<t;e++)r=n[e],i.push(null!=this.dev.get("ext/ibank/"+r+"/mode"));return i}.call(this)),this.anyToslinkOuts=o.some(function(){var e,t,n,i;for(i=[],e=0,t=(n=this.bns.out).length;e<t;e++)r=n[e],i.push(null!=this.dev.get("ext/obank/"+r+"/mode"));return i}.call(this)),this.globalSMUX=!(null!=(l=this.dev.get("ext/smuxPerBank"))&&l),this.bankSMUX=!this.globalSMUX&&(o.some(function(){var e,t,n,i;for(i=[],e=0,t=(n=this.bns.in).length;e<t;e++)r=n[e],i.push(null!=this.dev.get("ext/ibank/"+r+"/smux"));return i}.call(this))||o.some(function(){var e,t,n,i;for(i=[],e=0,t=(n=this.bns.out).length;e<t;e++)r=n[e],i.push(null!=this.dev.get("ext/obank/"+r+"/smux"));return i}.call(this))),(this.anyToslinkIns||this.anyToslinkOuts||this.globalSMUX||this.bankSMUX)&&(n.__super__.constructor.call(this,{div:i,text:"Optical Setup"}),s=e.appendSpec(this.menuTable.node,{type:"tr"}),this.addTextCell(s,""),(this.anyToslinkIns||this.anyToslinkOuts)&&this.addTextCell(s,"Format","devMenuHeader"),(this.globalSMUX||this.bankSMUX)&&(a=this.addTextCell(s,"2x SMUX Mode","devMenuHeader"),C(this.dev,a)),this.addIO("in"),this.addIO("out"))}return D(n,P),n.smuxOpts=[["standard","Standard"],["typeII","Type II (legacy)"]],n.modeOpts=[["adat","ADAT"],["toslink","TOSLink"]],n.prototype.addIO=function(t){var n,r;return(this.globalSMUX||this.bns[t].length>1)&&(r=e.appendSpec(this.menuTable.node,{type:"tr"}),this.addTextCell(r,L[t].plural,"menuGroup"),this.globalSMUX&&((this.anyToslinkIns||this.anyToslinkOuts)&&this.addTextCell(r,""),n=this.addSMUXMenu(this.dev,r,L[t],this.bns[t][0]),C(this.dev,n.node))),this.addBanks(L[t],this.bns[t])},n.prototype.addBanks=function(t,n){var r,i,o,a,s,l,u,c,h,p;for(c=[],o=0,a=n.length;o<a;o++)r=n[o],l="ext/"+t.bank+"/"+r+"/mode",(p=this.dev.get(l))||!this.globalSMUX?(h=e.appendSpec(this.menuTable.node,{type:"tr"}),i=function(e,t){return function(n){return!S(n)&&+n.get("ext/"+e.bank+"/"+t+"/userCh")>0}},x(this.dev,i(t,r),h),u=t.label,n.length>1&&(u=this.dev.router["get"+t.Bank+"Name"](r),p&&(u=u.replace("ADAT","Optical"))),this.addTextCell(h,u+":"),p?this.addFormatMenu(this.dev,h,t,r):(this.anyToslinkIns||this.anyToslinkOuts)&&this.addTextCell(h,""),this.globalSMUX?c.push(void 0):(s=this.addSMUXMenu(this.dev,h,t,r),c.push(_(this.dev,s.node,l)))):c.push(void 0);return c},n.prototype.addTextCell=function(t,n,r){return null==r&&(r="menuLabel"),e.appendSpec(t,{type:"td",className:r,textContent:n})},n.prototype.addFormatMenu=function(e,t,i,o){return new r.Menu({title:"ADAT or TOSLink",node:this.menuTable.addMenu(t),dev:this.dev,path:"ext/"+i.bank+"/"+o+"/mode",showOpt:r.MakeShowOpt(n.modeOpts),getOpts:r.MakeGetOpts(n.modeOpts)})},n.prototype.addSMUXMenu=function(e,t,i,o){return new r.Menu({title:"SMUX Mode for 2x Sample Rates",node:this.menuTable.addMenu(t),dev:this.dev,path:"ext/"+i.bank+"/"+o+"/smux",showOpt:r.MakeShowOpt(n.smuxOpts),getOpts:r.MakeGetOpts(n.smuxOpts)})},n}(),function(e){function t(e){var n;this.dev=e.dev,n=e.div,t.__super__.constructor.call(this,{div:n,text:"Mixer Setup"}),new I({dev:this.dev,bn:this.dev.mixer.getBnForStripType("chan"),io:"out",extraCss:"preferenceReadout",node:this.menuTable.addRow("Number of Inputs:")})}return D(t,P),t}(),g=function(e){function t(e){var n,i,o;this.dev=e.dev,i=e.div,n={},this.dev.router.mapIBanks(function(e,t){if(-1!==e.indexOf("Computer"))return n.ibn=t}),this.dev.router.mapOBanks(function(e,t){if(-1!==e.indexOf("Computer"))return n.obn=t}),null==n.ibn&&null==n.obn||(t.__super__.constructor.call(this,{dev:this.dev,div:i,text:"Computer Setup"}),"ext/enableHostVolControls",this.dev.valid("ext/enableHostVolControls")&&(o=this.menuTable.addRow("Computer Volume Controls:"),new r.CheckBox({node:o,dev:this.dev,path:"ext/enableHostVolControls",extraCss:"hostVolumeBtn"})))}return D(t,P),t}(),k=function(){return function(t){var r,i,o;i=t.dev,o=t.node,r=e.appendSpec(o,{className:"clock devBtn"}),new n.Function(i,function(t){return e.setClass(r,"locked",t.get("smpte/ltcclocklocked"))})}}(),function(e){function t(e){t.__super__.constructor.call(this,e),this.extrapath=e.extrapath}return D(t,e),t.prototype.update=function(e){if(t.__super__.update.call(this,e),null!=this.extrapath)return this.dev.set(this.extrapath,-1)},t}(r.OptionListMenu),T=function(t){function i(t){var o,a,s,l,h,p,d,f,v,m,g,b;this.dev=t.dev,h=t.div,i.__super__.constructor.call(this,{dev:this.dev,div:h,text:"LTC Setup"}),null!=this.dev.get("smpte/ltcclocklocked")&&(s=this.menuTable.addRow("Clock Resolved to LTC:"),new k({dev:this.dev,node:s}),l=s.parentNode.parentNode),f=this.menuTable.addRow("LTC Input Source:"),new u.LTCInputChannelRoutingMenu({node:f,dev:this.dev,bn:"0",cn:"0",computerobank:0}),v=this.menuTable.addRow("Computer Channel for  LTC-to-MTC Conversion:"),this.ltcOutputMenu=new u.LTCOutputChannelRoutingMenu({node:v,dev:this.dev,name:"temp LTC name"}),new n.Function(this.dev,(b=this,function(t){var n,r,i,o,a,s;for(n=0,o=-1,i=-1;null!=(r=t.get("ext/obank/"+n+"/name"));)"LTC Clock"===r&&(o=n),"Computer"===r&&(i=n),n++;return""===(a=t.get("ext/obank/"+o+"/ch/0/src"))?e.hide(v.parentNode.parentNode):(e.remove(b.ltcOutputMenu.node),s=a.split(":"),b.ltcOutputMenu=new u.LTCOutputChannelRoutingMenu({node:v,dev:b.dev,bn:s[0],cn:s[1],name:"temp LTC name 2",computerobank:i}),e.show(v.parentNode.parentNode))})),g=this.menuTable.addRow("LTC Format:"),m=[["23.976:nondrop","23.976 fps"],["24:nondrop","24 fps"],["25:nondrop","25 fps"],["29.97:drop","29.97 fps drop"],["29.97:nondrop","29.97 fps non-drop"],["30:drop","30 fps drop"],["30:nondrop","30 fps non-drop"]],new r.OptionListMenu({dev:this.dev,extraCss:"deviceMenu",node:g,path:"smpte/format",showOpt:r.MakeShowOpt(m),getOpts:r.MakeGetOpts(m)}),null!=this.dev.get("smpte/enableautodetect")&&(o="smpte/enableautodetect",a=this.menuTable.addRow("Enable Format Autodetect:"),new r.CheckBox({node:a,dev:this.dev,path:o,extraCss:"hostVolumeBtn"}),a.parentNode.parentNode),d=this.menuTable.addRow("Enable Jam Sync:"),new r.LTCCheckBox({node:d,dev:this.dev,path:"smpte/freewheel",auxPath:"smpte/stopfreewheel",extraCss:"hostVolumeBtn"}),null!=this.dev.get("smpte/stopfreewheel")&&(p=this.menuTable.addRow(""),this.freewheelButton=e.appendSpec(p,{className:"utilityBtn restoreBtn jamsyncBtn",textContent:"Stop Jam Sync"}),new c.FunctionButton({node:this.freewheelButton,f:function(e){return function(){return e.freewheelReset()}}(this)})),new n.Function(this.dev,function(t){var n,r,i;if(r="avb/"+(i=t.get("uid"))+"/cfg/0/clock_source_index",n="avb/"+i+"/cfg/0/clock_sources/"+t.get(r)+"/object_name","LTC"===t.get(n)){if(null!=l)return e.show(l)}else if(null!=l)return e.hide(l)})}return D(i,P),i.prototype.freewheelReset=function(){var e;return e=this.dev.get("smpte/stopfreewheel"),e+=1,this.dev.set("smpte/stopfreewheel",e)},i}(),p=function(t){function o(t){var a,s,l,c,h,p,d,f;this.dev=t.dev,s=t.div,o.__super__.constructor.call(this,{dev:this.dev,div:s,text:"A-B Monitor Setup"}),c=[["stereo","Stereo Pair"],["analog6","Analog 1-6 (5.1)"],["analog8","Analog 1-8 (7.1)"]],a=this.menuTable.addRow("Monitor A:"),new r.Menu({title:"",node:a,dev:this.dev,path:"ext/ab/a/mode",showOpt:r.MakeShowOpt(c),getOpts:r.MakeGetOpts(c)}),this.speakerDstA=this.menuTable.addRow(String.fromCharCode(160)),new u.ABSpeakerOutputSelect({node:this.speakerDstA,dev:this.dev,ab:"a"}),p=this.menuTable.addRow("Monitor B:"),new u.ABSpeakerOutputSelect({node:p,dev:this.dev,ab:"b"}),new n.Function(this.dev,(f=this,function(e){return"stereo"===e.get("ext/ab/a/mode")?f.speakerDstA.hidden=!1:(e.set("ext/ab/a/dst",""),f.speakerDstA.hidden=!0)})),d=this.menuTable.addRow(""),s=e.appendSpec(d,{type:"div",className:"abControlContainer"}),l=e.appendSpec(s,{type:"div",className:"abTrimContainer"}),h=this.dev.get("ext/ab/trimRange").split(":"),new r.SmallKnob({node:l,text:"Monitor",path:"ext/ab/trim",dev:this.dev,type:new i(["int",h[1],h[0],h[1]]),labelFirst:!0,extraCss:"abTrim"}),new r.ToggleButton({node:s,dev:this.dev,path:"ext/ab/a/enable",values:[1,0],text:"A",extraCss:"abBtns"}),new r.ToggleButton({node:s,dev:this.dev,path:"ext/ab/mute",values:[1,0],text:"Mute",extraCss:"abBtns abMute"}),e.appendSpec(s,{type:"br"}),new r.ToggleButton({node:s,dev:this.dev,path:"ext/ab/b/enable",values:[1,0],text:"B",extraCss:"abBtns"}),new r.ToggleButton({node:s,dev:this.dev,path:"ext/ab/mono",values:[1,0],text:"Mono",extraCss:"abBtns"})}return D(o,P),o}(),y=function(t){function i(t){var o,a,s,l,u,c,h,p,d,f;this.dev=t.dev,o=t.div,i.__super__.constructor.call(this,{dev:this.dev,div:o,text:"Foot Switch Setup"}),f=this,l=function(e,t){var n,r,i,o;if("Control"!==(r=t.key)&&"Alt"!==r&&"Shift"!==r&&"Meta"!==r&&16!==(i=t.keyCode)&&17!==i&&18!==i&&91!==i)return t.preventDefault(),o=[],t.ctrlKey&&o.push("Ctrl"),t.altKey&&o.push("Alt"),t.shiftKey&&o.push("Shift"),t.metaKey&&o.push("Meta"),o.push(t.code),n=o.join(":"),f.dev.set(e,n)},u=[["none","Disabled"],["keypress","Key Press"],["talkback","Talkback"]],s=this.menuTable.addRow("Function:"),new r.Menu({title:"",node:s,dev:this.dev,path:"ext/footswitch/mode",showOpt:r.MakeShowOpt(u),getOpts:r.MakeGetOpts(u)}),c=this.menuTable.addRow("Down Key(s):"),(a=e.appendSpec(c,{type:"input",className:"preferenceReadout footInput"})).addEventListener("keydown",function(e){return l("ext/footswitch/keypress/down",e)}),new r.FunctionButton({node:c,dev:this.dev,text:"X",callback:function(e){return function(){return e.dev.set("ext/footswitch/keypress/down","")}}(this),extraCss:"footClear"}),h=this.menuTable.addRow("Up Key(s):"),(p=e.appendSpec(h,{type:"input",className:"preferenceReadout footInput"})).addEventListener("keydown",function(e){return l("ext/footswitch/keypress/up",e)}),new r.FunctionButton({node:h,dev:this.dev,text:"X",callback:function(e){return function(){return e.dev.set("ext/footswitch/keypress/up","")}}(this),extraCss:"footClear"}),d=function(e,t,n){var r,i,o;return o=(o=n.get(e)).split(":"),i=-1!==navigator.platform.indexOf("Mac")?"Mac":"Unknown",o.forEach(function(e,t){if(e.startsWith("Key")&&(o[t]=e.replace("Key","")),e.startsWith("Digit")&&(o[t]=e.replace("Digit","")),"Mac"===i&&("Alt"===e&&(o[t]="⌥"),"Meta"===e&&(o[t]="⌘"),"Shift"===e&&(o[t]="⇧"),"Ctrl"===e&&(o[t]="^"),"Delete"===e))return o[t]="⌫"}),r="Mac"===i?"":"+",o=o.join(r),t.value=o},new n.Function(this.dev,function(e){return d("ext/footswitch/keypress/down",a,e)}),new n.Function(this.dev,function(e){return d("ext/footswitch/keypress/up",p,e)})}return D(i,P),i}(),N=function(e,t,n){var r,i,o;for(i in r=0,o=e.router["stream"+t.Bank+"s"])n(o[i])&&r++;return r},O=function(e,t){return N(e,t,function(n){return e.router["get"+t.Bank+"NumCh"](n)>0})},A=function(e,t){var n,r;return r=e.get("uid"),n=e.get("avb/"+r+"/current_configuration"),"IBank"===t.Bank?e.get("avb/"+r+"/cfg/"+n+"/input_streams/requested_num"):e.get("avb/"+r+"/cfg/"+n+"/output_streams/requested_num")},M=function(e,t){var n,r;return null!=(n=A(e,t))?(r=O(e,t),Math.min(n,r)):N(e,t,function(n){return e.router["get"+t.Bank+"CalcCh"](n)>0})},d=function(){function t(t){var r,i,o;this.dev=t.dev,r=t.div,this.io=t.io,i=t.extraCss,this.info=L[this.io],this.div=e.appendSpec(r,{type:"input",className:null!=i?i:""}),new n.Function(this.dev,(o=this,function(e){return o.update(e)})),this.addInteraction()}return t.prototype.changeVal=function(e){var t,n,r,i,o,a,s,l,u,c,h;if(!window.isNaN(e)){if(a=e,null==A(this.dev,this.info)){for(i in O(this.dev,this.info),u=0,s={},l=this.dev.router["stream"+this.info.Bank+"s"])t=l[i],+this.dev.router["get"+this.info.Bank+"NumCh"](t)>0?(o=+this.dev.router["get"+this.info.Bank+"MaxCh"](t),h="ext/"+this.info.bank+"/"+t+"/userCh",c=u<a?o:0,window.isNaN(a)&&(c=this.dev.get(h)),s[h]=c,u++):u++;return this.dev.setMultiple(s)}return r=this.dev.get("uid"),n=this.dev.get("avb/"+r+"/current_configuration"),"in"===this.io?this.dev.set("avb/"+r+"/cfg/"+n+"/input_streams/requested_num",a):this.dev.set("avb/"+r+"/cfg/"+n+"/output_streams/requested_num",a)}},t.prototype.addInteraction=function(){var e,t,n,r;return r=this,e=function(e,t){var n;return(n=+e)!==t&&r.changeVal(n),r.update(r.dev)},n=function(e){return function(){return M(e.dev,e.info)}}(this),t=function(e){return function(){return""+M(e.dev,e.info)}}(this),this.interaction=new c.FunctionString({node:this.div,f:e,getOriginalValue:n,getEditableValue:t})},t.prototype.removeInteraction=function(){var e;return null!=(e=this.interaction)?e.remove():void 0},t.prototype.update=function(e){var t,n;return n=O(e,this.info),t=M(e,this.info),this.div.value=t+" out of "+n},t}(),(v=function(){return function(t){var n;this.dev=t.dev,n=t.div,a.works({dev:this.dev,cap:"router"})&&(this.div=e.appendSpec(n,{}))}}()).AVBStreamSetup=function(e){function t(e){var n,r,i;this.dev=e.dev,n=e.div,r=O(this.dev,L.in),i=O(this.dev,L.out),(r>0||i>0)&&(t.__super__.constructor.call(this,{dev:this.dev,div:n,text:"AVB Stream Setup"}),r>0&&new d({dev:this.dev,div:this.menuTable.addRow("Number of Input Streams:"),io:"in",extraCss:"preferenceReadout"}),i>0&&new d({dev:this.dev,div:this.menuTable.addRow("Number of Output Streams:"),io:"out",extraCss:"preferenceReadout"}))}return D(t,P),t}(),v.Details=function(){return function(t){var r,i;this.dev=t.dev,i=t.div,a.works({dev:this.dev,cap:"router"})&&(this.div=e.appendSpec(i,{}),new E({dev:this.dev,div:this.div}),new B({dev:this.dev,div:this.div}),r=new g({dev:this.dev,div:this.div}),new n.Function(this.dev,function(t){return"mac"===t.get("host/os")?e.show(r.div):e.hide(r.div)}),null!=this.dev.get("smpte/format")&&null!=this.dev.get("smpte/freewheel")&&new T({dev:this.dev,div:this.div}),null!=this.dev.get("ext/ab/a/enable")&&new p({dev:this.dev,div:this.div}),null!=this.dev.get("ext/footswitch/mode")&&new y({dev:this.dev,div:this.div}))}}(),v}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(2),n(3),n(32),n(34),n(30),n(1),n(5)],void 0===(i=function(e,t,n,r,i,o,a){var s,l,u=function(e,t){for(var n in t)c.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},c={}.hasOwnProperty,h=[].slice;return l={},s=Math,l.EffectMeter=function(e){function t(e){var n,r,o;t.__super__.constructor.call(this,e.dev),this.strip=e.strip,this.meterType=e.meterType,this.meterDrawer=e.meterDrawer,this.realPath=e.path,this.indexWatcher=new a.Function(e.dev,(o=this,function(e){var t;return t=o.strip.num,e.valid(o.strip.formatPath)||(t/=2),o.meterIndex=+e.get("meta/meterIndex/"+o.meterType+"/"+o.strip.type)+t})),this.meterDrawer.addMeter(this),this.v=null,this.lastRendered=null,this.dev=e.dev,r=null!=(n=e.warptype)?n:"Identity",this.warper=new i[r](this.dev.getParameterTypeForPath(this.realPath)),this.enabledWatcher=new a.Function(e.dev,function(t){return function(n){var r,i;return r="leveler"===t.meterType?"compDiv":t.meterType+"Div",+n.get(e.enabledPath)&&n.mixer.stripIsAvailAndEnabled(t.strip)&&+n.get("preferences/mix/"+r+"/selected")?i=t.realPath:(i=null,t.v=null,t.lastRendered=null,t.render(null)),t.rewire(i)}}(this))}return u(t,e),t.prototype.animate=function(){if(this.v!==this.lastRendered)return this.render(this.v),this.lastRendered=this.v},t.prototype.render=function(){},t.prototype.update=function(){var e,t,n,r,i,o,a;if(null!=(null!=(e=this.dev.mixer.meterCalc)&&null!=(t=e.meters)&&null!=(n=t[this.path])?n.levels[this.meterIndex]:void 0))return a=(null!=(r=this.dev.mixer.meterCalc)&&null!=(i=r.meters)&&null!=(o=i[this.path])?o.levels[this.meterIndex]:void 0)/1e3,this.v=this.warper.warp(a),this.meterDrawer.inval()},t.prototype.remove=function(){return t.__super__.remove.call(this),this.enabledWatcher.remove(),this.indexWatcher.remove()},t}(a.Control),l.MeterLED=function(e){function n(e){var r;this.colorFunc=e.colorFunc,null==this.colorFunc&&(this.colorFunc=l.MeterLED.colorFunc),this.node=t.appendSpec(e.node,{className:(null!=(r=e.extraCss)?r:"")+" meterLED"}),this.canvas=t.appendSpec(this.node,{type:"canvas",height:8,width:8}),this.ctx=this.canvas.getContext("2d"),n.__super__.constructor.call(this,e)}return u(n,e),n.prototype.elemHeight=9,n.prototype.elemWidth=9,12,n.colorFunc=function(e){var t;return null==e?"rgba(0,0,0,1)":(t=267-243*e,"rgb("+s.floor(t)+", 12, 12)")},n.prototype.meterNode=function(){return this.node},n.prototype.render=function(e){return this.ctx.clearRect(0,0,this.elemWidth,this.elemHeight),this.ctx.fillStyle=this.colorFunc(e),this.ctx.fillRect(0,0,this.elemWidth,this.elemHeight)},n}(l.EffectMeter),l.FaderMeterElem=function(e){var t;function r(e){var t,o,s,l,u,c,h,p,d,f;for(u in this.strip=e.strip,this.dev=e.dev,s=e.faderPath,c=e.metaFaderPath,t=e.decay,l=e.holdSteps,o=e.epsilon,p=e.scope,r.__super__.constructor.call(this,this.dev),h={decay:t,holdSteps:l,epsilon:o})null!=(d=h[u])&&(this[u]=d);this.warper=new i.MeterDisplay,this.indexWatcher=new a.Function(this.dev,(f=this,function(e){return f.meterIndex=+e.get("meta/meterIndex/level/"+f.strip.type)+f.strip.num})),this.type=new n(["real",0,0,i.MeterDisplayMaxScale,"linear"]),this.hold=0,this.state=0,this.setFaderPath(s),this.setMetaFaderPath(c),this.enabledWatcher=new a.Function(this.dev,function(e){return function(t){var n;return n=t.mixer.stripIsAvailAndEnabled(e.strip,p)?"meters/mix/level":null,e.rewire(n)}}(this))}return u(r,e),t=window.isNaN,r.prototype.setFaderPath=function(e){this.faderPath=e},r.prototype.setMetaFaderPath=function(e){this.metaFaderPath=e},r.prototype.update=function(e){var t,n,r,i,o,a;if(null!=e){for(i=0,t=0,r=e.length;t<r;t++)(o=e[t][this.meterIndex])>i&&(i=o);for(n=0,a=e.length-1;0<=a?n<a:n>a;0<=a?++n:--n)this.calcStep(0);return this.calcStep(i),this.render(this.warper.warp(this.type.toNormalizedValue(this.state/1e3)))}},r.prototype.decay=.6,r.prototype.holdSteps=0,r.prototype.epsilon=10,r.prototype.calcStep=function(e){if(!t(e)&&this.dev.valid(this.faderPath))return"chan"===this.strip.type&&0!=+this.dev.get("preferences/mix/inmeterprefader")||(e*=this.dev.get(this.faderPath),null!=this.metaFaderPath&&(e*=this.dev.get(this.metaFaderPath))),this.state,e>this.state+this.epsilon&&(this.hold=0),e>this.state?this.state=e:(this.state*=this.hold>=this.holdSteps?this.decay:1,this.state=s.max(this.state,e),this.hold+=1)},r.prototype.elemHeight=180,r.prototype.elemWidth=40,r.prototype.top=function(e){var t;return t=s.floor(this.elemHeight*(1-e)),s.max(0,s.min(this.elemHeight,t))},r.prototype.render=function(){},r}(a.Control),l.MeterDrawer=function(){var e;function n(){this.meters=[]}return e=window,n.prototype.addMeter=function(e){return this.meters.push(e)},n.prototype.removeMeter=function(e){return this.meters=o.without(this.meters,e)},n.prototype.inval=function(){return null!=this.request?this.request:this.request=e.requestAnimationFrame((t=this,function(){return t.animate()}));var t},n.prototype.animate=function(){var n,r,i,o,a;for(n=0,r=(a=this.meters).length;n<r;n++)i=a[n],(o=t.getBoundingClientRect(i.meterNode())).right<=0||o.left>e.innerWidth||o.bottom<=0||o.top>e.innerHeight||i.animate();return this.request=null},n}(),l.SingleChannelPeak=function(e){function t(e){t.__super__.constructor.call(this,o.extend(o.clone(e),{decay:.6,holdSteps:45,epsilon:3}))}return u(t,e),t.prototype.render=function(e){this.v=e},t}(l.FaderMeterElem),l.SingleChannelMeter=function(e){function n(e){var r;this.peak=new l.SingleChannelPeak(e),this.v=0,this.node=t.appendSpec(e.node,{type:"canvas",height:this.elemHeight,width:this.elemWidth,className:"faderMeterOn "+(null!=(r=e.extraCss)?r:"")}),this.meterDrawer=e.meterDrawer,this.meterDrawer.addMeter(this),this.ctx=this.node.getContext("2d"),this.ctx.fillStyle="#36b0ed",this.ctx.strokeStyle="red",n.__super__.constructor.call(this,e)}return u(n,e),n.prototype.setFaderPath=function(){var e,t;return e=1<=arguments.length?h.call(arguments,0):[],(t=this.peak).setFaderPath.apply(t,e),n.__super__.setFaderPath.apply(this,e)},n.prototype.setMetaFaderPath=function(){var e,t;return e=1<=arguments.length?h.call(arguments,0):[],(t=this.peak).setMetaFaderPath.apply(t,e),n.__super__.setMetaFaderPath.apply(this,e)},n.prototype.rewire=function(){var e,t;return e=1<=arguments.length?h.call(arguments,0):[],(t=this.peak).rewire.apply(t,e),n.__super__.rewire.apply(this,e)},n.prototype.meterNode=function(){return this.node},n.prototype.animate=function(){var e;return this.ctx.clearRect(0,0,40,this.elemHeight),this.ctx.fillRect(0,this.top(this.v),40,this.elemHeight),e=this.top(this.peak.v),this.ctx.beginPath(),this.ctx.moveTo(0,e),this.ctx.lineTo(this.elemWidth,e),this.ctx.stroke()},n.prototype.render=function(e){return this.v=e,this.meterDrawer.inval()},n}(l.FaderMeterElem),l.Meter=function(){function e(e){var n,r,i,s,u,c,h;n=e.node,this.mono=(r=t.appendSpec(n,{className:"monoMeter",display:"none"}),(i=o.pick(e,"strip","faderPath","metaFaderPath","dev","meterDrawer","scope")).node=r,{block:r,meter:new l.SingleChannelMeter(i)}),this.stereo=(c={block:t.appendSpec(n,{className:"stereoMeter"})},(s=function(t,n){var r,i;return r=n.charAt(0).toUpperCase()+n.slice(1),c[n]={},(i=o.extend(o.pick(e,"faderPath","metaFaderPath","dev","meterDrawer","scope"),{strip:t,node:c.block})).extraCss="faderMeterStereo"+r+" faderMeterStereo",c[n].meter=new l.SingleChannelMeter(i)})(e.strip,"left"),(u=o.clone(e.strip)).num=e.dev.mixer.getOtherStereoCh(e.strip.num),s(u,"right"),c),this.formatWatcher=new a.Function(e.dev,(h=this,function(t){var n;return n=t.valid(e.strip.formatPath)?+t.get(e.strip.formatPath).split(":")[0]:2,h.mono.block.style.display=1==+n?"":"none",h.stereo.block.style.display=2==+n?"":"none"}))}return e.prototype.mapAllMeters=function(e){var t,n,r,i,o;for(o=[],t=0,n=(i=[this.stereo.left,this.stereo.right,this.mono]).length;t<n;t++)r=i[t],o.push(e(r.meter));return o},e.prototype.setFaderPath=function(e){return this.mapAllMeters(function(t){return t.setFaderPath(e)})},e.prototype.setMetaFaderPath=function(e){return this.mapAllMeters(function(t){return t.setMetaFaderPath(e)})},e.prototype.remove=function(){return this.mapAllMeters(function(e){return e.remove()})},e}(),l.HorizontalFaderGroup=function(){return function(e){this.node=t.appendSpec(e.node,{className:"hFaderGroup "+e.extraCss})}}(),l.HorizontalFaderLabel=function(){function e(e){var n,r,i;i=e.node,r=e.label,n=e.extraCss,this.node=t.appendSpec(i,{className:"label "+n,textContent:r})}return e.prototype.setText=function(e){return this.node.textContent=e},e}(),l.SingleHorizontalFader=function(){function e(e){var n,r,i,o,a,s,l;r=null!=(i=e.extraCss)?i:"",n=null!=(o=e.meterColor)?o:"rgb(40,70,84)",l=null==(a=e.thumb)||a,this.mode=null!=(s=e.mode)?s:"left-to-right",this.node=t.appendSpec(e.node,{className:"hFader "+r}),this.meter=t.appendSpec(this.node,{type:"canvas",className:"hFaderMeter",height:this.elemHeight,width:this.elemWidth}),this.ctx=this.meter.getContext("2d"),this.ctx.fillStyle=n,l&&(this.thumb=t.appendSpec(this.node,{className:"hFaderThumb "+r,textContent:"|"}))}return e.prototype.elemHeight=4,e.prototype.elemWidth=62,e.prototype.thumbWidth=4,e.prototype.faderThrow=64,e.prototype.set=function(e){switch(this.mode){case"left-to-right":this.renderLtR(e);break;case"right-to-left":this.renderRtL(e);break;case"middle-out":this.renderMiddleOut(e)}return this.renderThumb(e)},e.prototype.renderThumb=function(e){var t;if(t=~~(e*this.faderThrow),null!=this.thumb)return this.thumb.style.left=t-2+"px"},e.prototype.renderLtR=function(e){var t;return null==e&&(e=0),t=~~(e*this.faderThrow),this.ctx.clearRect(0,0,this.elemWidth,this.elemHeight),this.ctx.fillRect(0,0,t,this.elemHeight)},e.prototype.renderRtL=function(e){var t;return null==e&&(e=1),t=~~(e*this.faderThrow),this.ctx.clearRect(0,0,this.elemWidth,this.elemHeight),this.ctx.fillRect(t,0,this.elemWidth,this.elemHeight)},e.prototype.renderMiddleOut=function(e){var t,n;return null==e&&(e=.5),n=~~((e-=.5)*this.faderThrow),t=~~(this.faderThrow/2),this.ctx.clearRect(0,0,this.elemWidth,this.elemHeight),this.ctx.fillRect(t,0,n,this.elemHeight)},e}(),l.ArcMeter=function(){function e(e){var n,r,i,o,a,s;a=window.devicePixelRatio,this.unit*=a,this.canvasWidth*=a,this.canvasHeight*=a,this.radius*=a,this.lineWidth*=a,this.thumbInnerRadius*=a,this.thumbOuterRadius*=a,this.meterWellSeparation*=a,this.node=t.appendSpec(e,{className:"hFaderArc"}),this.canvas=t.appendSpec(this.node,{type:"canvas",height:this.canvasHeight,width:this.canvasWidth}),this.ctx=this.canvas.getContext("2d"),r=this.canvasWidth,this.canvasHeight,s=this.radius,o=this.lineWidth,n=this.arcCenter,i=r-2*this.thumbOuterRadius,this.arcAngle=2*Math.asin(i/2/s),this.left=n-this.arcAngle/2,this.right=n+this.arcAngle/2,this.downShift=s+o,this.set(.5)}return e.prototype.canvasWidth=68,e.prototype.faderThrow=68,e.prototype.canvasHeight=20,e.prototype.radius=100,e.prototype.lineWidth=6,e.prototype.thumbInnerRadius=1,e.prototype.thumbOuterRadius=5,e.prototype.arcCenter=3*Math.PI/2,e.prototype.meterWellSeparation=2,e.prototype.unit=1,e.prototype.drawWell=function(){var e;return(e=this.ctx).beginPath(),e.strokeStyle="black",e.lineWidth=this.lineWidth,e.lineCap="round",e.arc(this.canvasWidth/2,this.downShift,this.radius,this.left,this.right),e.stroke()},e.prototype.set=function(e){var t,n,r,i,o;return this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.drawWell(),n=(this.left+this.right)/2,t=(o=e-.5)<0,i=o*this.arcAngle+n,(r=this.ctx).beginPath(),r.strokeStyle="rgb(40,70,84)",r.lineWidth=this.lineWidth-this.meterWellSeparation,r.arc(this.canvasWidth/2,this.downShift,this.radius,n,i,t),r.stroke(),this.drawThumb(e)},e.prototype.drawThumb=function(e){var t,n,r;return this.ctx.save(),n=(t=this.getThumbPoint(e))[0],r=t[1],this.ctx.beginPath(),this.ctx.fillStyle="rgba(183,183,183,0.85)",this.ctx.strokeStyle="rgba(0,0,0,0.4)",this.ctx.lineWidth=this.unit,this.ctx.arc(n,r,this.thumbOuterRadius,0,2*Math.PI),this.ctx.stroke(),this.ctx.shadowColor="rgba(0,0,0,0.7)",this.ctx.shadowOffsetX=this.unit,this.ctx.shadowOffsetY=this.unit,this.ctx.shadowBlur=3*this.unit,this.ctx.fill(),this.ctx.restore(),this.ctx.save(),this.ctx.beginPath(),this.ctx.fillStyle="rgba(51,51,51,0.8)",this.ctx.arc(n,r,this.thumbInnerRadius,0,2*Math.PI),this.ctx.fill(),this.ctx.restore()},e.prototype.getThumbPoint=function(e){var t,n,r,i,o;return t=(e-.5)*this.arcAngle,o=Math.PI/2-t,n=this.canvasWidth/2,r=this.downShift,i=Math.sin(o)*this.radius,[n+s.cos(o)*this.radius,r-i]},e.prototype.hide=function(){return t.hide(this.node)},e.prototype.show=function(){return t.show(this.node)},e}(),l.LabeledHorizontalFaderUI=function(){function e(e){var t,n,r,i;i=e.node,t=e.extraCss,r=e.label,e.color,e.hasThumb,this.node=new l.HorizontalFaderGroup({node:i,extraCss:t}).node,this.label=new l.HorizontalFaderLabel({node:this.node,label:r,extraCss:t}),(n=o.clone(e)).node=this.node,this.fader=new l.SingleHorizontalFader(n)}return e.prototype.faderThrow=64,e.prototype.set=function(e){return this.fader.set(e)},e.prototype.setLabel=function(e){return this.label.setText(e)},e.prototype.meterNode=function(){return this.fader.meter},e}(),l.EffectMeterIndicator=function(){function e(e){var n,r;r=e.node,n=e.extraCss,this.node=t.appendSpec(r,{className:"hFaderIndicator "+n})}return e.prototype.elemWidth=62,e.prototype.setValue=function(e){var n;if(null!=e)return t.show(this.node),n=~~((null!=e?e:0)*this.elemWidth)-2,this.node.style.left=n+"px";t.hide(this.node)},e}(),l.HorizontalEffectMeter=function(e){function t(e){var n,r,i;(n={}).node=e.node,n.label=e.label,n.mode=this.sliderMode,n.meterColor=this.meterColor,n.extraCss="effectMeter "+(null!=(r=e.extraCss)?r:""),n.thumb=!1,this.faderUI=new l.LabeledHorizontalFaderUI(n),t.__super__.constructor.call(this,e),e.indicatorFunction&&(this.indicator=new l.EffectMeterIndicator({node:this.faderUI.node,extraCss:e.extraCss}),this.indicatorReaction=new a.Function(this.dev,(i=this,function(t){var n;return n=null!=(n=e.indicatorFunction(t))?i.warper.warp(n):null,i.indicator.setValue(n)})))}return u(t,e),t.prototype.meterColor="rgb(54,176,237)",t.prototype.sliderMode="left-to-right",t.prototype.meterNode=function(){return this.faderUI.meterNode()},t.prototype.render=function(e){return this.faderUI.set(e)},t}(l.EffectMeter),l.ReverseHorizontalEffectMeter=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.meterColor="rgb(255,0,0)",t.prototype.sliderMode="right-to-left",t}(l.HorizontalEffectMeter),l}.apply(t,r))||(e.exports=i)},function(e,t,n){var r=n(10);n(14),e.exports=r.log=r.log||{},r.log.levels=["none","error","warning","info","debug","verbose","max"];var i={},o=[],a=null;r.log.LEVEL_LOCKED=2,r.log.NO_LEVEL_CHECK=4,r.log.INTERPOLATE=8;for(var s=0;s<r.log.levels.length;++s){var l=r.log.levels[s];i[l]={index:s,name:l.toUpperCase()}}r.log.logMessage=function(e){for(var t=i[e.level].index,n=0;n<o.length;++n){var a=o[n];if(a.flags&r.log.NO_LEVEL_CHECK)a.f(e);else t<=i[a.level].index&&a.f(a,e)}},r.log.prepareStandard=function(e){"standard"in e||(e.standard=i[e.level].name+" ["+e.category+"] "+e.message)},r.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]||e.arguments),e.full=r.util.format.apply(this,t)}},r.log.prepareStandardFull=function(e){"standardFull"in e||(r.log.prepareStandard(e),e.standardFull=e.standard)};var u=["error","warning","info","debug","verbose"];for(s=0;s<u.length;++s)!function(e){r.log[e]=function(t,n){var i=Array.prototype.slice.call(arguments).slice(2),o={timestamp:new Date,level:e,category:t,message:n,arguments:i};r.log.logMessage(o)}}(u[s]);if(r.log.makeLogger=function(e){var t={flags:0,f:e};return r.log.setLevel(t,"none"),t},r.log.setLevel=function(e,t){var n=!1;if(e&&!(e.flags&r.log.LEVEL_LOCKED))for(var i=0;i<r.log.levels.length;++i){if(t==r.log.levels[i]){e.level=t,n=!0;break}}return n},r.log.lock=function(e,t){void 0===t||t?e.flags|=r.log.LEVEL_LOCKED:e.flags&=~r.log.LEVEL_LOCKED},r.log.addLogger=function(e){o.push(e)},"undefined"!=typeof console&&"log"in console){var c;if(console.error&&console.warn&&console.info&&console.debug){var h={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},p=function(e,t){r.log.prepareStandard(t);var n=h[t.level],i=[t.standard];i=i.concat(t.arguments.slice()),n.apply(console,i)};c=r.log.makeLogger(p)}else{p=function(e,t){r.log.prepareStandardFull(t),console.log(t.standardFull)};c=r.log.makeLogger(p)}r.log.setLevel(c,"debug"),r.log.addLogger(c),a=c}else console={log:function(){}};if(null!==a){var d=r.util.getQueryVariables();if("console.level"in d&&r.log.setLevel(a,d["console.level"].slice(-1)[0]),"console.lock"in d)"true"==d["console.lock"].slice(-1)[0]&&r.log.lock(a)}r.log.consoleLogger=a},function(e,t,n){var r=n(10);n(46),n(14);var i=e.exports=r.sha512=r.sha512||{};r.md.sha512=r.md.algorithms.sha512=i;var o=r.sha384=r.sha512.sha384=r.sha512.sha384||{};o.create=function(){return i.create("SHA-384")},r.md.sha384=r.md.algorithms.sha384=o,r.sha512.sha256=r.sha512.sha256||{create:function(){return i.create("SHA-512/256")}},r.md["sha512/256"]=r.md.algorithms["sha512/256"]=r.sha512.sha256,r.sha512.sha224=r.sha512.sha224||{create:function(){return i.create("SHA-512/224")}},r.md["sha512/224"]=r.md.algorithms["sha512/224"]=r.sha512.sha224,i.create=function(e){if(s||(a=String.fromCharCode(128),a+=r.util.fillString(String.fromCharCode(0),128),l=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(u={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],u["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],u["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],u["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],s=!0),void 0===e&&(e="SHA-512"),!(e in u))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=u[e],n=null,i=r.util.createBuffer(),o=new Array(80),h=0;h<80;++h)o[h]=new Array(2);var p=64;switch(e){case"SHA-384":p=48;break;case"SHA-512/256":p=32;break;case"SHA-512/224":p=28}var d={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:p,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){d.messageLength=0,d.fullMessageLength=d.messageLength128=[];for(var e=d.messageLengthSize/4,o=0;o<e;++o)d.fullMessageLength.push(0);i=r.util.createBuffer(),n=new Array(t.length);for(o=0;o<t.length;++o)n[o]=t[o].slice(0);return d}};return d.start(),d.update=function(e,t){"utf8"===t&&(e=r.util.encodeUtf8(e));var a=e.length;d.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var s=d.fullMessageLength.length-1;s>=0;--s)d.fullMessageLength[s]+=a[1],a[1]=a[0]+(d.fullMessageLength[s]/4294967296>>>0),d.fullMessageLength[s]=d.fullMessageLength[s]>>>0,a[0]=a[1]/4294967296>>>0;return i.putBytes(e),c(n,o,i),(i.read>2048||0===i.length())&&i.compact(),d},d.digest=function(){var t=r.util.createBuffer();t.putBytes(i.bytes());var s,l=d.fullMessageLength[d.fullMessageLength.length-1]+d.messageLengthSize&d.blockLength-1;t.putBytes(a.substr(0,d.blockLength-l));for(var u=8*d.fullMessageLength[0],h=0;h<d.fullMessageLength.length-1;++h)u+=(s=8*d.fullMessageLength[h+1])/4294967296>>>0,t.putInt32(u>>>0),u=s>>>0;t.putInt32(u);var p=new Array(n.length);for(h=0;h<n.length;++h)p[h]=n[h].slice(0);c(p,o,t);var f,v=r.util.createBuffer();f="SHA-512"===e?p.length:"SHA-384"===e?p.length-2:p.length-4;for(h=0;h<f;++h)v.putInt32(p[h][0]),h===f-1&&"SHA-512/224"===e||v.putInt32(p[h][1]);return v},d};var a=null,s=!1,l=null,u=null;function c(e,t,n){for(var r,i,o,a,s,u,c,h,p,d,f,v,m,g,b,y,C,x,_,w,S,k,T,E,P,I,B,N,M,O,A,L,D,R=n.length();R>=128;){for(B=0;B<16;++B)t[B][0]=n.getInt32()>>>0,t[B][1]=n.getInt32()>>>0;for(;B<80;++B)r=(((N=(O=t[B-2])[0])>>>19|(M=O[1])<<13)^(M>>>29|N<<3)^N>>>6)>>>0,i=((N<<13|M>>>19)^(M<<3|N>>>29)^(N<<26|M>>>6))>>>0,o=(((N=(L=t[B-15])[0])>>>1|(M=L[1])<<31)^(N>>>8|M<<24)^N>>>7)>>>0,a=((N<<31|M>>>1)^(N<<24|M>>>8)^(N<<25|M>>>7))>>>0,A=t[B-7],D=t[B-16],M=i+A[1]+a+D[1],t[B][0]=r+A[0]+o+D[0]+(M/4294967296>>>0)>>>0,t[B][1]=M>>>0;for(f=e[0][0],v=e[0][1],m=e[1][0],g=e[1][1],b=e[2][0],y=e[2][1],C=e[3][0],x=e[3][1],_=e[4][0],w=e[4][1],S=e[5][0],k=e[5][1],T=e[6][0],E=e[6][1],P=e[7][0],I=e[7][1],B=0;B<80;++B)c=((_>>>14|w<<18)^(_>>>18|w<<14)^(w>>>9|_<<23))>>>0,h=(T^_&(S^T))>>>0,s=((f>>>28|v<<4)^(v>>>2|f<<30)^(v>>>7|f<<25))>>>0,u=((f<<4|v>>>28)^(v<<30|f>>>2)^(v<<25|f>>>7))>>>0,p=(f&m|b&(f^m))>>>0,d=(v&g|y&(v^g))>>>0,M=I+(((_<<18|w>>>14)^(_<<14|w>>>18)^(w<<23|_>>>9))>>>0)+((E^w&(k^E))>>>0)+l[B][1]+t[B][1],r=P+c+h+l[B][0]+t[B][0]+(M/4294967296>>>0)>>>0,i=M>>>0,o=s+p+((M=u+d)/4294967296>>>0)>>>0,a=M>>>0,P=T,I=E,T=S,E=k,S=_,k=w,_=C+r+((M=x+i)/4294967296>>>0)>>>0,w=M>>>0,C=b,x=y,b=m,y=g,m=f,g=v,f=r+o+((M=i+a)/4294967296>>>0)>>>0,v=M>>>0;M=e[0][1]+v,e[0][0]=e[0][0]+f+(M/4294967296>>>0)>>>0,e[0][1]=M>>>0,M=e[1][1]+g,e[1][0]=e[1][0]+m+(M/4294967296>>>0)>>>0,e[1][1]=M>>>0,M=e[2][1]+y,e[2][0]=e[2][0]+b+(M/4294967296>>>0)>>>0,e[2][1]=M>>>0,M=e[3][1]+x,e[3][0]=e[3][0]+C+(M/4294967296>>>0)>>>0,e[3][1]=M>>>0,M=e[4][1]+w,e[4][0]=e[4][0]+_+(M/4294967296>>>0)>>>0,e[4][1]=M>>>0,M=e[5][1]+k,e[5][0]=e[5][0]+S+(M/4294967296>>>0)>>>0,e[5][1]=M>>>0,M=e[6][1]+E,e[6][0]=e[6][0]+T+(M/4294967296>>>0)>>>0,e[6][1]=M>>>0,M=e[7][1]+I,e[7][0]=e[7][0]+P+(M/4294967296>>>0)>>>0,e[7][1]=M>>>0,R-=128}}},function(e,t,n){var r=n(10);e.exports=r.debug=r.debug||{},r.debug.storage={},r.debug.get=function(e,t){var n;return void 0===e?n=r.debug.storage:e in r.debug.storage&&(n=void 0===t?r.debug.storage[e]:r.debug.storage[e][t]),n},r.debug.set=function(e,t,n){e in r.debug.storage||(r.debug.storage[e]={}),r.debug.storage[e][t]=n},r.debug.clear=function(e,t){void 0===e?r.debug.storage={}:e in r.debug.storage&&(void 0===t?delete r.debug.storage[e]:delete r.debug.storage[e][t])}},function(e,t,n){var r=n(10);n(14),r.mgf=r.mgf||{},(e.exports=r.mgf.mgf1=r.mgf1=r.mgf1||{}).create=function(e){return{generate:function(t,n){for(var i=new r.util.ByteBuffer,o=Math.ceil(n/e.digestLength),a=0;a<o;a++){var s=new r.util.ByteBuffer;s.putInt32(a),e.start(),e.update(t+s.getBytes()),i.putBuffer(e.digest())}return i.truncate(i.length()-n),i.getBytes()}}}},function(e,t,n){var r=n(10);n(47),n(14);var i=r.asn1,o=e.exports=r.pkcs7asn1=r.pkcs7asn1||{};r.pkcs7=r.pkcs7||{},r.pkcs7.asn1=o;var a={name:"ContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};o.contentInfoValidator=a;var s={name:"EncryptedContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};o.envelopedDataValidator={name:"EnvelopedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(s)},o.encryptedDataValidator={name:"EncryptedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"}].concat(s)};var l={name:"SignerInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};o.signedDataValidator={name:"SignedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},a,{name:"SignedData.Certificates",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,capture:"signerInfos",optional:!0,value:[l]}]},o.recipientInfoValidator={name:"RecipientInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter"}]},{name:"RecipientInfo.encryptedKey",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},function(e,t,n){var r=n(10);n(47),n(71),n(52),n(163),n(171),n(40),n(90),n(70),n(14),n(109);var i=r.asn1,o=r.pki,a=e.exports=r.pkcs12=r.pkcs12||{},s={name:"ContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},l={name:"PFX",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},s,{name:"PFX.macData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:i.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},u={name:"SafeBag",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},c={name:"Attribute",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,capture:"values"}]},h={name:"CertBag",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:i.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:i.Class.UNIVERSAL,type:i.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function p(e,t,n,r){for(var i=[],o=0;o<e.length;o++)for(var a=0;a<e[o].safeBags.length;a++){var s=e[o].safeBags[a];void 0!==r&&s.type!==r||(null!==t?void 0!==s.attributes[t]&&s.attributes[t].indexOf(n)>=0&&i.push(s):i.push(s))}return i}function d(e){if(e.composed||e.constructed){for(var t=r.util.createBuffer(),n=0;n<e.value.length;++n)t.putBytes(e.value[n].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}function f(e,t){var n={},a=[];if(!i.validate(e,r.pkcs7.asn1.encryptedDataValidator,n,a))throw(s=new Error("Cannot read EncryptedContentInfo.")).errors=a,s;var s,l=i.derToOid(n.contentType);if(l!==o.oids.data)throw(s=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=l,s;l=i.derToOid(n.encAlgorithm);var u=o.pbe.getCipher(l,n.encParameter,t),c=d(n.encryptedContentAsn1),h=r.util.createBuffer(c.value);if(u.update(h),!u.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return u.output.getBytes()}function v(e,t,n){if(!t&&0===e.length)return[];if((e=i.fromDer(e,t)).tagClass!==i.Class.UNIVERSAL||e.type!==i.Type.SEQUENCE||!0!==e.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var r=[],a=0;a<e.value.length;a++){var s=e.value[a],l={},c=[];if(!i.validate(s,u,l,c))throw(g=new Error("Cannot read SafeBag.")).errors=c,g;var p,d,f={type:i.derToOid(l.bagId),attributes:m(l.bagAttributes)};r.push(f);var v=l.bagValue.value[0];switch(f.type){case o.oids.pkcs8ShroudedKeyBag:if(null===(v=o.decryptPrivateKeyInfo(v,n)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case o.oids.keyBag:try{f.key=o.privateKeyFromAsn1(v)}catch(e){f.key=null,f.asn1=v}continue;case o.oids.certBag:p=h,d=function(){if(i.derToOid(l.certId)!==o.oids.x509Certificate){var e=new Error("Unsupported certificate type, only X.509 supported.");throw e.oid=i.derToOid(l.certId),e}var n=i.fromDer(l.cert,t);try{f.cert=o.certificateFromAsn1(n,!0)}catch(e){f.cert=null,f.asn1=n}};break;default:var g;throw(g=new Error("Unsupported PKCS#12 SafeBag type.")).oid=f.type,g}if(void 0!==p&&!i.validate(v,p,l,c))throw(g=new Error("Cannot read PKCS#12 "+p.name)).errors=c,g;d()}return r}function m(e){var t={};if(void 0!==e)for(var n=0;n<e.length;++n){var r={},a=[];if(!i.validate(e[n],c,r,a)){var s=new Error("Cannot read PKCS#12 BagAttribute.");throw s.errors=a,s}var l=i.derToOid(r.oid);if(void 0!==o.oids[l]){t[o.oids[l]]=[];for(var u=0;u<r.values.length;++u)t[o.oids[l]].push(r.values[u].value)}}return t}a.pkcs12FromAsn1=function(e,t,n){"string"==typeof t?(n=t,t=!0):void 0===t&&(t=!0);var u={};if(!i.validate(e,l,u,[]))throw(c=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=c,c;var c,h={version:u.version.charCodeAt(0),safeContents:[],getBags:function(e){var t,n={};return"localKeyId"in e?t=e.localKeyId:"localKeyIdHex"in e&&(t=r.util.hexToBytes(e.localKeyIdHex)),void 0===t&&!("friendlyName"in e)&&"bagType"in e&&(n[e.bagType]=p(h.safeContents,null,null,e.bagType)),void 0!==t&&(n.localKeyId=p(h.safeContents,"localKeyId",t,e.bagType)),"friendlyName"in e&&(n.friendlyName=p(h.safeContents,"friendlyName",e.friendlyName,e.bagType)),n},getBagsByFriendlyName:function(e,t){return p(h.safeContents,"friendlyName",e,t)},getBagsByLocalKeyId:function(e,t){return p(h.safeContents,"localKeyId",e,t)}};if(3!==u.version.charCodeAt(0))throw(c=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=u.version.charCodeAt(0),c;if(i.derToOid(u.contentType)!==o.oids.data)throw(c=new Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=i.derToOid(u.contentType),c;var m=u.content.value[0];if(m.tagClass!==i.Class.UNIVERSAL||m.type!==i.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(m=d(m),u.mac){var g=null,b=0,y=i.derToOid(u.macAlgorithm);switch(y){case o.oids.sha1:g=r.md.sha1.create(),b=20;break;case o.oids.sha256:g=r.md.sha256.create(),b=32;break;case o.oids.sha384:g=r.md.sha384.create(),b=48;break;case o.oids.sha512:g=r.md.sha512.create(),b=64;break;case o.oids.md5:g=r.md.md5.create(),b=16}if(null===g)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+y);var C=new r.util.ByteBuffer(u.macSalt),x="macIterations"in u?parseInt(r.util.bytesToHex(u.macIterations),16):1,_=a.generateKey(n,C,3,x,b,g),w=r.hmac.create();if(w.start(g,_),w.update(m.value),w.getMac().getBytes()!==u.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return function(e,t,n,r){if((t=i.fromDer(t,n)).tagClass!==i.Class.UNIVERSAL||t.type!==i.Type.SEQUENCE||!0!==t.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var a=0;a<t.value.length;a++){var l=t.value[a],u={},c=[];if(!i.validate(l,s,u,c)){var h=new Error("Cannot read ContentInfo.");throw h.errors=c,h}var p={encrypted:!1},m=null,g=u.content.value[0];switch(i.derToOid(u.contentType)){case o.oids.data:if(g.tagClass!==i.Class.UNIVERSAL||g.type!==i.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");m=d(g).value;break;case o.oids.encryptedData:m=f(g,r),p.encrypted=!0;break;default:var h=new Error("Unsupported PKCS#12 contentType.");throw h.contentType=i.derToOid(u.contentType),h}p.safeBags=v(m,n,r),e.safeContents.push(p)}}(h,m.value,t,n),h},a.toPkcs12Asn1=function(e,t,n,s){(s=s||{}).saltSize=s.saltSize||8,s.count=s.count||2048,s.algorithm=s.algorithm||s.encAlgorithm||"aes128","useMac"in s||(s.useMac=!0),"localKeyId"in s||(s.localKeyId=null),"generateLocalKeyId"in s||(s.generateLocalKeyId=!0);var l,u=s.localKeyId;if(null!==u)u=r.util.hexToBytes(u);else if(s.generateLocalKeyId)if(t){var c=r.util.isArray(t)?t[0]:t;"string"==typeof c&&(c=o.certificateFromPem(c)),(E=r.md.sha1.create()).update(i.toDer(o.certificateToAsn1(c)).getBytes()),u=E.digest().getBytes()}else u=r.random.getBytes(20);var h=[];null!==u&&h.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.localKeyId).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,u)])])),"friendlyName"in s&&h.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.friendlyName).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.BMPSTRING,!1,s.friendlyName)])])),h.length>0&&(l=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,h));var p=[],d=[];null!==t&&(d=r.util.isArray(t)?t:[t]);for(var f=[],v=0;v<d.length;++v){"string"==typeof(t=d[v])&&(t=o.certificateFromPem(t));var m=0===v?l:void 0,g=o.certificateToAsn1(t),b=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.certBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.x509Certificate).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(g).getBytes())])])]),m]);f.push(b)}if(f.length>0){var y=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,f),C=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(y).getBytes())])]);p.push(C)}var x=null;if(null!==e){var _=o.wrapRsaPrivateKey(o.privateKeyToAsn1(e));x=null===n?i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.keyBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[_]),l]):i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.pkcs8ShroudedKeyBag).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[o.encryptPrivateKeyInfo(_,n,s)]),l]);var w=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[x]),S=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(w).getBytes())])]);p.push(S)}var k,T=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,p);if(s.useMac){var E=r.md.sha1.create(),P=new r.util.ByteBuffer(r.random.getBytes(s.saltSize)),I=s.count,B=(e=a.generateKey(n,P,3,I,20),r.hmac.create());B.start(E,e),B.update(i.toDer(T).getBytes());var N=B.getMac();k=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.sha1).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,N.getBytes())]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,P.getBytes()),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(I).getBytes())])}return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(3).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.oids.data).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(T).getBytes())])]),k])},a.generateKey=r.pbe.generatePkcs12Key},function(e,t,n){var r=n(10);n(14),n(89),n(40),function(){if(r.prime)e.exports=r.prime;else{var t=e.exports=r.prime=r.prime||{},n=r.jsbn.BigInteger,i=[6,4,2,4,2,4,6,2],o=new n(null);o.fromInt(30);var a=function(e,t){return e|t};t.generateProbablePrime=function(e,t,i){"function"==typeof t&&(i=t,t={});var o=(t=t||{}).algorithm||"PRIMEINC";"string"==typeof o&&(o={name:o}),o.options=o.options||{};var a=t.prng||r.random,u={nextBytes:function(e){for(var t=a.getBytesSync(e.length),n=0;n<e.length;++n)e[n]=t.charCodeAt(n)}};if("PRIMEINC"===o.name)return function(e,t,i,o){if("workers"in i)return function(e,t,i,o){if("undefined"==typeof Worker)return s(e,t,i,o);var a=l(e,t),u=i.workers,c=i.workLoad||100,h=30*c/8,p=i.workerScript||"forge/prime.worker.js";if(-1===u)return r.util.estimateCores(function(e,t){e&&(t=2),u=t-1,d()});function d(){u=Math.max(1,u);for(var r=[],i=0;i<u;++i)r[i]=new Worker(p);for(var i=0;i<u;++i)r[i].addEventListener("message",d);var s=!1;function d(i){if(!s){0;var u=i.data;if(u.found){for(var p=0;p<r.length;++p)r[p].terminate();return s=!0,o(null,new n(u.prime,16))}a.bitLength()>e&&(a=l(e,t));var d=a.toString(16);i.target.postMessage({hex:d,workLoad:c}),a.dAddOffset(h,0)}}}d()}(e,t,i,o);return s(e,t,i,o)}(e,u,o.options,i);throw new Error("Invalid prime generation algorithm: "+o.name)}}function s(e,t,n,o){var a=l(e,t),s=function(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}(a.bitLength());"millerRabinTests"in n&&(s=n.millerRabinTests);var u=10;"maxBlockTime"in n&&(u=n.maxBlockTime),function e(t,n,o,a,s,u,c){var h=+new Date;do{if(t.bitLength()>n&&(t=l(n,o)),t.isProbablePrime(s))return c(null,t);t.dAddOffset(i[a++%8],0)}while(u<0||+new Date-h<u);r.util.setImmediate(function(){e(t,n,o,a,s,u,c)})}(a,e,t,0,s,u,o)}function l(e,t){var r=new n(e,t),i=e-1;return r.testBit(i)||r.bitwiseTo(n.ONE.shiftLeft(i),a,r),r.dAddOffset(31-r.mod(o).byteValue(),0),r}}()},function(e,t,n){var r=n(10);n(14),n(40),n(70);var i=e.exports=r.pkcs1=r.pkcs1||{};function o(e,t,n){n||(n=r.md.sha1.create());for(var i="",o=Math.ceil(t/n.digestLength),a=0;a<o;++a){var s=String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,255&a);n.start(),n.update(e+s),i+=n.digest().getBytes()}return i.substring(0,t)}i.encode_rsa_oaep=function(e,t,n){var i,a,s,l;"string"==typeof n?(i=n,a=arguments[3]||void 0,s=arguments[4]||void 0):n&&(i=n.label||void 0,a=n.seed||void 0,s=n.md||void 0,n.mgf1&&n.mgf1.md&&(l=n.mgf1.md)),s?s.start():s=r.md.sha1.create(),l||(l=s);var u=Math.ceil(e.n.bitLength()/8),c=u-2*s.digestLength-2;if(t.length>c)throw(m=new Error("RSAES-OAEP input message length is too long.")).length=t.length,m.maxLength=c,m;i||(i=""),s.update(i,"raw");for(var h=s.digest(),p="",d=c-t.length,f=0;f<d;f++)p+="\0";var v=h.getBytes()+p+""+t;if(a){if(a.length!==s.digestLength){var m;throw(m=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=a.length,m.digestLength=s.digestLength,m}}else a=r.random.getBytes(s.digestLength);var g=o(a,u-s.digestLength-1,l),b=r.util.xorBytes(v,g,v.length),y=o(b,s.digestLength,l);return"\0"+r.util.xorBytes(a,y,a.length)+b},i.decode_rsa_oaep=function(e,t,n){var i,a,s;"string"==typeof n?(i=n,a=arguments[3]||void 0):n&&(i=n.label||void 0,a=n.md||void 0,n.mgf1&&n.mgf1.md&&(s=n.mgf1.md));var l=Math.ceil(e.n.bitLength()/8);if(t.length!==l)throw(g=new Error("RSAES-OAEP encoded message length is invalid.")).length=t.length,g.expectedLength=l,g;if(void 0===a?a=r.md.sha1.create():a.start(),s||(s=a),l<2*a.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");i||(i=""),a.update(i,"raw");for(var u=a.digest().getBytes(),c=t.charAt(0),h=t.substring(1,a.digestLength+1),p=t.substring(1+a.digestLength),d=o(p,a.digestLength,s),f=o(r.util.xorBytes(h,d,h.length),l-a.digestLength-1,s),v=r.util.xorBytes(p,f,p.length),m=v.substring(0,a.digestLength),g="\0"!==c,b=0;b<a.digestLength;++b)g|=u.charAt(b)!==m.charAt(b);for(var y=1,C=a.digestLength,x=a.digestLength;x<v.length;x++){var _=v.charCodeAt(x);g|=_&(y?65534:0),C+=y&=1&_^1}if(g||1!==v.charCodeAt(C))throw new Error("Invalid RSAES-OAEP padding.");return v.substring(C+1)}},function(e,t,n){var r=n(10);n(14);var i=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],o=[1,2,3,5];e.exports=r.rc2=r.rc2||{},r.rc2.expandKey=function(e,t){"string"==typeof e&&(e=r.util.createBuffer(e)),t=t||128;var n,o=e,a=e.length(),s=t,l=Math.ceil(s/8),u=255>>(7&s);for(n=a;n<128;n++)o.putByte(i[o.at(n-1)+o.at(n-a)&255]);for(o.setAt(128-l,i[o.at(128-l)&u]),n=127-l;n>=0;n--)o.setAt(n,i[o.at(n+1)^o.at(n+l)]);return o};var a=function(e,t,n){var i,a,s,l,u=!1,c=null,h=null,p=null,d=[];for(e=r.rc2.expandKey(e,t),s=0;s<64;s++)d.push(e.getInt16Le());n?(i=function(e){for(s=0;s<4;s++)e[s]+=d[l]+(e[(s+3)%4]&e[(s+2)%4])+(~e[(s+3)%4]&e[(s+1)%4]),e[s]=(t=e[s])<<(n=o[s])&65535|(65535&t)>>16-n,l++;var t,n},a=function(e){for(s=0;s<4;s++)e[s]+=d[63&e[(s+3)%4]]}):(i=function(e){for(s=3;s>=0;s--)e[s]=(65535&(t=e[s]))>>(n=o[s])|t<<16-n&65535,e[s]-=d[l]+(e[(s+3)%4]&e[(s+2)%4])+(~e[(s+3)%4]&e[(s+1)%4]),l--;var t,n},a=function(e){for(s=3;s>=0;s--)e[s]-=d[63&e[(s+3)%4]]});var f=function(e){var t=[];for(s=0;s<4;s++){var r=c.getInt16Le();null!==p&&(n?r^=p.getInt16Le():p.putInt16Le(r)),t.push(65535&r)}l=n?0:63;for(var i=0;i<e.length;i++)for(var o=0;o<e[i][0];o++)e[i][1](t);for(s=0;s<4;s++)null!==p&&(n?p.putInt16Le(t[s]):t[s]^=p.getInt16Le()),h.putInt16Le(t[s])},v=null;return v={start:function(e,t){e&&"string"==typeof e&&(e=r.util.createBuffer(e)),u=!1,c=r.util.createBuffer(),h=t||new r.util.createBuffer,p=e,v.output=h},update:function(e){for(u||c.putBuffer(e);c.length()>=8;)f([[5,i],[1,a],[6,i],[1,a],[5,i]])},finish:function(e){var t=!0;if(n)if(e)t=e(8,c,!n);else{var r=8===c.length()?8:8-c.length();c.fillWithByte(r,r)}if(t&&(u=!0,v.update()),!n&&(t=0===c.length()))if(e)t=e(8,h,!n);else{var i=h.length(),o=h.at(i-1);o>i?t=!1:h.truncate(o)}return t}}};r.rc2.startEncrypting=function(e,t,n){var i=r.rc2.createEncryptionCipher(e,128);return i.start(t,n),i},r.rc2.createEncryptionCipher=function(e,t){return a(e,t,!0)},r.rc2.startDecrypting=function(e,t,n){var i=r.rc2.createDecryptionCipher(e,128);return i.start(t,n),i},r.rc2.createDecryptionCipher=function(e,t){return a(e,t,!1)}},function(e,t,n){(function(t){var r=n(10);n(14);var i=null;!r.util.isNodejs||r.options.usePureJavaScript||t.versions["node-webkit"]||(i=n(170)),(e.exports=r.prng=r.prng||{}).create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},n=e.md,o=new Array(32),a=0;a<32;++a)o[a]=n.create();function s(){if(t.pools[0].messageLength>=32)return l();var e=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(e)),l()}function l(){t.reseeds=4294967295===t.reseeds?0:t.reseeds+1;var e=t.plugin.md.create();e.update(t.keyBytes);for(var n=1,r=0;r<32;++r)t.reseeds%n==0&&(e.update(t.pools[r].digest().getBytes()),t.pools[r].start()),n<<=1;t.keyBytes=e.digest().getBytes(),e.start(),e.update(t.keyBytes);var i=e.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(i),t.generated=0}function u(e){var t=null;if("undefined"!=typeof window){var n=window.crypto||window.msCrypto;n&&n.getRandomValues&&(t=function(e){return n.getRandomValues(e)})}var i=r.util.createBuffer();if(t)for(;i.length()<e;){var o=Math.max(1,Math.min(e-i.length(),65536)/4),a=new Uint32Array(Math.floor(o));try{t(a);for(var s=0;s<a.length;++s)i.putInt32(a[s])}catch(e){if(!("undefined"!=typeof QuotaExceededError&&e instanceof QuotaExceededError))throw e}}if(i.length()<e)for(var l,u,c,h=Math.floor(65536*Math.random());i.length()<e;){u=16807*(65535&h),u+=(32767&(l=16807*(h>>16)))<<16,h=4294967295&(u=(2147483647&(u+=l>>15))+(u>>31));for(s=0;s<3;++s)c=h>>>(s<<3),c^=Math.floor(256*Math.random()),i.putByte(String.fromCharCode(255&c))}return i.getBytes(e)}return t.pools=o,t.pool=0,t.generate=function(e,n){if(!n)return t.generateSync(e);var i=t.plugin.cipher,o=t.plugin.increment,a=t.plugin.formatKey,s=t.plugin.formatSeed,u=r.util.createBuffer();t.key=null,function c(h){if(h)return n(h);if(u.length()>=e)return n(null,u.getBytes(e));t.generated>1048575&&(t.key=null);if(null===t.key)return r.util.nextTick(function(){!function(e){if(t.pools[0].messageLength>=32)return l(),e();var n=32-t.pools[0].messageLength<<5;t.seedFile(n,function(n,r){if(n)return e(n);t.collect(r),l(),e()})}(c)});var p=i(t.key,t.seed);t.generated+=p.length;u.putBytes(p);t.key=a(i(t.key,o(t.seed)));t.seed=s(i(t.key,t.seed));r.util.setImmediate(c)}()},t.generateSync=function(e){var n=t.plugin.cipher,i=t.plugin.increment,o=t.plugin.formatKey,a=t.plugin.formatSeed;t.key=null;for(var l=r.util.createBuffer();l.length()<e;){t.generated>1048575&&(t.key=null),null===t.key&&s();var u=n(t.key,t.seed);t.generated+=u.length,l.putBytes(u),t.key=o(n(t.key,i(t.seed))),t.seed=a(n(t.key,t.seed))}return l.getBytes(e)},i?(t.seedFile=function(e,t){i.randomBytes(e,function(e,n){if(e)return t(e);t(null,n.toString())})},t.seedFileSync=function(e){return i.randomBytes(e).toString()}):(t.seedFile=function(e,t){try{t(null,u(e))}catch(e){t(e)}},t.seedFileSync=u),t.collect=function(e){for(var n=e.length,r=0;r<n;++r)t.pools[t.pool].update(e.substr(r,1)),t.pool=31===t.pool?0:t.pool+1},t.collectInt=function(e,n){for(var r="",i=0;i<n;i+=8)r+=String.fromCharCode(e>>i&255);t.collect(r)},t.registerWorker=function(e){if(e===self)t.seedFile=function(e,t){self.addEventListener("message",function e(n){var r=n.data;r.forge&&r.forge.prng&&(self.removeEventListener("message",e),t(r.forge.prng.err,r.forge.prng.bytes))}),self.postMessage({forge:{prng:{needed:e}}})};else{e.addEventListener("message",function(n){var r=n.data;r.forge&&r.forge.prng&&t.seedFile(r.forge.prng.needed,function(t,n){e.postMessage({forge:{prng:{err:t,bytes:n}}})})})}},t}}).call(this,n(54))},function(e,t,n){var r=n(10);n(46),n(14);var i=e.exports=r.sha256=r.sha256||{};r.md.sha256=r.md.algorithms.sha256=i,i.create=function(){a||(o=String.fromCharCode(128),o+=r.util.fillString(String.fromCharCode(0),64),s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=!0);var e=null,t=r.util.createBuffer(),n=new Array(64),i={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var n=i.messageLengthSize/4,o=0;o<n;++o)i.fullMessageLength.push(0);return t=r.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},i}};return i.start(),i.update=function(o,a){"utf8"===a&&(o=r.util.encodeUtf8(o));var s=o.length;i.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var u=i.fullMessageLength.length-1;u>=0;--u)i.fullMessageLength[u]+=s[1],s[1]=s[0]+(i.fullMessageLength[u]/4294967296>>>0),i.fullMessageLength[u]=i.fullMessageLength[u]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(o),l(e,n,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var a=r.util.createBuffer();a.putBytes(t.bytes());var s,u=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;a.putBytes(o.substr(0,i.blockLength-u));for(var c=8*i.fullMessageLength[0],h=0;h<i.fullMessageLength.length-1;++h)c+=(s=8*i.fullMessageLength[h+1])/4294967296>>>0,a.putInt32(c>>>0),c=s>>>0;a.putInt32(c);var p={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};l(p,n,a);var d=r.util.createBuffer();return d.putInt32(p.h0),d.putInt32(p.h1),d.putInt32(p.h2),d.putInt32(p.h3),d.putInt32(p.h4),d.putInt32(p.h5),d.putInt32(p.h6),d.putInt32(p.h7),d},i};var o=null,a=!1,s=null;function l(e,t,n){for(var r,i,o,a,l,u,c,h,p,d,f,v,m,g=n.length();g>=64;){for(l=0;l<16;++l)t[l]=n.getInt32();for(;l<64;++l)r=((r=t[l-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10,i=((i=t[l-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[l]=r+t[l-7]+i+t[l-16]|0;for(u=e.h0,c=e.h1,h=e.h2,p=e.h3,d=e.h4,f=e.h5,v=e.h6,m=e.h7,l=0;l<64;++l)o=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),a=u&c|h&(u^c),r=m+((d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(v^d&(f^v))+s[l]+t[l],m=v,v=f,f=d,d=p+r>>>0,p=h,h=c,c=u,u=r+(i=o+a)>>>0;e.h0=e.h0+u|0,e.h1=e.h1+c|0,e.h2=e.h2+h|0,e.h3=e.h3+p|0,e.h4=e.h4+d|0,e.h5=e.h5+f|0,e.h6=e.h6+v|0,e.h7=e.h7+m|0,g-=64}}},function(e,t){},function(e,t,n){var r=n(10);if(n(53),n(47),n(91),n(46),n(52),n(110),n(65),n(40),n(167),n(90),n(14),void 0===i)var i=r.jsbn.BigInteger;var o=r.asn1,a=r.pki=r.pki||{};e.exports=a.pbe=r.pbe=r.pbe||{};var s=a.oids,l={name:"EncryptedPrivateKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},u={name:"PBES2Algorithms",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},c={name:"pkcs-12PbeParams",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"iterations"}]};function h(e,t){return e.start().update(t).digest().getBytes()}function p(e){var t;if(e){if(!(t=a.oids[o.derToOid(e)])){var n=new Error("Unsupported PRF OID.");throw n.oid=e,n.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],n}}else t="hmacWithSHA1";return d(t)}function d(e){var t=r.md;switch(e){case"hmacWithSHA224":t=r.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var n=new Error("Unsupported PRF algorithm.");throw n.algorithm=e,n.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],n}if(!(t&&e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}a.encryptPrivateKeyInfo=function(e,t,n){(n=n||{}).saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||"aes128",n.prfAlgorithm=n.prfAlgorithm||"sha1";var i,l,u,c=r.random.getBytesSync(n.saltSize),h=n.count,p=o.integerToDer(h);if(0===n.algorithm.indexOf("aes")||"des"===n.algorithm){var f,v,m;switch(n.algorithm){case"aes128":i=16,f=16,v=s["aes128-CBC"],m=r.aes.createEncryptionCipher;break;case"aes192":i=24,f=16,v=s["aes192-CBC"],m=r.aes.createEncryptionCipher;break;case"aes256":i=32,f=16,v=s["aes256-CBC"],m=r.aes.createEncryptionCipher;break;case"des":i=8,f=8,v=s.desCBC,m=r.des.createEncryptionCipher;break;default:throw(_=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=n.algorithm,_}var g="hmacWith"+n.prfAlgorithm.toUpperCase(),b=d(g),y=r.pkcs5.pbkdf2(t,c,h,i,b),C=r.random.getBytesSync(f);(w=m(y)).start(C),w.update(o.toDer(e)),w.finish(),u=w.output.getBytes();var x=function(e,t,n,i){var s=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,e),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,t.getBytes())]);"hmacWithSHA1"!==i&&s.value.push(o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,r.util.hexToBytes(n.toString(16))),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(a.oids[i]).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")]));return s}(c,p,i,g);l=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(s.pkcs5PBES2).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(s.pkcs5PBKDF2).getBytes()),x]),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(v).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,C)])])])}else{var _;if("3des"!==n.algorithm)throw(_=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=n.algorithm,_;i=24;var w,S=new r.util.ByteBuffer(c);y=a.pbe.generatePkcs12Key(t,S,1,h,i),C=a.pbe.generatePkcs12Key(t,S,2,h,i);(w=r.des.createEncryptionCipher(y)).start(C),w.update(o.toDer(e)),w.finish(),u=w.output.getBytes(),l=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(s["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,c),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,p.getBytes())])])}return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[l,o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,u)])},a.decryptPrivateKeyInfo=function(e,t){var n=null,i={},s=[];if(!o.validate(e,l,i,s)){var u=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw u.errors=s,u}var c=o.derToOid(i.encryptionOid),h=a.pbe.getCipher(c,i.encryptionParams,t),p=r.util.createBuffer(i.encryptedData);return h.update(p),h.finish()&&(n=o.fromDer(h.output)),n},a.encryptedPrivateKeyToPem=function(e,t){var n={type:"ENCRYPTED PRIVATE KEY",body:o.toDer(e).getBytes()};return r.pem.encode(n,{maxline:t})},a.encryptedPrivateKeyFromPem=function(e){var t=r.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==t.type){var n=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw n.headerType=t.type,n}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return o.fromDer(t.body)},a.encryptRsaPrivateKey=function(e,t,n){if(!(n=n||{}).legacy){var i=a.wrapRsaPrivateKey(a.privateKeyToAsn1(e));return i=a.encryptPrivateKeyInfo(i,t,n),a.encryptedPrivateKeyToPem(i)}var s,l,u,c;switch(n.algorithm){case"aes128":s="AES-128-CBC",u=16,l=r.random.getBytesSync(16),c=r.aes.createEncryptionCipher;break;case"aes192":s="AES-192-CBC",u=24,l=r.random.getBytesSync(16),c=r.aes.createEncryptionCipher;break;case"aes256":s="AES-256-CBC",u=32,l=r.random.getBytesSync(16),c=r.aes.createEncryptionCipher;break;case"3des":s="DES-EDE3-CBC",u=24,l=r.random.getBytesSync(8),c=r.des.createEncryptionCipher;break;case"des":s="DES-CBC",u=8,l=r.random.getBytesSync(8),c=r.des.createEncryptionCipher;break;default:var h=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+n.algorithm+'".');throw h.algorithm=n.algorithm,h}var p=c(r.pbe.opensslDeriveBytes(t,l.substr(0,8),u));p.start(l),p.update(o.toDer(a.privateKeyToAsn1(e))),p.finish();var d={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:s,parameters:r.util.bytesToHex(l).toUpperCase()},body:p.output.getBytes()};return r.pem.encode(d)},a.decryptRsaPrivateKey=function(e,t){var n=null,i=r.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==i.type&&"PRIVATE KEY"!==i.type&&"RSA PRIVATE KEY"!==i.type)throw(u=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=u,u;if(i.procType&&"ENCRYPTED"===i.procType.type){var s,l;switch(i.dekInfo.algorithm){case"DES-CBC":s=8,l=r.des.createDecryptionCipher;break;case"DES-EDE3-CBC":s=24,l=r.des.createDecryptionCipher;break;case"AES-128-CBC":s=16,l=r.aes.createDecryptionCipher;break;case"AES-192-CBC":s=24,l=r.aes.createDecryptionCipher;break;case"AES-256-CBC":s=32,l=r.aes.createDecryptionCipher;break;case"RC2-40-CBC":s=5,l=function(e){return r.rc2.createDecryptionCipher(e,40)};break;case"RC2-64-CBC":s=8,l=function(e){return r.rc2.createDecryptionCipher(e,64)};break;case"RC2-128-CBC":s=16,l=function(e){return r.rc2.createDecryptionCipher(e,128)};break;default:var u;throw(u=new Error('Could not decrypt private key; unsupported encryption algorithm "'+i.dekInfo.algorithm+'".')).algorithm=i.dekInfo.algorithm,u}var c=r.util.hexToBytes(i.dekInfo.parameters),h=l(r.pbe.opensslDeriveBytes(t,c.substr(0,8),s));if(h.start(c),h.update(r.util.createBuffer(i.body)),!h.finish())return n;n=h.output.getBytes()}else n=i.body;return null!==(n="ENCRYPTED PRIVATE KEY"===i.type?a.decryptPrivateKeyInfo(o.fromDer(n),t):o.fromDer(n))&&(n=a.privateKeyFromAsn1(n)),n},a.pbe.generatePkcs12Key=function(e,t,n,i,o,a){var s,l;if(void 0===a||null===a){if(!("sha1"in r.md))throw new Error('"sha1" hash algorithm unavailable.');a=r.md.sha1.create()}var u=a.digestLength,c=a.blockLength,h=new r.util.ByteBuffer,p=new r.util.ByteBuffer;if(null!==e&&void 0!==e){for(l=0;l<e.length;l++)p.putInt16(e.charCodeAt(l));p.putInt16(0)}var d=p.length(),f=t.length(),v=new r.util.ByteBuffer;v.fillWithByte(n,c);var m=c*Math.ceil(f/c),g=new r.util.ByteBuffer;for(l=0;l<m;l++)g.putByte(t.at(l%f));var b=c*Math.ceil(d/c),y=new r.util.ByteBuffer;for(l=0;l<b;l++)y.putByte(p.at(l%d));var C=g;C.putBuffer(y);for(var x=Math.ceil(o/u),_=1;_<=x;_++){var w=new r.util.ByteBuffer;w.putBytes(v.bytes()),w.putBytes(C.bytes());for(var S=0;S<i;S++)a.start(),a.update(w.getBytes()),w=a.digest();var k=new r.util.ByteBuffer;for(l=0;l<c;l++)k.putByte(w.at(l%u));var T=Math.ceil(f/c)+Math.ceil(d/c),E=new r.util.ByteBuffer;for(s=0;s<T;s++){var P=new r.util.ByteBuffer(C.getBytes(c)),I=511;for(l=k.length()-1;l>=0;l--)I>>=8,I+=k.at(l)+P.at(l),P.setAt(l,255&I);E.putBuffer(P)}C=E,h.putBuffer(w)}return h.truncate(h.length()-o),h},a.pbe.getCipher=function(e,t,n){switch(e){case a.oids.pkcs5PBES2:return a.pbe.getCipherForPBES2(e,t,n);case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case a.oids["pbewithSHAAnd40BitRC2-CBC"]:return a.pbe.getCipherForPKCS12PBE(e,t,n);default:var r=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw r.oid=e,r.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],r}},a.pbe.getCipherForPBES2=function(e,t,n){var i,s={},l=[];if(!o.validate(t,u,s,l))throw(i=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=l,i;if((e=o.derToOid(s.kdfOid))!==a.oids.pkcs5PBKDF2)throw(i=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=e,i.supportedOids=["pkcs5PBKDF2"],i;if((e=o.derToOid(s.encOid))!==a.oids["aes128-CBC"]&&e!==a.oids["aes192-CBC"]&&e!==a.oids["aes256-CBC"]&&e!==a.oids["des-EDE3-CBC"]&&e!==a.oids.desCBC)throw(i=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=e,i.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],i;var c,h,d=s.kdfSalt,f=r.util.createBuffer(s.kdfIterationCount);switch(f=f.getInt(f.length()<<3),a.oids[e]){case"aes128-CBC":c=16,h=r.aes.createDecryptionCipher;break;case"aes192-CBC":c=24,h=r.aes.createDecryptionCipher;break;case"aes256-CBC":c=32,h=r.aes.createDecryptionCipher;break;case"des-EDE3-CBC":c=24,h=r.des.createDecryptionCipher;break;case"desCBC":c=8,h=r.des.createDecryptionCipher}var v=p(s.prfOid),m=r.pkcs5.pbkdf2(n,d,f,c,v),g=s.encIv,b=h(m);return b.start(g),b},a.pbe.getCipherForPKCS12PBE=function(e,t,n){var i={},s=[];if(!o.validate(t,c,i,s))throw(v=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=s,v;var l,u,h,d=r.util.createBuffer(i.salt),f=r.util.createBuffer(i.iterations);switch(f=f.getInt(f.length()<<3),e){case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:l=24,u=8,h=r.des.startDecrypting;break;case a.oids["pbewithSHAAnd40BitRC2-CBC"]:l=5,u=8,h=function(e,t){var n=r.rc2.createDecryptionCipher(e,40);return n.start(t,null),n};break;default:var v;throw(v=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=e,v}var m=p(i.prfOid),g=a.pbe.generatePkcs12Key(n,d,1,f,l,m);return m.start(),h(g,a.pbe.generatePkcs12Key(n,d,2,f,u,m))},a.pbe.opensslDeriveBytes=function(e,t,n,i){if(void 0===i||null===i){if(!("md5"in r.md))throw new Error('"md5" hash algorithm unavailable.');i=r.md.md5.create()}null===t&&(t="");for(var o=[h(i,e+t)],a=16,s=1;a<n;++s,a+=16)o.push(h(i,o[s-1]+e+t));return o.join("").substr(0,n)}},function(e,t,n){var r=n(10);n(47),n(52),n(171),n(65),n(110),n(164),n(108),n(90),n(14),n(109);var i=r.asn1,o=e.exports=r.pki=r.pki||{};o.pemToDer=function(e){var t=r.pem.decode(e)[0];if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return r.util.createBuffer(t.body)},o.privateKeyFromPem=function(e){var t=r.pem.decode(e)[0];if("PRIVATE KEY"!==t.type&&"RSA PRIVATE KEY"!==t.type){var n=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw n.headerType=t.type,n}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var a=i.fromDer(t.body);return o.privateKeyFromAsn1(a)},o.privateKeyToPem=function(e,t){var n={type:"RSA PRIVATE KEY",body:i.toDer(o.privateKeyToAsn1(e)).getBytes()};return r.pem.encode(n,{maxline:t})},o.privateKeyInfoToPem=function(e,t){var n={type:"PRIVATE KEY",body:i.toDer(e).getBytes()};return r.pem.encode(n,{maxline:t})}},function(e,t,n){var r=n(10);n(47),n(71),n(111),n(65),n(172),n(40),n(70),n(14);var i=function(e,t,n,i){var o=r.util.createBuffer(),a=e.length>>1,s=a+(1&e.length),l=e.substr(0,s),u=e.substr(a,s),c=r.util.createBuffer(),h=r.hmac.create();n=t+n;var p=Math.ceil(i/16),d=Math.ceil(i/20);h.start("MD5",l);var f=r.util.createBuffer();c.putBytes(n);for(var v=0;v<p;++v)h.start(null,null),h.update(c.getBytes()),c.putBuffer(h.digest()),h.start(null,null),h.update(c.bytes()+n),f.putBuffer(h.digest());h.start("SHA1",u);var m=r.util.createBuffer();c.clear(),c.putBytes(n);for(v=0;v<d;++v)h.start(null,null),h.update(c.getBytes()),c.putBuffer(h.digest()),h.start(null,null),h.update(c.bytes()+n),m.putBuffer(h.digest());return o.putBytes(r.util.xorBytes(f.getBytes(),m.getBytes(),i)),o},o=function(e,t,n){var i=!1;try{var o=e.deflate(t.fragment.getBytes());t.fragment=r.util.createBuffer(o),t.length=o.length,i=!0}catch(e){}return i},a=function(e,t,n){var i=!1;try{var o=e.inflate(t.fragment.getBytes());t.fragment=r.util.createBuffer(o),t.length=o.length,i=!0}catch(e){}return i},s=function(e,t){var n=0;switch(t){case 1:n=e.getByte();break;case 2:n=e.getInt16();break;case 3:n=e.getInt24();break;case 4:n=e.getInt32()}return r.util.createBuffer(e.getBytes(n))},l=function(e,t,n){e.putInt(n.length(),t<<3),e.putBuffer(n)},u={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};u.SupportedVersions=[u.Versions.TLS_1_1,u.Versions.TLS_1_0],u.Version=u.SupportedVersions[0],u.MaxFragment=15360,u.ConnectionEnd={server:0,client:1},u.PRFAlgorithm={tls_prf_sha256:0},u.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},u.CipherType={stream:0,block:1,aead:2},u.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},u.CompressionMethod={none:0,deflate:1},u.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},u.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},u.Alert={},u.Alert.Level={warning:1,fatal:2},u.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},u.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},u.CipherSuites={},u.getCipherSuite=function(e){var t=null;for(var n in u.CipherSuites){var r=u.CipherSuites[n];if(r.id[0]===e.charCodeAt(0)&&r.id[1]===e.charCodeAt(1)){t=r;break}}return t},u.handleUnexpected=function(e,t){!e.open&&e.entity===u.ConnectionEnd.client||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.unexpected_message}})},u.handleHelloRequest=function(e,t,n){!e.handshaking&&e.handshakes>0&&(u.queue(e,u.createAlert(e,{level:u.Alert.Level.warning,description:u.Alert.Description.no_renegotiation})),u.flush(e)),e.process()},u.parseHelloMessage=function(e,t,n){var i=null,o=e.entity===u.ConnectionEnd.client;if(n<38)e.error(e,{message:o?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.illegal_parameter}});else{var a=t.fragment,l=a.length();if(i={version:{major:a.getByte(),minor:a.getByte()},random:r.util.createBuffer(a.getBytes(32)),session_id:s(a,1),extensions:[]},o?(i.cipher_suite=a.getBytes(2),i.compression_method=a.getByte()):(i.cipher_suites=s(a,2),i.compression_methods=s(a,1)),(l=n-(l-a.length()))>0){for(var c=s(a,2);c.length()>0;)i.extensions.push({type:[c.getByte(),c.getByte()],data:s(c,2)});if(!o)for(var h=0;h<i.extensions.length;++h){var p=i.extensions[h];if(0===p.type[0]&&0===p.type[1])for(var d=s(p.data,2);d.length()>0;){if(0!==d.getByte())break;e.session.extensions.server_name.serverNameList.push(s(d,2).getBytes())}}}if(e.session.version&&(i.version.major!==e.session.version.major||i.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.protocol_version}});if(o)e.session.cipherSuite=u.getCipherSuite(i.cipher_suite);else for(var f=r.util.createBuffer(i.cipher_suites.bytes());f.length()>0&&(e.session.cipherSuite=u.getCipherSuite(f.getBytes(2)),null===e.session.cipherSuite););if(null===e.session.cipherSuite)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.handshake_failure},cipherSuite:r.util.bytesToHex(i.cipher_suite)});e.session.compressionMethod=o?i.compression_method:u.CompressionMethod.none}return i},u.createSecurityParameters=function(e,t){var n=e.entity===u.ConnectionEnd.client,r=t.random.bytes(),i=n?e.session.sp.client_random:r,o=n?r:u.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:u.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:o}},u.handleServerHello=function(e,t,n){var r=u.parseHelloMessage(e,t,n);if(!e.fail){if(!(r.version.minor<=e.version.minor))return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.protocol_version}});e.version.minor=r.version.minor,e.session.version=e.version;var i=r.session_id.bytes();i.length>0&&i===e.session.id?(e.expect=f,e.session.resuming=!0,e.session.sp.server_random=r.random.bytes()):(e.expect=c,e.session.resuming=!1,u.createSecurityParameters(e,r)),e.session.id=i,e.process()}},u.handleClientHello=function(e,t,n){var i=u.parseHelloMessage(e,t,n);if(!e.fail){var o=i.session_id.bytes(),a=null;if(e.sessionCache&&(null===(a=e.sessionCache.getSession(o))?o="":(a.version.major!==i.version.major||a.version.minor>i.version.minor)&&(a=null,o="")),0===o.length&&(o=r.random.getBytes(32)),e.session.id=o,e.session.clientHelloVersion=i.version,e.session.sp={},a)e.version=e.session.version=a.version,e.session.sp=a.sp;else{for(var s,l=1;l<u.SupportedVersions.length&&!((s=u.SupportedVersions[l]).minor<=i.version.minor);++l);e.version={major:s.major,minor:s.minor},e.session.version=e.version}null!==a?(e.expect=x,e.session.resuming=!0,e.session.sp.client_random=i.random.bytes()):(e.expect=!1!==e.verifyClient?b:y,e.session.resuming=!1,u.createSecurityParameters(e,i)),e.open=!0,u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createServerHello(e)})),e.session.resuming?(u.queue(e,u.createRecord(e,{type:u.ContentType.change_cipher_spec,data:u.createChangeCipherSpec()})),e.state.pending=u.createConnectionState(e),e.state.current.write=e.state.pending.write,u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createFinished(e)}))):(u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createCertificate(e)})),e.fail||(u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createServerKeyExchange(e)})),!1!==e.verifyClient&&u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createCertificateRequest(e)})),u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createServerHelloDone(e)})))),u.flush(e),e.process()}},u.handleCertificate=function(e,t,n){if(n<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.illegal_parameter}});var i,o,a=t.fragment,l={certificate_list:s(a,3)},c=[];try{for(;l.certificate_list.length()>0;)i=s(l.certificate_list,3),o=r.asn1.fromDer(i),i=r.pki.certificateFromAsn1(o,!0),c.push(i)}catch(t){return e.error(e,{message:"Could not parse certificate list.",cause:t,send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.bad_certificate}})}var p=e.entity===u.ConnectionEnd.client;!p&&!0!==e.verifyClient||0!==c.length?0===c.length?e.expect=p?h:y:(p?e.session.serverCertificate=c[0]:e.session.clientCertificate=c[0],u.verifyCertificateChain(e,c)&&(e.expect=p?h:y)):e.error(e,{message:p?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.illegal_parameter}}),e.process()},u.handleServerKeyExchange=function(e,t,n){if(n>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.unsupported_certificate}});e.expect=p,e.process()},u.handleClientKeyExchange=function(e,t,n){if(n<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.unsupported_certificate}});var i=t.fragment,o={enc_pre_master_secret:s(i,2).getBytes()},a=null;if(e.getPrivateKey)try{a=e.getPrivateKey(e,e.session.serverCertificate),a=r.pki.privateKeyFromPem(a)}catch(t){e.error(e,{message:"Could not get private key.",cause:t,send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}})}if(null===a)return e.error(e,{message:"No private key set.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}});try{var l=e.session.sp;l.pre_master_secret=a.decrypt(o.enc_pre_master_secret);var c=e.session.clientHelloVersion;if(c.major!==l.pre_master_secret.charCodeAt(0)||c.minor!==l.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch(e){l.pre_master_secret=r.random.getBytes(48)}e.expect=x,null!==e.session.clientCertificate&&(e.expect=C),e.process()},u.handleCertificateRequest=function(e,t,n){if(n<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.illegal_parameter}});var r=t.fragment,i={certificate_types:s(r,1),certificate_authorities:s(r,2)};e.session.certificateRequest=i,e.expect=d,e.process()},u.handleCertificateVerify=function(e,t,n){if(n<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.illegal_parameter}});var i=t.fragment;i.read-=4;var o=i.bytes();i.read+=4;var a={signature:s(i,2).getBytes()},l=r.util.createBuffer();l.putBuffer(e.session.md5.digest()),l.putBuffer(e.session.sha1.digest()),l=l.getBytes();try{if(!e.session.clientCertificate.publicKey.verify(l,a.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(o),e.session.sha1.update(o)}catch(t){return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.handshake_failure}})}e.expect=x,e.process()},u.handleServerHelloDone=function(e,t,n){if(n>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.record_overflow}});if(null===e.serverCertificate){var i={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.insufficient_security}},o=e.verify(e,i.alert.description,0,[]);if(!0!==o)return(o||0===o)&&("object"!=typeof o||r.util.isArray(o)?"number"==typeof o&&(i.alert.description=o):(o.message&&(i.message=o.message),o.alert&&(i.alert.description=o.alert))),e.error(e,i)}null!==e.session.certificateRequest&&(t=u.createRecord(e,{type:u.ContentType.handshake,data:u.createCertificate(e)}),u.queue(e,t)),t=u.createRecord(e,{type:u.ContentType.handshake,data:u.createClientKeyExchange(e)}),u.queue(e,t),e.expect=g;var a=function(e,t){null!==e.session.certificateRequest&&null!==e.session.clientCertificate&&u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createCertificateVerify(e,t)})),u.queue(e,u.createRecord(e,{type:u.ContentType.change_cipher_spec,data:u.createChangeCipherSpec()})),e.state.pending=u.createConnectionState(e),e.state.current.write=e.state.pending.write,u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createFinished(e)})),e.expect=f,u.flush(e),e.process()};if(null===e.session.certificateRequest||null===e.session.clientCertificate)return a(e,null);u.getClientSignature(e,a)},u.handleChangeCipherSpec=function(e,t){if(1!==t.fragment.getByte())return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.illegal_parameter}});var n=e.entity===u.ConnectionEnd.client;(e.session.resuming&&n||!e.session.resuming&&!n)&&(e.state.pending=u.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&n||e.session.resuming&&!n)&&(e.state.pending=null),e.expect=n?v:_,e.process()},u.handleFinished=function(e,t,n){var o=t.fragment;o.read-=4;var a=o.bytes();o.read+=4;var s=t.fragment.getBytes();(o=r.util.createBuffer()).putBuffer(e.session.md5.digest()),o.putBuffer(e.session.sha1.digest());var l=e.entity===u.ConnectionEnd.client,c=l?"server finished":"client finished",h=e.session.sp;if((o=i(h.master_secret,c,o.getBytes(),12)).getBytes()!==s)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.decrypt_error}});e.session.md5.update(a),e.session.sha1.update(a),(e.session.resuming&&l||!e.session.resuming&&!l)&&(u.queue(e,u.createRecord(e,{type:u.ContentType.change_cipher_spec,data:u.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,u.queue(e,u.createRecord(e,{type:u.ContentType.handshake,data:u.createFinished(e)}))),e.expect=l?m:w,e.handshaking=!1,++e.handshakes,e.peerCertificate=l?e.session.serverCertificate:e.session.clientCertificate,u.flush(e),e.isConnected=!0,e.connected(e),e.process()},u.handleAlert=function(e,t){var n,r=t.fragment,i={level:r.getByte(),description:r.getByte()};switch(i.description){case u.Alert.Description.close_notify:n="Connection closed.";break;case u.Alert.Description.unexpected_message:n="Unexpected message.";break;case u.Alert.Description.bad_record_mac:n="Bad record MAC.";break;case u.Alert.Description.decryption_failed:n="Decryption failed.";break;case u.Alert.Description.record_overflow:n="Record overflow.";break;case u.Alert.Description.decompression_failure:n="Decompression failed.";break;case u.Alert.Description.handshake_failure:n="Handshake failure.";break;case u.Alert.Description.bad_certificate:n="Bad certificate.";break;case u.Alert.Description.unsupported_certificate:n="Unsupported certificate.";break;case u.Alert.Description.certificate_revoked:n="Certificate revoked.";break;case u.Alert.Description.certificate_expired:n="Certificate expired.";break;case u.Alert.Description.certificate_unknown:n="Certificate unknown.";break;case u.Alert.Description.illegal_parameter:n="Illegal parameter.";break;case u.Alert.Description.unknown_ca:n="Unknown certificate authority.";break;case u.Alert.Description.access_denied:n="Access denied.";break;case u.Alert.Description.decode_error:n="Decode error.";break;case u.Alert.Description.decrypt_error:n="Decrypt error.";break;case u.Alert.Description.export_restriction:n="Export restriction.";break;case u.Alert.Description.protocol_version:n="Unsupported protocol version.";break;case u.Alert.Description.insufficient_security:n="Insufficient security.";break;case u.Alert.Description.internal_error:n="Internal error.";break;case u.Alert.Description.user_canceled:n="User canceled.";break;case u.Alert.Description.no_renegotiation:n="Renegotiation not supported.";break;default:n="Unknown error."}if(i.description===u.Alert.Description.close_notify)return e.close();e.error(e,{message:n,send:!1,origin:e.entity===u.ConnectionEnd.client?"server":"client",alert:i}),e.process()},u.handleHandshake=function(e,t){var n=t.fragment,i=n.getByte(),o=n.getInt24();if(o>n.length())return e.fragmented=t,t.fragment=r.util.createBuffer(),n.read-=4,e.process();e.fragmented=null,n.read-=4;var a=n.bytes(o+4);n.read+=4,i in F[e.entity][e.expect]?(e.entity!==u.ConnectionEnd.server||e.open||e.fail||(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:r.md.md5.create(),sha1:r.md.sha1.create()}),i!==u.HandshakeType.hello_request&&i!==u.HandshakeType.certificate_verify&&i!==u.HandshakeType.finished&&(e.session.md5.update(a),e.session.sha1.update(a)),F[e.entity][e.expect][i](e,t,o)):u.handleUnexpected(e,t)},u.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()},u.handleHeartbeat=function(e,t){var n=t.fragment,i=n.getByte(),o=n.getInt16(),a=n.getBytes(o);if(i===u.HeartbeatMessageType.heartbeat_request){if(e.handshaking||o>a.length)return e.process();u.queue(e,u.createRecord(e,{type:u.ContentType.heartbeat,data:u.createHeartbeat(u.HeartbeatMessageType.heartbeat_response,a)})),u.flush(e)}else if(i===u.HeartbeatMessageType.heartbeat_response){if(a!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,r.util.createBuffer(a))}e.process()};var c=1,h=2,p=3,d=4,f=5,v=6,m=7,g=8,b=1,y=2,C=3,x=4,_=5,w=6,S=u.handleUnexpected,k=u.handleChangeCipherSpec,T=u.handleAlert,E=u.handleHandshake,P=u.handleApplicationData,I=u.handleHeartbeat,B=[];B[u.ConnectionEnd.client]=[[S,T,E,S,I],[S,T,E,S,I],[S,T,E,S,I],[S,T,E,S,I],[S,T,E,S,I],[k,T,S,S,I],[S,T,E,S,I],[S,T,E,P,I],[S,T,E,S,I]],B[u.ConnectionEnd.server]=[[S,T,E,S,I],[S,T,E,S,I],[S,T,E,S,I],[S,T,E,S,I],[k,T,S,S,I],[S,T,E,S,I],[S,T,E,P,I],[S,T,E,S,I]];var N=u.handleHelloRequest,M=u.handleServerHello,O=u.handleCertificate,A=u.handleServerKeyExchange,L=u.handleCertificateRequest,D=u.handleServerHelloDone,R=u.handleFinished,F=[];F[u.ConnectionEnd.client]=[[S,S,M,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[N,S,S,S,S,S,S,S,S,S,S,O,A,L,D,S,S,S,S,S,S],[N,S,S,S,S,S,S,S,S,S,S,S,A,L,D,S,S,S,S,S,S],[N,S,S,S,S,S,S,S,S,S,S,S,S,L,D,S,S,S,S,S,S],[N,S,S,S,S,S,S,S,S,S,S,S,S,S,D,S,S,S,S,S,S],[N,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[N,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,R],[N,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[N,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S]];var V=u.handleClientHello,U=u.handleClientKeyExchange,j=u.handleCertificateVerify;F[u.ConnectionEnd.server]=[[S,V,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[S,S,S,S,S,S,S,S,S,S,S,O,S,S,S,S,S,S,S,S,S],[S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,U,S,S,S,S],[S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,j,S,S,S,S,S],[S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,R],[S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S],[S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S,S]],u.generateKeys=function(e,t){var n=i,r=t.client_random+t.server_random;e.session.resuming||(t.master_secret=n(t.pre_master_secret,"master secret",r,48).bytes(),t.pre_master_secret=null),r=t.server_random+t.client_random;var o=2*t.mac_key_length+2*t.enc_key_length,a=e.version.major===u.Versions.TLS_1_0.major&&e.version.minor===u.Versions.TLS_1_0.minor;a&&(o+=2*t.fixed_iv_length);var s=n(t.master_secret,"key expansion",r,o),l={client_write_MAC_key:s.getBytes(t.mac_key_length),server_write_MAC_key:s.getBytes(t.mac_key_length),client_write_key:s.getBytes(t.enc_key_length),server_write_key:s.getBytes(t.enc_key_length)};return a&&(l.client_write_IV=s.getBytes(t.fixed_iv_length),l.server_write_IV=s.getBytes(t.fixed_iv_length)),l},u.createConnectionState=function(e){var t=e.entity===u.ConnectionEnd.client,n=function(){var e={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(e){return!0},compressionState:null,compressFunction:function(e){return!0},updateSequenceNumber:function(){4294967295===e.sequenceNumber[1]?(e.sequenceNumber[1]=0,++e.sequenceNumber[0]):++e.sequenceNumber[1]}};return e},r={read:n(),write:n()};if(r.read.update=function(e,t){return r.read.cipherFunction(t,r.read)?r.read.compressFunction(e,t,r.read)||e.error(e,{message:"Could not decompress record.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.decompression_failure}}):e.error(e,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.bad_record_mac}}),!e.fail},r.write.update=function(e,t){return r.write.compressFunction(e,t,r.write)?r.write.cipherFunction(t,r.write)||e.error(e,{message:"Could not encrypt record.",send:!1,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}}):e.error(e,{message:"Could not compress record.",send:!1,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}}),!e.fail},e.session){var i=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(i),i.keys=u.generateKeys(e,i),r.read.macKey=t?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key,r.write.macKey=t?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(r,e,i),i.compression_algorithm){case u.CompressionMethod.none:break;case u.CompressionMethod.deflate:r.read.compressFunction=a,r.write.compressFunction=o;break;default:throw new Error("Unsupported compression algorithm.")}}return r},u.createRandom=function(){var e=new Date,t=+e+6e4*e.getTimezoneOffset(),n=r.util.createBuffer();return n.putInt32(t),n.putBytes(r.random.getBytes(28)),n},u.createRecord=function(e,t){return t.data?{type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data}:null},u.createAlert=function(e,t){var n=r.util.createBuffer();return n.putByte(t.level),n.putByte(t.description),u.createRecord(e,{type:u.ContentType.alert,data:n})},u.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=r.util.createBuffer(),n=0;n<e.cipherSuites.length;++n){var i=e.cipherSuites[n];t.putByte(i.id[0]),t.putByte(i.id[1])}var o=t.length(),a=r.util.createBuffer();a.putByte(u.CompressionMethod.none);var s=a.length(),c=r.util.createBuffer();if(e.virtualHost){var h=r.util.createBuffer();h.putByte(0),h.putByte(0);var p=r.util.createBuffer();p.putByte(0),l(p,2,r.util.createBuffer(e.virtualHost));var d=r.util.createBuffer();l(d,2,p),l(h,2,d),c.putBuffer(h)}var f=c.length();f>0&&(f+=2);var v=e.session.id,m=v.length+1+2+4+28+2+o+1+s+f,g=r.util.createBuffer();return g.putByte(u.HandshakeType.client_hello),g.putInt24(m),g.putByte(e.version.major),g.putByte(e.version.minor),g.putBytes(e.session.sp.client_random),l(g,1,r.util.createBuffer(v)),l(g,2,t),l(g,1,a),f>0&&l(g,2,c),g},u.createServerHello=function(e){var t=e.session.id,n=t.length+1+2+4+28+2+1,i=r.util.createBuffer();return i.putByte(u.HandshakeType.server_hello),i.putInt24(n),i.putByte(e.version.major),i.putByte(e.version.minor),i.putBytes(e.session.sp.server_random),l(i,1,r.util.createBuffer(t)),i.putByte(e.session.cipherSuite.id[0]),i.putByte(e.session.cipherSuite.id[1]),i.putByte(e.session.compressionMethod),i},u.createCertificate=function(e){var t,n=e.entity===u.ConnectionEnd.client,i=null;e.getCertificate&&(t=n?e.session.certificateRequest:e.session.extensions.server_name.serverNameList,i=e.getCertificate(e,t));var o=r.util.createBuffer();if(null!==i)try{r.util.isArray(i)||(i=[i]);for(var a=null,s=0;s<i.length;++s){var c=r.pem.decode(i[s])[0];if("CERTIFICATE"!==c.type&&"X509 CERTIFICATE"!==c.type&&"TRUSTED CERTIFICATE"!==c.type){var h=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw h.headerType=c.type,h}if(c.procType&&"ENCRYPTED"===c.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var p=r.util.createBuffer(c.body);null===a&&(a=r.asn1.fromDer(p.bytes(),!1));var d=r.util.createBuffer();l(d,3,p),o.putBuffer(d)}i=r.pki.certificateFromAsn1(a),n?e.session.clientCertificate=i:e.session.serverCertificate=i}catch(t){return e.error(e,{message:"Could not send certificate list.",cause:t,send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.bad_certificate}})}var f=3+o.length(),v=r.util.createBuffer();return v.putByte(u.HandshakeType.certificate),v.putInt24(f),l(v,3,o),v},u.createClientKeyExchange=function(e){var t=r.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(r.random.getBytes(46));var n=e.session.sp;n.pre_master_secret=t.getBytes();var i=(t=e.session.serverCertificate.publicKey.encrypt(n.pre_master_secret)).length+2,o=r.util.createBuffer();return o.putByte(u.HandshakeType.client_key_exchange),o.putInt24(i),o.putInt16(t.length),o.putBytes(t),o},u.createServerKeyExchange=function(e){var t=r.util.createBuffer();return t},u.getClientSignature=function(e,t){var n=r.util.createBuffer();n.putBuffer(e.session.md5.digest()),n.putBuffer(e.session.sha1.digest()),n=n.getBytes(),e.getSignature=e.getSignature||function(e,t,n){var i=null;if(e.getPrivateKey)try{i=e.getPrivateKey(e,e.session.clientCertificate),i=r.pki.privateKeyFromPem(i)}catch(t){e.error(e,{message:"Could not get private key.",cause:t,send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}})}null===i?e.error(e,{message:"No private key set.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}}):t=i.sign(t,null),n(e,t)},e.getSignature(e,n,t)},u.createCertificateVerify=function(e,t){var n=t.length+2,i=r.util.createBuffer();return i.putByte(u.HandshakeType.certificate_verify),i.putInt24(n),i.putInt16(t.length),i.putBytes(t),i},u.createCertificateRequest=function(e){var t=r.util.createBuffer();t.putByte(1);var n=r.util.createBuffer();for(var i in e.caStore.certs){var o=e.caStore.certs[i],a=r.pki.distinguishedNameToAsn1(o.subject),s=r.asn1.toDer(a);n.putInt16(s.length()),n.putBuffer(s)}var c=1+t.length()+2+n.length(),h=r.util.createBuffer();return h.putByte(u.HandshakeType.certificate_request),h.putInt24(c),l(h,1,t),l(h,2,n),h},u.createServerHelloDone=function(e){var t=r.util.createBuffer();return t.putByte(u.HandshakeType.server_hello_done),t.putInt24(0),t},u.createChangeCipherSpec=function(){var e=r.util.createBuffer();return e.putByte(1),e},u.createFinished=function(e){var t=r.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var n=e.entity===u.ConnectionEnd.client,o=e.session.sp,a=n?"client finished":"server finished";t=i(o.master_secret,a,t.getBytes(),12);var s=r.util.createBuffer();return s.putByte(u.HandshakeType.finished),s.putInt24(t.length()),s.putBuffer(t),s},u.createHeartbeat=function(e,t,n){void 0===n&&(n=t.length);var i=r.util.createBuffer();i.putByte(e),i.putInt16(n),i.putBytes(t);var o=i.length(),a=Math.max(16,o-n-3);return i.putBytes(r.random.getBytes(a)),i},u.queue=function(e,t){if(t&&(0!==t.fragment.length()||t.type!==u.ContentType.handshake&&t.type!==u.ContentType.alert&&t.type!==u.ContentType.change_cipher_spec)){if(t.type===u.ContentType.handshake){var n=t.fragment.bytes();e.session.md5.update(n),e.session.sha1.update(n),n=null}var i;if(t.fragment.length()<=u.MaxFragment)i=[t];else{i=[];for(var o=t.fragment.bytes();o.length>u.MaxFragment;)i.push(u.createRecord(e,{type:t.type,data:r.util.createBuffer(o.slice(0,u.MaxFragment))})),o=o.slice(u.MaxFragment);o.length>0&&i.push(u.createRecord(e,{type:t.type,data:r.util.createBuffer(o)}))}for(var a=0;a<i.length&&!e.fail;++a){var s=i[a];e.state.current.write.update(e,s)&&e.records.push(s)}}},u.flush=function(e){for(var t=0;t<e.records.length;++t){var n=e.records[t];e.tlsData.putByte(n.type),e.tlsData.putByte(n.version.major),e.tlsData.putByte(n.version.minor),e.tlsData.putInt16(n.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var H=function(e){switch(e){case!0:return!0;case r.pki.certificateError.bad_certificate:return u.Alert.Description.bad_certificate;case r.pki.certificateError.unsupported_certificate:return u.Alert.Description.unsupported_certificate;case r.pki.certificateError.certificate_revoked:return u.Alert.Description.certificate_revoked;case r.pki.certificateError.certificate_expired:return u.Alert.Description.certificate_expired;case r.pki.certificateError.certificate_unknown:return u.Alert.Description.certificate_unknown;case r.pki.certificateError.unknown_ca:return u.Alert.Description.unknown_ca;default:return u.Alert.Description.bad_certificate}};for(var z in u.verifyCertificateChain=function(e,t){try{r.pki.verifyCertificateChain(e.caStore,t,function(t,n,i){H(t);var o=e.verify(e,t,n,i);if(!0!==o){if("object"==typeof o&&!r.util.isArray(o)){var a=new Error("The application rejected the certificate.");throw a.send=!0,a.alert={level:u.Alert.Level.fatal,description:u.Alert.Description.bad_certificate},o.message&&(a.message=o.message),o.alert&&(a.alert.description=o.alert),a}o!==t&&(o=function(e){switch(e){case!0:return!0;case u.Alert.Description.bad_certificate:return r.pki.certificateError.bad_certificate;case u.Alert.Description.unsupported_certificate:return r.pki.certificateError.unsupported_certificate;case u.Alert.Description.certificate_revoked:return r.pki.certificateError.certificate_revoked;case u.Alert.Description.certificate_expired:return r.pki.certificateError.certificate_expired;case u.Alert.Description.certificate_unknown:return r.pki.certificateError.certificate_unknown;case u.Alert.Description.unknown_ca:return r.pki.certificateError.unknown_ca;default:return r.pki.certificateError.bad_certificate}}(o))}return o})}catch(t){var n=t;("object"!=typeof n||r.util.isArray(n))&&(n={send:!0,alert:{level:u.Alert.Level.fatal,description:H(t)}}),"send"in n||(n.send=!0),"alert"in n||(n.alert={level:u.Alert.Level.fatal,description:H(n.error)}),e.error(e,n)}return!e.fail},u.createSessionCache=function(e,t){var n=null;if(e&&e.getSession&&e.setSession&&e.order)n=e;else{for(var i in(n={}).cache=e||{},n.capacity=Math.max(t||100,1),n.order=[],e)n.order.length<=t?n.order.push(i):delete e[i];n.getSession=function(e){var t=null,i=null;if(e?i=r.util.bytesToHex(e):n.order.length>0&&(i=n.order[0]),null!==i&&i in n.cache)for(var o in t=n.cache[i],delete n.cache[i],n.order)if(n.order[o]===i){n.order.splice(o,1);break}return t},n.setSession=function(e,t){if(n.order.length===n.capacity){var i=n.order.shift();delete n.cache[i]}i=r.util.bytesToHex(e);n.order.push(i),n.cache[i]=t}}return n},u.createConnection=function(e){var t=null;t=e.caStore?r.util.isArray(e.caStore)?r.pki.createCaStore(e.caStore):e.caStore:r.pki.createCaStore();var n=e.cipherSuites||null;if(null===n)for(var i in n=[],u.CipherSuites)n.push(u.CipherSuites[i]);var o=e.server?u.ConnectionEnd.server:u.ConnectionEnd.client,a=e.sessionCache?u.createSessionCache(e.sessionCache):null,s={version:{major:u.Version.major,minor:u.Version.minor},entity:o,sessionId:e.sessionId,caStore:t,sessionCache:a,cipherSuites:n,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(e,t,n,r){return t},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:r.util.createBuffer(),tlsData:r.util.createBuffer(),data:r.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:function(t,n){n.origin=n.origin||(t.entity===u.ConnectionEnd.client?"client":"server"),n.send&&(u.queue(t,u.createAlert(t,n.alert)),u.flush(t));var r=!1!==n.fatal;r&&(t.fail=!0),e.error(t,n),r&&t.close(!1)},deflate:e.deflate||null,inflate:e.inflate||null,reset:function(e){s.version={major:u.Version.major,minor:u.Version.minor},s.record=null,s.session=null,s.peerCertificate=null,s.state={pending:null,current:null},s.expect=(s.entity,u.ConnectionEnd.client,0),s.fragmented=null,s.records=[],s.open=!1,s.handshakes=0,s.handshaking=!1,s.isConnected=!1,s.fail=!(e||void 0===e),s.input.clear(),s.tlsData.clear(),s.data.clear(),s.state.current=u.createConnectionState(s)}};s.reset();return s.handshake=function(e){if(s.entity!==u.ConnectionEnd.client)s.error(s,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(s.handshaking)s.error(s,{message:"Handshake already in progress.",fatal:!1});else{s.fail&&!s.open&&0===s.handshakes&&(s.fail=!1),s.handshaking=!0;var t=null;(e=e||"").length>0&&(s.sessionCache&&(t=s.sessionCache.getSession(e)),null===t&&(e="")),0===e.length&&s.sessionCache&&null!==(t=s.sessionCache.getSession())&&(e=t.id),s.session={id:e,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:r.md.md5.create(),sha1:r.md.sha1.create()},t&&(s.version=t.version,s.session.sp=t.sp),s.session.sp.client_random=u.createRandom().getBytes(),s.open=!0,u.queue(s,u.createRecord(s,{type:u.ContentType.handshake,data:u.createClientHello(s)})),u.flush(s)}},s.process=function(e){var t=0;return e&&s.input.putBytes(e),s.fail||(null!==s.record&&s.record.ready&&s.record.fragment.isEmpty()&&(s.record=null),null===s.record&&(t=function(e){var t=0,n=e.input,i=n.length();if(i<5)t=5-i;else{e.record={type:n.getByte(),version:{major:n.getByte(),minor:n.getByte()},length:n.getInt16(),fragment:r.util.createBuffer(),ready:!1};var o=e.record.version.major===e.version.major;o&&e.session&&e.session.version&&(o=e.record.version.minor===e.version.minor),o||e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.protocol_version}})}return t}(s)),s.fail||null===s.record||s.record.ready||(t=function(e){var t=0,n=e.input,r=n.length();r<e.record.length?t=e.record.length-r:(e.record.fragment.putBytes(n.getBytes(e.record.length)),n.compact(),e.state.current.read.update(e,e.record)&&(null!==e.fragmented&&(e.fragmented.type===e.record.type?(e.fragmented.fragment.putBuffer(e.record.fragment),e.record=e.fragmented):e.error(e,{message:"Invalid fragmented record.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.unexpected_message}})),e.record.ready=!0));return t}(s)),!s.fail&&null!==s.record&&s.record.ready&&function(e,t){var n=t.type-u.ContentType.change_cipher_spec,r=B[e.entity][e.expect];n in r?r[n](e,t):u.handleUnexpected(e,t)}(s,s.record)),t},s.prepare=function(e){return u.queue(s,u.createRecord(s,{type:u.ContentType.application_data,data:r.util.createBuffer(e)})),u.flush(s)},s.prepareHeartbeatRequest=function(e,t){return e instanceof r.util.ByteBuffer&&(e=e.bytes()),void 0===t&&(t=e.length),s.expectedHeartbeatPayload=e,u.queue(s,u.createRecord(s,{type:u.ContentType.heartbeat,data:u.createHeartbeat(u.HeartbeatMessageType.heartbeat_request,e,t)})),u.flush(s)},s.close=function(e){if(!s.fail&&s.sessionCache&&s.session){var t={id:s.session.id,version:s.session.version,sp:s.session.sp};t.sp.keys=null,s.sessionCache.setSession(t.id,t)}s.open&&(s.open=!1,s.input.clear(),(s.isConnected||s.handshaking)&&(s.isConnected=s.handshaking=!1,u.queue(s,u.createAlert(s,{level:u.Alert.Level.warning,description:u.Alert.Description.close_notify})),u.flush(s)),s.closed(s)),s.reset(e)},s},e.exports=r.tls=r.tls||{},u)"function"!=typeof u[z]&&(r.tls[z]=u[z]);r.tls.prf_tls1=i,r.tls.hmac_sha1=function(e,t,n){var i=r.hmac.create();i.start("SHA1",e);var o=r.util.createBuffer();return o.putInt32(t[0]),o.putInt32(t[1]),o.putByte(n.type),o.putByte(n.version.major),o.putByte(n.version.minor),o.putInt16(n.length),o.putBytes(n.fragment.bytes()),i.update(o.getBytes()),i.digest().getBytes()},r.tls.createSessionCache=u.createSessionCache,r.tls.createConnection=u.createConnection},function(e,t,n){var r=n(10);n(14),r.cipher=r.cipher||{};var i=e.exports=r.cipher.modes=r.cipher.modes||{};function o(e){if("string"==typeof e&&(e=r.util.createBuffer(e)),r.util.isArray(e)&&e.length>4){var t=e;e=r.util.createBuffer();for(var n=0;n<t.length;++n)e.putByte(t[n])}return r.util.isArray(e)||(e=[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]),e}function a(e){e[e.length-1]=e[e.length-1]+1&4294967295}function s(e){return[e/4294967296|0,4294967295&e]}i.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.ecb.prototype.start=function(e){},i.ecb.prototype.encrypt=function(e,t,n){if(e.length()<this.blockSize&&!(n&&e.length()>0))return!0;for(var r=0;r<this._ints;++r)this._inBlock[r]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(r=0;r<this._ints;++r)t.putInt32(this._outBlock[r])},i.ecb.prototype.decrypt=function(e,t,n){if(e.length()<this.blockSize&&!(n&&e.length()>0))return!0;for(var r=0;r<this._ints;++r)this._inBlock[r]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(r=0;r<this._ints;++r)t.putInt32(this._outBlock[r])},i.ecb.prototype.pad=function(e,t){var n=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(n,n),!0},i.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var n=e.length(),r=e.at(n-1);return!(r>this.blockSize<<2)&&(e.truncate(r),!0)},i.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.cbc.prototype.start=function(e){if(null===e.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=o(e.iv),this._prev=this._iv.slice(0)}},i.cbc.prototype.encrypt=function(e,t,n){if(e.length()<this.blockSize&&!(n&&e.length()>0))return!0;for(var r=0;r<this._ints;++r)this._inBlock[r]=this._prev[r]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(r=0;r<this._ints;++r)t.putInt32(this._outBlock[r]);this._prev=this._outBlock},i.cbc.prototype.decrypt=function(e,t,n){if(e.length()<this.blockSize&&!(n&&e.length()>0))return!0;for(var r=0;r<this._ints;++r)this._inBlock[r]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(r=0;r<this._ints;++r)t.putInt32(this._prev[r]^this._outBlock[r]);this._prev=this._inBlock.slice(0)},i.cbc.prototype.pad=function(e,t){var n=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(n,n),!0},i.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var n=e.length(),r=e.at(n-1);return!(r>this.blockSize<<2)&&(e.truncate(r),!0)},i.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0},i.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=o(e.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.cfb.prototype.encrypt=function(e,t,n){var r=e.length();if(0===r)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&r>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);else{var o=(this.blockSize-r)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(o>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!n)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=0}},i.cfb.prototype.decrypt=function(e,t,n){var r=e.length();if(0===r)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&r>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);else{var o=(this.blockSize-r)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(o>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!n)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=0}},i.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0},i.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=o(e.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ofb.prototype.encrypt=function(e,t,n){var r=e.length();if(0===e.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&r>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];else{var o=(this.blockSize-r)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!n)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=0}},i.ofb.prototype.decrypt=i.ofb.prototype.encrypt,i.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0},i.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=o(e.iv),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ctr.prototype.encrypt=function(e,t,n){var r=e.length();if(0===r)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&r>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var o=(this.blockSize-r)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!n)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=0}a(this._inBlock)},i.ctr.prototype.decrypt=i.ctr.prototype.encrypt,i.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0,this._R=3774873600},i.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t,n=r.util.createBuffer(e.iv);if(this._cipherLength=0,t="additionalData"in e?r.util.createBuffer(e.additionalData):r.util.createBuffer(),this._tagLength="tagLength"in e?e.tagLength:128,this._tag=null,e.decrypt&&(this._tag=r.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var i=n.length();if(12===i)this._j0=[n.getInt32(),n.getInt32(),n.getInt32(),1];else{for(this._j0=[0,0,0,0];n.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[n.getInt32(),n.getInt32(),n.getInt32(),n.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(s(8*i)))}this._inBlock=this._j0.slice(0),a(this._inBlock),this._partialBytes=0,t=r.util.createBuffer(t),this._aDataLength=s(8*t.length());var o=t.length()%this.blockSize;for(o&&t.fillWithByte(0,this.blockSize-o),this._s=[0,0,0,0];t.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()])},i.gcm.prototype.encrypt=function(e,t,n){var r=e.length();if(0===r)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&r>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var o=(this.blockSize-r)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(0===o||n){if(n){var s=r%this.blockSize;this._cipherLength+=s,this._partialOutput.truncate(this.blockSize-s)}else this._cipherLength+=this.blockSize;for(i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!n)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),a(this._inBlock)},i.gcm.prototype.decrypt=function(e,t,n){var r=e.length();if(r<this.blockSize&&!(n&&r>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),a(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);r<this.blockSize?this._cipherLength+=r%this.blockSize:this._cipherLength+=this.blockSize},i.gcm.prototype.afterFinish=function(e,t){var n=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=r.util.createBuffer();var i=this._aDataLength.concat(s(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,i);var o=[];this.cipher.encrypt(this._j0,o);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^o[a]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(n=!1),n},i.gcm.prototype.multiply=function(e,t){for(var n=[0,0,0,0],r=t.slice(0),i=0;i<128;++i){e[i/32|0]&1<<31-i%32&&(n[0]^=r[0],n[1]^=r[1],n[2]^=r[2],n[3]^=r[3]),this.pow(r,r)}return n},i.gcm.prototype.pow=function(e,t){for(var n=1&e[3],r=3;r>0;--r)t[r]=e[r]>>>1|(1&e[r-1])<<31;t[0]=e[0]>>>1,n&&(t[0]^=this._R)},i.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],n=0;n<32;++n){var r=e[n/8|0]>>>4*(7-n%8)&15,i=this._m[n][r];t[0]^=i[0],t[1]^=i[1],t[2]^=i[2],t[3]^=i[3]}return t},i.gcm.prototype.ghash=function(e,t,n){return t[0]^=n[0],t[1]^=n[1],t[2]^=n[2],t[3]^=n[3],this.tableMultiply(t)},i.gcm.prototype.generateHashTable=function(e,t){for(var n=8/t,r=4*n,i=16*n,o=new Array(i),a=0;a<i;++a){var s=[0,0,0,0],l=(r-1-a%r)*t;s[a/r|0]=1<<t-1<<l,o[a]=this.generateSubHashTable(this.multiply(s,e),t)}return o},i.gcm.prototype.generateSubHashTable=function(e,t){var n=1<<t,r=n>>>1,i=new Array(n);i[r]=e.slice(0);for(var o=r>>>1;o>0;)this.pow(i[2*o],i[o]=[]),o>>=1;for(o=2;o<r;){for(var a=1;a<o;++a){var s=i[o],l=i[a];i[o+a]=[s[0]^l[0],s[1]^l[1],s[2]^l[2],s[3]^l[3]]}o*=2}for(i[0]=[0,0,0,0],o=r+1;o<n;++o){var u=i[o^r];i[o]=[e[0]^u[0],e[1]^u[1],e[2]^u[2],e[3]^u[3]]}return i}},function(e,t,n){e.exports=n(10),n(53),n(387),n(47),n(112),n(161),n(91),n(385),n(71),n(384),n(159),n(383),n(162),n(110),n(65),n(166),n(164),n(382),n(172),n(165),n(168),n(108),n(40),n(167),n(381),n(380),n(173),n(14)},function(e,t,n){"use strict";var r,i;r=[n(3),n(16),n(5),n(175)],void 0===(i=function(e,t,n,r){var i,o;return i=function(){function r(e){var t,n,r;t=e.dev,n=e.devpane,e.extraCss,e.label,this.guid=t.get("uid"),(r=new o({dev:t,node:n,extraCss:"authentication",guid:this.guid})).setTopMsg("This device is password protected"),r.setSubmitText("Login"),r.showAuxBtns(),t.checkAuth(function(){return r.showPane()},function(){return r.hidePane()}),this.pane=r,this.locked=0,this.dev=t}return r.prototype.makeDevicePaneControls=function(r){var i,o,a,s,l;return s=r.node,i=r.extraCss,a=e.appendSpec(s,{className:null!=i?i:"",textContent:"Logout"}),o=e.appendSpec(s,{className:null!=i?i:"",textContent:"Set Password"}),new n.Function(this.dev,(l=this,function(e){return l.locked=e.get("locked"),o.textContent=1===l.locked?"Clear Password":"Set Password"})),new n.Function(this.dev,function(t){return function(n){return t.locked=n.get("locked"),1===t.locked?e.show(a):e.hide(a)}}(this)),new t.FunctionButton({node:a,f:function(e){return function(){return sessionStorage.removeItem("MOTUAuth:"+e.guid),e.pane.showAuxBtns(),e.pane.setTopMsg("This device is password protected"),e.pane.setSubmitText("Login"),e.pane.showPane()}}(this)}),new t.FunctionButton({node:o,f:function(e){return function(){return 1===e.locked?(e.pane.showAuxBtns(),e.pane.setTopMsg("This device is password protected"),e.pane.setSubmitText("Login"),e.dev.set("locked",0),sessionStorage.removeItem("MOTUAuth:"+e.guid)):(e.pane.hideAuxBtns(),e.pane.setTopMsg("Please enter a password to lock the device"),e.pane.setSubmitText("Set Password"),e.pane.showPane())}}(this)})},r.prototype.updateOffset=function(e){return this.pane.node.style.left=e+"px",this.pane.container.style.paddingRight=e+"px"},r}(),o=function(){function i(i){var o,a,s,l,u,c,h,p,d,f;for(a=i.dev,h=i.node,s=i.extraCss,this.guid=i.guid,this.node=h,this.pane=e.appendSpec(h,{className:"modalPane"}),this.hidePane(),this.container=e.appendSpec(this.pane,{className:""+(null!=s?s:"")}),this.pauseLockScreenReaction=!1,this.topMsg=e.appendSpec(this.container,{className:"passwordTopText"}),p=e.appendSpec(this.container,{className:"passwordLabel"}),(d=e.appendSpec(p,{type:"input",className:"passwordField",id:"passwordInput"})).value="Password",d.onfocus=function(){return d.value="",d.setAttribute("type","password")},(o=e.appendSpec(this.container,{})).innerHTML="<br>",this.submitBtn=e.appendSpec(this.container,{className:"utilityBtn"}),e.appendSpec(this.container,{}).style.height="1em",this.cancelBtn=e.appendSpec(this.container,{className:"utilityBtn",textContent:"Cancel"}),this.submitFunc=new t.FunctionButton({node:this.cancelBtn,f:(f=this,function(){return f.hidePane()})}),this.submitFunc=new t.FunctionButton({node:this.submitBtn,f:function(e){return function(){var t,n,i,s;return s=d.value,(t=r.md.sha1.create()).update(s),i=btoa("user:"+t.digest().toHex()),n=a.get("locked"),""===s||"Password"===s?o.innerHTML="Password can't be blank<br>":(sessionStorage.setItem("MOTUAuth:"+e.guid,i),0===n&&(o.innerHTML="<br>",a.setPassword(i,function(){return{}},function(){return e.pauseLockScreenReaction=!0,a.set("locked",1)})),a.checkAuth(function(){return d.value="",o.innerHTML="Incorrect Password<br>"},function(){return d.value="",o.innerHTML="<br>",e.hidePane()}))}}(this)}),new n.Function(a,function(e){return function(t){return 1===t.get("locked")?e.pauseLockScreenReaction?e.pauseLockScreenReaction=!1:e.showPane():e.hidePane()}}(this)),d.onkeypress=function(e){return function(t){if(13===t.which)return e.submitFunc.f()}}(this),e.appendSpec(this.container,{className:"auxBtnSpacer"}),this.auxBtnTitle=e.appendSpec(this.container,{className:"passwordTopText",textContent:"Aux mixes are available without a password"}),this.auxBtns=e.appendSpec(this.container,{className:"auxBtnContainer"}),u=0;void 0!==(c=a.get("ext/ibank/"+u+"/name"))&&"Mix Aux"!==c;)++u;l=a.get("uid"),a.get("avb/"+l+"/url"),this.removePool=[],new n.Function(a,function(n){return function(r){var i,o,a,s,l,h,p,d,f,v;for(l=0,d=(f=n.removePool).length;l<d;l++)a=f[l],e.remove(a);for(v=[],h=p=1;p<=14;h=++p){if(c=r.get("ext/ibank/"+u+"/ch/"+(h-1)+"/name"),"2:0"===(s=r.get("mix/aux/"+(h-1)+"/config/format"))||"2:1"===s){if(h%2==0)continue;c=0!==c.length?c.substring(0,c.length-2):"Aux "+h+" - "+(h+1)}else c=0!==c.length?c:"Aux "+h;i=e.appendSpec(n.auxBtns,{className:"utilityBtn auxBtnList",innerHTML:c}),o="aux"+h+".html",n.removePool.push(i),v.push(function(e){return new t.FunctionButton({node:i,f:function(){return window.location=e}})}(o))}return v}}(this))}return i.prototype.setTopMsg=function(e){return this.topMsg.textContent=e},i.prototype.setSubmitText=function(e){return this.submitBtn.textContent=e},i.prototype.hidePane=function(){return e.hide(this.node)},i.prototype.showPane=function(){return e.show(this.node)},i.prototype.showAuxBtns=function(){return e.show(this.auxBtns),e.show(this.auxBtnTitle),e.hide(this.cancelBtn)},i.prototype.hideAuxBtns=function(){return e.hide(this.auxBtns),e.hide(this.auxBtnTitle),e.show(this.cancelBtn)},i}(),i}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(3),n(5)],void 0===(i=function(e,t){var n,r,i,o,a;return i=function(){function e(e,t,n){this.stream_name=e,this.status=t,this.extra=n}return e.prototype.message=function(){switch(this.status){case"connecting":return this.connecting();case"failed":return this.failed();default:return""}},e.prototype.connecting=function(){return this.extra?this.stream_name+" is being connected. This should take around "+this.extra+" more seconds...":this.stream_name+" is being connected. This may take up to 30 seconds..."},e.prototype.failed=function(){return this.extra?this.stream_name+" failed to connect: "+this.extra+".":this.stream_name+" failed to connect."},e}(),n=function(){function e(e){this.stream_infos=e}return e.prototype.message=function(){return this.allStreamsAreConnecting()?"Input streams are being connected. This may take up to 30 seconds.":this.someStreamsAreConnecting()?"The following input streams are still being connected: "+this.connectingStreamNames():""},e.prototype.connectingStreamNames=function(){return this.stream_infos.filter(this.isConnecting).map(function(e){return e.name}).join(", ")},e.prototype.someStreamsAreConnecting=function(){return this.configuredStreams().some(this.isConnecting)},e.prototype.allStreamsAreConnecting=function(){var e;return(e=this.configuredStreams()).length>=1&&e.every(this.isConnecting)},e.prototype.configuredStreams=function(){return this.stream_infos.filter(function(e){return e.status.length>0&&!e.status.match("not_connected")})},e.prototype.isConnecting=function(e){return e.status.match(/^connecting/)},e}(),r=function(){function e(e){this.dev=e.dev,this.guid=e.guid}return e.prototype.someStreamIsConnecting=function(){return this.stream_statuses().some(this.isConnecting)},e.prototype.isConnecting=function(e){return e.match(/^connecting/)},e.prototype.stream_statuses=function(){return this.dev.avb.mapInputStreams(this.guid,(e=this,function(t,n){var r;return null!=(r=e.dev.avb.getNthInputStreamConnectionStatus(e.guid,n))?r:""}));var e},e}(),a=function(){function t(t){this.node=e.appendSpec(t,{className:"banner-message warn"}),this.message=e.appendSpec(this.node,{className:"message"}),e.hide(this.node)}return t.prototype.show_message=function(t){return t?(e.show(this.node),this.render_message(t)):e.hide(this.node)},t.prototype.render_message=function(t){return e.clear(this.message),e.appendSpec(this.message,{textContent:t,className:"stream-status"})},t}(),(o=function(){function e(e){var n;this.node=e.node,this.dev=e.dev,this.guid=e.guid,this.ui=new a(this.node),new t.Function(this.dev,(n=this,function(e){var t,r;return r=n.stream_statuses(e),t=n.get_message(r),n.show_message(t)}))}return e.prototype.stream_statuses=function(e){return e.avb.mapInputStreams(this.guid,(t=this,function(n,r){var i,o;return{name:null!=(i=e.avb.getNthInputStreamName(t.guid,r))?i:"",status:null!=(o=e.avb.getNthInputStreamConnectionStatus(t.guid,r))?o:""}}));var t},e.prototype.get_message=function(e){return new n(e).message()},e.prototype.show_message=function(e){return this.ui.show_message(e)},e}()).UI=a,o.SingleStreamMessage=i,o.DeviceStreamMessage=n,o.DeviceStreamStatus=r,o}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(50),n(5),n(1)],void 0===(i=function(e,t,n){return function(){function r(e){this.dev=e,this.subDev=new this.dev.SubDevice(this.dev),this.subDev.router=this.dev.router=this}return r.prototype.setup=function(){return this.setupOBanks(),this.setupIBanks()},r.prototype.remove=function(){return this.subDev.remove()},r.prototype.getAVBStreamIndex=function(e){if(-1!==e.indexOf("AVB Stream "))return+e.split("AVB Stream ")[1]-1},r.prototype.getHostConnectionTitle=function(){var e;return null==(e=this.dev.get("host_type"))&&(e="Computer"),e},r.prototype.getHostConnectionAbbrev=function(){var e;return null==(e=this.dev.get("host_type"))?"":"Thunderbolt"===e?"TB":e},r.prototype.getIBankTitle=function(e){var t,n,r,i;return"Computer"===(t=this.getIBankName(e))?"From Computer ("+this.getHostConnectionAbbrev()+")":t.indexOf(!1)&&"toslink"===this.dev.get("ext/ibank/"+e+"/mode")?t.replace("ADAT","TOSLink"):null!=(n=this.getAVBStreamIndex(t))&&(null!=(r=this.dev.avb.getNthInputStreamTalker(this.dev.get("uid"),n))&&(i=this.dev.avb.getTalkerTitle(this.dev.get("uid"),r)),null!=i)?i:t},r.prototype.getIBankName=function(e){return this.dev.get("ext/ibank/"+e+"/name")},r.prototype.getIBankMaxCh=function(e){return this.dev.get("ext/ibank/"+e+"/maxCh")},r.prototype.getIBankNumCh=function(e){return this.dev.get("ext/ibank/"+e+"/numCh")},r.prototype.getIBankUserCh=function(e){return this.dev.get("ext/ibank/"+e+"/userCh")},r.prototype.getIBankCalcCh=function(e){return+this.dev.get("meta/ibank/"+e+"/calcCh")},r.prototype.getIBankChName=function(e){var t,n;return t=e.bn,n=e.cn,this.dev.get("ext/ibank/"+t+"/ch/"+n+"/name")||this.getChNameFromBank({Bank:"IBank"},t,n)},r.prototype.setIBankChName=function(e,t){var n,r;return n=e.bn,r=e.cn,this.dev.set("ext/ibank/"+n+"/ch/"+r+"/name",t)},r.prototype.getOBankName=function(e){return this.dev.get("ext/obank/"+e+"/name")},r.prototype.getOBankTitle=function(e){var t;return"Computer"===(t=this.getOBankName(e))?"To Computer ("+this.getHostConnectionAbbrev()+")":t.indexOf(!1)&&"toslink"===this.dev.get("ext/obank/"+e+"/mode")?t.replace("ADAT","TOSLink"):t},r.prototype.getOBankMaxCh=function(e){return this.dev.get("ext/obank/"+e+"/maxCh")},r.prototype.getOBankNumCh=function(e){return this.dev.get("ext/obank/"+e+"/numCh")},r.prototype.getOBankUserCh=function(e){return this.dev.get("ext/obank/"+e+"/userCh")},r.prototype.getOBankCalcCh=function(e){return+this.dev.get("meta/obank/"+e+"/calcCh")},r.prototype.getOBankChName=function(e){var t,n;return t=e.bn,n=e.cn,this.dev.get("ext/obank/"+t+"/ch/"+n+"/name")||this.getChNameFromBank({Bank:"OBank"},t,n)},r.prototype.setOBankChName=function(e,t){var n,r;return n=e.bn,r=e.cn,this.dev.set("ext/obank/"+n+"/ch/"+r+"/name",t)},r.prototype.setOBankUserCh=function(e,t){return this.dev.set("ext/obank/"+e+"/userCh",t)},r.prototype.setIBankUserCh=function(e,t){return this.dev.set("ext/ibank/"+e+"/userCh",t)},r.prototype.getOBankChSrc=function(e){var t,n;return t=e.bn,n=e.cn,this.dev.get("meta/obank/"+t+"/ch/"+n+"/src")},r.prototype.setOBankChSrc=function(e,t){var n,r;return n=e.bn,r=e.cn,this.dev.set("ext/obank/"+n+"/ch/"+r+"/src",t)},r.prototype.getOBankChSrcName=function(e){var t,n,r;return t=e.bn,n=e.cn,2===(r=this.getOBankChSrc({bn:t,cn:n}).split(":")).length?this.getIBankChName({bn:r[0],cn:r[1]}):""},r.prototype.getNthOutputStreamOBank=function(e){return this.streamOBanks[e]},r.prototype.getNthInputStreamIBank=function(e){return this.streamIBanks[e]},r.prototype.getIBankChMeterIndex=function(e){var t,n,r,i,o,a;if(t=e.bn,n=e.cn,0===this.getIBankCalcCh(t))return null;for(i=+n,r=o=0,a=+t;0<=a?o<a:o>a;r=0<=a?++o:--o)i+=this.getIBankCalcCh(r);return i},r.prototype.getOBankChMeterIndex=function(e){var t,n,r,i,o,a;return t=e.bn,n=e.cn,0===this.getOBankCalcCh(t)?null:(a=this.getOBankChSrc({bn:t,cn:n}))?(r=(o=a.split(":"))[0],i=o[1],this.getIBankChMeterIndex({bn:r,cn:i})):null},r.prototype.updateBankChName=function(e){var t,n,r;return r=e.io,t=e.bn,n=e.cn,this.dev.set("meta/"+r.bank+"/"+t+"/ch/"+n+"/name",this["get"+r.Bank+"ChName"]({bn:t,cn:n}))},r.prototype.updateOBankRouting=function(e){var t,n,r,i,o,a,s,l;if(t=e.bn,n=e.cn,i=(l=this.dev.get("ext/obank/"+t+"/ch/"+n+"/src").split(":"))[0],s="meta/obank/"+t+"/ch/"+n+"/src",null!=(o=l[1]))return r=o<+this.getIBankCalcCh(i),a=n<+this.getOBankCalcCh(t),r&&a?this.dev.set(s,i+":"+o):this.dev.set(s,"");this.dev.set(s,"")},r.prototype.mapIOBanks=function(e,t){var n,r,i,o,a,s,l,u,c,h,p,d,f,v,m,g,b;for(n=0,f=[];d=this["get"+t.Bank+"Name"](n);)f.push(d),n++;for(g=this.dev.get("ext/"+t.bank+"DisplayOrder"),m={},v={},i={},r=o=0,l=f.length;o<l;r=++o)a=f[r],m[a]=[1,r],v[r]=a,i[a]=r;if(g)for(r=s=0,u=(b=g.split(":")).length;s<u;r=++s)a=b[r],m[v[a]]=[0,r];for(f.sort(function(e,t){return m[e][0]>m[t][0]?1:m[e][0]<m[t][0]?-1:m[e][1]>m[t][1]?1:-1}),h=0,c=f.length;h<c;h++)e(p=f[h],i[p])},r.prototype.mapOBanks=function(e){return this.mapIOBanks(e,{Bank:"OBank",bank:"obank"})},r.prototype.mapIBanks=function(e){return this.mapIOBanks(e,{Bank:"IBank",bank:"ibank"})},r.prototype.getChNameFromBank=function(t,r,i){var o,a,s,l,u,c,h,p,d;return a=this.getIBankName(r),"IBank"===t.Bank&&"AVB"===(s=a.split(" "))[0]&&(p=+s[2]-1,d=this.dev.get("uid"),l=this.dev.get("avb/"+d+"/current_configuration"),void 0!==(o=this.dev.get("avb/"+d+"/cfg/"+l+"/input_streams/"+p+"/ch/"+i+"/name"))&&""!==o)?o:"Mix Post FX"===(a=this["get"+t.Bank+"Title"](r))&&null!=this.dev.mixer?this.dev.mixer.getStripName("chan/"+i)+" Post FX":(0===a.lastIndexOf("Mix ",0)&&(a=a.slice(4)),null!==(c=/^(.*) (\d+)-(\d+)$/.exec(a))?c[1]+" "+(+i+ +c[2]):((c=/(From|To) Computer/.exec(a))&&(a=c[1]+" Computer"),h=["Main","Monitor","Aux","Phones","Mix Main","Mix Monitor","Mix Reverb","SPDIF","TOSLink"],u=2===this["get"+t.Bank+"NumCh"](r)&&n.some(h,function(e){return a.slice(0,e.length)===e})?e.wouldBeFirstChannel(i)?"L":"R":""+(+i+1),a+" "+u))},r.prototype.setupOBanks=function(){return this.streamOBanks={},this.mapOBanks((e=this,function(n,r){var i,o,a,s;for(new t.Function(e.subDev,function(e){var t,n;return t=e.get("ext/obank/"+r+"/numCh"),n=e.get("ext/obank/"+r+"/userCh"),e.set("meta/obank/"+r+"/calcCh",Math.min(t,n))}),-1!==n.indexOf("AVB Stream ")&&(e.streamOBanks[+n.split("AVB Stream ")[1]-1]=r),s=[],i=o=0,a=e.getOBankMaxCh(r);0<=a?o<a:o>a;i=0<=a?++o:--o)s.push(function(n,r){return new t.Function(e.subDev,function(e){return e.router.updateOBankRouting({bn:n,cn:r})}),new t.Function(e.subDev,function(e){return e.router.updateBankChName({io:{bank:"obank",Bank:"OBank"},bn:n,cn:r})})}(r,i));return s}));var e},r.prototype.setupIBanks=function(){return this.streamIBanks={},this.mapIBanks((e=this,function(n,r){var i,o,a,s;for(new t.Function(e.subDev,function(e){var t,n;return t=e.get("ext/ibank/"+r+"/numCh"),n=e.get("ext/ibank/"+r+"/userCh"),e.set("meta/ibank/"+r+"/calcCh",Math.min(t,n))}),-1!==n.indexOf("AVB Stream ")&&(e.streamIBanks[+n.split("AVB Stream ")[1]-1]=r),s=[],i=o=0,a=e.getIBankMaxCh(r);0<=a?o<a:o>a;i=0<=a?++o:--o)s.push(function(n,r){return new t.Function(e.subDev,function(e){return e.router.updateBankChName({io:{bank:"ibank",Bank:"IBank"},bn:n,cn:r})})}(r,i));return s}));var e},r}()}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}e.exports=function(e,t){if(i(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(!r.call(t,n[a])||!i(e[n[a]],t[n[a]]))return!1;return!0}},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=n);return t}},function(e,t,n){"use strict";var r,i;r=[n(2),n(16),n(3),n(32),n(34),n(30),n(1),n(5)],void 0===(i=function(e,t,n,r,i,o,a,s){var l,u=function(e,t){for(var n in t)c.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},c={}.hasOwnProperty;return(l={}).Menu=function(e){function r(e){var t,i;r.__super__.constructor.call(this,e.dev),this.node=n.appendSpec(e.node,{type:"select",className:"selectMenu "+(null!=(t=e.extraCss)?t:"")}),this.dev=e.dev,this.opts=[],null!=e.showOpt&&(this.showOpt=e.showOpt),null!=e.getOpts&&(this.getOpts=e.getOpts),this.forceNumeric=e.forceNumeric,this.showUnknownForEmpty=e.showUnknownForEmpty,this.lastVal=null,this.menuSetupReaction=new s.Function(e.dev,(i=this,function(e){return i.doSetupMenu(e)})),this.rewire(e.path),this.invalidOption=null}return u(r,e),r.prototype.doSetupMenu=function(e){var t,r,i,o,a,l,u,c,h,p,d,f;for(null==e&&(e=this.dev),n.removeChildren(this.node),this.invalidOption=null,this.optOptions=[],r=0,o=(h=null!=(c=this.optReactions)?c:[]).length;r<o;r++)h[r].remove();for(this.optReactions=[],this.opts=this.getOpts(e),d=null!=(p=this.opts)?p:[],f=this,t=function(e){return f.optReactions.push(new s.Function(f.dev,function(t){return e.textContent=f.showOpt(u,t)}))},i=0,a=d.length;i<a;i++)u=d[i],this.node.disabled=!1,t(l=n.appendSpec(this.node,{type:"option",value:u,className:"menuItem"})),this.optOptions.push(l);return this.showUnknownForEmpty&&0===this.opts.length&&(this.node.disabled=!0,(l=n.appendSpec(this.node,{type:"option"})).textContent="Unknown"),this.update(this.lastVal)},r.prototype.setupMenu=function(){return this.menuSetupReaction.inval()},r.prototype.showOpt=function(e){return e},r.prototype.getOpts=function(){return[]},r.prototype.addInteraction=function(){return this.forceNumeric?this.interaction=new t.FunctionMenu({node:this.node,f:(e=this,function(t){return e.dev.set(e.path,+t)})}):this.interaction=new t.FunctionMenu({node:this.node,f:function(e){return function(t){return e.dev.set(e.path,t)}}(this)});var e},r.prototype.removeInteraction=function(){var e;return null!=(e=this.interaction)?e.remove():void 0},r.prototype.update=function(e){var t,r,i,o,a;if(this.opts.length&&null!=e){for(this.lastVal=e,t=!1,null!=this.invalidOption&&n.remove(this.invalidOption),this.invalidOption=null,this.removeInteraction(),r=o=0,a=this.opts.length;0<=a?o<a:o>a;r=0<=a?++o:--o)""+e==""+this.opts[r]?(t=!0,this.optOptions[r].selected=!0):this.optOptions[r].selected=!1;var l;return t||(this.invalidOption=n.appendSpec(this.node,{type:"option",value:""+e,disabled:!0,selected:!0}),null==this.optReactions&&(this.optReactions=[]),i=this.invalidOption,this.optReactions.push(new s.Function(this.dev,(l=this,function(t){return i.textContent=l.showOpt(e,t)})))),this.addInteraction()}},r.prototype.remove=function(){var e,t,i,o;for(this.menuSetupReaction.remove(),e=0,t=(o=null!=(i=this.optReactions)?i:[]).length;e<t;e++)o[e].remove();return this.optReactions=[],n.remove(this.node),r.__super__.remove.call(this)},r}(s.Control),l.OptionListMenu=function(e){function t(e){t.__super__.constructor.call(this,e),this.rewire(e.path,e.indexPath)}return u(t,e),t.prototype.getOpts=function(e){return this.indexPath?e.get(this.indexPath).split(":"):[]},t.prototype.rewireIndex=function(e){return this.indexPath=e,this.setupMenu()},t.prototype.rewire=function(e,n){return null!=n&&this.rewireIndex(n),t.__super__.rewire.call(this,e)},t}(l.Menu),l.MonitorAssignMenu=function(e){function t(e){var r;t.__super__.constructor.call(this,a.extend(e,{forceNumeric:"true"})),this.disabler=new s.Function(e.dev,(r=this,function(e){var t;return t=!!+e.get("mix/monitor/0/auto")&&+e.get("mix/monitor/0/solocount")>0&&+e.get("mix/monitor/0/assign")>=0,n.setClass(r.node,"ignored",t)}))}return u(t,e),t.prototype.remove=function(){return this.disabler.remove(),t.__super__.remove.call(this)},t.prototype.showOpt=function(e){var t,n;return null==(n=this.typeMap[e])?"Unknown":(t=e-this.baseIndex[n],"solo"===n?"Solo Bus":"main"===n?"Main Mix":this.dev.mixer.getBusName(this.getBusID(n,t)))},t.prototype.getBusID=function(e,t){return e+"/"+t},t.prototype.getFormatPath=function(e){return"mix/"+e+"/config/format"},t.prototype.shouldShowFormat=function(e){var t,n;return n=e[0],t=e[1],1===n||0==(1&t)},t.prototype.width=68,t.prototype.update=function(e){var r,i,o;if(e=+e,null!=this.typeMap)return o=this.typeMap[e],r=e-this.baseIndex[o],this.shouldShowFormat(this.dev.mixer.getStripFormat(this.getBusID(o,r)))||(e=this.dev.mixer.getOtherStereoCh(e)),t.__super__.update.call(this,e),(i=n.appendSpec(document.body,{type:"span",className:"selectMenu stringTest"})).textContent=this.node.item(this.node.selectedIndex).textContent,this.node.style["text-indent"]=Math.max((this.width-i.offsetWidth)/2,0)-1+"px",n.remove(i)},t.prototype.getOpts=function(e){var t,n,r,i,o,a,s,l,u,c,h,p,d;if(!this.indexPath)return[];for(this.typeMap={},this.baseIndex={},c=[],n=a=0,h=(u=e.get(this.indexPath).split(":")).length;a<h;n=a+=2)for(d=u[n],r=+u[n+1],this.baseIndex[d]=r,l=e.mixer.getNumOfAvailStripType(d),"solo"===d&&(l=1),i=s=0,p=l;0<=p?s<p:s>p;i=0<=p?++s:--s)t=this.getBusID(d,i),this.getFormatPath(t),o=i+r,this.typeMap[o]=d,this.shouldShowFormat(e.mixer.getStripFormat(t))&&c.push(o);return c},t}(l.OptionListMenu),l.IndexedMenu=function(e){function t(e){this.displayName=e.displayName,null==this.displayName&&(this.displayName="object_name"),t.__super__.constructor.call(this,e)}return u(t,e),t.prototype.getPath=function(e){return this.indexPath+"/"+e+"/"+this.displayName},t.prototype.showOpt=function(e,t){return t.get(this.getPath(e))},t.prototype.getOpts=function(e){var t;return this.indexPath?function(){var n,r,i;for(i=[],t=n=0,r=e.get(this.indexPath+"/num");0<=r?n<r:n>r;t=0<=r?++n:--n)i.push(t);return i}.call(this):[]},t}(l.OptionListMenu),l.MakeShowOpt=function(e){return function(t,n){var r,i,o,a,s;for(r=0,i=e.length;r<i;r++)if(s=(o=e[r])[0],a=o[1],t===s)return a;return"unknown"}},l.MakeGetOpts=function(e){return function(t){var n,r,i,o,a;for(o=[],n=0,r=e.length;n<r;n++)a=(i=e[n])[0],i[1],o.push(a);return o}},l}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(1),n(76),n(2),n(32)],void 0===(i=function(e,t,n,r){var i,o,a,s,l,u,c,h;for(s in(o={}).hex="[0-9a-f]",o.uid=o.hex+"{16}",o.int="([0-9]+)",o.index=o.int,o.cfg=o.int,o.chantype="(chan|main|group|reverb|aux|monitor)",o.sendtype="(reverb|aux|group|main)",l={matrix:"solo|prefader|mute|pan|fader|panner",reverb:"reverbtime|hf|mf|predelay|mfratio|hfratio|tailspread|mod",eq:"freq|gain|bw|mode",comp:"release|threshold|ratio|attack|trim|peak",gate:"release|threshold|attack",leveler:"makeup|reduction|limit",hpf:"freq"},o.ctrl_param="(enable",l)u=l[s],o.ctrl_param+="|"+u,o[s+"_param"]="("+u+")";return o.ctrl_param+=")",o.eq_section="(highshelf|mid1|mid2|lowshelf)",o.bare_param="(override|solocount|auto|assign)",o.effect_resource="(hpf|gate|eq|comp|leveler|reverb)",o.effect="(hpf|gate|eq/highshelf|eq/mid1|eq/mid2|eq/lowshelf|comp|leveler|reverb|matrix)",o.ibank_or_obank="(ibank|obank)",o.input_or_output="(input|output)",a={uid:{description:"The UID of the device.  The UID is a 16 digit hexadecimal string that uniquely identifies this device on AVB networks.",type:"string",permission:"r",segment:"global",firstversion:"0.0.0"},firmware_version:{description:"The human readable firmware version number of the device that generated the datastore.",type:"string",permission:"r",segment:"global",firstversion:"1.2.5"},host_type:{description:"The type of connection to the host e.g. (USB, Thunderbolt).",type:"string",permission:"r",segment:"global",firstversion:"0.0.0",secret:!0},locked:{description:"Is the device password protected",type:"int",permission:"rw",segment:"global",firstversion:"1.2.3",secret:!0},"ext/caps/avb":{description:"The version of the `avb` section. If this path is absent, the device does not have the paths in the `avb` section.",type:"semver_opt",permission:"r",segment:"global",firstversion:"0.0.0"},"avb/devs":{description:"A list of UIDs for AVB devices on the same network as this device.",type:"string_list",permission:"r",segment:"avb",firstversion:"0.0.0"},"avb/{{uid}}/entity_model_id_h32":{description:"The vendor id of the connected AVB device.",type:"int",permission:"r",segment:"avb",firstversion:"0.0.0"},"avb/{{uid}}/entity_model_id_l32":{description:"The model id of the connected AVB device.",type:"int",permission:"r",segment:"avb",firstversion:"0.0.0"},"avb/{{uid}}/entity_name":{description:'The human readable name of the connected AVB device. On MOTU devices, this may be changed by the user or an API client (e.g., "My 1248").',type:"string",permission:"rw",segment:"avb",firstversion:"0.0.0"},"avb/{{uid}}/model_name":{description:'The human readable model name of the connected AVB device (e.g., "1248").',type:"string",permission:"r",segment:"avb",firstversion:"0.0.0"},"avb/{{uid}}/hostname":{description:'The sanitized hostname assigned to this device.  This is only valid for MOTU devices. This may be different from `entity_name` in that it won\'t have spaces or non-ascii characters (e.g., "My-1248").',type:"string_opt",permission:"r",segment:"avb",firstversion:"0.0.0"},"avb/{{uid}}/master_clock/capable":{description:"True if this device supports MOTU Master Clock.  MOTU Master Clock is a set of special datastore keys in the `avb` section that allows one device to quickly become the clock source of many others.",type:"int_bool",permission:"r",segment:"avb",firstversion:"0.0.0"},"avb/{{uid}}/master_clock/uid":{description:"The UID of the device the `master_clock` stream is connected to, or the empty string if there is no connection.  Only available for devices that are Master Clock capable (see `master_clock/capable` above).",type:"string_opt",permission:"rw",segment:"avb",firstversion:"0.0.0"},"avb/{{uid}}/vendor_name":{description:'The human readable vendor name of the connected AVB device (e.g., "MOTU").',type:"string",permission:"r",segment:"avb",firstversion:"0.0.0"},"avb/{{uid}}/firmware_version":{description:"The human readable firmware version number of the connected AVB device. For MOTU devices, this will be a semver.",type:"string",permission:"r",segment:"avb",firstversion:"0.0.0"},"avb/{{uid}}/cfg/{{cfg}}/input_streams/{{index}}/connection_status":{description:"The current connection status of the stream. eg. connected, not_connected, connecting, and failed",type:"string",permission:"r",segment:"avb",firstversion:"0.0.0"},"avb/{{uid}}/serial_number":{description:"The human readable serial number of the connected AVB device.",type:"string",permission:"r",segment:"avb",firstversion:"0.0.0"},"avb/{{uid}}/controller_ignore":{description:"True if this device should be ignored. If true, clients should not show this device in their UI.",type:"int_bool",permission:"r",segment:"avb",firstversion:"0.0.0"},"avb/{{uid}}/acquired_id":{description:"The controller UID of the controller that acquired this box, or the empty string if no controller has acquired it.  Acquisition is a part of the AVB standard that allows a controller to prevent other controllers from making changes on this device.  You cannot initiate an acquisition from the datastore API, but you should avoid making changes on a device that has been acquired elsewhere.",type:"string",permission:"r",segment:"avb",firstversion:"0.0.0"},"avb/{{uid}}/motu.mdns.type":{description:'The name of the device family for this device (e.g., "netiodevice").  This path is only valid for MOTU devices.',type:"string_opt",permission:"r",segment:"avb",firstversion:"0.0.0"},"avb/{{uid}}/apiversion":{description:"The global datastore API version of the device.  This path is only valid for MOTU devices.",type:"semver_opt",permission:"r",segment:"avb",firstversion:"0.0.0"},"avb/{{uid}}/url":{description:"The canonical url of the device.  This path is only valid for MOTU devices.",type:"string_opt",permission:"r",segment:"avb",firstversion:"0.0.0"},"avb/{{uid}}/cfg/num":{description:"The number of available avb configurations.",type:"int",permission:"r",segment:"avb",firstversion:"1.2.5"},"avb/{{uid}}/cfg/names":{description:"The name of each available avb configuration.",type:"string",permission:"r",segment:"avb",firstversion:"1.2.5"},"avb/{{uid}}/current_configuration":{description:"The index of the currently active device configuration. MOTU devices only have one configuration, index 0.  Other devices may have multiple available configurations.",type:"int",permission:"r",segment:"avb",firstversion:"0.0.0"},"avb/{{uid}}/requested_configuration":{description:"The index of the user requested device configuration. MOTU devices only have one configuration, index 0.  Other devices may have multiple available configurations. Set this value to request the device switch configurations. When the configuration change is complete the `current_configuration` path will be updated.",type:"int",permission:"w",segment:"avb",firstversion:"1.2.5"},"avb/{{uid}}/cfg/{{index}}/validation_result":{description:"Any errors or warnings about the devices potential avb interoperability.",type:"string",permission:"r",segment:"avb",firstversion:"1.2.5"},"avb/{{uid}}/cfg/{{index}}/object_name":{description:"The name of the configuration with the given index.",type:"string",permission:"r",segment:"avb",firstversion:"0.0.0"},"avb/{{uid}}/cfg/{{index}}/identify":{description:"True if the configuration is in identify mode. What identify mode means depends on the device.  For MOTU devices, identify will flash the front panel backlight.",type:"int_bool",permission:"rw",segment:"avb",firstversion:"0.0.0"},"avb/{{uid}}/cfg/{{index}}/current_sampling_rate":{description:"The sampling rate of the configuration with the given index.",type:"int",permission:"rw",segment:"avb",firstversion:"0.0.0"},"avb/{{uid}}/cfg/{{index}}/sample_rates":{description:"A list of allowed sample rates for the configuration with the given index.",type:"int_list",permission:"r",segment:"avb",firstversion:"0.0.0"},"avb/{{uid}}/cfg/{{index}}/clock_source_index":{description:"The currently chosen clock source for the configuration with the given index.",type:"int",permission:"rw",segment:"avb",firstversion:"0.0.0"},"avb/{{uid}}/cfg/{{index}}/clock_sources/num":{description:"The number of available clock sources for the given configuration.",type:"int",permission:"r",segment:"avb",firstversion:"0.0.0"},"avb/{{uid}}/cfg/{{index}}/clock_sources/{{index}}/object_name":{description:"The name of the clock source with the given index.",type:"string",permission:"r",segment:"avb",firstversion:"0.0.0"},"avb/{{uid}}/cfg/{{index}}/clock_sources/{{index}}/type":{description:'The type of the clock source with the given index.  The value will be one of "`internal`", "`external`", or "`stream`".',type:"string",permission:"r",segment:"avb",firstversion:"0.0.0"},"avb/{{uid}}/cfg/{{index}}/clock_sources/{{index}}/stream_id":{description:'If the type of the clock source is "`stream`", the id of the stream from which it derives its clock.  This path is only valid if the clock is a `stream`.',type:"int_opt",permission:"r",segment:"avb",firstversion:"0.0.0"},"avb/{{uid}}/cfg/{{index}}/{{input_or_output}}_streams/num":{description:"The number of available input or output AVB streams.",type:"int",permission:"r",segment:"avb",firstversion:"0.0.0"},"avb/{{uid}}/cfg/{{index}}/{{input_or_output}}_streams/requested_num":{description:"The number of user requested input or output AVB streams. Changing stream counts can take some time. When the stream count is finished changing the number of streams will be reflected in the `num` path.",type:"int",permission:"rw",segment:"avb",firstversion:"1.2.5"},"avb/{{uid}}/cfg/{{index}}/{{input_or_output}}_streams/{{index}}/object_name":{description:"The name of the input or output stream with the given index",type:"string",permission:"r",segment:"avb",firstversion:"0.0.0"},"avb/{{uid}}/cfg/{{index}}/{{input_or_output}}_streams/{{index}}/num_ch":{description:"The number of channels on the input or output stream.",type:"int",permission:"r",segment:"avb",firstversion:"0.0.0"},"avb/{{uid}}/cfg/{{index}}/{{input_or_output}}_streams/{{index}}/sample_rates":{description:"The sampling rates supported by this input or output stream.",type:"string",permission:"r",segment:"avb",firstversion:"1.2.5"},"avb/{{uid}}/cfg/{{index}}/input_streams/{{index}}/talker":{description:"The talker for the given input stream.  The first element of the pair is the device UID, the second element of the pair is the stream ID that this stream is connected to.",type:"string_pair",permission:"rw",segment:"avb",firstversion:"0.0.0"},"ext/clockLocked":{description:"True if the clock is locked.",type:"int_bool",permission:"r",segment:"avb",firstversion:"0.0.0"},"ext/wordClockMode":{description:'"1x" if the word clock out should always be a 1x rate or "follow" if it should always follow the system clock',type:"string",permission:"rw",segment:"router",firstversion:"0.2.0"},"ext/wordClockThru":{description:'"thru" if the word clock output should be the same as the word clock input or "out" if it should be determined by the system clock',type:"string",permission:"rw",segment:"router",firstversion:"0.2.0"},"ext/smuxPerBank":{description:"True if each optical bank has its own SMUX setting",type:"int_bool",permission:"r",segment:"router",firstversion:"0.2.0"},"ext/dmaEnabled":{description:"Is the DMA enabled?",type:"int_bool",permission:"r",segment:"avb",firstversion:"0.0.0",secret:!0},"ext/configuredRate":{description:"What is the currently configured sample rate? (this may be different than the sample rate over AVB temporarily)",type:"int",permission:"r",segment:"avb",firstversion:"0.0.0",secret:!0},"ext/osc_port":{description:"Port for OSC server",type:"string",permission:"r",segment:"global",firstversion:"0.0.0"},"ext/{{ibank_or_obank}}/{{index}}/mode":{description:"",type:"string_opt",permission:"r",segment:"global",firstversion:"0.0.0"},"ext/caps/router":{description:"The version of the router section. If this path is absent, the device does not have the paths in the `router` section.",type:"semver_opt",permission:"r",segment:"global",firstversion:"0.0.0"},"ext/vlimit/lookahead":{description:"True if vLimit lookahead is enabled. vLimit lookahead provides better input limiting, at the cost of small amounts of extra latency. This path is only present on devices with access to vLimit.",type:"int_bool_opt",permission:"rw",segment:"router",firstversion:"0.0.0"},"ext/caps/activityMeters":{description:"semver version of the router activity meters",type:"semver_opt",permission:"r",segment:"router",firstversion:"0.0.0",secret:!0},"ext/{{ibank_or_obank}}DisplayOrder":{description:"The order in which to display the banks, encoded as a :-separated list.  Any bank not in the list goes in numerical order.",type:"int_list",permission:"r",segment:"router",firstversion:"0.0.0",secret:!0},"ext/enableHostVolControls":{description:"True if the comptuter is allowed to control the volumes of comptuer-to-device streams.",type:"int_bool",permission:"rw",segment:"router",firstversion:"0.1.0"},"ext/maxUSBToHost":{description:"Valid only when this device is connected to the computer via USB. This chooses the max number of channels/max sample rate tradeoff for the to/from computer input/output banks.",type:"int",permission:"rw",segment:"router",firstversion:"0.1.0"},"ext/{{ibank_or_obank}}/{{index}}/name":{description:"The name of the input or output bank",type:"string",permission:"r",segment:"router",firstversion:"0.0.0"},"ext/{{ibank_or_obank}}/{{index}}/maxCh":{description:"The maximum possible number of channels in the input or output bank.",type:"int",permission:"r",segment:"router",firstversion:"0.0.0"},"ext/{{ibank_or_obank}}/{{index}}/numCh":{description:"The number of channels available in this bank at its current sample rate.",type:"int",permission:"r",segment:"router",firstversion:"0.0.0"},"ext/{{ibank_or_obank}}/{{index}}/userCh":{description:"The number of channels that the user has enabled for this bank.",type:"int",permission:"rw",segment:"router",firstversion:"0.0.0"},"ext/{{ibank_or_obank}}/{{index}}/calcCh":{description:"The number of channels that are actually active. This is always the minimum of `ext/<ibank_or_obank>/<index>/userCh` and `ext/<ibank_or_obank>/<index>/userCh`.",type:"int",permission:"r",segment:"router",firstversion:"0.0.0"},"ext/{{ibank_or_obank}}/{{index}}/smux":{description:'For Optical banks, either "toslink" or "adat"',type:"string",permission:"rw",segment:"router",firstversion:"0.2.0"},"ext/ibank/{{index}}/madiClock":{description:'For MADI input banks, this is the 2x clock mode of the input stream-- "1x" for 48/44.1kHz frame clock, or "2x" for 88.2/96kHz frame clock',type:"string",permission:"r",segment:"router",firstversion:"0.2.0"},"ext/obank/{{index}}/madiClock":{description:'For MADI output banks, this is the 2x clock mode of the output stream-- "1x" for 48/44.1kHz frame clock, or "2x" for 88.2/96kHz frame clock',type:"string",permission:"rw",segment:"router",firstversion:"0.2.0"},"ext/ibank/{{index}}/madiFormat":{description:"56 or 64 representing 56 or 64 MADI channels at 1x, 28 or 32 channels at 2x, or 14 or 16 channels at 4x, respectively",type:"int",permission:"r",segment:"router",firstversion:"0.2.0"},"ext/obank/{{index}}/madiFormat":{description:"56 or 64 representing 56 or 64 MADI channels at 1x, 28 or 32 channels at 2x, or 14 or 16 channels at 4x, respectively",type:"int",permission:"rw",segment:"router",firstversion:"0.2.0"},"ext/{{ibank_or_obank}}/{{index}}/ch/{{index}}/name":{description:"The channel's name.",type:"string",permission:"rw",segment:"router",firstversion:"0.0.0"},"ext/{{ibank_or_obank}}/{{index}}/ch/{{index}}/defaultName":{description:"The remote name of an AVB channel source.",type:"string",permission:"r",segment:"router",firstversion:"1.2.5"},"ext/{{ibank_or_obank}}/{{index}}/ch/{{index}}/validControls":{description:"A colon seperated list of the controls (trim, pad, etc..) that are supported by the remote channel source.",type:"string",permission:"r",segment:"router",firstversion:"1.2.5"},"ext/obank/{{index}}/ch/{{index}}/src":{description:'If the output channel is connected to an input bank, a ":" separated pair in the form "<input bank>:<input channel>", otherwise, if unrouted, an empty string.',type:"int_pair_opt",permission:"rw",segment:"router",firstversion:"0.0.0"},"ext/{{ibank_or_obank}}/{{index}}/ch/{{index}}/phase":{description:"True if the signal has its phase inverted.  This is only applicable to some input or output channels.",type:"int_bool_opt",permission:"rw",segment:"router",firstversion:"0.0.0"},"ext/{{ibank_or_obank}}/{{index}}/ch/{{index}}/pad":{description:"True if the 20 dB pad is engaged.  This is only applicable to some input or output channels.",type:"int_bool_opt",permission:"rw",segment:"router",firstversion:"0.0.0"},"ext/ibank/{{index}}/ch/{{index}}/48V":{description:"True if the 48V phantom power is engaged.  This is only applicable to some input channels.",type:"int_bool_opt",permission:"rw",segment:"router",firstversion:"0.0.0"},"ext/ibank/{{index}}/ch/{{index}}/vlLimit":{description:"True if the vLimit limiter is engaged.  This is only applicable to some input channels.",type:"int_bool_opt",permission:"rw",segment:"router",firstversion:"0.0.0"},"ext/ibank/{{index}}/ch/{{index}}/vlClip":{description:"True if vLimit clip is engaged.  This is only applicable to some input channels.",type:"int_bool_opt",permission:"rw",segment:"router",firstversion:"0.0.0"},"ext/{{ibank_or_obank}}/{{index}}/ch/{{index}}/trim":{description:"A dB-value for how much to trim this input or output channel.  The range of this parameter is indicated by `ext/<ibank_or_obank>/<index>/ch/<index>/trimRange`.  Only available for certain input or output channels.",type:"int_opt",permission:"rw",segment:"router",firstversion:"0.0.0"},"ext/{{ibank_or_obank}}/{{index}}/ch/{{index}}/trimRange":{description:"A pair of the minimum followed by maximum values allowed for the trim parameter on the input or output channel.",type:"int_pair_opt",permission:"rw",segment:"router",firstversion:"0.0.0"},"ext/{{ibank_or_obank}}/{{index}}/ch/{{index}}/stereoTrim":{description:"A dB-value for how much to trim this input or output channel.  This stereo trim affect both this channel and the next one.  The range of this parameter is indicated by `ext/<ibank_or_obank>/<index>/ch/<index>/stereoTrimRange`.  Only available for certain input or output channels.",type:"int_opt",permission:"rw",segment:"router",firstversion:"0.0.0"},"ext/{{ibank_or_obank}}/{{index}}/ch/{{index}}/stereoTrimRange":{description:"A pair of the minimum followed by maximum values allowed for the stereoTrim parameter on the input or output channel.",type:"int_pair_opt",permission:"rw",segment:"router",firstversion:"0.0.0"},"ext/{{ibank_or_obank}}/{{index}}/ch/{{index}}/connection":{description:"True if the channel has a physical connector plugged in (e.g., an audio jack).  This information may not be available for all banks or devices.",type:"int_bool_opt",permission:"r",segment:"router",firstversion:"0.0.0"},"smpte/format":{description:"What is the format of the incoming LTC?",type:"string",permission:"rw",segment:"ltc",firstversion:"0.0.0"},"smpte/freewheel":{description:"Should we freewheel upon loss of LTC signal?",type:"string",permission:"rw",segment:"ltc",firstversion:"0.0.0"},"smpte/stopfreewheel":{description:"A count of how many times the stop-freewheel button has been pressed",type:"int_opt",permission:"rw",segment:"ltc",firstversion:"0.0.0"},"smpte/channel":{description:"The channel number that smpte is being routed in on",type:"int_opt",permission:"rw",segment:"ltc",firstversion:"0.0.0"},"smpte/enableautodetect":{description:"True if autodetect of smpte format is enabled",type:"int_bool_opt",permission:"rw",segment:"ltc",firstversion:"0.0.0"},"smpte/ltcclocklocked":{description:"True if clock is resolved to incoming smpte signal",type:"int_bool_opt",permission:"rw",segment:"ltc",firstversion:"0.0.0"},"smpte/clockcanslavetoltc":{description:"True if clock is device supports clocking to LTC signal",type:"int_bool",permission:"r",segment:"ltc",firstversion:"0.0.0"},"host/os":{description:"The operating system on the computer that the device was last plugged into",type:"string",permission:"rw",segment:"host",firstversion:"0.0.0"},"host/driver_version":{description:"The driver version installed on the computer for the current USB or Thunderbolt connection",type:"string_opt",permission:"rw",segment:"host",firstversion:"0.0.0"},"host/win/current_buffer_size_1x":{description:"Only valid for windows devices - the buffer size used by the windows driver",type:"int",permission:"rw",segment:"host",firstversion:"0.0.0"},"host/win/buffer_sizes_1x":{description:"Only valid for windows devices - potential buffer sizes used by windows drivers",type:"string",permission:"rw",segment:"host",firstversion:"0.0.0"},"ext/caps/mixer":{description:"The version of the mixer section. If this path is absent, the device does not have the paths in the `mixer` section.",type:"semver_opt",permission:"r",segment:"global",firstversion:"0.0.0"},"ext/caps/meters":{description:"semver version of the meter API.",type:"semver_opt",permission:"r",segment:"global",firstversion:"1.0.0",secret:!0},"mix/meterStripOrder":{description:'a ":"-separated list of channel types indicating the order the types appear in the meters.',type:"string_list",permission:"r",segment:"mixer",firstversion:"1.0.0",secret:!0},"mix/ctrls/dsp/usage":{description:"The approximate percentage of DSP resources used for mixing and effects.",type:"int",permission:"r",segment:"mixer",firstversion:"1.0.0"},"mix/ctrls/{{effect_resource}}/avail":{description:"True if there are enough DSP resources to enable one more of the given effect.",type:"int_bool_opt",permission:"r",segment:"mixer",firstversion:"1.0.0"},"mix/ctrls/{{effect}}/{{ctrl_param}}":{description:"For each available effect and each available control on that effect, this path will contain information the type, default value, and range of that control (see above for a description of the `paraminfo` type).  Available effects will depend on the exact model and version.  One example path would be `mix/ctrls/gate/release`, containing information about the `release` parameter of the `gate` effect.  Check your device's datastore to see the effects available on your device.",type:"paraminfo_opt",permission:"r",segment:"mixer",firstversion:"1.0.0",secret:!0},"mix/ctrls/{{bare_param}}":{description:"For each available channel control, this path will contain information the type, default value, and range of that control (see above for a description of the `paraminfo` type).  Available controls will depend on the exact model and version.  One example path would be `mix/ctrls/override`, containing information about the `override` parameter.  Check your device's datastore to see the effects available on your device.",type:"paraminfo",permission:"r",segment:"mixer",firstversion:"1.0.0",secret:!0},"mix/ctrls/assignids":{description:'A list of strings. Even elements are either the word "solo" or the name of a channel type.  Odd elements are numbers, referring to the so-called "assign-id" of the first channel of the type referred to by the previous element.  The assign-id of other channels of the type can be calculated by adding the channel index to the assign-id of the first channel.  The number after "solo" refers to the assign-id of the solo bus.  assign-ids are used as values for "assign" controls, like those on monitor busses.',type:"string_list",permission:"r",segment:"mixer",firstversion:"1.0.0",secret:!0},"mix/ctrls/{{chantype}}":{description:'A ":"-separated list of effects and bare parameters that are present for this channel type.  `<chantype>` is one of the channel types available on your mixer, Either `chan`, `main`, `group`, `reverb`, `aux`, or `monitor`.  To see exactly which channel types are available on your mixer, check your device\'s datastore.',type:"string_list",permission:"r",segment:"mixer",firstversion:"1.0.0",secret:!0},"mix/{{chantype}}/{{index}}/config/format":{description:'A pair of the number of channels in the channel group and the index of this channel in the group.  i.e., "2:0" for the first channel in a stereo pair, "1:0" for a mono channel',type:"int_pair",permission:"rw",segment:"mixer",firstversion:"1.0.0",secret:!0},"mix/{{chantype}}/{{index}}/{{bare_param}}":{description:"Bare parameters for the channel.  Each path is applicable to channel types with that parameter according to `mix/ctrls/<chantype>`.  Some examples of of bare parameters are `assign`, `override`, and `solocount`.",type:"real_opt",permission:"rw",segment:"mixer",firstversion:"1.0.0",secret:!0},"mix/{{chantype}}/{{index}}/{{effect}}/enable":{description:"Is the effect enabled? Each path is only applicable to channel types with that effect according to `mix/ctrls/<chantype>`",type:"real_bool_opt",permission:"rw",segment:"mixer",firstversion:"1.0.0",secret:!0},"mix/{{chantype}}/{{index}}/matrix/{{matrix_param}}":{description:"Parameters for the matrix.  Only applicable to channels with a matrix according to `mix/ctrls/<chantype>`.  One example path is `mix/chan/0/matrix/fader`.",type:"real_opt",permission:"rw",segment:"mixer",firstversion:"1.0.0",secret:!0},"mix/{{chantype}}/{{index}}/matrix/{{sendtype}}/{{index}}/send":{description:"The gain with which to send the channel to the requested send (aux or group).",type:"real_opt",permission:"rw",segment:"mixer",firstversion:"1.0.0",secret:!0},"mix/{{chantype}}/{{index}}/matrix/{{sendtype}}/{{index}}/pan":{description:"The pan with which to send the channel to the requested send (aux or group).",type:"real_opt",permission:"rw",segment:"mixer",firstversion:"1.0.0",secret:!0},"mix/{{chantype}}/{{index}}/hpf/{{hpf_param}}":{description:"Parameters for the high pass filter. Only applicable to channels with an `hpf` according to `mix/ctrls/<chantype>`.  One example path is `mix/chan/0/hpf/freq`. To see exactly which parameters are available, check paths in `mix/ctrls/hpf/`.",type:"real",permission:"rw",segment:"mixer",firstversion:"1.0.0",secret:!0},"mix/{{chantype}}/{{index}}/eq/{{eq_section}}/{{eq_param}}":{description:"Parameters for the eq section.  Only applicable to channels with an `eq` according to `mix/ctrls/<chantype>`.  One example path is `mix/chan/0/eq/highshelf/freq`.  To see exactly which parameters are available, check paths in `mix/ctrls/eq/`.",type:"real",permission:"rw",segment:"mixer",firstversion:"1.0.0",secret:!0},"mix/{{chantype}}/{{index}}/gate/{{gate_param}}":{description:"Parameters for the gate effect. Only applicable to channels with a `gate` according to `mix/ctrls/<chantype>`.  One example path is `mix/chan/0/gate/threshold`.   To see exactly which parameters are available, check paths in `mix/ctrls/gate/`.",type:"real",permission:"rw",segment:"mixer",firstversion:"1.0.0",secret:!0},"mix/{{chantype}}/{{index}}/leveler/{{leveler_param}}":{description:"Parameters for the leveler effect. Only applicable to channels with a `leveler` according to `mix/ctrls/<chantype>`.  One example path is `mix/main/0/leveler/limit`.   To see exactly which parameters are available, check paths in `mix/ctrls/leveler/`.",type:"real",permission:"rw",segment:"mixer",firstversion:"1.0.0",secret:!0},"mix/{{chantype}}/{{index}}/comp/{{comp_param}}":{description:"Parameters for the compressor effect. Only applicable to channels with a `comp` according to `mix/ctrls/<chantype>`.  One example path is `mix/chan/0/comp/threshold`.   To see exactly which parameters are available, check paths in `mix/ctrls/comp/`.",type:"real",permission:"rw",segment:"mixer",firstversion:"1.0.0",secret:!0},"mix/{{chantype}}/{{index}}/reverb/{{reverb_param}}":{description:"Parameters for the reverb effect. Only applicable to channels with a `reverb` according to `mix/ctrls/<chantype>`.  One example path is `mix/chan/0/reverb/hf`.   To see exactly which parameters are available, check paths in `mix/ctrls/reverb/`.",type:"real",permission:"rw",segment:"mixer",firstversion:"1.0.0",secret:!0},"ext/caps/preset":{description:"The semver version of the preset section.",type:"semver_opt",permission:"r",segment:"global",firstversion:"0.0.0",secret:!0},"ext/presets/load":{description:"a path for loading presets - the device will set this to 0 when it is done applying the preset.",type:"int",permission:"w",segment:"Preset Settings",firstversion:"0.0.0",secret:!0},"ext/presets/user":{description:'a ":"-separated list of user presets.  Each element divisible by three has a preset id, then the next element has that preset\'s name, then the next element has a user-defined preset scope string',type:"string_list",permission:"r",segment:"Preset Settings",firstversion:"0.0.0",secret:!0},"ext/presets/device":{description:'a ":"-separated list of device presets.  Each even element is a preset id, and each odd element is the name associated with the previous element.',type:"string_list",permission:"r",segment:"Preset Settings",firstversion:"0.0.0",secret:!0},"ext/caps/firmware_update":{description:"semver version of the firmware update capability",type:"semver_opt",permission:"r",segment:"global",firstversion:"0.0.0",secret:!0},"ext/caps/quick_setup":{description:"semver version of the quick setup capability",type:"semver_opt",permission:"r",segment:"global",firstversion:"0.0.0",secret:!0},"ext/need_quick_setup":{description:"Should the user be forced into the quick setup upon launch? 0 if no, non-zero if yes",type:"int",permission:"rw",segment:"Quick Setup Settings",firstversion:"0.0.0",secret:!0},update_channel:{description:"for internal use only",type:"string",permission:"r",segment:"Update Settings",firstversion:"0.0.0",secret:!0}},i={semver:function(e){return t.valid(e)},int:function(t){return t===~~t&&e.isNumber(t)},real:e.isNumber,string:e.isString,paraminfo:function(e){return new r(e.split(":")),!0}},h={bool:function(e,t,n){return c(e,t,n)},list:function(t,n,r){var i,o,a,s;if(!e.isString(n))return!1;for(o=0,a=(s=n.split(":")).length;o<a;o++)if(i=s[o],!c(t,i,r)&&!c(t,+i,r))return!1;return!0},pair:function(e,t,n){return!!c(e+"_list",t,n)&&2===t.split(":").length},opt:function(e,t,n){return!t||c(e,t,n)}},c=function(e,t,n){var r;return null==e||(1===(r=e.split("_")).length&&null!=i[e]?i[e](t):null==h[r[r.length-1]]||h[r[r.length-1]](r.slice(0,r.length-1).join("_"),t,n))},new(function(){function t(){var t,n;for(t in this.data=[],a)(n=a[t]).regex=new window.RegExp("^"+e.template(t,o,{interpolate:/\{\{(.+?)\}\}/g})+"$"),n.pathSpec=t,this.data.push(n)}return t.prototype.getInfo=function(e){var t,n,r,i,o;for(n=null,r=0,i=(o=this.data).length;r<i;r++)(t=o[r]).regex.exec(e)&&(n=t);return n},t.prototype.checkDatastore=function(e){var t;for(t in e)e[t],this.getInfo(t)},t.prototype.checkWrite=function(e){var t,n;for(t in n=[],e)e[t],null!=this.getInfo(t)?n.push():n.push(void 0);return n},t}())}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(21),n(420),n(419),n(75),n(418)],void 0===(i=function(e,t,n,r,i){return function(){function o(o){var a,s,l,u;for(this.dev=o,this.dev.utils=this,this.curSeatedDev=this.dev,this.utils=[],this.utils.push(new t(this.dev)),e.works({dev:this.dev,cap:"router"})&&(this.utils.push(new n(this.dev)),e.works({dev:this.dev,cap:"mixer"})&&this.utils.push(new r(this.dev))),e.works({dev:this.dev,cap:"preset"})&&this.utils.push(new i(this.dev)),a=0,s=(l=this.utils).length;a<s;a++)"function"==typeof(u=l[a]).setup&&u.setup()}return o.prototype.all=["avb","router","mixer","preset"],o.prototype.reseat=function(e){var t,n,r,i,o;for(i=this.curSeatedDev,this.curSeatedDev=e,t=0,n=(r=this.all).length;t<n;t++)o=r[t],null!=this.dev[o]&&(e[o]=this.dev[o],this.dev[o].dev=e);return i},o.prototype.remove=function(){var e,t,n,r,i;for(r=[],e=0,t=(n=this.utils).length;e<t;e++)i=n[e],r.push(i.remove());return r},o}()}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(55),n(119)],void 0===(i=function(e,t){var n=function(e,t){return function(){return e.apply(t,arguments)}},r={}.hasOwnProperty;return function(e){function i(e){this.src=e,this.doUpdate=n(this.doUpdate,this),i.__super__.constructor.call(this,{f:this.doUpdate,src:this.src})}return function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(i,t),i.prototype.removeSlot=function(e){if(i.__super__.removeSlot.call(this,e),"value"===e)return this.path=null,this.doRemoveValue()},i.prototype.addSlot=function(e,t){if(i.__super__.addSlot.call(this,e,t),"value"===e&&null!=t)return this.path=t,this.doAddValue()},i.prototype.rewire=function(e,t){return null==t&&(t=e,e="value"),i.__super__.rewire.call(this,e,t)},i.prototype.doUpdate=function(e){return"function"==typeof this.update?this.update(e.value,e):void 0},i.prototype.doRemoveValue=function(){return"function"==typeof this.removeInteraction?this.removeInteraction():void 0},i.prototype.doAddValue=function(){return"function"==typeof this.addInteraction?this.addInteraction():void 0},i.prototype.addInteraction=function(){},i.prototype.removeInteraction=function(){},i.prototype.update=function(){},i}()}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(1),n(2),n(55)],void 0===(i=function(e,t,n){var r={}.hasOwnProperty;return function(i){function o(r){this.src=r,this.listeners={},null==o.toForward&&(o.toForward=e.difference(n.prototype.publicMethods,e.keys(o.prototype))),t.forwardMethods(this,o.toForward,this.src)}return function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(o,n),o.prototype.valid=function(e){return this.src.valid(e)},o.prototype.get=function(e){return this.src.get(e)},o.prototype.set=function(e,t){return this.src.set(e,t)},o.prototype.enterReactiveContext=function(e){return this.src.enterReactiveContext(e)},o.prototype.leaveReactiveContext=function(e){return this.src.leaveReactiveContext(e)},o.prototype.addListener=function(e,t){return o.__super__.addListener.call(this,e,t),this.src.addListener(e,t)},o.prototype.removeListener=function(e,t){return o.__super__.removeListener.call(this,e,t),this.src.removeListener(e,t)},o.prototype.remove=function(){var e,t,n,i,o,a;for(o in a=this.listeners)if(r.call(a,o))for(e=0,t=(i=a[o]).length;e<t;e++)n=i[e],this.src.removeListener(o,n);return this.listeners={}},o}()}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(3),n(2),n(22),n(1),n(5),n(51),n(41),n(422),n(38),n(34),n(16),n(96),n(395),n(394),n(177),n(176)],void 0===(i=function(e,t,n,r,i,o,a,s,l,u,c,h,p,d,f,v){var m,g=function(e,t){return function(){return e.apply(t,arguments)}};return m=function(){function t(t){if(this.extra=t.extra,this.pane=t.pane,this.dev=t.dev,this.guid=t.guid,this.serviceType=t.serviceType,this.div=e.appendSpec(document.body,{className:"content"}),this.dev.get("uid")!==this.guid&&this.pane.needsTarget)return this.alert=new o(this.pane.label+" is not supported on this device.",this.div),void this.updateContentOffset();var n;window.auxID||(this.security=e.appendSpec(document.body,{className:"modalPaneWrapper"}),this.lockUI=new v({dev:this.dev,devpane:this.security,extraCss:"utilityBtn firmwareButton"})),this.pane.needsSpinner?(this.spinner=new a({node:this.div}),this.updateContentOffset(),r.delay((n=this,function(){return n.constructPane()}),100)):this.constructPane(),this.nameReaction=new i.Function(this.dev,function(e){return function(t){return document.title=t.avb.getName(e.guid)+" - MOTU AVB"}}(this))}return t.prototype.constructPane=function(){var e,t;return window.auxID?this.content=new this.pane({dev:this.dev,div:this.div,guid:this.guid,extra:this.extra,serviceType:this.serviceType}):this.content=new this.pane({dev:this.dev,div:this.div,guid:this.guid,extra:this.extra,serviceType:this.serviceType},this.lockUI),this.updateContentOffset(),"function"==typeof(e=this.content).finalizeConstruction&&e.finalizeConstruction(),null!=(t=this.spinner)&&t.remove(),delete this.spinner},t.prototype.updateContentOffset=function(){var t,n,r,i;return n=e.offset(this.extra).left,i=this.extra.offsetWidth,null!=(r=this.lockUI)&&r.updateOffset(n),this.div.setAttribute("style","left:"+(n+i)+"px"),(t=document.createEvent("Events")).initEvent("resize",!0,!1),window.dispatchEvent(t)},t.prototype.remove=function(){var t,n,r,i;return null!=this.constructTimeout&&window.clearTimeout(this.constructTimeout),null!=(t=this.alert)&&t.remove(),null!=(n=this.spinner)&&n.remove(),null!=(r=this.content)&&r.remove(),null!=(i=this.nameReaction)&&i.remove(),null!=this.div&&e.remove(this.div),null!=this.security&&e.remove(this.security),e.removeChildren(this.extra)},t}(),function(){function o(o){var a,l,c,h,f,v,m,b,y;for(this.panes=o.panes,this.perf=o.perf,this.prefs=o.prefs,this.defaultPane=o.defaultPane,this.serviceType=o.serviceType,this.forceSwitchDevice=g(this.forceSwitchDevice,this),this.hashchange=g(this.hashchange,this),this.prefs.set("preferences/currdevice",null),window.location.hash&&this.prefs.set(this.contentViewPref,window.location.hash.slice(1)),this.regex=/(aux|group|reverb)([0-9]|10|11|12|13|14).html$/i,this.path=window.location.pathname,this.page=this.path.split("/").pop(),this.personalAuxMix=this.page.match(this.regex),new n.Listener({node:window,events:["hashchange"],proxy:this}),this.removePool=[],this.panesByID={},c=0,h=(m=this.panes).length;c<h;c++)v=m[c],this.panesByID[v.ID]=v;this.createUI(this.panes),l=document.querySelector('.label[for="device-expanded"]'),a=document.querySelector('.label[for="device-collapsed"]'),b=new p([l,a]),this.devicePaneNotifier=new d("",b),this.removePool.push(new i.Function(this.prefs,(y=this,function(e){if(y.currPane=e.get(y.contentViewPref),y.currPane in y.panesByID)return y.switchPane();r.defer(function(){return y.prefs.set(y.contentViewPref,y.defaultPane)})}))),this.removePool.push(new n.Listener({node:window,proxy:{resize:function(){return u.killAllZombies("resize")}}})),t.isMobile&&this.removePool.push(new n.Listener({node:window,proxy:{blur:function(){return window.scrollTo(0,0)}},options:{capture:!0}})),this.removePool.push(new n.Listener({node:document,proxy:{orientationchange:function(e){return function(){return e.orientationChanged()}}(this)}})),null!=(f=document.getElementById("loading"))&&e.remove(f),this.deviceSelect=new s({prefs:this.prefs,perf:this.perf,serviceType:this.serviceType,node:this.devList,onSwitchDevice:this.forceSwitchDevice})}return o.prototype.expandedPref="preferences/main-expanded",o.prototype.contentViewPref="preferences/curcontentview",o.prototype.extraPrefBase="preferences/extra-content-",o.prototype.hashchange=function(e){var t;if((t=null!=e.newURL?e.newURL.split("#")[1]:window.location.hash?window.location.hash.slice(1):"")!==this.prefs.get(this.contentViewPref))return this.prefs.set(this.contentViewPref,t)},o.prototype.remove=function(){var e,t,n,r,i,o,a;for(null!=(r=this.deviceSelect)&&r.remove(),null!=(i=this.active)&&i.remove(),a=[],e=0,t=(o=this.removePool).length;e<t;e++)n=o[e],a.push(n.remove());return a},o.prototype.switchPane=function(){var e,t;if(null!=(t=this.active)&&t.remove(),delete this.active,null!=this.currPane&&null!=this.currGuid)return window.location.replace(window.location.href.split("#")[0]+"#"+this.prefs.get(this.contentViewPref)),e=this.deviceSelect.getDevice(),h.showIfNecessary({dev:e}),this.devicePaneNotifier.switchPane(this.currPane),this.active=new m({extra:this.extra,pane:this.panesByID[this.currPane],dev:e,guid:this.currGuid,serviceType:this.serviceType})},o.prototype.switchDevice=function(e){if(this.currGuid!==e)return this.forceSwitchDevice()},o.prototype.forceSwitchDevice=function(e){return this.currGuid=e,this.switchStreamStatusNotifierDevcie(e),this.switchPane()},o.prototype.switchStreamStatusNotifierDevcie=function(e){var t,n;return t=this.deviceSelect.getDevice(),null!=(n=this.streamStatusReaction)&&n.remove(),this.streamStatusReaction=new i.Function(t,function(t){return new f.DeviceStreamStatus({dev:t,guid:e})})},o.prototype.getExpanded=function(e){var n;return null==e&&(e=this.prefs),null==(n=e.get(this.expandedPref))&&(n=!t.isMobile),n&&"false"!==n},o.prototype.toggleNav=function(){return this.prefs.set(this.expandedPref,!this.getExpanded())},o.prototype.orientationChanged=function(){return window.scrollTo(0,0)},o.prototype.setPane=function(e){if(e!==this.prefs.get(this.contentViewPref))return this.prefs.set(this.contentViewPref,e)},o.prototype.getExtraPref=function(e){return this.extraPrefBase+e},o.prototype.getExtra=function(e,t){var n,r;return!(null==(n=this.panesByID[e])||!n.needsExtra)&&(null==t&&(t=this.prefs),"false"===(r=t.get(this.getExtraPref(e)))&&(r=!1),null==r&&(r=!0,t.set(this.getExtraPref(e),r)),r)},o.prototype.toggleExtra=function(e){return this.prefs.set(this.getExtraPref(e),!this.getExtra(e))},o.prototype.createPaneButton=function(t){var n,r,o,a,s,l,u,h,p,d;return u=t.pane,h=t.parent,s=t.mode,n=(o=t.isExtraButton)?u.extraID:u.ID,e.appendSpec(h,{type:"input",className:"main-nav "+s+" input",id:n+"-"+s}).type="radio",a=e.appendSpec(h,{type:"label",className:"main-nav "+s+" label "+(o?"extra-toggle":""),htmlFor:n+"-"+s}),e.appendSpec(a,{type:"span",className:"main-nav "+s+" icon "+n}),o?(l=u.extraLabel,d=this,r=function(){return d.toggleExtra(u.ID)},p=function(t){return function(n){return e.setVisible(a,u.ID===n.get(t.contentViewPref)),e.setClass(a,"sub-selected",t.getExtra(u.ID,n))}}(this)):(l=u.label,r=function(e){return function(){return e.setPane(u.ID)}}(this),p=function(t){return function(n){return e.setClass(a,"selected",u.ID===n.get(t.contentViewPref))}}(this)),"expanded"===s&&e.appendSpec(a,{type:"span",className:"main-nav "+s+" item "+(o?"sub":""),textContent:l}),this.removePool.push(new c.FunctionButton({f:r,node:a})),this.removePool.push(new i.Function(this.prefs,p)),a},o.prototype.createUI=function(t){var n,r,o,a,s,l,u,h,p,d,f,v,m,g,b,y;for(f={},s={},l=0,h=(b=["expanded","collapsed"]).length;l<h;l++){for(f[v=b[l]]=e.appendSpec(document.body,{id:v+"-nav",className:"inline-navbar avb-menu "+v}),this.removePool.push(e.removeWrap(f[v])),"collapsed"===v&&(s=e.specToNode({className:"extra-options "+v}),this.removePool.push(e.removeWrap(s))),n=e.appendSpec(f[v],{className:"collapse-btn "+v}),"expanded"===v&&(d=e.appendSpec(f[v],{className:"logo-div"})),this.removePool.push(new c.FunctionButton({node:n,f:function(e){return function(){return e.toggleNav()}}(this)})),"expanded"===v&&e.appendSpec(d,{className:"motu-logo"}),u=0,p=t.length;u<p;u++)g=t[u],m=this.createPaneButton({pane:g,parent:f[v],mode:v,isExtraButton:!1}),g.needsExtra&&"collapsed"===v?this.createPaneButton({pane:g,parent:s,mode:v,isExtraButton:!0}):g.needsExtra&&g.extraCollapsable&&(a=this.createPaneButton({pane:g,parent:m,mode:v,isExtraButton:!0}),this.removePool.push(function(t){return function(n,r){return new i.Function(t.prefs,function(i){return e.setVisible(n,r.ID===i.get(t.contentViewPref))})}}(this)(a,g)));"collapsed"===v&&(this.removePool.push(function(t){return function(n){return new i.Function(t.prefs,function(r){var i;return e.setVisible(n,null!=(i=t.panesByID[r.get(t.contentViewPref)])?i.needsExtra:void 0)})}}(this)(s)),f[v].appendChild(s))}return this.extra=e.appendSpec(document.body,{id:"extra-nav",className:"inline-navbar extra"}),this.removePool.push(e.removeWrap(this.extra)),new i.Function(this.prefs,(y=this,function(t){var n,r;return n=t.get(y.contentViewPref),e.setClass(y.extra,"hidden",!y.getExtra(n,t)),null!=(r=y.active)&&"function"==typeof r.updateContentOffset?r.updateContentOffset():void 0})),this.removePool.push(new i.Function(this.prefs,function(t){return function(n){var r,i;return i=t.getExpanded(n),e.setVisible(f.collapsed,!i),e.setVisible(f.expanded,i),null!=(r=t.active)&&"function"==typeof r.updateContentOffset?r.updateContentOffset():void 0}}(this))),r="dev-sel-header",o="dev-sel-list",this.personalAuxMix&&(r+=" hidden",o+=" list-hidden"),e.appendSpec(f.expanded,{type:"h2",className:r,textContent:"Devices"}),this.devList=e.appendSpec(f.expanded,{type:"ul",className:o})},o}()}.apply(t,r))||(e.exports=i)},function(e,t,n){var r=n(126);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t){(function(){window.Modernizr=function(e,t,n){var r,i,o={},a=t.documentElement,s="modernizr",l=t.createElement(s),u=l.style,c=":)",h={}.toString,p=" -webkit- -moz- -o- -ms- ".split(" "),d="Webkit Moz O ms".split(" "),f="Webkit Moz O ms".toLowerCase().split(" "),v="http://www.w3.org/2000/svg",m={},g=[],b=g.slice,y=function(e,n,r,i){var o,l,u,c,h=t.createElement("div"),p=t.body,d=p||t.createElement("body");if(parseInt(r,10))for(;r--;)(u=t.createElement("div")).id=i?i[r]:s+(r+1),h.appendChild(u);return o=["&#173;",'<style id="s',s,'">',e,"</style>"].join(""),h.id=s,(p?h:d).innerHTML+=o,d.appendChild(h),p||(d.style.background="",d.style.overflow="hidden",c=a.style.overflow,a.style.overflow="hidden",a.appendChild(d)),l=n(h,e),p?h.parentNode.removeChild(h):(d.parentNode.removeChild(d),a.style.overflow=c),!!l},C={}.hasOwnProperty;function x(e){u.cssText=e}function _(e,t){return typeof e===t}function w(e,t){return!!~(""+e).indexOf(t)}function S(e,t){for(var r in e){var i=e[r];if(!w(i,"-")&&u[i]!==n)return"pfx"!=t||i}return!1}function k(e,t,r){var i=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+d.join(i+" ")+i).split(" ");return _(t,"string")||_(t,"undefined")?S(o,t):function(e,t,r){for(var i in e){var o=t[e[i]];if(o!==n)return!1===r?e[i]:_(o,"function")?o.bind(r||t):o}return!1}(o=(e+" "+f.join(i+" ")+i).split(" "),t,r)}for(var T in i=_(C,"undefined")||_(C.call,"undefined")?function(e,t){return t in e&&_(e.constructor.prototype[t],"undefined")}:function(e,t){return C.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=b.call(arguments,1),r=function(){if(this instanceof r){var i=function(){};i.prototype=t.prototype;var o=new i,a=t.apply(o,n.concat(b.call(arguments)));return Object(a)===a?a:o}return t.apply(e,n.concat(b.call(arguments)))};return r}),m.canvas=function(){var e=t.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},m.rgba=function(){return x("background-color:rgba(150,255,150,.5)"),w(u.backgroundColor,"rgba")},m.multiplebgs=function(){return x("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(u.background)},m.backgroundsize=function(){return k("backgroundSize")},m.borderradius=function(){return k("borderRadius")},m.boxshadow=function(){return k("boxShadow")},m.textshadow=function(){return""===t.createElement("div").style.textShadow},m.opacity=function(){var e,t;return e="opacity:.55",x(p.join(e+";")+(t||"")),/^0.55$/.test(u.opacity)},m.cssanimations=function(){return k("animationName")},m.cssgradients=function(){var e="background-image:";return x((e+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));"+e)+p.join("linear-gradient(left top,#9f9, white);"+e)).slice(0,-e.length)),w(u.backgroundImage,"gradient")},m.csstransforms=function(){return!!k("transform")},m.fontface=function(){var e;return y('@font-face {font-family:"font";src:url("https://")}',function(n,r){var i=t.getElementById("smodernizr"),o=i.sheet||i.styleSheet,a=o?o.cssRules&&o.cssRules[0]?o.cssRules[0].cssText:o.cssText||"":"";e=/src/i.test(a)&&0===a.indexOf(r.split(" ")[0])}),e},m.generatedcontent=function(){var e;return y(["#",s,"{font:0/0 a}#",s,':after{content:"',c,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=t.offsetHeight>=3}),e},m.localstorage=function(){try{return localStorage.setItem(s,s),localStorage.removeItem(s),!0}catch(e){return!1}},m.svg=function(){return!!t.createElementNS&&!!t.createElementNS(v,"svg").createSVGRect},m.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==v},m.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(h.call(t.createElementNS(v,"clipPath")))},m)i(m,T)&&(r=T.toLowerCase(),o[r]=m[T](),g.push((o[r]?"":"no-")+r));return o.addTest=function(e,t){if("object"==typeof e)for(var r in e)i(e,r)&&o.addTest(r,e[r]);else{if(e=e.toLowerCase(),o[e]!==n)return o;t="function"==typeof t?t():t,"undefined"!=typeof enableClasses&&enableClasses&&(a.className+=" "+(t?"":"no-")+e),o[e]=t}return o},x(""),l=null,o._version="2.7.2",o._prefixes=p,o._domPrefixes=f,o._cssomPrefixes=d,o.testProp=function(e){return S([e])},o.testAllProps=k,o.testStyles=y,o.prefixed=function(e,t,n){return t?k(e,t,n):k(e,"pfx")},o}(0,this.document),Modernizr.addTest("json",!!window.JSON&&!!JSON.parse),Modernizr.addTest("cors",!!(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest)),Modernizr.addTest("xhr2","FormData"in window),Modernizr.addTest("fileinput",function(){var e=document.createElement("input");return e.type="file",!e.disabled}),Modernizr.addTest("dataset",function(){var e=document.createElement("div");return e.setAttribute("data-a-b","c"),!(!e.dataset||"c"!==e.dataset.aB)}),e.exports=Modernizr}).call(window)},function(e,t,n){"use strict";var r,i;r=[n(1),n(189),n(2)],void 0===(i=function(e,t,n){var r,i,o,a,s,l;if(l=["fontface","backgroundsize","borderradius","boxshadow","multiplebgs","opacity","rgba","textshadow","cssanimations","generatedcontent","cssgradients","csstransforms","inlinesvg","svg","svgclippaths","canvas","xhr2","json","cors"],r={requestAnimationFrame:function(){return window.requestAnimationFrame},matches:function(){var e;return(e=window.HTMLElement).prototype.matches||t.prefixed("matchesSelector",e.prototype)}},!(e.all(l,function(e){return t[e]})&&e.all(e.values(r),function(e){return e()}))){for(a in i=e.filter(l,function(e){return!t[e]}),r)(0,r[a])()||i.push(a);for(o=0,s=i.length;o<s;o++)i[o];return null}return{}}.apply(t,r))||(e.exports=i)},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._2si2x_TalkbackDrawer{background-color:#292f36;background-image:url(img/dot-grid-blue.png);background-image:-webkit-gradient(linear,0 top,0 bottom,from(#21262b),to(rgba(0,0,0,.6)));background-image:-webkit-linear-gradient(top,#21262b,rgba(0,0,0,.6));background-image:-moz-linear-gradient(top,#21262b,rgba(0,0,0,.6));background-image:-ms-linear-gradient(top,#21262b,rgba(0,0,0,.6));background-image:-o-linear-gradient(top,#21262b,rgba(0,0,0,.6));box-shadow:inset 2px 1px 30px 10px rgba(0,0,0,.4);overflow-y:hidden;list-style:none}._18FG7_LeftColumn{display:inline-block;width:100%;height:100%}._3hK0G_RightColumn{display:inline-block;position:absolute;width:75%;height:100%;top:0;right:0;padding:10px 0;pointer-events:none}._Z3USU_ToggleIconContainer{padding:4px 0 0 6px}._2onXY_TextIcon,._2phmc_TalkbackIcon{display:inline-block;padding:6px 0 0 6px}._N9a83_DimSlider{display:inline-block;margin-left:12px;width:auto}._2DoP1_DimTextInput{width:60px}._2XCi-_DropDownIcon{pointer-events:none;position:absolute;top:5px;left:5px}._1ba_7_DropDownCarat{position:absolute;bottom:0;right:0}._3ZPlX_TalkbackSelectContainer{background-color:#1d1d20;overflow:hidden;position:relative;width:100%;height:36px}._11zie_SideBarFaderIcon{pointer-events:none;position:absolute;top:0;left:5px}._2yE8V_SideBarFaderSelect{background:transparent;border:none;color:#fff;width:100%;height:100%;text-indent:100%;text-overflow:ellipsis;white-space:nowrap}._2yE8V_SideBarFaderSelect:first-child{overflow:hidden}",""]),t.locals={TalkbackDrawer:"_2si2x_TalkbackDrawer",LeftColumn:"_18FG7_LeftColumn",RightColumn:"_3hK0G_RightColumn",ToggleIconContainer:"_Z3USU_ToggleIconContainer",TalkbackIcon:"_2phmc_TalkbackIcon",TextIcon:"_2onXY_TextIcon",DimSlider:"_N9a83_DimSlider",DimTextInput:"_2DoP1_DimTextInput",DropDownIcon:"_2XCi-_DropDownIcon",DropDownCarat:"_1ba_7_DropDownCarat",TalkbackSelectContainer:"_3ZPlX_TalkbackSelectContainer",SideBarFaderIcon:"_11zie_SideBarFaderIcon",SideBarFaderSelect:"_2yE8V_SideBarFaderSelect"}},function(e,t,n){var r=n(191);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(9),a=k(n(6)),s=S(n(18)),l=n(23),u=(k(n(25)),k(n(0))),c=k(n(13)),h=k(n(77)),p=(n(37),n(48)),d=k(n(28)),f=(k(n(123)),k(n(122)),k(n(67))),v=n(12),m=n(4),g=(k(n(19)),k(n(11)),n(20),k(n(57))),b=k(n(56)),y=n(26),C=(S(n(35)),k(n(15)),k(n(121)),k(n(17))),x=k(n(82)),_=S(n(39)),w=(n(58),k(n(192)));function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function k(e){return e&&e.__esModule?e:{default:e}}var T=(0,b.default)({prefix:"",suffix:" dB",includeThousandsSeparator:!1,allowDecimal:!0,allowNegative:!0}),E=(0,v.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.id=Math.random().toString(36).substring(7),n.addChangeListeners=n.addChangeListeners.bind(n),n.removeChangeListeners=n.removeChangeListeners.bind(n),n._renderTalkbackToggle=n._renderTalkbackToggle.bind(n),n._renderTalkback=n._renderTalkback.bind(n),n._renderDimSlider=n._renderDimSlider.bind(n),n._onTalkDown=n._onTalkDown.bind(n),n._onTalkUp=n._onTalkUp.bind(n),n._onDimClick=n._onDimClick.bind(n),n._onDimChange=n._onDimChange.bind(n),n._onDimDoubleClick=n._onDimDoubleClick.bind(n),n._onDimTextChange=n._onDimTextChange.bind(n),n._onDimTextKeyDown=n._onDimTextKeyDown.bind(n),n._onStickyClick=n._onStickyClick.bind(n),n._onSourceChange=n._onSourceChange.bind(n),n._onDestinationsChange=n._onDestinationsChange.bind(n),n._onEnabledChange=n._onEnabledChange.bind(n),n._onDimChanged=n._onDimChanged.bind(n),n._onStickyChanged=n._onStickyChanged.bind(n),n._onSourceChanged=n._onSourceChanged.bind(n),n._onDestinationsChanged=n._onDestinationsChanged.bind(n),n._toolTipRemove=n._toolTipRemove.bind(n),n._toolTipForceRemove=n._toolTipForceRemove.bind(n),n._toolTipUnmount=n._toolTipUnmount.bind(n),n.observableState=(0,m.observable)({chan:null,destinations:{},enabled:!1,sticky:!1,dim:0}),n.controlsPath="mix/ctrls/talkback",n.controlOrder=["enable","dim","sticky","chan"],n.controls=a.default.getControlsFromPath(n.controlsPath,"mix"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),i(t,[{key:"componentDidUpdate",value:function(e,t){}},{key:"componentDidMount",value:function(){this.addChangeListeners()}},{key:"componentWillUnmount",value:function(){this.removeChangeListeners()}},{key:"addChangeListeners",value:function(){a.default.addChangeListener(this.id,this._onEnabledChange,this.controls.enable.valuePath),a.default.addChangeListener(this.id,this._onDimChanged,this.controls.dim.valuePath),a.default.addChangeListener(this.id,this._onStickyChanged,this.controls.sticky.valuePath),a.default.addChangeListener(this.id,this._onSourceChanged,this.controls.chan.valuePath),a.default.getTalkbackOutputPaths().map(function(e,t,n){a.default.addChangeListener(this.id,this._onDestinationsChanged,e)},this)}},{key:"removeChangeListeners",value:function(){a.default.removeChangeListener(this.id,this._onEnabledChange,this.controls.enable.valuePath),a.default.removeChangeListener(this.id,this._onDimChanged,this.controls.dim.valuePath),a.default.removeChangeListener(this.id,this._onStickyChanged,this.controls.sticky.valuePath),a.default.removeChangeListener(this.id,this._onSourceChanged,this.controls.chan.valuePath),a.default.getTalkbackOutputPaths().map(function(e,t,n){a.default.removeChangeListener(this.id,this._onDestinationsChanged,e)},this)}},{key:"render",value:function(){return u.default.createElement("div",{id:"talkback-drawer-"+this.props.mode,className:w.default.TalkbackDrawer},u.default.createElement(h.default,{id:"talkback-accordion-"+this.props.mode,mode:this.props.mode,toggle:this._renderTalkbackToggle(),items:this._renderTalkback(),observableState:this.props.observableState}))}},{key:"_renderTalkbackToggle",value:function(){return u.default.createElement("div",{className:"main-nav "+this.props.mode+" label"},"expanded"===this.props.mode?u.default.createElement("h2",{className:"dev-sel-header"},"TALKBACK"):u.default.createElement("h2",{className:"dev-sel-header "+w.default.ToggleIconContainer},u.default.createElement(d.default,{type:"talkback",width:"25px",height:"25px",strokeColor:o.Colors.lightGray,fillColor:o.Colors.lightGray})))}},{key:"_renderTalkback",value:function(){null!==this.observableState.chan&&this.observableState.chan;var e=[];e.push(u.default.createElement("label",{className:"main-nav "+this.props.mode+" label",onMouseDown:this._onTalkDown,onMouseUp:this._onTalkUp,onTouchStart:this._onTalkDown,onTouchEnd:this._onTalkUp},u.default.createElement("div",{className:w.default.LeftColumn},u.default.createElement(d.default,{type:"talk",ref:"talkbackButton",id:"talkbackButton",width:"25px",height:"25px",fillColor:this.observableState.enabled?o.Colors.blue:o.Colors.gray,className:w.default.TalkbackIcon})),"expanded"===this.props.mode?u.default.createElement("div",{className:w.default.RightColumn},u.default.createElement("span",null,"Talk")):null)),e.push(u.default.createElement("label",{ref:"dimButtonContainer",className:"main-nav "+this.props.mode+" label",onClick:this._onDimClick},u.default.createElement("div",{className:w.default.LeftColumn},u.default.createElement(d.default,{type:"dim",ref:"dimButton",id:"dimButton",width:"25px",height:"25px",fillColor:o.Colors.lightGray,className:w.default.TextIcon})),"expanded"===this.props.mode?u.default.createElement("div",{className:w.default.RightColumn},u.default.createElement("span",null,"Dim")):null));var t=this.observableState.chan?this.observableState.chan.id:"disabled";e.push(u.default.createElement("label",{className:"main-nav "+this.props.mode+" label"},u.default.createElement("div",{className:w.default.LeftColumn},u.default.createElement("div",{className:""+w.default.TalkbackSelectContainer},u.default.createElement(d.default,{type:"source",width:"25px",height:"25px",className:w.default.DropDownIcon,strokeColor:o.Colors.lightGray,fillColor:o.Colors.blue}),u.default.createElement(f.default,{width:"collapsed"==this.props.mode?"25px":"100%",height:"25px",observableState:this.props.observableState,multiple:!1,input:!0,onSelectionChanged:this._onSourceChange,observableValues:this.observableState,stateKey:"chan",defaultValue:t},u.default.createElement("option",{value:"disabled"},"Disabled")),u.default.createElement(d.default,{type:"carat",width:"10px",height:"10px",className:w.default.DropDownCarat,fillColor:o.Colors.lightGray}))),"expanded"===this.props.mode?u.default.createElement("div",{className:w.default.RightColumn},u.default.createElement("span",null,"Source")):null));var n=a.default.getTalkbackOutputTypes();return e.push(u.default.createElement("label",{className:"main-nav "+this.props.mode+" label"},u.default.createElement("div",{className:w.default.LeftColumn},u.default.createElement("div",{className:""+w.default.TalkbackSelectContainer},u.default.createElement(d.default,{type:"destination",width:"25px",height:"25px",className:w.default.DropDownIcon,strokeColor:o.Colors.lightGray,fillColor:o.Colors.blue}),u.default.createElement(f.default,{width:"collapsed"==this.props.mode?"25px":"100%",height:"25px",observableState:this.props.observableState,multiple:!0,output:!0,types:n,onSelectionChanged:this._onDestinationsChange,observableValues:this.observableState,stateKey:"destinations"}),u.default.createElement(d.default,{type:"carat",width:"10px",height:"10px",className:w.default.DropDownCarat,fillColor:o.Colors.lightGray}))),"expanded"===this.props.mode?u.default.createElement("div",{className:w.default.RightColumn},u.default.createElement("span",null,"Destinations")):null)),e}},{key:"_renderDimSlider",value:function(){var e=this;return u.default.createElement("div",null,u.default.createElement(p.Slider,{className:w.default.DimSlider,direction:p.SliderDirection.VERTICAL,id:"dimSlider",observableState:this.props.observableState,observableValues:this.observableState,stateKey:"dim",valuePath:this.controls.dim.valuePath,width:24,height:150,warpType:new _.Threshold(Object),color2:o.SliderTrackColors.fader,onChange:this._onDimChange,onDoubleClick:this._onDimDoubleClick},u.default.createElement(p.SliderTrack,{trackWidth:8,className:w.default.SliderTrack},u.default.createElement(p.SliderThumb,{className:w.default.SliderThumb}))),u.default.createElement(g.default,{id:"dimText",ref:function(t){e.dimTextRef=t},type:"tel",mask:T,placeholderChar:"∞",className:w.default.DimTextInput,value:Math.round(100*(0,y.mag2db)(this.observableState.dim))/100,tabIndex:-1,onChange:this._onDimTextChange,onKeyDown:this._onDimTextKeyDown}))}},{key:"_onTalkDown",value:function(e){s.setAny(this.controls.enable.valuePath,1),e.preventDefault()}},{key:"_onTalkUp",value:function(e){this.lastTap||(this.lastTap=0);var t=(new Date).getTime(),n=t-this.lastTap;if(n<500&&n>0){var r=this.sticky?0:1;this.sticky=!this.sticky,s.setAny(this.controls.enable.valuePath,r)}else s.setAny(this.controls.enable.valuePath,0);this.lastTap=t,e.preventDefault()}},{key:"_onDimClick",value:function(e){var t=this._toolTipUnmount;this.tooltip=new x.default({dev:(0,l.getInjectedDevice)(),node:c.default.findDOMNode(this.refs.dimButton),options:{onremove:t}}),this.tooltip.keepAlive(),this.tooltip.remove("forever"),c.default.render(this._renderDimSlider(),this.tooltip.div),document.body.addEventListener("click",this._toolTipRemove,!0)}},{key:"_onDimChange",value:function(e){s.setAny(this.controls.dim.valuePath,e)}},{key:"_onDimDoubleClick",value:function(e){s.setAny(this.controls.dim.valuePath,this.controls.dim.default)}},{key:"_onDimTextChange",value:function(e){if(e.target instanceof HTMLInputElement&&""!=e.target.value&&"-∞ dB"!=e.target.value){var t=(0,y.db2mag)(Number(e.target.value.replace(" dB",""))),n=Math.min(Math.max(t,0),4);t!=n&&(e.target.value=Math.round((0,y.mag2db)(n)))}}},{key:"_onDimTextKeyDown",value:function(e){13!==e.keyCode&&9!==e.keyCode||s.setAny(this.controls.dim.valuePath,(0,y.db2mag)(Number(e.target.value.replace(" dB",""))))}},{key:"_onStickyClick",value:function(){s.setAny(this.controls.sticky.valuePath,+!this.observableState.sticky)}},{key:"_onSourceChange",value:function(e){if(e.target.value&&"disabled"!==e.target.value){var t=new C.default(e.target.value);s.setAny(this.controls.chan.valuePath,t.num)}else"disabled"==e.target.value&&s.setAny(this.controls.chan.valuePath,-1)}},{key:"_onDestinationsChange",value:function(e){e&&Object.keys(this.observableState.destinations).forEach(function(t,n,r){-1==e.indexOf(t)?s.setAny("mix/"+t+"/tb/enable",0):-1!==e.indexOf(t)&&s.setAny("mix/"+t+"/tb/enable",1)},this)}},{key:"_onEnabledChange",value:function(){this.observableState.enabled=!!a.default.get(this.controls.enable.valuePath)}},{key:"_onDimChanged",value:function(){this.observableState.dim=a.default.get(this.controls.dim.valuePath),this.dimTextRef&&this.dimTextRef.textMaskInputElement.update(Math.round(100*(0,y.mag2db)(this.observableState.dim))/100)}},{key:"_onStickyChanged",value:function(){this.observableState.sticky=!!a.default.get(this.controls.sticky.valuePath)}},{key:"_onSourceChanged",value:function(){var e=a.default.get(this.controls.chan.valuePath);this.observableState.chan=-1!==e?new C.default("chan/"+e):null}},{key:"_onDestinationsChanged",value:function(e){if(e){var t=e.replace("mix/","").replace("/tb/enable","");this.observableState.destinations[t]=!!a.default.get(e)}}},{key:"_toolTipRemove",value:function(e){var t=!1;if(e.target.id)try{this.tooltip.div.querySelector("#"+e.target.id)&&(t=!0)}catch(e){}t||(this.tooltip.remove(0),document.body.removeEventListener("click",this._toolTipRemove,!0),e.preventDefault(),e.stopPropagation())}},{key:"_toolTipForceRemove",value:function(){this.tooltip.div.remove()}},{key:"_toolTipUnmount",value:function(){}}]),t}())||r;t.default=E},function(e,t,n){"use strict";var r,i;r=[n(3),n(5),n(2),n(22),n(68),n(66),n(41),n(51),n(0),n(13),n(148),n(125),n(193),n(124),n(23)],void 0===(i=function(e,t,n,r,i,o,a,s,l,u,c,h,p,d,f){var v={}.hasOwnProperty;return function(t){function n(){n.__super__.constructor.apply(this,arguments),this.resetInteractionCounter=this.resetInteractionCounter.bind(this),this.checkIdleTime=this.checkIdleTime.bind(this),this.createMixer=this.createMixer.bind(this),this.createFaderModesUI=this.createFaderModesUI.bind(this),this.createTalkbackUI=this.createTalkbackUI.bind(this),this.createMixerSettingsUI=this.createMixerSettingsUI.bind(this),this.removeMixer=this.removeMixer.bind(this),this.removeNavUI=this.removeNavUI.bind(this)}return function(e,t){for(var n in t)v.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,i),n.needsSpinner=!0,n.needsTarget=!0,n.ID="touch-console",n.label="Touch Console",n.prototype.finalizeConstruction=function(){var e;if(0!==this.dev.router.getOBankUserCh(this.dev.mixer.getBnForStripType("chan")))return e=this.dev.perf.addMode(new o.MixerCreation),this.device=this.dev,this.createMixer(this.device,this.div),window.removeEventListener("touchmove",r.handleEvent),document.addEventListener("click",this.resetInteractionCounter,!1),document.addEventListener("mousemove",this.resetInteractionCounter,!1),document.addEventListener("keypress",this.resetInteractionCounter,!1),this.idleSeconds=0,this.idleTimeInterval=window.setInterval(this.checkIdleTime,1e3),this.dev.perf.removeMode(e);this.alert=new s("Mixing has been disabled; please add mixer inputs on the Routing page",this.div)},n.prototype.resetInteractionCounter=function(){return this.idleSeconds=0},n.prototype.checkIdleTime=function(){return this.idleSeconds++,this.idleSeconds>36e5&&this.mounted?(this.removeMixer(),this.spinner=new a({node:this.div})):this.idleSeconds<=1&&!this.mounted?(this.createMixer(this.device,this.div),this.spinner.remove()):void 0},n.prototype.createMixer=function(t,n){var r,i,o,a,s;for(f.setInitialData(t.deviceData()),f.injectDevice(t),this.mixerElement=l.createElement(c.default,{}),this.mixer=u.render(this.mixerElement,n),o={},this.removePool=[],r=0,i=(s=["expanded","collapsed"]).length;r<i;r++)o[a=s[r]]=document.getElementById(a+"-nav"),this.navUIContainer=e.appendSpec(o[a],{id:"nav-ui-container-"+a,className:"nav-ui-container scrollContext"}),this.createMixerSettingsUI(this.mixer,this.navUIContainer,a),this.createTalkbackUI(this.mixer,this.navUIContainer,a),this.createFaderModesUI(this.mixer,this.navUIContainer,a);return this.mounted=!0},n.prototype.createFaderModesUI=function(t,n,r){return this.faderModesContainer=e.appendSpec(n,{id:"fader-modes-container-"+r}),this.faderModesDrawer=l.createElement(h.default,{mode:r,observableState:t.getObservableState()}),this.removePool.push(this.faderModesContainer),u.render(this.faderModesDrawer,this.faderModesContainer)},n.prototype.createTalkbackUI=function(t,n,r){return this.talkbackContainer=e.appendSpec(n,{id:"talkback-container-"+r}),this.talkbackDrawer=l.createElement(p.default,{mode:r,observableState:t.getObservableState()}),this.removePool.push(this.talkbackContainer),u.render(this.talkbackDrawer,this.talkbackContainer)},n.prototype.createMixerSettingsUI=function(t,n,r){return this.mixerSettingsContainer=e.appendSpec(n,{id:"mixer-settings-container-"+r}),this.mixerSettingsDrawer=l.createElement(d.default,{mode:r,observableState:t.getObservableState()}),this.removePool.push(this.mixerSettingsContainer),u.render(this.mixerSettingsDrawer,this.mixerSettingsContainer)},n.prototype.removeMixer=function(){return u.unmountComponentAtNode(this.div),delete this.mixer,this.removeNavUI(),f.unload(),this.mounted=!1},n.prototype.removeNavUI=function(){var e,t,n,r,i;for(i=[],t=0,n=(r=this.removePool).length;t<n;t++)e=r[t],u.unmountComponentAtNode(e),i.push(delete e.child);return i},n.prototype.remove=function(){return this.removePool&&(this.removeMixer(),window.addEventListener("touchmove",r.handleEvent),window.clearInterval(this.idleTimeInterval)),n.__super__.remove.apply(this,arguments)},n}()}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(27),n(2),n(3),n(87),n(156),n(88),n(1),n(5),n(85),n(75),n(16)],void 0===(i=function(e,t,n,r,i,o,a,s,l,u,c){var h,p,d,f,v,m,g,b,y,C,x,_,w=function(e,t){for(var n in t)S.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},S={}.hasOwnProperty;return _=[e,r,i],(x={}).MixerSection=function(){function e(e){this.dev=e.dev,this.node=e.node,this.strip=e.strip,this.basePath=e.basePath,this.meterDrawer=e.meterDrawer,this.scope=e.scope,this.glideScopes=e.glideScopes,this.glideBoundNode=e.glideBoundNode,null==this.basePath&&(this.basePath=this.strip.basePath)}return e.prototype.createSubView=function(e){var t,r,i,o,s,l,u,h,p,d,f;if(h=e.spec,l=e.node,p=e.subPath,f=h.view,u=h.param,null!=f)for(delete h.view,delete h.param,u&&null==h.path&&(h.path=p+"/"+u),a.defaults(h,{dev:this.dev,meterDrawer:this.meterDrawer,scope:this.scope,node:l,path:this.basePath}),h.glideScope&&(null==(t=this.glideScopes)[s=h.glideScope]&&(t[s]=new c.GlideScope({axis:"x",boundingNode:this.glideBoundNode})),h.glideScope=this.glideScopes[h.glideScope]),h.exposeGlideScopes&&(h.glideScopes=this.glideScopes,h.glideBoundNode=this.glideBoundNode),d=null,i=0,o=_.length;i<o;i++)null==d&&(d="function"==typeof(r=_[i][f])?new r(h):void 0);else n.appendSpec(l,h)},e.prototype.createPresetButton=function(e,t,n){return new l({wildcards:{type:this.strip.type,num:this.strip.num},extraCss:t,scope:e,node:n?this.node.querySelector(n):this.node,dev:this.dev})},e.prototype.createSubViews=function(e,t){var r,i,o,l,u,c;for(t=null!=t?this.basePath+"/"+t:this.basePath,a.isArray(e)||(e=[e]),o=a.any(e,function(e){return"enable"===e.param})?(c=n.appendSpec(this.node,{className:"enabledWrapper"}),new s.Function(this.dev,function(e){var r;return r=+e.get(t+"/enable"),n.setClass(c,"enabled",r)}),c):this.node,l=[],r=0,i=e.length;r<i;r++)u=e[r],l.push(this.createSubView({spec:u,node:o,subPath:t}));return l},e.prototype.createSubViewsNoEnableWrapper=function(e,t){var n,r,i,o;for(t=null!=t?this.basePath+"/"+t:this.basePath,a.isArray(e)||(e=[e]),i=[],n=0,r=e.length;n<r;n++)o=e[n],i.push(this.createSubView({spec:o,node:this.node,subPath:t}));return i},e}(),x.MainMixName=function(e){function t(e){t.__super__.constructor.call(this,e),this.createSubViews([{view:"ConstantString",text:"Main Mix"},{view:"ChannelFormatButton",param:"config/format",strip:this.strip,glideScope:"mixerChannelFormat"},{view:"MixerControlButton",strip:this.strip},{view:"ChannelRoutingButton",strip:this.strip,mode:"output"}]),this.createPresetButton("channel","chanPreset")}return w(t,e),t}(x.MixerSection),x.MonitorName=function(e){function t(e){t.__super__.constructor.call(this,e),this.createSubViews([{view:"ConstantString",text:"Monitor"},{view:"ChannelFormatButton",param:"config/format",strip:this.strip,glideScope:"mixerChannelFormat"},{view:"MixerControlButton",strip:this.strip},{view:"ChannelRoutingButton",strip:this.strip,mode:"output"}]),this.createPresetButton("channel","chanPreset")}return w(t,e),t}(x.MixerSection),x.ReverbName=function(e){function t(e){t.__super__.constructor.call(this,e),this.createSubViews([{view:"ConstantString",text:"Reverb"},{view:"ChannelFormatButton",param:"config/format",strip:this.strip,glideScope:"mixerChannelFormat"},{view:"MixerControlButton",strip:this.strip},{view:"ChannelRoutingButton",strip:this.strip,mode:"output"}]),this.createPresetButton("channel","chanPreset")}return w(t,e),t}(x.MixerSection),x.Name=function(e){function t(e){t.__super__.constructor.call(this,e),this.createSubViews([{view:"StripName",strip:this.strip,multiline:!0,extraCss:"chNameEntry"},{view:"ChannelFormatButton",param:"config/format",strip:this.strip,glideScope:"mixerChannelFormat"},{view:"MixerControlButton",strip:this.strip},{view:"ChannelRoutingButton",strip:this.strip,mode:"output"}]),this.createPresetButton("channel","chanPreset")}return w(t,e),t}(x.MixerSection),x.ChanName=function(e){function t(e){t.__super__.constructor.call(this,e),this.createSubViews([{view:"StripName",strip:this.strip,multiline:!0,extraCss:"chNameEntry"},{view:"ChannelFormatButton",param:"config/format",strip:this.strip,glideScope:"mixerChannelFormat"},{view:"MixerControlButton",strip:this.strip},{view:"ChannelRoutingButton",strip:this.strip,mode:"input"}]),this.createPresetButton("channel","chanPreset")}return w(t,e),t}(x.MixerSection),x.AuxMixerName=function(e){function t(e){t.__super__.constructor.call(this,e),this.createSubViews([{view:"StripName",strip:this.strip,multiline:!0,extraCss:"chNameEntry"},{view:"ChannelFormatButton",param:"config/format",strip:this.strip,editable:!1,glideScope:"mixerChannelFormat"}])}return w(t,e),t}(x.MixerSection),x.AuxMixerReverbName=function(e){function t(e){t.__super__.constructor.call(this,e),this.createSubViews([{view:"ConstantString",text:"Reverb",extraCss:"auxMixerReverb"},{view:"ChannelFormatButton",param:"config/format",strip:this.strip,glideScope:"mixerChannelFormat"}])}return w(t,e),t}(x.MixerSection),x.AuxMixerGroupName=function(e){function t(e){t.__super__.constructor.call(this,e),this.createSubViews([{view:"StripName",strip:this.strip,multiline:!0,extraCss:"chNameEntry"},{view:"ChannelFormatButton",param:"config/format",strip:this.strip,glideScope:"mixerChannelFormat"}])}return w(t,e),t}(x.MixerSection),x.AuxMixerAuxName=function(e){function t(e){t.__super__.constructor.call(this,e),this.createSubViews([{view:"StripName",strip:this.strip,multiline:!0,extraCss:"chNameEntry"},{view:"ChannelFormatButton",param:"config/format",strip:this.strip,editable:!1,glideScope:"mixerChannelFormat"}]),this.createPresetButton("aux","chanPreset")}return w(t,e),t}(x.MixerSection),d=function(e){function t(e){var r;null==e.cssClassName&&(e.cssClassName=e.subPath+"Div"),e.node=n.appendSpec(e.node,{className:e.cssClassName+" "+e.subClass}),null!=e.subPath&&(e.basePath=e.strip.basePath+"/"+e.subPath),t.__super__.constructor.call(this,e),this.reaction=new s.Function(this.dev,(r=this,function(t){return 0==+t.get("preferences/mix/"+e.cssClassName+"/selected")?n.hide(r.node):n.show(r.node)}))}return w(t,e),t}(x.MixerSection),y=function(e,t){return function(n){function r(n){n.subPath=e,null!=t&&(n.cssClassName=t),n.subClass="chStripGroupDiv",r.__super__.constructor.call(this,n)}return w(r,d),r}()},f=function(e){function t(e){e.subPath=this.subPath,e.cssClassName=this.cssClassName,e.subClass=this.subClass,t.__super__.constructor.apply(this,arguments)}return w(t,d),t.prototype.subPath="",t.prototype.cssClassName="",t.prototype.subClass="chStripGroupDiv",t}(),v=function(e,t){return function(n){function r(n){n.subPath=e,null!=t&&(n.cssClassName=t),n.subClass="chStripGroupEmptyDiv",r.__super__.constructor.call(this,n)}return w(r,d),r}()},b=function(e,t){return x.ReverbDoubleSectionDetail=function(){return function(r){r.node=n.appendSpec(r.node,{className:"reverbDoubleSection"}),new e(a.clone(r)),new t(a.clone(r))}}()},x.Hpf=function(e){function t(e){e.subPath="hpf",t.__super__.constructor.call(this,e),this.createSubViews([{view:"EffectHeader",param:"enable",label:"HPF",effect:"hpf",glideScope:"HPFEnable"},{view:"SmallKnob",param:"freq",text:"Freq",extraCss:"hpf",labelFirst:!1}]),this.createPresetButton("hpf","effectPreset",".effectHeader")}return w(t,e),t}(y("hpf")),x.DummyHpf=v("hpf"),x.Gate=function(e){function t(e){t.__super__.constructor.call(this,e),this.createSubViews([{view:"MeterLED",path:"meters/mix/gate/level",strip:this.strip,meterType:"gate",extraCss:"gateLED",enabledPath:this.basePath+"/enable"},{view:"EffectHeader",param:"enable",label:"Gate",effect:"gate",glideScope:"GateEnable"},{view:"SmallKnob",param:"attack",text:"Attack",labelFirst:!0,extraCss:"gate"},{view:"SmallKnob",param:"threshold",text:"Thresh",labelFirst:!1,warptype:"Threshold",extraCss:"gate"},{view:"SmallKnob",param:"release",text:"Release",labelFirst:!1,extraCss:"gate"}]),this.createPresetButton("gate","effectPreset",".effectHeader")}return w(t,e),t}(y("gate")),x.DummyGate=v("gate"),x.Eq=function(e){function t(e){var n,r;t.__super__.constructor.call(this,e),r=this,(n=function(e,t,n){var i;return i=[{view:"EffectHeader",param:"enable",label:t,effect:"eq",extraCss:e,glideScope:"EQ"+e+"Enable"},{view:"SmallKnob",param:"gain",text:"Gain",labelFirst:!0,extraCss:e},{view:"SmallKnob",param:"freq",text:"Freq",labelFirst:!1,extraCss:e}],i=n?i.concat([{view:"SmallKnob",param:"bw",text:"Bandwidth",labelFirst:!1,extraCss:e+" wide"}]):i.concat([{view:"ToggleButton",param:"mode",text:"Shelf",extraCss:"shelfBtn reverseActive",glideScope:"EQ"+e+"Shelf"},{view:"HideableBandwidthKnob",param:"bw",text:"BW",labelFirst:!1}]),r.createSubViews(i,e)})("highshelf","High",!1),this.createPresetButton("eq","effectPreset",".effectHeader"),this.createSubViews({className:"eqHr"}),n("mid2","Mid",!0),this.createSubViews({className:"eqHr"}),n("mid1","Mid",!0),this.createSubViews({className:"eqHr"}),n("lowshelf","Low",!1)}return w(t,e),t}(y("eq")),x.DummyEq=v("eq"),x.ReverbEq=b(x.Eq,x.DummyEq),x.EqGraph=function(e){function t(e){t.__super__.constructor.call(this,e),this.basePath=this.basePath.slice(0,-5),this.createSubViews({view:"EqThumbnail",extraCss:"eqThumb"})}return w(t,e),t}(y("eqGraph")),x.DummyEqGraph=v("eqGraph"),x.ReverbEqGraph=b(x.EqGraph,x.DummyEqGraph),C=Math,m=function(e){return C.pow(10,.05*e)},x.Comp=function(e){function t(e){var n,r;t.__super__.constructor.call(this,e),r=this,n=function(e){var t;return t=e.get(r.basePath+"/threshold"),m(t)},this.createSubViews([{view:"EffectHeader",param:"enable",label:"Comp",effect:"comp",glideScope:"DynEnable"},{view:"SmallKnob",param:"threshold",text:"Thresh",labelFirst:!0,extraCss:"comp"},{view:"SmallKnob",param:"ratio",text:"Ratio",labelFirst:!1,extraCss:"comp"},{view:"ToggleButton",param:"peak",text:"RMS",position:"Left",extraCss:"rmsUtilityBtn reverseActive",glideScope:"CompRMS"},{view:"SmallKnob",param:"trim",text:"Gain",labelFirst:!1,extraCss:"comp"},{view:"ToggleButton",param:"makeup",text:"Auto",position:"Left",extraCss:"makeupGainBtn",glideScope:"CompMakeup"},{view:"SmallKnob",param:"attack",text:"Attack",labelFirst:!0,extraCss:"comp"},{view:"SmallKnob",param:"release",text:"Release",labelFirst:!1,extraCss:"comp"},{view:"HorizontalEffectMeter",path:"meters/mix/comp/level",label:"Level",strip:this.strip,meterType:"comp",enabledPath:this.basePath+"/enable",warptype:"CompLevel",indicatorFunction:n},{view:"ReverseHorizontalEffectMeter",path:"meters/mix/comp/gain",label:"Gain Reduction",strip:this.strip,meterType:"comp",enabledPath:this.basePath+"/enable",extraCss:"gainReduction",warptype:"FullScaleMeter"}]),this.createPresetButton("comp","effectPreset",".effectHeader")}return w(t,e),t}(y("comp")),x.CompGraphThumbnail=function(e){function t(e){t.__super__.constructor.call(this,e),this.createSubViews({view:"CompressorGraphThumbnail",extraCss:"compGraphThumb",strip:this.strip})}return w(t,e),t}(y("compGraph")),x.DummyComp=v("comp"),x.DummyCompGraph=v("compGraph"),x.Leveler=function(e){function t(e){t.__super__.constructor.call(this,e),this.createSubViews([{view:"EffectHeader",param:"enable",label:"Leveler",effect:"leveler",glideScope:"DynEnable"},{view:"SmallKnob",param:"reduction",text:"Reduction",labelFirst:!0,extraCss:"leveler"},{view:"SmallKnob",param:"makeup",text:"Makeup",extraCss:"makeup leveler",labelFirst:!1},{view:"ToggleButton",param:"limit",text:"Limit",extraCss:"limitUtilityBtn",glideScope:"LimitLevel"},{view:"ReverseHorizontalEffectMeter",path:"meters/mix/leveler/gain",label:"Gain Reduction",meterType:"leveler",strip:this.strip,enabledPath:this.basePath+"/enable",extraCss:"gainReduction",warptype:"FullScaleMeter"}]),this.createPresetButton("leveler","effectPreset",".effectHeader")}return w(t,e),t}(y("leveler","compDiv")),x.ReverbLeveler=b(x.Leveler,x.DummyComp),h=function(e){function t(e){var n,r;for(r in t.__super__.constructor.apply(this,arguments),this.channelNumber=e.strip.num,n=this.typeMap)switch(n[r]){case"pair":this.dev.mixer.mapStripType(r,function(t){return function(n){return t.createPair(n,e.strip)}}(this));break;case"dummy":this.dev.mixer.mapStripType(r,function(t){return function(n){return t.createDummyPair(n,e.strip)}}(this));break;default:throw new Error("No view type of "+viewtype)}}return w(t,f),t.prototype.subPath="matrix",t.prototype.cssClassName="auxDiv",t.prototype.typeMap={},t.prototype.createPair=function(e,t){return this.createSubViews({view:"AuxSendPanPair",param:e.id,auxStrip:e,channelStrip:t})},t.prototype.createDummyPair=function(e){return this.createSubViews({view:"DummyAuxPair",param:e.id,auxStrip:e})},t}(),x.AuxFaders=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return w(t,h),t.prototype.typeMap={aux:"pair",reverb:"pair"},t}(),x.ReverbAuxFaders=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return w(t,h),t.prototype.typeMap={aux:"pair",reverb:"dummy"},t}(),x.DummyAuxFaders=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return w(t,h),t.prototype.typeMap={aux:"dummy",reverb:"dummy"},t}(),g=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return w(t,h),t.prototype.cssClassName="groupDiv",t}(),x.GroupFaders=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return w(t,g),t.prototype.typeMap={group:"pair"},t}(),x.DummyGroupFaders=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return w(t,g),t.prototype.typeMap={group:"dummy"},t}(),x.ReverbGroupFaders=x.DummyGroupFaders,x.ReverbAuxFadersSec=b(x.ReverbAuxFaders,x.DummyAuxFaders),x.ReverbGroupFadersSec=b(x.ReverbGroupFaders,x.DummyGroupFaders),x.Talkback=function(e){function t(e){t.__super__.constructor.call(this,e),n.appendSpec(e.node,{className:"groupLabel",textContent:"Talkback Source"}),this.createSubViews([{view:"TalkbackButton",text:"🗣",extraCss:"talkSelBtn"}])}return w(t,e),t}(y("talkback")),x.DummyTalkback=v("talkback"),x.TalkbackOut=function(e){function t(e){t.__super__.constructor.call(this,e),n.appendSpec(e.node,{className:"groupLabel",textContent:"Talkback Output"}),this.createSubViewsNoEnableWrapper([{view:"ToggleButton",param:"enable",text:"✓",extraCss:"talkSelBtn",glideScope:"talkbackOut"}])}return w(t,e),t}(y("tb","talkbackDiv")),p=y("matrix","faderMeterDiv"),x.Fader=function(e){function t(e){t.__super__.constructor.call(this,e),n.appendSpec(this.node,{className:"smUtilityBtn muteBtn utilityBtn placeholder",textContent:"S"}),this.createSubViews([{view:"ToggleButton",param:"mute",text:"M",extraCss:"muteBtn smUtilityBtn",glideScope:"mute"},{view:"Fader",param:"fader",strip:this.strip,exposeGlideScopes:!0}])}return w(t,p),t}(),x.GroupFader=function(e){function t(e){t.__super__.constructor.call(this,e),this.createSubViews([{view:"SoloButton",param:"solo",text:"S",extraCss:"soloBtn smUtilityBtn",glideScope:"solo"},{view:"ToggleButton",param:"mute",text:"M",extraCss:"muteBtn smUtilityBtn",glideScope:"mute"},{view:"Fader",param:"fader",strip:this.strip,exposeGlideScopes:!0},{view:"AuxFader",param:"main/0/send",auxStrip:new u.StripInfo("main/0")}])}return w(t,p),t}(),x.ReverbFader=function(e){function t(e){t.__super__.constructor.call(this,e),n.addClass(e.node,"reverbFaderDiv"),this.createSubViews([{view:"SoloButton",param:"solo",text:"S",extraCss:"soloBtn smUtilityBtn",glideScope:"solo"},{view:"ToggleButton",param:"mute",text:"M",extraCss:"muteBtn smUtilityBtn",glideScope:"mute"},{view:"Fader",param:"fader",strip:this.strip,exposeGlideScopes:!0},{view:"AuxFader",param:"main/0/send",auxStrip:new u.StripInfo("main/0")}])}return w(t,p),t}(),x.FaderForAuxTracks=function(e){function t(e){t.__super__.constructor.call(this,e),this.createSubViews([{view:"AuxSoloButton",monitorStrip:"monitor/0",strip:this.strip,text:"S",extraCss:"soloBtn smUtilityBtn"},{view:"ToggleButton",param:"mute",text:"M",extraCss:"muteBtn smUtilityBtn",glideScope:"mute"},{view:"Fader",param:"fader",strip:this.strip,exposeGlideScopes:!0}])}return w(t,p),t}(),x.AuxMixerFaderForAuxTracks=function(e){function t(e){var n;t.__super__.constructor.call(this,e),n=new o(e.dev,this.strip.type,this.strip.num),this.createSubViews([{view:"AuxSoloButton",monitorStrip:"monitor/0",strip:this.strip,text:"S",extraCss:"soloBtn smUtilityBtn"},{view:"ToggleButton",param:"mute",text:"M",extraCss:"muteBtn smUtilityBtn",glideScope:"mute"},{view:"Fader",param:"fader",strip:this.strip,exposeGlideScopes:!0},{view:"AuxPanToggleButton",busPair:n,param:"panner",text:"Pan",extraCss:"auxPanPos smUtilityBtn"},{view:"ToggleButton",param:"prefader",text:"Prefader",extraCss:"preFadeBtn autoBtnStripPos smUtilityBtn"},{view:"AuxMixLinkButton",strip:this.strip,extraCss:"shareMixPos smUtilityBtn"}])}return w(t,p),t}(),x.ReverbSidecar=function(e){function t(e){t.__super__.constructor.call(this,e),this.createSubViews([{view:"EffectHeader",param:"enable",label:"Reverb",effect:"reverb"},{view:"SmallKnob",param:"reverbtime",text:"Reverb Time",extraCss:"wide reverb",labelFirst:!1,warptype:"ReverbTime"},{className:"eqHr"},{view:"SmallKnob",param:"mod",text:"Mod",labelFirst:!0,extraCss:"reverb"},{view:"SmallKnob",param:"predelay",text:"Predelay",labelFirst:!1,extraCss:"reverb"},{view:"SmallKnob",param:"tailspread",text:"Spread",extraCss:"wide reverb",labelFirst:!1},{className:"eqHr"},{view:"SmallKnob",param:"hf",text:"High",labelFirst:!0,extraCss:"reverb"},{view:"SmallKnob",param:"hfratio",text:"Ratio",labelFirst:!1,extraCss:"reverb"},{className:"eqHr"},{view:"SmallKnob",param:"mf",text:"Mid",labelFirst:!0,extraCss:"reverb"},{view:"SmallKnob",param:"mfratio",text:"Ratio",labelFirst:!1,extraCss:"reverb"}]),this.createPresetButton("reverb","effectPreset",".effectHeader")}return w(t,e),t}(y("reverb")),x.ReverbFaderAndSidecar=function(){return function(e){e.node=n.appendSpec(e.node,{className:"reverbDoubleSection"}),new x.ReverbFader(a.clone(e)),new x.ReverbSidecar(a.clone(e))}}(),x.ChanFader=function(e){function t(e){t.__super__.constructor.call(this,e),this.createSubViews([{view:"SoloButton",param:"solo",text:"S",extraCss:"soloBtn smUtilityBtn",glideScope:"solo"},{view:"ToggleButton",param:"mute",text:"M",extraCss:"muteBtn smUtilityBtn",glideScope:"mute"},{view:"Fader",param:"fader",strip:this.strip,exposeGlideScopes:!0},{view:"PanKnob",param:"pan",strip:this.strip,glideScope:"center"},{view:"AuxFader",param:"main/0/send",auxStrip:new u.StripInfo("main/0")}])}return w(t,p),t}(),x.MonitorFader=function(e){function t(e){e.subClass="chStripGroupDiv",e.cssClassName="faderMeterDiv",t.__super__.constructor.call(this,e),this.createSubViews([{view:"SoloClearButton",text:"SC",strip:this.strip,extraCss:"soloBtn smUtilityBtn"},{view:"ToggleButton",param:"matrix/mute",text:"M",extraCss:"muteBtn smUtilityBtn",glideScope:"mute"},{view:"Fader",param:"matrix/fader",strip:this.strip,exposeGlideScopes:!0},{view:"MonitorAssignMenu",param:"assign",indexPath:"mix/ctrls/assignids",extraCss:"monitorAssignMenu"},{view:"AutoSoloToggleButton",strip:this.strip,param:"auto",text:"Follow Solo",extraCss:"autoBtn autoBtnStripPos smUtilityBtn"}])}return w(t,d),t}(),x.AuxMixerFader=function(e){function t(e){e.node=n.appendSpec(e.node,{className:"faderMeterDiv chStripGroupDiv"}),t.__super__.constructor.call(this,e),n.appendSpec(this.node,{className:"smUtilityBtn muteBtn utilityBtn placeholder",textContent:"S"}),this.createSubViews([{view:"AuxMixerFader",strip:this.strip,exposeGlideScopes:!0},{view:"AuxPanKnob",param:"pan",strip:this.strip,glideScope:"center"},{view:"ToggleButton",param:"matrix/mute",text:"M",extraCss:"muteBtn smUtilityBtn",glideScope:"mute",disabled:function(){return!0},editable:!1}])}return w(t,e),t}(x.MixerSection),x.makeSectionByName=function(e,t){return new{"aux-name":x.Name,"chan-name":x.ChanName,"main-name":x.MainMixName,"group-name":x.Name,"monitor-name":x.MonitorName,"reverb-name":x.ReverbName,"aux-mixer-reverb-name":x.AuxMixerReverbName,"aux-mixer-group-name":x.AuxMixerGroupName,"aux-mixer-name":x.AuxMixerName,"aux-mixer-aux-name":x.AuxMixerAuxName,hpf:x.Hpf,"empty-hpf":x.DummyHpf,gate:x.Gate,"empty-gate":x.DummyGate,eq:x.Eq,"empty-eq":x.DummyEq,"reverb-eq":x.ReverbEq,eqGraph:x.EqGraph,"empty-eqGraph":x.DummyEqGraph,"reverb-eqGraph":x.ReverbEqGraph,comp:x.Comp,"comp-graph":x.CompGraphThumbnail,"empty-comp":x.DummyComp,"empty-comp-graph":x.DummyCompGraph,leveler:x.Leveler,"reverb-leveler":x.ReverbLeveler,aux:x.AuxFaders,"reverb-aux":x.ReverbAuxFadersSec,"empty-aux":x.DummyAuxFaders,"chan-fader":x.ChanFader,"monitor-fader":x.MonitorFader,"aux-mixer-fader":x.AuxMixerFader,"main-fader":x.Fader,"aux-fader":x.FaderForAuxTracks,"aux-mixer-aux-fader":x.AuxMixerFaderForAuxTracks,"group-fader":x.GroupFader,"reverb-fader":x.ReverbFaderAndSidecar,group:x.GroupFaders,"empty-group":x.DummyGroupFaders,"reverb-group":x.ReverbGroupFadersSec,"empty-talkback":x.DummyTalkback,talkback:x.Talkback,talkbackOut:x.TalkbackOut,"reverb-talkbackOut":x.TalkbackOut}[e](t)},x.makeSectionByName}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(2),n(3),n(195),n(27),n(69),n(22)],void 0===(i=function(e,t,n,r,i,o){var a=function(e,t){return function(){return e.apply(t,arguments)}},s={}.hasOwnProperty;return function(){function r(e){var t,r,o,l,u,c,h,p,d;for(c in this.bindDivs=a(this.bindDivs,this),this.divs=e.divs,this.strip=e.strip,this.sections=e.sections,this.meterDrawer=e.meterDrawer,this.onchange=e.onchange,this.glideScopes=e.glideScopes,this.glideBoundNode=e.glideBoundNode,this.scope=e.scope,null==this.scope&&(this.scope="mix"),this.dev=new e.dev.SubDevice(e.dev),o=this.strip,this.formatPath=o.formatPath,this.basePath=o.basePath,this.removePool=[],this.removePool.push(this.dev),this.rootFragments={},l=this.divs)s.call(l,c)&&(this.rootFragments[c]=document.createDocumentFragment());for(c in u=this.sections)if(s.call(u,c))for(t=0,r=(p=u[c]).length;t<r;t++)h=p[t],n(h,{dev:this.dev,meterDrawer:this.meterDrawer,strip:this.strip,scope:this.scope,node:this.rootFragments[c],glideScopes:this.glideScopes,glideBoundNode:this.glideBoundNode[c]});this.hideShow=new i.StripEnabledHideShow({dev:this.dev,onhide:(d=this,function(){return d.hide()}),onshow:function(e){return function(){return e.show()}}(this),strip:this.strip,scope:this.scope}),this.removePool.push(this.hideShow)}return r.prototype.bindDivs=function(){var n,r,i;for(n in r=this.divs)s.call(r,n)&&r[n].appendChild(this.rootFragments[n]);return e.isMobile||null==this.divs.strip||null==this.divs.name||this.removePool.push(new o.Listener({node:this.divs.strip,proxy:{mouseenter:(i=this,function(){return t.addClass(i.divs.name,"hover")}),mouseleave:function(e){return function(){return t.removeClass(e.divs.name,"hover")}}(this)}})),this.rootFragments=null},r.prototype.remove=function(){var e,n,r,i,o,a,l;for(n=0,r=(i=this.removePool).length;n<r;n++)i[n].remove();for(l in a=[],o=this.divs)s.call(o,l)&&(e=o[l],a.push(t.clear(e)));return a},r.prototype.show=function(){var e,n,r;if(!0!==this.showing){for(n in this.showing=!0,null!=this.rootFragments&&this.bindDivs(),r=this.divs)s.call(r,n)&&(e=r[n],t.show(e));return"function"==typeof this.onchange?this.onchange():void 0}},r.prototype.hide=function(){var e,n,r;if(!1!==this.showing){for(n in this.showing=!1,r=this.divs)s.call(r,n)&&(e=r[n],t.hide(e));return"function"==typeof this.onchange?this.onchange():void 0}},r}()}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(2),n(27),n(3),n(1),n(75),n(5),n(85),n(69),n(88),n(16),n(32)],void 0===(i=function(e,t,n,r,i,o,a,s,l,u,c){var h,p,d,f=function(e,t){for(var n in t)v.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},v={}.hasOwnProperty,m=function(e,t){return function(){return e.apply(t,arguments)}};return h=function(){function e(t){var n,r,i,a,s,l,u;for(this.scroll=t.scroll,n=t.dev,this.dev=new n.SubDevice(n),this.frag=document.createDocumentFragment(),r=0,i=(s=[{label:"High Pass Filter",divType:"hpfDiv"},{label:"Gate",divType:"gateDiv"},{label:"EQ",divType:"eqDiv",subType:"EqSection"},{label:"EQ Graph",divType:"eqGraphDiv",subType:"EqGraphSection"},{label:"Compressor",divType:"compDiv"},{label:"Compressor Graph",divType:"compGraphDiv"},{label:"Aux Sends",divType:"auxDiv",subType:"AuxSends"},{label:"",divType:"faderMeterDiv",subType:"Fader"},{label:"Group Sends",divType:"groupDiv",subType:"GroupSends"},{label:"Talkback",divType:"talkbackDiv",subType:"Talkback"}]).length;r<i;r++)new e[null!=(a=(l=s[r]).subType)?a:"Section"]({dev:this.dev,label:l.label,node:this.frag,divType:l.divType,scroll:this.scroll});this.path="preferences/mix/legendDiv/selected",this.reaction=new o.Function(this.dev,(u=this,function(e){return 0==+e.get(u.path)?u.hide():u.show()}))}return e.prototype.show=function(){return null!=this.frag&&(this.scroll.yHeader.appendChild(this.frag),this.preset=new a({node:this.scroll.xyHeader,scope:"mixer",dev:this.dev,extraCss:"devBtn mixerPreset"}),this.meter=new p({dev:this.dev,node:this.scroll.xyHeader}),delete this.frag),this.scroll.showYHeader()},e.prototype.hide=function(){return this.scroll.hideYHeader()},e.prototype.remove=function(){var e,t,n;return null!=(e=this.reaction)&&e.remove(),null!=(t=this.meter)&&t.remove(),null!=(n=this.preset)&&n.remove(),this.dev.remove()},e}(),p=function(){var t,r;return r=85,t=4,function(i){var a,s;n.appendSpec(i.node,{type:"span",className:"processingLabel",textContent:"DSP Usage:"}),a=n.appendSpec(i.node,{className:"processingWell"}),this.node=n.appendSpec(a,{className:"processingOn"}),this.listener=new o.Function(i.dev,(s=this,function(e){var n;return n=e.get("mix/ctrls/dsp/usage")/100,s.node.style.clip="rect(0px, "+~~(n*r)+"px, "+t+"px, 0px)"})),e.forwardMethods(this,["rewire","remove"],this.listener)}}(),h.Section=function(){return function(e){var t;this.dev=e.dev,this.node=n.appendSpec(e.node,{className:"chStripLabelCol "+e.divType}),n.appendSpec(this.node,{type:"h5",textContent:e.label}),new o.Function(this.dev,(t=this,function(r){return 0==+r.get("preferences/mix/"+e.divType+"/selected")?n.hide(t.node):n.show(t.node)}))}}(),h.AuxSendsSection=function(e){function t(e){t.__super__.constructor.call(this,e),this.prefaderGlideScope=new u.GlideScope({boundingNode:e.scroll.yHeaderWrapper,axis:"y"}),this.soloGlideScope=new u.GlideScope({boundingNode:e.scroll.yHeaderWrapper,axis:"y"}),this.pannerGlideScope=new u.GlideScope({boundingNode:e.scroll.yHeaderWrapper,axis:"y"}),this.channelFormatGlideScope=new u.GlideScope({boundingNode:e.scroll.yHeaderWrapper,axis:"y"})}return f(t,e),t.prototype.addAuxSendsFor=function(e,t){return null==t&&(t=!0),this.dev.mixer.mapStripType(e,(n=this,function(e){return new h.AuxSend({dev:n.dev,strip:e.id,node:n.node,formatButton:t,prefaderGlideScope:n.prefaderGlideScope,soloGlideScope:n.soloGlideScope,pannerGlideScope:n.pannerGlideScope,channelFormatGlideScope:n.channelFormatGlideScope})}));var n},t}(h.Section),h.EqSection=function(e){function t(e){var r,i,o,a;for(t.__super__.constructor.call(this,e),r=0,i=(a=[{label:"High",top:15},{label:"Mid",top:152},{label:"Mid",top:272},{label:"Low",top:362}]).length;r<i;r++)o=a[r],n.appendSpec(this.node,{className:"groupLabel",textContent:o.label,"style:position":"absolute","style:right":"5px","style:top":o.top+"px"})}return f(t,e),t}(h.Section),h.EqGraphSection=function(e){function t(e){t.__super__.constructor.call(this,e)}return f(t,e),t}(h.Section),d=function(e){return e.dev.valid("mix/"+e.strip.id+"/matrix/solo")?new t.SoloButton({dev:e.dev,path:"mix/"+e.strip.id+"/matrix/solo",extraCss:"sendSoloBtn",text:"S",node:e.node,glideScope:e.soloGlideScope}):null},h.AuxSend=function(){function e(e){var a,u,c,h;this.show=m(this.show,this),this.hide=m(this.hide,this),this.strip=new i.StripInfo(e.strip),this.node=n.appendSpec(e.node,{className:"legendSendRow"}),a=new l(e.dev,this.strip.type,this.strip.num),u=r.extend(r.clone(e),{node:this.node,strip:this.strip,path:this.strip.formatPath,glideScope:e.channelFormatGlideScope}),e.formatButton&&new t.ChannelFormatButton(u),a.panSupported()&&(u=r.extend(r.clone(e),{node:this.node,path:"mix/"+e.strip+"/matrix/panner",extraCss:"pannerBtn",text:"PAN",glideScope:e.pannerGlideScope,disabled:function(){return!a.inputsCanPan()}}),c=new t.ToggleButton(u),new o.Function(a.dev,function(e){return a.dev=e,a.inputsCanPan()?n.removeClass(c.node,"disabled"):n.addClass(c.node,"disabled")})),e.dev.valid("mix/"+e.strip+"/matrix/prefader")&&(u=r.extend(r.clone(e),{node:this.node,path:"mix/"+e.strip+"/matrix/prefader",extraCss:"preFadeBtn",text:"PRE",glideScope:e.prefaderGlideScope}),new t.ToggleButton(u)),"aux"===this.strip.type?new t.AuxSoloButton({dev:e.dev,strip:this.strip,monitorStrip:"monitor/0",extraCss:"sendSoloBtn",text:"S",node:this.node}):d(r.extend(e,{strip:this.strip,node:this.node})),n.appendSpec(e.node,{className:"clear"}),this.dev=e.dev,this.hideShow=new s.StripEnabledHideShow({dev:this.dev,onshow:this.show,onhide:this.hide,strip:this.strip}),this.resize=new o.Function(this.dev,(h=this,function(e){return a.dev=e,a.inputsWillPan()?h.grow():h.shrink()}))}return e.prototype.hide=function(){return n.hide(this.node)},e.prototype.show=function(){return n.show(this.node)},e.prototype.shrink=function(){return n.removeClass(this.node,"double")},e.prototype.grow=function(){return n.addClass(this.node,"double")},e.prototype.remove=function(){return this.hideShow.remove()},e}(),h.AuxSends=function(e){function t(e){var n,r,i,o;for(t.__super__.constructor.call(this,e),n=0,r=(i=["aux","reverb"]).length;n<r;n++)o=i[n],this.addAuxSendsFor(o)}return f(t,e),t}(h.AuxSendsSection),h.GroupSends=function(e){function t(e){var n,r,i,o;for(t.__super__.constructor.call(this,e),n=0,r=(i=["group"]).length;n<r;n++)o=i[n],this.addAuxSendsFor(o)}return f(t,e),t}(h.AuxSendsSection),h.Fader=function(e){function r(e){r.__super__.constructor.call(this,e),new t.SoloClearButton({dev:this.dev,strip:new i.StripInfo("monitor/0"),extraCss:"legendClearSolo",text:"Solo Clear",node:this.node}),n.appendSpec(this.node,{type:"h5",textContent:"Input Meters","style:position":"absolute","style:right":"0px","style:top":"38px"}),new t.InputMeterPreFaderButton({dev:this.dev,extraCss:"legendPreFader",text:"PRE",node:this.node})}return f(r,e),r}(h.Section),h.Talkback=function(e){function n(e){n.__super__.constructor.call(this,e),new t.ToggleButton({dev:this.dev,path:"mix/talkback/sticky",extraCss:"legendTalkbackSticky",text:"Sticky",node:this.node,values:[1,0]}),new t.TalkbackEnableButton({dev:this.dev,extraCss:"legendTalkback",text:"Talk",node:this.node}),new t.SmallKnob({node:this.node,text:"Dim",path:"mix/talkback/dim",dev:this.dev,type:new c(["real",.5,0,1,"linear"]),warptype:"Meter",labelFirst:!1})}return f(n,e),n}(h.Section),h}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(106),n(27),n(2),n(3),n(1),n(22),n(5),n(16),n(69),n(2)],void 0===(i=function(e,t,n,r,i,o,a,s,l,u){var c,h=function(e,t){for(var n in t)p.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},p={}.hasOwnProperty,d=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};return(c=function(t){function n(e){n.__super__.constructor.call(this,e),this.dev=e.dev,this.onchange=e.onchange,this.doneConstructing=!1}return h(n,e),n.prototype.setDoneConstructing=function(){return this.doneConstructing=!0},n}()).MetaButton=function(){function e(e){var t;t=e.node,this.node=r.appendSpec(t,{className:"glideMetaButton"})}return e.prototype.setup=function(e){var t,n,r,i;if(r=e.state,t=e.action,n=e.dev,this.listen=new s.FunctionButton({node:this.node,f:t}),null!=r)return this.reaction=new a.Function(n,(i=this,function(e){return i.setState(r(e))}))},e.prototype.setState=function(e){return r.setClass(this.node,"ui-all-selected","on"===e),r.setClass(this.node,"ui-none-selected","off"===e)},e.prototype.remove=function(){var e,t;return null!=(e=this.listen)&&e.remove(),null!=(t=this.reaction)?t.remove():void 0},e}(),c.FxSelUI=function(e){function t(e){var n,r,i,o,a;for(t.__super__.constructor.call(this,e),this.ensureDefaults(),this.dev.set("preferences/mix/faderMeterDiv/selected",1),o=this.itemSpecs,a=this,n=function(e){var t,n,r,i;return n=function(){return e.label},r=function(t){return+t.get(a.specToPath(e))},t=function(){return+a.dev.get(a.specToPath(e))?0:1},i=function(t){return a.dev.set(a.specToPath(e),t),"function"==typeof a.onchange?a.onchange():void 0},a.addItem({label:n,selected:r,chooseValue:t,setValue:i,extraCss:e.extraCss})},r=0,i=o.length;r<i;r++)n(o[r]);"radio"===e.mode&&this.setupToggle()}return h(t,c),t.prototype.itemSpecs=[{label:"Legend",tag:"legendDiv",extraCss:"legend"},{label:"High Pass Filter",tag:"hpfDiv"},{label:"Gate",tag:"gateDiv"},{label:"EQ",tag:"eqDiv"},{label:"EQ Graph",tag:"eqGraphDiv"},{label:"Compressor",tag:"compDiv"},{label:"Compressor Graph",tag:"compGraphDiv"},{label:"Aux Sends",tag:"auxDiv"},{label:"Group Sends",tag:"groupDiv"},{label:"Talkback",tag:"talkbackDiv"}],t.prototype.specToPath=function(e){return"preferences/mix/"+e.tag+"/selected"},t.prototype.title="Controls",t.prototype.mobileDefaultSections=[],t.prototype.defaultSections=[],t.prototype.defaultForSpec=function(e){var t,r;return t=n.isMobile?this.mobileDefaultSections:this.defaultSections,r=e.tag,d.call(t,r)>=0?1:0},t.prototype.getState=function(e){var t,n,r,i,o;for(t=0,n=0,r=(i=this.itemSpecs).length;n<r;n++)o=i[n],+e.get(this.specToPath(o))&&t++;return 0===t?"off":t===this.itemSpecs.length?"on":"mixed"},t.prototype.toggleAll=function(){var e,t,n,r,i;for(i=this.getState(this.dev),e=0,t=(n=this.itemSpecs).length;e<t;e++)r=n[e],this.dev.set(this.specToPath(r),"on"===i?0:1);return"function"==typeof this.onchange?this.onchange():void 0},t.prototype.setDoneConstructing=function(){var e,n;return t.__super__.setDoneConstructing.call(this),null!=(e=this.metaButton)?e.setup({dev:this.dev,action:(n=this,function(){return n.toggleAll()}),state:function(e){return function(t){return e.getState(t)}}(this)}):void 0},t.prototype.setupToggle=function(){var e,t,n,r,i,o;for(this.reactions=[],i=this.itemSpecs.slice(1),o=this,e=function(e){return o.reactions.push(new a.Function(o.dev,function(t){if(+t.get(o.specToPath(e)))return t.set("meta/mix/lastEffect",e.tag)}))},n=0,r=i.length;n<r;n++)e(t=i[n]);return this.reactions.push(new a.Function(this.dev,function(e){return function(n){var r,i,o,a,s;if(null!=(i=n.get("meta/mix/lastEffect"))){for(s=[],r=0,o=(a=e.itemSpecs.slice(1)).length;r<o;r++)(t=a[r]).tag!==i?s.push(n.set(e.specToPath(t),0)):s.push(void 0);return s}}}(this)))},t.prototype.ensureDefaults=function(){var e,t,n,r,i;for(r=[],e=0,t=(n=this.itemSpecs).length;e<t;e++)i=n[e],null==this.dev.get(this.specToPath(i))?r.push(this.dev.set(this.specToPath(i),this.defaultForSpec(i))):r.push(void 0);return r},t.prototype.remove=function(){var e,t,n,r,i;if(null!=this.reactions){for(i=[],e=0,t=(r=this.reactions).length;e<t;e++)n=r[e],i.push(n.remove());return i}},t}(),c.StripSelUI=function(e){function t(e){var n;t.__super__.constructor.call(this,e),this.value=e.value,this.strips=[],this.stripScopes={},this.updateMetaButtonState=u.debounce((n=this,function(){return n.realUpdateMetaButtonState()}),0)}return h(t,c),t.prototype.realUpdateMetaButtonState=function(){if(null!=this.metaButton)return this.metaButton.setState(this.getState(this.dev))},t.prototype.setDoneConstructing=function(){var e,n,r,i,o,s,l;if(t.__super__.setDoneConstructing.call(this),null!=this.metaButton){for(this.metaButton.setup({dev:this.dev,action:(l=this,function(){return l.toggleAll()})}),o={},n=0,r=(i=this.strips).length;n<r;n++)s=i[n],o[e="preferences/"+this.stripScopes[s.basePath]+"/"+s.id+"/enabled"]=e;return this.metaButtonStateReaction=new a.Reaction({slots:o,src:this.dev,f:function(e){return function(){return e.updateMetaButtonState()}}(this),gatherSlots:!1})}},t.prototype.getState=function(e){var t,n,r,i,o,a;for(i=0,t=0,!1,n=0,r=(o=this.strips).length;n<r;n++)a=o[n],e.mixer.stripIsAvail(a)&&(i++,e.mixer.stripIsAvailAndEnabled(a,this.stripScopes[a.basePath])&&t++);return i&&t===i?"on":0===t?"off":"mixed"},t.prototype.toggleAll=function(){var e,t,n,r,i,o;for(i=this.getState(this.dev),r=[],e=0,t=(n=this.strips).length;e<t;e++)o=n[e],this.dev.mixer.stripIsAvail(o)?r.push(this.dev.mixer.setStripEnabled(o,this.stripScopes[o.basePath],"on"===i?0:1)):r.push(void 0);return r},t.prototype.addStrip=function(e,t){var n,r,i,o,a,s;return this.strips.push(e),this.stripScopes[e.basePath]=t,i=function(t){var n;return null!=(n=t.get(e.metaPath+"/name"))&&"function"==typeof n.replace?n.replace("\n",": "):void 0},o=function(n){return n.mixer.stripIsAvailAndEnabled(e,t)},s=this,n=function(){var n;return null!=(n=s.value)?n:s.dev.mixer.stripIsAvailAndEnabled(e,t)?0:1},a=function(n){return function(r){return n.dev.mixer.setStripEnabled(e,t,r)}}(this),(r=this.addItem({label:i,selected:o,chooseValue:n,setValue:a})).hideShow=new l({dev:this.dev,strip:e,onhide:function(e){return function(){return e.setVis(!1,r.node)}}(this),onshow:function(e){return function(){return e.setVis(!0,r.node)}}(this)})},t.prototype.setVis=function(e,t){return e?r.show(t):r.hide(t),this.updateMetaButtonState()},t}(),c.Controller=function(){function e(e){var t,n,r,i,o,a;for(this.dev=e.dev,a=e.selUIs,this.titles=e.titles,this.node=e.node,this.headerHeight=null,this.selUIs=[],this.draggers=[],n=r=0,i=a.length;0<=i?r<i:r>i;n=0<=i?++r:--r)t=this.addSelectListHeader(n,a.length),null==this.headerHeight&&(this.headerHeight=t.offsetHeight),(o=a[n](this.node)).selUIController=this,this.selUIs.push(o),"radio"!==o.mode&&(o.metaButton=new c.MetaButton({node:t})),0!==n&&this.draggers.push(new c.Controller.HeaderDragger({controller:this,index:n,node:t,numPanes:a.length}))}return e.prototype.addSelectListHeader=function(e){var t;return t=r.appendSpec(this.node,{className:"selectListHeader "+(0!==e?"grip":"")}),r.appendSpec(t,{type:"h2",textContent:this.titles[e]}),t},e.prototype.defaultPos=function(e,t){return e/t},e.prototype.grabPreferencePositions=function(){var e,t,n,r,i;for(this.selUIPositions=[0],e=t=1,n=this.selUIs.length;1<=n?t<n:t>n;e=1<=n?++t:--t)this.selUIPositions.push(+(null!=(r=this.dev.get("preferences/mix/seluipos/"+e))?r:this.defaultPos(e,this.selUIs.length)));return this.selUIPositions.push(1),this.pixelPos=this.selUIPositions.map((i=this,function(e){return i.ratioToPixelPos(e)})),this.forceValidPositions()},e.prototype.forceValidPositions=function(e){var t,n,r,i,o,a,s,l;if(l=this,t=function(e){var t,n;return t=l.maxHeaderPixelPos(e),n=l.minHeaderPixelPos(e),l.pixelPos[e]=Math.min(t,Math.max(n,l.pixelPos[e]))},null!=e&&e<0){for(s=[],n=i=this.pixelPos.length-2;i>=1;n=i+=-1)s.push(t(n));return s}for(a=[],n=r=1,o=this.pixelPos.length-1;1<=o?r<o:r>o;n=1<=o?++r:--r)a.push(t(n));return a},e.prototype.pixelPosToRatio=function(e){return e/window.innerHeight},e.prototype.ratioToPixelPos=function(e){return e*window.innerHeight},e.prototype.savePositions=function(){var e,t,n,r;for(r=[],e=t=1,n=this.selUIs.length;1<=n?t<n:t>n;e=1<=n?++t:--t)r.push(this.dev.set("preferences/mix/seluipos/"+e,this.pixelPosToRatio(this.pixelPos[e])));return r},e.prototype.minHeaderPixelPos=function(e){return 0===e?0:this.pixelPos[e-1]+this.headerHeight+this.selUIs[e-1].minHeight()},e.prototype.maxHeaderPixelPos=function(e){return 0===e?0:this.pixelPos[e+1]-this.headerHeight-this.selUIs[e].minHeight()},e.prototype.absoluteMinHeaderPixelPos=function(e){return 0===e?0:this.absoluteMinHeaderPixelPos(e-1)+this.headerHeight+this.selUIs[e-1].minHeight()},e.prototype.absoluteMaxHeaderPixelPos=function(e){return 0===e?0:e===this.selUIs.length?this.pixelPos[e]:this.absoluteMaxHeaderPixelPos(e+1)-this.headerHeight-this.selUIs[e].minHeight()},e.prototype.setDoneConstructing=function(){var e,t,n,r,i;for(r=[],e=0,t=(n=this.selUIs).length;e<t;e++)i=n[e],r.push(i.setDoneConstructing());return r},e.prototype.updateSize=function(){return this.grabPreferencePositions(),this.updateLocalSize()},e.prototype.updateLocalSize=function(){var e,t,n,r,i,o,a;for(t=n=0,i=this.selUIs.length;0<=i?n<i:n>i;t=0<=i?++n:--n)this.selUIs[t].setHeight(this.pixelPos[t+1]-this.pixelPos[t]-this.headerHeight);for(a=[],t=r=0,o=this.selUIs.length;0<=o?r<o:r>o;t=0<=o?++r:--r)(e=this.pixelPos[t+1]-this.pixelPos[t]-this.headerHeight)>this.selUIs[t].maxHeight()?a.push(this.selUIs[t].pane.contentWrapper.style.paddingBottom=e-this.selUIs[t].maxHeight()+"px"):a.push(this.selUIs[t].pane.contentWrapper.style.paddingBottom="");return a},e.prototype.remove=function(){var e,t,n,r,i,o,a,s,l,u;for(t=0,r=(o=this.selUIs).length;t<r;t++)null!=(a=(u=o[t]).metaButton)&&a.remove(),u.remove();for(l=[],n=0,i=(s=this.draggers).length;n<i;n++)e=s[n],l.push(e.remove);return l},e}(),c.Controller.HeaderDragger=function(){function e(e){this.controller=e.controller,this.index=e.index,this.node=e.node,this.numPanes=e.numPanes,this.listen=new o.Listener({proxy:this,events:["dragdown","dragmove","dragup","dragcancel"],node:this.node,options:{fakeMousemoveOnScroll:!1}})}return e.prototype.dragdown=function(e,t){return t.startY=e.clientY,t.startPos=this.controller.pixelPos[this.index]},e.prototype.dragmove=function(e,t){var n,r,i,o,a;return a=e.clientY-t.startY+t.startPos,n=this.controller.absoluteMaxHeaderPixelPos(this.index),r=this.controller.absoluteMinHeaderPixelPos(this.index),a>n&&(a=n),a<r&&(a=r),this.controller.pixelPos[this.index]=a,i=this.controller.maxHeaderPixelPos(this.index),o=this.controller.minHeaderPixelPos(this.index),a>i&&this.controller.forceValidPositions(-1),a<o&&this.controller.forceValidPositions(1),this.controller.updateLocalSize()},e.prototype.dragcancel=function(){return this.dragup()},e.prototype.dragup=function(){return this.controller.updateLocalSize(),this.controller.savePositions()},e.prototype.remove=function(){return this.listen.remove()},e}(),c}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(2),n(198),n(197),n(5),n(196),n(3),n(44),n(1),n(27),n(21),n(68),n(66),n(51)],void 0===(i=function(e,t,n,r,i,o,a,s,l,u,c,h,p){var d,f,v,m,g,b,y,C,x={}.hasOwnProperty,_=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},w=function(e,t){for(var n in t)x.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};return d=function(){function e(e){var n,r,i,s;this.dev=e.dev,this.content=e.content,this.extra=e.extra,s=e.selUIs,i=e.selTitles,null==(r=e.scrollID)&&(r="mixer"),this.strips={},this.groupSrcs={},this.meterDrawer=new l.MeterDrawer,this.glideScopes={},this.doneConstructing=!1,this.selUI=new t.Controller({dev:this.dev,node:this.extra,selUIs:s,titles:i}),this.frags={strip:document.createDocumentFragment(),name:document.createDocumentFragment()},this.root={strip:o.appendSpec(this.frags.strip,{className:"chStripsDiv"}),name:o.appendSpec(this.frags.name,{className:"chStripsDiv"})},n=this.dev.perf.addMode(new h.MixerCreation),this.table=new a({node:this.content,scrollX:!0,extraCss:"mixerContent",dev:this.dev,id:r,log:!0}),this.glideBoundNode={strip:this.table.contentWrapper,name:this.table.xHeaderWrapper},this.construct(this.root),this.dev.perf.removeMode(n),this.table.content.appendChild(this.frags.strip),this.table.showXHeader(),this.table.xHeader.appendChild(this.frags.name),delete this.frags,delete this.root}return e.prototype.finalizeConstruction=function(){var e,t;return this.doneConstructing=!0,null!=(e=this.selUI)&&e.setDoneConstructing(),null!=(t=this.selUI)?t.updateSize():void 0},e.prototype.construct=null,e.prototype.addStrips=function(e,t){var n,r,i,o,a,s;for(o=[],n=r=0,i=t.length;r<i;n=++r)a=t[n],o.push(function(){var t,r,i;for(i=[],t=0,r=a.length;t<r;t++)s=a[t],i.push(this.dev.mixer.mapStripType(s,function(t){return function(r){return t.addStrip(r,e,n)}}(this)));return i}.call(this));return o},e.prototype.addStripController=function(e,t){var n,r;if(n="mix"===t?e.type:e.type+"_"+t,r=e.id+"_"+t,null==this.strips[r].controller)return this.strips[r].controller=new i({dev:this.dev,strip:e,scope:t,divs:this.strips[r].divs,meterDrawer:this.meterDrawer,sections:this.sectionSpecs[n],glideScopes:this.glideScopes,glideBoundNode:this.glideBoundNode})},e.prototype.removeStripController=function(e,t){var n;if(n=e.id+"_"+t,null!=this.strips[n].controller)return this.strips[n].controller.remove(),delete this.strips[n].controller},e.prototype.ensureDefaultForStrip=function(e,t){var n,r;if(null!=(n=this.dev.get("preferences/"+t+"/"+e.id+"/enabled")))return+n;if(r={chan:4,group:1,main:1,aux:1,monitor:1},e.num<r[e.type])this.dev.mixer.setStripEnabled(e,t,1);else{if("chan"!==e.type)return this.dev.mixer.setStripEnabled(e,t,0);this.dev.mixer.setStripEnabled(e,t,""!==this.dev.mixer.getNthInChSrc(e.num))}},e.prototype.remove=function(){var e,t,n,r;for(r in e=this.strips)x.call(e,r)&&null!=(t=e[r].controller)&&t.remove();return null!=(n=this.selUI)?n.remove():void 0},e}(),g=function(e){return _.call(e,"comp")>=0?"comp":_.call(e,"leveler")>=0?"leveler":"empty-comp"},m=function(e){return"chan"===e||"group"===e||"reverb"===e?"aux":"empty-aux"},b=function(e){return"chan"===e||"reverb"===e?"group":"empty-group"},C=function(e){return"chan"===e?"talkback":"main"===e||"aux"===e||"reverb"===e||"group"===e?"talkbackOut":"empty-talkback"},y=function(e,t){var n,r,i,o,a,s,l,u;for(n=e.get("mix/ctrls/"+t).split(":"),u=[],o=0,a=(s=["hpf","gate","eq"]).length;o<a;o++)i=s[o],_.call(n,i)>=0?(u.push(i),"eq"===i&&u.push("eqGraph")):(u.push("empty-"+i),"eq"===i&&u.push("empty-eqGraph"));return r=g(n),u.push(g(n)),"comp"===r&&u.push("comp-graph"),"empty-comp"!==r&&"leveler"!==r||u.push("empty-comp-graph"),u.push(m(t)),u.push(t+"-fader"),u.push(b(t)),u.push(C(t)),"reverb"===t&&(u=function(){var e,t,n,r;for(r=[],e=0,t=u.length;e<t;e++)"empty"!==(n=(l=u[e]).split("-")[0])&&"reverb"!==n?r.push("reverb-"+l):r.push(l);return r}()),{name:[t+"-name"],strip:u}},v=function(i){function a(r){var i,o,s,l,u,c,h,p,d;for(this.dev=r.dev,o=e.isMobile?"radio":"check",d=this,s=function(e){return new t.FxSelUI({node:e,dev:d.dev,id:"mixerFxSel",mode:o})},l=function(e){return function(n){return new t.StripSelUI({node:n,dev:e.dev,id:"mixerInChSel"})}}(this),i=function(e){return function(n){return new t.StripSelUI({node:n,dev:e.dev,id:"mixerOutChSel"})}}(this),r.selUIs=[s,l,i],r.selTitles=["Controls","Mixer Inputs","Mixer Outputs"],this.sectionSpecs={},u=0,c=(h=["chan","group","main","monitor","aux","reverb"]).length;u<c;u++)p=h[u],this.sectionSpecs[p]=y(this.dev,p);a.__super__.constructor.call(this,r),this.legend=new n({scroll:this.table,dev:this.dev})}return w(a,d),a.prototype.construct=function(e){var t,n,r,i,o,a;for(this.stripsToAddToSelUIs={1:[],2:[]},this.addStrips(e,[["chan"],["group","reverb"],["monitor","main","aux"]]),i=[],t=0,n=(r=[1,2]).length;t<n;t++)a=r[t],i.push(function(){var e,t,n,r;for(r=[],e=0,t=(n=this.stripsToAddToSelUIs[a]).length;e<t;e++)o=n[e],r.push(this.selUI.selUIs[a].addStrip(o,"mix"));return r}.call(this));return i},a.prototype.addStrip=function(e,t){var n,i,a,s,l,u,c;return this.ensureDefaultForStrip(e,"mix"),n={reverb:"reverbNameDiv"},i={},this.strips[e.id+"_mix"]={divs:{name:o.appendSpec(t.name,{className:"chNameDiv "+e.type+" "+(null!=(s=n[e.type])?s:""),"style:display":"none"}),strip:o.appendSpec(t.strip,{className:"chStripDiv "+e.type+" "+(null!=(l=i[e.type])?l:""),"style:display":"none"})}},"chan"===e.type&&null!=this.dev.get("mix/talkback/chan")&&(a=e.num,c=this.strips[e.id+"_mix"].divs.strip,new r.Function(this.dev,function(e){var t;return t=+e.get("mix/talkback/chan"),o.setClass(c,"talkbackWrapper",a===t)})),this.addStripController(e,"mix"),"chan"===e.type?this.stripsToAddToSelUIs[1].push(e):"group"===(u=e.type)||"aux"===u||"reverb"===u?this.stripsToAddToSelUIs[2].push(e):void 0},a.prototype.remove=function(){var e;return null!=(e=this.legend)&&e.remove(),a.__super__.remove.call(this)},a}(),(f=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.alert=u.doAlertCheck({dev:this.dev,cap:"mixer",task:"Mixing",node:this.div}),null==this.alert&&(this.alert=u.doAlertCheck({dev:this.dev,cap:"meters",task:"Metering",node:this.div})),null==this.alert&&(0!==this.dev.router.getOBankUserCh(this.dev.mixer.getBnForStripType("chan"))?this.chStripCtrl=new this.mixerConstructor({dev:this.dev,content:this.div,extra:this.extra}):this.alert=new p("Mixing has been disabled; please add mixer inputs on the Routing page",this.div))}return w(t,c),t.needsSpinner=!0,t.needsTarget=!0,t.ID="mixing",t.label="Mixing",t.needsExtra=!0,t.extraLabel="Mixer Setup",t.extraID="mix-setup",t.prototype.mixerConstructor=v,t.prototype.finalizeConstruction=function(){var e;return null!=(e=this.chStripCtrl)?e.finalizeConstruction():void 0},t.prototype.remove=function(){var e,n;return null!=(e=this.chStripCtrl)&&e.remove(),delete this.chStripCtrl,null!=(n=this.alert)&&n.remove(),delete this.alert,t.__super__.remove.apply(this,arguments)},t}()).BaseMixerUI=d,f}.apply(t,r))||(e.exports=i)},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._qA2cm_MixerSettingsDrawer{background-color:#292f36;background-image:url(img/dot-grid-blue.png);background-image:-webkit-gradient(linear,0 top,0 bottom,from(#21262b),to(rgba(0,0,0,.6)));background-image:-webkit-linear-gradient(top,#21262b,rgba(0,0,0,.6));background-image:-moz-linear-gradient(top,#21262b,rgba(0,0,0,.6));background-image:-ms-linear-gradient(top,#21262b,rgba(0,0,0,.6));background-image:-o-linear-gradient(top,#21262b,rgba(0,0,0,.6));box-shadow:inset 2px 1px 30px 10px rgba(0,0,0,.4);overflow-y:hidden;list-style:none}._12pt1_LeftColumn{display:inline-block;width:100%;height:100%}._1m1Qc_RightColumn{display:inline-block;position:absolute;width:75%;height:100%;top:0;right:0;padding:10px 0;pointer-events:none}._3MJEX_GearIconContainer{padding:4px 0 0 6px}._3faRM_FullScreenIcon{display:inline-block;padding:4px 0 0 6px}._3mA5p_PrePostIcon{display:inline-block;padding:6px 0 0 6px}._3kPEM_SideBarFaderSelectContainer{background-color:#1d1d20;overflow:hidden;position:relative;width:100%;height:36px}._1hAKw_SideBarFaderIcon{pointer-events:none;position:absolute;top:0;left:5px}._3BwBh_SideBarFaderSelect{background:transparent;border:none;color:#fff;width:100%;height:100%;text-indent:100%;text-overflow:ellipsis;white-space:nowrap}._3BwBh_SideBarFaderSelect:first-child{overflow:hidden}",""]),t.locals={MixerSettingsDrawer:"_qA2cm_MixerSettingsDrawer",LeftColumn:"_12pt1_LeftColumn",RightColumn:"_1m1Qc_RightColumn",GearIconContainer:"_3MJEX_GearIconContainer",FullScreenIcon:"_3faRM_FullScreenIcon",PrePostIcon:"_3mA5p_PrePostIcon",SideBarFaderSelectContainer:"_3kPEM_SideBarFaderSelectContainer",SideBarFaderIcon:"_1hAKw_SideBarFaderIcon",SideBarFaderSelect:"_3BwBh_SideBarFaderSelect"}},function(e,t,n){var r=n(200);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._1CaYJ_LeftColumn{display:inline-block;width:100%;height:100%}._DmUma_RightColumn{display:inline-block;position:absolute;width:75%;height:100%;top:0;right:0;padding:10px 0;pointer-events:none}._5s52p_FaderVisibilitySelectContainer{background-color:#1d1d20;overflow:hidden;position:relative;width:100%;height:36px}._GEJzT_FaderVisiblityIcon{pointer-events:none;position:absolute;top:4px;left:6px}._2dWOe_DropDownCarat{position:absolute;bottom:0;right:0}",""]),t.locals={LeftColumn:"_1CaYJ_LeftColumn",RightColumn:"_DmUma_RightColumn",FaderVisibilitySelectContainer:"_5s52p_FaderVisibilitySelectContainer",FaderVisiblityIcon:"_GEJzT_FaderVisiblityIcon",DropDownCarat:"_2dWOe_DropDownCarat"}},function(e,t,n){var r=n(202);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._6VvGj_SideBarFaderSelectContainer{background-color:#1d1d20;overflow:hidden;position:relative;width:100%;height:36px}._bHeD__SideBarFaderIcon{pointer-events:none;position:absolute;top:0;left:5px}._3OiS1_SideBarFaderSelect{background:transparent;border:none;color:#fff;width:100%;height:100%;text-indent:100%;text-overflow:ellipsis;white-space:nowrap;-webkit-appearance:none}._3OiS1_SideBarFaderSelect:first-child{overflow:hidden}._3OiS1_SideBarFaderSelect:hover{background-color:#404040;box-shadow:none}._F4YA5_DropDownCarat{position:absolute;bottom:0;right:0}",""]),t.locals={SideBarFaderSelectContainer:"_6VvGj_SideBarFaderSelectContainer",SideBarFaderIcon:"_bHeD__SideBarFaderIcon",SideBarFaderSelect:"_3OiS1_SideBarFaderSelect",DropDownCarat:"_F4YA5_DropDownCarat"}},function(e,t,n){var r=n(204);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._2bjbs_ToggleIcon{position:absolute;right:0;top:0}._3aMzo_ActiveFaderModeLabelExpanded{font-size:1.3em;background-color:#292f36;background-image:url(img/dot-grid-blue.png);background-image:-webkit-gradient(linear,0 top,0 bottom,from(#21262b),to(rgba(0,0,0,.6)));background-image:-webkit-linear-gradient(top,#21262b,rgba(0,0,0,.6));background-image:-moz-linear-gradient(top,#21262b,rgba(0,0,0,.6));background-image:-ms-linear-gradient(top,#21262b,rgba(0,0,0,.6));background-image:-o-linear-gradient(top,#21262b,rgba(0,0,0,.6));box-shadow:inset 2px 1px 30px 10px rgba(0,0,0,.4);text-align:center;padding:5px}._65IBc_ActiveFaderModeLabelCollapsed{font-size:.8em;background-color:#353535;text-align:center;padding:5px}",""]),t.locals={ToggleIcon:"_2bjbs_ToggleIcon",ActiveFaderModeLabelExpanded:"_3aMzo_ActiveFaderModeLabelExpanded",ActiveFaderModeLabelCollapsed:"_65IBc_ActiveFaderModeLabelCollapsed"}},function(e,t,n){var r=n(206);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._xyU3i_LeftColumn{display:inline-block;width:100%;height:100%}._DlQck_RightColumn{display:inline-block;position:absolute;width:75%;height:100%;top:0;right:0;padding:10px 0;pointer-events:none}._1YOj2_FaderModeIcon{pointer-events:none;position:absolute;top:5px;left:5px}._VpX74_FaderModeSelectContainer{background-color:#1d1d20;overflow:hidden;position:relative;width:100%;height:36px}._1i0fu_FaderModeSelect{background:transparent;border:none;color:#fff;width:100%;height:100%;text-indent:100%;text-overflow:ellipsis;white-space:nowrap;-webkit-appearance:none}._1i0fu_FaderModeSelect:hover{background-color:#404040;box-shadow:none}._13idi_DropDownCarat{position:absolute;bottom:0;right:0}",""]),t.locals={LeftColumn:"_xyU3i_LeftColumn",RightColumn:"_DlQck_RightColumn",FaderModeIcon:"_1YOj2_FaderModeIcon",FaderModeSelectContainer:"_VpX74_FaderModeSelectContainer",FaderModeSelect:"_1i0fu_FaderModeSelect",DropDownCarat:"_13idi_DropDownCarat"}},function(e,t,n){var r=n(208);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._1lYl9_ChannelSelect,._1rvvu_ToolTipButton{width:100%;height:100%}._1lYl9_ChannelSelect{background:transparent;border:none;overflow-y:scroll;overflow-x:hidden;background-color:#1b1b1b;color:#fff;text-indent:100%;text-overflow:ellipsis;white-space:nowrap;-webkit-appearance:none}._3qtLn_ChannelSelectMulitpleDesktop{text-indent:inherit}._1lYl9_ChannelSelect:hover{background-color:#404040;box-shadow:none}",""]),t.locals={ToolTipButton:"_1rvvu_ToolTipButton",ChannelSelect:"_1lYl9_ChannelSelect",ChannelSelectMulitpleDesktop:"_3qtLn_ChannelSelectMulitpleDesktop"}},function(e,t,n){var r=n(210);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=f(n(0)),a=(f(n(13)),f(n(11)),f(n(24)),f(n(15)),f(n(6)),n(20)),s=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(18)),n(9)),l=f(n(67)),u=f(n(28)),c=f(n(209)),h=f(n(17)),p=n(12),d=n(4);function f(e){return e&&e.__esModule?e:{default:e}}var v=(0,p.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.id=Math.random().toString(36).substring(7),n.addChangeListeners=n.addChangeListeners.bind(n),n.removeChangeListeners=n.removeChangeListeners.bind(n),n._onFaderModeSelected=n._onFaderModeSelected.bind(n),n.observableState=(0,d.observable)({selectedStripInfo:null}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"componentDidMount",value:function(){this.addChangeListeners()}},{key:"componentWillUnmount",value:function(){this.removeChangeListeners()}},{key:"addChangeListeners",value:function(){}},{key:"removeChangeListeners",value:function(){}},{key:"render",value:function(){var e="";return null!==this.props.observableState.onFaderStripInfo&&this.props.observableState.onFaderStripInfo.type==this.props.type&&(e="selected"),o.default.createElement("label",{className:"main-nav "+this.props.mode+" label"},o.default.createElement("div",{className:c.default.LeftColumn},o.default.createElement("div",{className:c.default.FaderModeSelectContainer+" "+e},o.default.createElement(u.default,{type:this.props.type,width:"25px",height:"25px",className:c.default.FaderModeIcon,fillColor:e?s.Colors[this.props.type]:s.Colors.lightGray}),o.default.createElement(l.default,{observableState:this.props.observableState,multiple:!1,input:!1,output:!0,types:[this.props.type],onSelectionChanged:this._onFaderModeSelected,observableValues:this.props.observableState,stateKey:"faderPath"}),o.default.createElement(u.default,{type:"carat",width:"10px",height:"10px",className:c.default.DropDownCarat,fillColor:s.Colors.lightGray}))),"expanded"===this.props.mode?o.default.createElement("div",{className:c.default.RightColumn},o.default.createElement("span",null,this.props.type.capitalize())):null)}},{key:"_onFaderModeSelected",value:function(e){if(e.target){var t=new h.default(e.target.value);this.observableState.selectedStripInfo=t;var n=(0,a.getSendPath)(t),r=(0,a.getPanPath)(t);Object.assign(this.props.observableState,{onFaderStripInfo:t,faderPath:n,panPath:r}),-1===n.indexOf("fader")&&this.props.observableState.sideBarFaderFollow&&(this.props.observableState.sideBarFaderHidden=!1,this.props.observableState.sideBarFaderStripInfo=t)}}}]),t}())||r;t.default=v},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._2mNzB_FaderModeIcon{pointer-events:none;position:absolute;top:5px;left:5px}._1xYJo_FaderModeLabel{margin-left:36px}",""]),t.locals={FaderModeIcon:"_2mNzB_FaderModeIcon",FaderModeLabel:"_1xYJo_FaderModeLabel"}},function(e,t,n){var r=n(213);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FaderModeButtonInternal=void 0;var r,i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(9),s=v(n(6)),l=(v(n(25)),v(n(0))),u=(v(n(77)),v(n(28))),c=n(12),h=n(4),p=(v(n(19)),v(n(11)),n(20)),d=(v(n(15)),v(n(17))),f=v(n(214));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=t.FaderModeButtonInternal=(0,c.observer)(r=function(e){function t(e){m(this,t);var n=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.id=Math.random().toString(36).substring(7),n.addChangeListeners=n.addChangeListeners.bind(n),n.removeChangeListeners=n.removeChangeListeners.bind(n),n._onFormatValueChange=n._onFormatValueChange.bind(n),n._onSelected=n._onSelected.bind(n);var r=!s.default.has(e.stripInfo.formatPath)||"2"===s.default.get(e.stripInfo.formatPath).split(":")[0];return n.observableState=(0,h.observable)({stereoEnabled:r,selected:!1}),n}return b(t,l.default.Component),o(t,[{key:"componentDidMount",value:function(){this.addChangeListeners()}},{key:"componentWillReceiveProps",value:function(e){}},{key:"componentWillUnmount",value:function(){this.removeChangeListeners()}},{key:"addChangeListeners",value:function(){s.default.has(this.props.stripInfo.formatPath)&&s.default.addChangeListener(this.id,this._onFormatValueChange,this.props.stripInfo.formatPath,!1)}},{key:"removeChangeListeners",value:function(){s.default.removeChangeListener(this.id,this._onFormatValueChange,this.props.stripInfo.formatPath,!1)}},{key:"_onFormatValueChange",value:function(){this.observableState.stereoEnabled=!s.default.has(this.props.stripInfo.formatPath)||"2"===s.default.get(this.props.stripInfo.formatPath).split(":")[0]}},{key:"_onSelected",value:function(e){var t="fader"==this.props.stripInfo.type?new d.default("main/0"):this.props.stripInfo;Object.assign(this.props.observableState,{onFaderStripInfo:t,faderPath:this.props.sendPath,panPath:this.props.panPath}),-1===this.props.sendPath.indexOf("fader")&&this.props.observableState.sideBarFaderFollow?(this.props.observableState.sideBarFaderHidden=!1,this.props.observableState.sideBarFaderStripInfo=this.props.stripInfo):-1!==this.props.sendPath.indexOf("fader")&&this.props.observableState.sideBarFaderFollow&&(this.props.observableState.sideBarFaderHidden=!1,this.props.observableState.sideBarFaderStripInfo=new d.default("main/0")),this.observableState.selected=!0}},{key:"render",value:function(){var e=this.props.stripInfo.type,t=(this.props.stripInfo.num,this.props.observableState.faderPath===this.props.sendPath),n="Fader"==this.props.label?"Input":this.props.label,r=n.replace(e.capitalize()+" ","");return l.default.createElement("label",{onClick:this._onSelected,className:"main-nav "+this.props.mode+" label"},"icon"===this.props.collapsedMode?l.default.createElement(u.default,{type:e,width:"25px",height:"25px",className:f.default.FaderModeIcon,fillColor:t?a.Colors[e]:a.Colors.lightGray}):null,"expanded"===this.props.mode||"text"===this.props.collapsedMode?l.default.createElement("span",{className:"main-nav item "+this.props.mode+" "+f.default.FaderModeLabel},"expanded"===this.props.mode?n:r):null)}}]),t}())||r,C=(0,c.observer)(i=function(e){function t(e){m(this,t);var n=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.id=Math.random().toString(36).substring(7),n._onFormatValueChange=n._onFormatValueChange.bind(n);var r=e.stripInfo,i=e.mode,o=(e.showChannelNumber,e.collapsedMode),a=e.observableState,l=(function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}(e,["stripInfo","mode","showChannelNumber","collapsedMode","observableState"]),!s.default.has(r.formatPath)||"2"===s.default.get(r.formatPath).split(":")[0]);n.observableState=(0,h.observable)({stereoEnabled:l}),n.leftProps={stripInfo:r,sendPath:(0,p.getSendPath)(r),panPath:(0,p.getPanPath)(r),mode:i,collapsedMode:o,label:s.default.getLabel(r),observableState:a};var u=new d.default(r.type+"/"+(r.num+1));return n.rightProps={stripInfo:u,sendPath:(0,p.getSendPath)(u),panPath:(0,p.getPanPath)(u),mode:i,collapsedMode:o,label:s.default.getLabel(u),observableState:a},n}return b(t,l.default.Component),o(t,[{key:"componentWillReceiveProps",value:function(e){Object.assign(this.leftProps,{stripInfo:e.stripInfo,sendPath:(0,p.getSendPath)(e.stripInfo),panPath:(0,p.getPanPath)(e.stripInfo),mode:e.mode,label:s.default.getLabel(e.stripInfo)});var t=new d.default(e.stripInfo.type+"/"+(e.stripInfo.num+1));Object.assign(this.rightProps,{stripInfo:t,sendPath:(0,p.getSendPath)(t),panPath:(0,p.getPanPath)(t),mode:e.mode,label:s.default.getLabel(t)})}},{key:"componentDidMount",value:function(){var e=this.leftProps.stripInfo;s.default.has(e.formatPath)&&s.default.addChangeListener(this.id,this._onFormatValueChange,e.formatPath,!1);var t=new d.default(e.type+"/"+(e.num+1));s.default.has(t.formatPath)&&s.default.addChangeListener(this.id,this._onFormatValueChange,t.formatPath,!1)}},{key:"componentWillUnmount",value:function(){var e=this.leftProps.stripInfo,t=new d.default(e.type+"/"+(e.num+1));s.default.removeChangeListener(this.id,this._onFormatValueChange,e.formatPath,!1),s.default.removeChangeListener(this.id,this._onFormatValueChange,t.formatPath,!1)}},{key:"_onFormatValueChange",value:function(){var e=this.leftProps.stripInfo;this.observableState.stereoEnabled=!s.default.has(e.formatPath)||"2"===s.default.get(e.formatPath).split(":")[0];var t=new d.default(e.type+"/"+(e.num+1));this.leftProps.label=s.default.getLabel(e),this.rightProps.label=s.default.getLabel(t)}},{key:"render",value:function(){return this.observableState.stereoEnabled?l.default.createElement("div",{className:f.default.FaderModeButtonContainer},l.default.createElement(y,this.leftProps)):l.default.createElement("div",{className:f.default.FaderModeButtonContainer},l.default.createElement(y,this.leftProps),l.default.createElement(y,this.rightProps))}}]),t}())||i;t.default=C},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._yN19z_AccordionContent{max-height:0;overflow:hidden;transition:max-height .2s ease-out}",""]),t.locals={AccordionContent:"_yN19z_AccordionContent"}},function(e,t,n){var r=n(216);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(8)(!1)).push([e.i,".Toastify__toast-container{z-index:9999;position:fixed;padding:4px;width:320px;box-sizing:border-box;color:#fff}.Toastify__toast-container--top-left{top:1em;left:1em}.Toastify__toast-container--top-center{top:1em;left:50%;margin-left:-160px}.Toastify__toast-container--top-right{top:1em;right:1em}.Toastify__toast-container--bottom-left{bottom:1em;left:1em}.Toastify__toast-container--bottom-center{bottom:1em;left:50%;margin-left:-160px}.Toastify__toast-container--bottom-right{bottom:1em;right:1em}@media only screen and (max-width:480px){.Toastify__toast-container{width:100vw;padding:0;left:0;margin:0}.Toastify__toast-container--top-center,.Toastify__toast-container--top-left,.Toastify__toast-container--top-right{top:0}.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-right{bottom:0}.Toastify__toast-container--rtl{right:0;left:auto}}.Toastify__toast{position:relative;min-height:64px;box-sizing:border-box;margin-bottom:1rem;padding:8px;border-radius:1px;box-shadow:0 1px 10px 0 rgba(0,0,0,.1),0 2px 15px 0 rgba(0,0,0,.05);display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;max-height:800px;overflow:hidden;font-family:sans-serif;cursor:pointer;direction:ltr}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--default{background:#fff;color:#aaa}.Toastify__toast--info{background:#3498db}.Toastify__toast--success{background:#07bc0c}.Toastify__toast--warning{background:#f1c40f}.Toastify__toast--error{background:#e74c3c}.Toastify__toast-body{margin:auto 0;-ms-flex:1;flex:1}@media only screen and (max-width:480px){.Toastify__toast{margin-bottom:0}}.Toastify__close-button{color:#fff;font-weight:700;font-size:14px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;-ms-flex-item-align:start;align-self:flex-start}.Toastify__close-button--default{color:#000;opacity:.3}.Toastify__close-button:focus,.Toastify__close-button:hover{opacity:1}@keyframes Toastify__trackProgress{0%{width:100%}to{width:0}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:0;height:5px;z-index:9999;opacity:.7;animation:Toastify__trackProgress linear 1;background-color:hsla(0,0%,100%,.7)}.Toastify__progress-bar--rtl{right:0;left:auto}.Toastify__progress-bar--default{background:linear-gradient(90deg,#4cd964,#5ac8fa,#007aff,#34aadc,#5856d6,#ff2d55)}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,0,0)}to{opacity:0;transform:translate3d(2000px,0,0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,0,0)}to{opacity:0;transform:translate3d(-2000px,0,0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,-10px,0)}40%,45%{opacity:1;transform:translate3d(0,20px,0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,10px,0)}40%,45%{opacity:1;transform:translate3d(0,-20px,0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--bottom-left,.Toastify__bounce-enter--top-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--bottom-right,.Toastify__bounce-enter--top-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--bottom-left,.Toastify__bounce-exit--top-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--bottom-right,.Toastify__bounce-exit--top-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:perspective(400px)}30%{transform:perspective(400px) rotateX(-20deg);opacity:1}to{transform:perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translateZ(0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translateZ(0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translateZ(0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translateZ(0)}}@keyframes Toastify__slideOutRight{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(110%,0,0)}}@keyframes Toastify__slideOutLeft{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(-110%,0,0)}}@keyframes Toastify__slideOutUp{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(0,110%,0)}}@keyframes Toastify__slideOutDown{0%{transform:translateZ(0)}to{visibility:hidden;transform:translate3d(0,-110%,0)}}.Toastify__slide-enter--bottom-left,.Toastify__slide-enter--top-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--bottom-right,.Toastify__slide-enter--top-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--bottom-left,.Toastify__slide-exit--top-left{animation-name:Toastify__slideOutLeft}.Toastify__slide-exit--bottom-right,.Toastify__slide-exit--top-right{animation-name:Toastify__slideOutRight}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown}",""])},function(e,t,n){var r=n(218);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";var r,i;r=[n(3),n(16),n(33),n(1)],void 0===(i=function(e,t,n,r){var i,o=[].slice,a=function(e,t){for(var n in t)s.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},s={}.hasOwnProperty;return function(e){var t;return(t=new window.Error(e)).name="CancellationError",t},(i=function(){function r(n){var r,i,o,a,s,l,u,c,h;for(u=n.node,this.oncancel=n.oncancel,c=n.prompt,i=null!=(o=n.extraCss)?o:"modal visiblyModal",this.modal=e.appendSpec(u,{className:i}),this.node=e.appendSpec(this.modal,{className:"spinner-container"}),c&&this.makePrompt(c),l=e.appendSpec(this.node,{className:"spinner"}),a=s=1;s<=9;a=++s)e.appendSpec(l,{className:"rect"+a});null!=this.oncancel&&(r=e.appendSpec(this.node,{className:"cancel utilityBtn",textContent:"Cancel"}),this.cancelListen=new t.FunctionButton({node:r,f:(h=this,function(){return h.oncancel()})}))}return r.prototype.remove=function(){var t;return null!=(t=this.cancelListen)&&t.remove(),e.remove(this.modal)},r.prototype.makePrompt=function(t){return this.prompt=e.specToNode({className:"prompt",textContent:t}),this.node.insertBefore(this.prompt,this.node.firstChild)},r.prototype.changePrompt=function(e){return null!=this.prompt?this.prompt.textContent=e:this.makePrompt(e)},r.RunPromise=function(e){var t,r,i,a,s,l,u,c,h,p,d;return u=e.promise,s=e.node,t=e.cancel,c=e.prompt,p=e.src,r=e.extraCss,h=new this({node:s,oncancel:t?function(){return u.cancel()}:null,prompt:c,src:p,extraCss:r}),d=function(){var e;return e=1<=arguments.length?o.call(arguments,0):[],h.remove(),n.resolve.apply(n,e)},i=function(){var e;return e=1<=arguments.length?o.call(arguments,0):[],h.remove(),n.reject.apply(n,e)},l=function(){var e;return e=1<=arguments.length?o.call(arguments,0):[],"function"==typeof h.changeProgress?h.changeProgress.apply(h,e):void 0},(a=u.then(d,i,l)).spinner=h,a},r}()).DelayedSpinner=function(t){function n(t){var n,i,o,a,s;this.parent=t.node,this.oncancel=t.oncancel,this.prompt=t.prompt,a=t.src,n=null!=(i=t.extraCss)?i:"modal",this.modal=e.appendSpec(this.parent,{className:n}),this.spinner=null,this.cancelled=!1,s=this,o=function(){return s.show()},(null!=a?a.get("performance/alwaysShowDelayedSpinners"):void 0)?r.defer(o):r.delay(o,500)}return a(n,i),n.prototype.show=function(){if(!this.cancelled)return this.spinner=new i({node:this.parent,oncancel:this.oncancel,prompt:this.prompt,noWrapper:!0}),e.remove(this.modal),this.modal=null},n.prototype.remove=function(){return null!=this.modal&&(e.remove(this.modal),this.modal=null),null!=this.spinner&&(this.spinner.remove(),this.spinner=null),this.cancelled=!0},n}(),i.ProgressBar=function(n){function r(n){var r,i,o,a,s,l;a=n.node,this.oncancel=n.oncancel,s=n.prompt,i=null!=(o=n.extraCss)?o:"modal visiblyModal",this.node=e.appendSpec(a,{className:i}),s&&this.makePrompt(s),this.bar=e.appendSpec(this.node,{className:"progressBarFrame"}),this.fillBar=e.appendSpec(this.bar,{className:"progressBar"}),this.fillBar.style.left="0px",this.fillBar.style.width="0%",this.unknownProgress=0,this.unknownProgressDelta=.05,this.unknownProgressWidth=.3,null!=this.oncancel&&(r=e.appendSpec(this.node,{className:"cancel utilityBtn",textContent:"Cancel"}),this.cancelListen=new t.FunctionButton({node:r,f:(l=this,function(){return l.oncancel()})}))}return a(r,i),r.prototype.doUnknownProgress=function(){return this.unknownProgress+=this.unknownProgressDelta,(this.unknownProgress<0||this.unknownProgress>1-this.unknownProgressWidth)&&(this.unknownProgressDelta=-this.unknownProgressDelta),this.fillBar.style.width=~~(100*this.unknownProgressWidth)+"%",this.fillBar.style.left=~~(100*this.unknownProgress)+"%"},r.prototype.changeProgress=function(e){if(!this.cancelled)return null==e?this.doUnknownProgress():(this.fillBar.style.left="0px",this.fillBar.style.width=~~(100*+e)+"%")},r.prototype.remove=function(){return e.remove(this.node),this.cancelled=!0},r}(),i}.apply(t,r))||(e.exports=i)},function(e,t,n){var r=n(126);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"body,html{height:100%;width:100%;margin:0}._2Vsb8_mixer{background-color:#282828;display:flex;flex-flow:column;height:100%;width:100%;overflow:auto;-ms-touch-action:none}._1WhbM_presetcontainer{position:absolute;top:36px;left:0;z-index:1}._1WtEW_focuschannel{flex:0 1 auto;overflow:hidden;-webkit-overflow-scrolling:auto}._3PtlR_channelstrips{flex:1 1 auto;overflow-x:scroll;overflow-y:hidden;overflow:-moz-scrollbars-none;-webkit-overflow-scrolling:touch;touch-action:pan-x;white-space:nowrap;max-width:100vw;backface-visibility:hidden;position:relative;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAH0lEQVQYV2NkQAX/GZH4/xkYGBhhAmAOSBJEwDkgAQCCrgQEjpMcPgAAAABJRU5ErkJggg==)}._3PtlR_channelstrips::-webkit-scrollbar{height:0}._tGm4I_channelstrips_inner{position:absolute;bottom:0;margin-bottom:2px;-webkit-box-shadow:0 2px 2px 0 rgba(0,0,0,.5);-moz-box-shadow:0 2px 2px 0 rgba(0,0,0,.5);box-shadow:0 2px 2px 0 rgba(0,0,0,.5)}._36AkT_sidebarfader{display:table;position:absolute;bottom:0;right:0;z-index:2;margin-bottom:2px;-webkit-box-shadow:0 -2px 2px 0 rgba(0,0,0,.5);-moz-box-shadow:0 -2px 2px 0 rgba(0,0,0,.5);box-shadow:0 -2px 2px 0 rgba(0,0,0,.5)}._1Uv70_sidebarfaderdivider{display:table-cell;position:relative;z-index:2;width:6px;height:100%;border-left:1px solid hsla(0,0%,100%,.1);-webkit-box-shadow:-9px 0 6px 0 rgba(0,0,0,.2);-moz-box-shadow:-9px 0 6px 0 rgba(0,0,0,.2);box-shadow:-9px 0 6px 0 rgba(0,0,0,.2);background:#353535}._yDrAK_sidebarfadercontainer{display:table-cell}._3qX30_toast{background-color:#348ee8!important}._3LUoU_toastprogress{background:none!important;background-color:#fff!important}._3AeiH_minimap{flex:0 1 40px;height:36px;flex-basis:36px}._Dt0sl_minimapvisible{display:block}._2NCbQ_minimaphidden{display:none}",""]),t.locals={mixer:"_2Vsb8_mixer",presetcontainer:"_1WhbM_presetcontainer",focuschannel:"_1WtEW_focuschannel",channelstrips:"_3PtlR_channelstrips",channelstrips_inner:"_tGm4I_channelstrips_inner",sidebarfader:"_36AkT_sidebarfader",sidebarfaderdivider:"_1Uv70_sidebarfaderdivider",sidebarfadercontainer:"_yDrAK_sidebarfadercontainer",toast:"_3qX30_toast",toastprogress:"_3LUoU_toastprogress",minimap:"_3AeiH_minimap",minimapvisible:"_Dt0sl_minimapvisible",minimaphidden:"_2NCbQ_minimaphidden"}},function(e,t,n){var r=n(222);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._3RW8z_MiniMapContainer,._166Zk_MiniMapBackground{touch-action:none;width:100%;position:fixed}._166Zk_MiniMapBackground{background-color:#353535;height:36px;padding:5px;box-sizing:border-box}._332F3_MiniMapCanvas{touch-action:none;background-color:#2a2b2d;height:26px;box-sizing:border-box;position:fixed}._2QQ_f_MiniMapSlider{touch-action:none;border:4px solid #535353;box-sizing:border-box;height:36px;position:relative;top:0;left:0;will-change:transform;border-color:#5c5c5c;border-radius:20px}",""]),t.locals={MiniMapContainer:"_3RW8z_MiniMapContainer",MiniMapBackground:"_166Zk_MiniMapBackground",MiniMapCanvas:"_332F3_MiniMapCanvas",MiniMapSlider:"_2QQ_f_MiniMapSlider"}},function(e,t,n){var r=n(224);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=(m(n(29)),v(n(31)),m(n(6)),m(n(43)),m(n(42)),n(83)),s=(n(26),n(23)),l=v(n(39)),u=m(n(0)),c=m(n(13)),h=m(n(24)),p=m(n(225)),d=n(12),f=n(4);function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C=(0,d.observer)(r=function(e){function t(e){return g(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return y(t,u.default.Component),o(t,[{key:"render",value:function(){return u.default.createElement("div",{className:p.default.MiniMapSlider,onMouseDown:this.props.onMouseDown,onTouchStart:this.props.onMouseDown,style:{width:this.props.observableState.miniMapSliderWidth}})}}]),t}())||r,x=(0,d.observer)(i=function(e){function t(e){g(this,t);var n=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._trackMouseDown=n._trackMouseDown.bind(n),n._lensMouseDown=n._lensMouseDown.bind(n),n._lensMouseUp=n._lensMouseUp.bind(n),n._lensMouseMove=(0,h.default)(n._lensMouseMove,n,1e3/60),n.setScroll=n.setScroll.bind(n),n.level=[],n.grWarper=new l.FullScaleMeter(null),n.getInjectedDevice=s.getInjectedDevice,n.meterFillColor="#348EE8",n.meterClipColor="#FF0000",n.gateMeterFillColor="#2672A4",n.gainReductionMeterFillColor="#9D182A",n.clickState={dragging:!1,clickOffset:0},n.scrolling=!1,n.observableState=(0,f.observable)({sliderPos:0}),n}return y(t,u.default.Component),o(t,[{key:"componentDidMount",value:function(){var e=c.default.findDOMNode(this.refs.slider).getBoundingClientRect();this.sliderOffset=e.left,this.props.observableState.meterPainters.set("minimap",new a.MiniMapPainter({observableState:this.props.observableState,canvas:this.refs.canvas}))}},{key:"componentWillUnmount",value:function(){this.props.observableState.meterPainters.get("minimap").unmount()}},{key:"render",value:function(){return u.default.createElement("div",{style:{width:this.props.observableState.mixerWidth},width:this.props.observableState.mixerWidth,className:p.default.MiniMapContainer,onMouseDown:this._trackMouseDown,onTouchStart:this._trackMouseDown},u.default.createElement("div",{style:{width:this.props.observableState.mixerWidth},width:this.props.observableState.mixerWidth,className:p.default.MiniMapBackground},u.default.createElement("canvas",{ref:"canvas",style:{width:this.props.observableState.mixerWidth-10},width:this.props.observableState.mixerWidth-10,height:26,className:p.default.MiniMapCanvas})),u.default.createElement(C,{ref:"slider",onMouseDown:this._lensMouseDown,onTouchStart:this._lensMouseDown,observableState:this.props.observableState}))}},{key:"_trackMouseDown",value:function(e){if(!this.scrolling){var t=("number"==typeof e.clientX?e.clientX:e.touches[0].clientX)-(this.props.observableState.navExpanded?this.props.observableState.expandedNavWidth:this.props.observableState.collapsedNavWidth)-this.props.observableState.miniMapSliderWidth/2,n=this.props.observableState.mixerWidth-this.props.observableState.miniMapSliderWidth,r=Math.min(Math.max(t,0),n),i=r/n;this.props.onScroll(i),c.default.findDOMNode(this.refs.slider).style.transform="translateX("+r+"px)"}}},{key:"_lensMouseDown",value:function(e){if(!this.scrolling){window.document.addEventListener("mouseup",this._lensMouseUp),window.document.addEventListener("mouseleave",this._lensMouseUp),window.document.addEventListener("mousemove",this._lensMouseMove),window.document.addEventListener("touchend",this._lensMouseUp),window.document.addEventListener("touchcancel",this._lensMouseUp),window.document.addEventListener("touchmove",this._lensMouseMove);var t=c.default.findDOMNode(this.refs.slider),n=("number"==typeof e.clientX?e.clientX:e.touches[0].clientX)-(""!==t.style.transform?parseInt(t.style.transform.match(/\((.*)\)/)[1],10):0);this.clickState={dragging:!0,clickOffset:n},e.preventDefault(),e.stopPropagation()}}},{key:"_lensMouseUp",value:function(e){window.document.removeEventListener("mouseup",this._lensMouseUp),window.document.removeEventListener("mouseleave",this._lensMouseUp),window.document.removeEventListener("mousemove",this._lensMouseMove),window.document.removeEventListener("touchend",this._lensMouseUp),window.document.removeEventListener("touchcancel",this._lensMouseUp),window.document.removeEventListener("touchmove",this._lensMouseMove),this.clickState.dragging=!1,e.preventDefault(),e.stopPropagation()}},{key:"_lensMouseMove",value:function(e){if(this.clickState.dragging){var t=c.default.findDOMNode(this.refs.slider),n=(""!==t.style.transform&&parseInt(t.style.transform.match(/\((.*)\)/)[1],10),this.clickState.clickOffset),r=("number"==typeof e.clientX?e.clientX:e.touches[0].clientX)-n,i=this.props.observableState.mixerWidth-this.props.observableState.miniMapSliderWidth,o=Math.min(Math.max(r,0),i),a=o/i;this.props.onScroll(a),t.style.transform="translateX("+o+"px)",e.preventDefault(),e.stopPropagation()}}},{key:"setScroll",value:function(e){if(!this.clickState.dragging){var t=this;null!==this.scrollTimer&&(clearTimeout(this.scrollTimer),this.scrolling=!0),this.scrollTimer=setTimeout(function(){t.scrolling=!1},250);var n=c.default.findDOMNode(this.refs.slider),r=e*(this.props.observableState.mixerWidth-this.props.observableState.miniMapSliderWidth);n.style.transform="translateX("+r+"px)"}}}]),t}())||i;t.default=x},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectedChannelPainter=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(a(n(29)),a(n(6)),a(n(42)),n(26),n(9)),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(39)),a(n(17)),n(4));function a(e){return e&&e.__esModule?e:{default:e}}t.SelectedChannelPainter=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._updateSelection=this._updateSelection.bind(this),this._clearSelection=this._clearSelection.bind(this),this.unmount=this.unmount.bind(this),this.observableState=t.observableState,this.canvas=t.canvas,this.context=t.canvas.getContext("2d"),this.selectedStripInfoDisposer=(0,o.observe)(this.observableState,"selectedStripInfo",this._updateSelection),this.focusChannelVisibleDisposer=(0,o.observe)(this.observableState,"focusChannelVisible",this._clearSelection)}return r(e,[{key:"_updateSelection",value:function(e){var t=e.newValue,n=e.oldValue;this.parentRect=document.getElementById("channelstrips").getBoundingClientRect();var r=document.getElementById("expanded-nav").getBoundingClientRect(),o=document.getElementById("collapsed-nav").getBoundingClientRect(),a=r.width>0?r.width:o.width;if(this.scroller=document.getElementById("scroller"),void 0!==t&&this.observableState.focusChannelVisible){if(n&&t.id!==n.id&&this.observableState.faderStrips[n.id]){var s=this.observableState.faderStrips[n.id]._getRect();if(null!==s){var l=Math.round(s.left-a+this.scroller.scrollLeft),u=Math.round(s.top-this.parentRect.top+s.height);this.context.clearRect(l-2,u+2,s.width+2,-this.parentRect.height-2)}}var c=this.observableState.faderStrips[t.id]._getRect(),h=Math.round(c.left-a+scroller.scrollLeft+2),p=Math.round(c.top-this.parentRect.top+c.height);this.context.clearRect(h,p,c.width-4,-this.parentRect.height),this.context.fillStyle=i.Colors.selectedChannelColor,this.context.globalAlpha=.75,this.context.fillRect(h,p,c.width-4,-this.parentRect.height),this.context.globalAlpha=1,this.selectedStripInfo=t}}},{key:"_clearSelection",value:function(e){var t=e.newValue;if(void 0!==this.selectedStripInfo&&void 0!==this.parentRect&&void 0!==this.scroller&&!t){var n=document.getElementById("expanded-nav").getBoundingClientRect(),r=document.getElementById("collapsed-nav").getBoundingClientRect(),i=n.width>0?n.width:r.width,o=this.observableState.faderStrips[this.selectedStripInfo.id]._getRect(),a=Math.round(o.left-i+this.scroller.scrollLeft),s=Math.round(o.top-this.parentRect.top+o.height);this.context.clearRect(a-2,s+2,o.width+2,-this.parentRect.height-2)}}},{key:"unmount",value:function(){this.selectedStripInfoDisposer(),this.focusChannelVisibleDisposer()}}]),e}()},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._2ir-y_Canvas{position:absolute;pointer-events:none;will-change:transform}._5kqcB_GuideCanvas{mix-blend-mode:overlay}",""]),t.locals={Canvas:"_2ir-y_Canvas",GuideCanvas:"_5kqcB_GuideCanvas"}},function(e,t,n){var r=n(228);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(0)),a=(u(n(13)),u(n(229))),s=n(227),l=n(12);n(4);function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,l.observer)(r=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"componentDidMount",value:function(){"guide"===this.props.type?this.selectedChannelPainter=new s.SelectedChannelPainter({observableState:this.props.observableState,canvas:this.refs.canvas}):"meter"===this.props.type&&(this.props.observableState.meterCanvas=this.refs.canvas)}},{key:"componentWillUnmount",value:function(){"guide"===this.props.type&&this.selectedChannelPainter.unmount()}},{key:"render",value:function(){var e=a.default.Canvas;return"guide"===this.props.type&&(e=e+" "+a.default.GuideCanvas),o.default.createElement("canvas",{id:""+this.props.id,className:e,width:this.props.observableState.scrollWidth,height:this.props.observableState.mixerHeight,style:{width:this.props.observableState.scrollWidth,height:this.props.observableState.mixerHeight,zIndex:this.props.zIndex},ref:"canvas"})}}]),t}())||r;t.default=c},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._jjR15_MixerEffects{display:-webkit-flex;display:-ms-flexbox;display:flex;overflow:hidden;flex-direction:row;position:relative;-webkit-box-shadow:0 -2px 2px 0 rgba(0,0,0,.5);-moz-box-shadow:0 -2px 2px 0 rgba(0,0,0,.5);box-shadow:0 -2px 2px 0 rgba(0,0,0,.5);-webkit-transform:translateZ(0)}",""]),t.locals={MixerEffects:"_jjR15_MixerEffects"}},function(e,t,n){var r=n(231);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._2D2Mk_Handle{display:inline-block}._2D2Mk_Handle polygon{filter:url(#handleShadow)}",""]),t.locals={Handle:"_2D2Mk_Handle"}},function(e,t,n){var r=n(233);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=a(n(0)),o=(a(n(13)),a(n(11)),a(n(24)),a(n(17)),a(n(15)),a(n(234)));a(n(6)),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(18)),n(12);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){}},{key:"render",value:function(){var e=this.props.fillColor?this.props.fillColor:"#353535",t=this.props.iconColor?this.props.iconColor:"#BBBBBB",n=o.default.Handle;return n=this.props.className?n+" "+this.props.className:n,i.default.createElement("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",width:this.props.width,height:this.props.height,viewBox:"0 0 148 58"},i.default.createElement("defs",null,i.default.createElement("filter",{id:"handleShadow",x:"0",y:"0",width:"200%",height:"200%"},i.default.createElement("feOffset",{result:"offOut",in:"SourceAlpha",dx:"0",dy:"10"}),i.default.createElement("feGaussianBlur",{result:"blurOut",in:"offOut",stdDeviation:"3"}),i.default.createElement("feColorMatrix",{in:"blurOut",result:"colorOut",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .2 0"}),i.default.createElement("feBlend",{in:"SourceGraphic",in2:"colorOut",mode:"normal"}))),i.default.createElement("g",null,i.default.createElement("polygon",{fill:e,points:"114.5 43.5 33.5 43.5 18.5 0 129.5 0 114.5 43.5"}),i.default.createElement("path",{fill:t,d:"M33.43,8.16l4.15-4.93,4.15,4.93H39v2.9h4.69v2.81H31.48V11.06h4.69V8.16ZM39,20.92V18h4.69V15.22H31.48V18h4.69v2.9H33.43l4.15,4.93,4.15-4.93Z",transform:"translate(29, 5) scale(1.25)"})))}}]),t}();t.default=s},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._19wqL_FocusChannel{background-color:#353535;box-sizing:border-box;display:none;height:100%;left:0;position:absolute;top:0;width:100%;z-index:3}._3VnmB_FocusChannelVisible{display:flex;flex-direction:column;overflow:visible;resize:vertical}._3KCND_FocusChannelNavBar{background:-webkit-linear-gradient(top,#373737,#444);background:-o-linear-gradient(bottom,#373737,#444);background:-moz-linear-gradient(bottom,#373737,#444);background:linear-gradient(180deg,#474a4a,#282828);background-color:#353535;color:#d7d7d7;height:34px}._2EGeq_FocusChannelNavBarCell{height:34px;vertical-align:middle;text-align:left}._8vKdu_FocusChannelLabelCell{width:45%}._EiY_k_FocusChannelNavBarTab{display:inline-flex;align-items:center;text-align:center;border-right:1px solid #1d1d20}._uRQVt_FocusChannelNavBarTabSelected{background-color:#131313;color:#348ee8}._37-Pj_FocusChannelNavBarTabInner{margin:0 auto;display:inline-flex;align-items:center}._20Vpf_FocusChannelNavBarTabIcon{margin:0}._887Gn_FocusChannelNavBarTabText{font-family:Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;font-style:normal;font-variant:normal;font-weight:400;font-size:14px;line-height:1em;margin-left:10px}._3tdLs_FocusChannelTitleContainer{display:inline-block;float:right;width:100%}._NX5-i_FocusChannelNameEditContainer{width:100%}._22Z_W_FocusChannelTitle{font-family:Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;font-style:normal;font-variant:normal;font-weight:400;font-size:16px;line-height:1em;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;-moz-background-clip:padding;-webkit-background-clip:padding-box;background-clip:padding-box;color:#348ee8;float:left;height:24px;width:80%;line-height:24px;text-align:center}._3Krzy_FocusChannelCloseButtonContainer{vertical-align:middle}._35d2w_FocusChannelClose{display:inline-block;overflow:hidden;width:24px;height:24px;line-height:22px;font-size:3em;color:#fff;text-decoration:none;text-align:center}._2WC-V_FocusChannelTabContentPadding{display:flex;flex:1;padding:1px;background-color:#212121}._ZnXy__FocusChannelTabContentContainer{flex:1;position:relative;overflow-x:hidden;overflow-y:scroll}._1xVGG_FocusChannelTabContent{position:absolute;height:100%;width:100%}._24uaV_FocusChannelBottomBar{background-color:#353535;border-top:1px solid rgba(74,74,74,.5);position:absolute;width:100%;height:6px;left:0;right:0;bottom:-5px;text-align:center;margin:0 auto;-webkit-box-shadow:0 3px 3px 1px rgba(0,0,0,.2);-moz-box-shadow:0 3px 3px 1px rgba(0,0,0,.2);box-shadow:0 3px 3px 1px rgba(0,0,0,.2);z-index:2}._22XGQ_FocusChannelResizeHandle{margin:0 auto}",""]),t.locals={FocusChannel:"_19wqL_FocusChannel",FocusChannelVisible:"_3VnmB_FocusChannelVisible",FocusChannelNavBar:"_3KCND_FocusChannelNavBar",FocusChannelNavBarCell:"_2EGeq_FocusChannelNavBarCell",FocusChannelLabelCell:"_8vKdu_FocusChannelLabelCell",FocusChannelNavBarTab:"_EiY_k_FocusChannelNavBarTab",FocusChannelNavBarTabSelected:"_uRQVt_FocusChannelNavBarTabSelected",FocusChannelNavBarTabInner:"_37-Pj_FocusChannelNavBarTabInner",FocusChannelNavBarTabIcon:"_20Vpf_FocusChannelNavBarTabIcon",FocusChannelNavBarTabText:"_887Gn_FocusChannelNavBarTabText",FocusChannelTitleContainer:"_3tdLs_FocusChannelTitleContainer",FocusChannelNameEditContainer:"_NX5-i_FocusChannelNameEditContainer",FocusChannelTitle:"_22Z_W_FocusChannelTitle",FocusChannelCloseButtonContainer:"_3Krzy_FocusChannelCloseButtonContainer",FocusChannelClose:"_35d2w_FocusChannelClose",FocusChannelTabContentPadding:"_2WC-V_FocusChannelTabContentPadding",FocusChannelTabContentContainer:"_ZnXy__FocusChannelTabContentContainer",FocusChannelTabContent:"_1xVGG_FocusChannelTabContent",FocusChannelBottomBar:"_24uaV_FocusChannelBottomBar",FocusChannelResizeHandle:"_22XGQ_FocusChannelResizeHandle"}},function(e,t,n){var r=n(236);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._U-xqT_FocusChannelSendsTab{height:100%}",""]),t.locals={FocusChannelSendsTab:"_U-xqT_FocusChannelSendsTab"}},function(e,t,n){var r=n(238);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._28JIG_AuxSendsModule{width:100%;height:100%;overflow-y:hidden;-webkit-overflow-scrolling:auto}._fJAlY_SendsWrapper{height:100%;min-width:870px}._30cb0_SendSlider{display:inline-block;width:auto}._2JD0H_SendLabel{margin:10px 15px 0 0}._2JD0H_SendLabel,._2Kwf4_PrePostIconContainer,._3rfn9_PrePostIcon{display:inline-block}._3rfn9_PrePostIcon{margin:10px 15px 0 0;cursor:pointer}._3d-Iy_SendsBackground{background-color:#1d1d20;float:left;height:100%;padding:6px;width:66%}._2wB57_Row{width:100%;height:100%;white-space:nowrap}._1gC4v_Column{background-color:#282828;border:1px solid #1d1d20;box-sizing:border-box;display:inline-block;vertical-align:top;text-align:center;height:100%}._2dj_4_Aux{width:60%}._T7vqK_Group{width:20%}._2qlF9_Main,._yI2jT_Reverb{width:10%}._2tgRM_SliderTable{display:table;width:100%;height:calc(100% - 50px);table-layout:fixed}._153Cr_SliderTableCaption{display:table-caption}._3QVtX_SliderRow{display:table-row;width:100%;height:100%}._1igUF_SliderCell{display:table-cell;text-align:center;height:100%;min-width:50px}._2aAoF_Invisible{visibility:hidden}",""]),t.locals={AuxSendsModule:"_28JIG_AuxSendsModule",SendsWrapper:"_fJAlY_SendsWrapper",SendSlider:"_30cb0_SendSlider",SendLabel:"_2JD0H_SendLabel",PrePostIconContainer:"_2Kwf4_PrePostIconContainer",PrePostIcon:"_3rfn9_PrePostIcon",SendsBackground:"_3d-Iy_SendsBackground",Row:"_2wB57_Row",Column:"_1gC4v_Column",Aux:"_2dj_4_Aux",Group:"_T7vqK_Group",Reverb:"_yI2jT_Reverb",Main:"_2qlF9_Main",SliderTable:"_2tgRM_SliderTable",SliderTableCaption:"_153Cr_SliderTableCaption",SliderRow:"_3QVtX_SliderRow",SliderCell:"_1igUF_SliderCell",Invisible:"_2aAoF_Invisible"}},function(e,t,n){var r=n(240);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=C(n(0)),a=(C(n(15)),C(n(25))),s=C(n(57)),l=C(n(56)),u=n(26),c=n(9),h=n(48),p=C(n(6)),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(18)),f=(C(n(11)),C(n(241))),v=C(n(28)),m=n(12),g=n(4),b=n(58),y=C(n(17));function C(e){return e&&e.__esModule?e:{default:e}}var x=(0,l.default)({prefix:"",suffix:" dB",includeThousandsSeparator:!1,allowDecimal:!0,allowNegative:!0}),_=["aux","group","reverb","main"],w=(0,m.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.id=Math.random().toString(36).substring(7),n.datastore=p.default,n.faderWarp=new b.FaderWarp,n.initPaths=n.initPaths.bind(n),n.refreshValues=n.refreshValues.bind(n),n._onFormatValueChange=n._onFormatValueChange.bind(n),n._onSliderValueChange=n._onSliderValueChange.bind(n),n._onSliderChange=n._onSliderChange.bind(n),n._onPreFaderValueChange=n._onPreFaderValueChange.bind(n),n._onPreFaderChange=n._onPreFaderChange.bind(n),n._onTextChange=n._onTextChange.bind(n),n._onTextKeyDown=n._onTextKeyDown.bind(n),n._oncalcChChanged=n._oncalcChChanged.bind(n),n._onTalkbackChanChanged=n._onTalkbackChanChanged.bind(n),n._onSelectedChannelChanged=n._onSelectedChannelChanged.bind(n),n.initPaths(e.stripInfo),n.observableState=(0,g.observable)({auxcalcCh:0,groupcalcCh:0,reverbcalcCh:0,maincalcCh:0,talkbackChan:-1}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"initPaths",value:function(e){this.talkbackChanPath="mix/talkback/chan",this.mixPath=e.basePath,this.iBanks={},this.calcChPaths={},_.forEach(function(e,t,n){this.iBanks[e]=p.default.getBankForMixerStripType(e).split("/")[2],this.calcChPaths[e]="ext/ibank/"+this.iBanks[e]+"/calcCh"},this)}},{key:"refreshValues",value:function(){_.forEach(function(e,t,n){this.observableState[e+"calcCh"]=p.default.get(this.calcChPaths[e]);for(t=0;t<this.observableState[e+"calcCh"];t++)this.observableState[""+e+t+"Level"]=p.default.get(this.mixPath+"/matrix/"+e+"/"+t+"/send"),this.observableState[""+e+t+"PreFader"]=p.default.get("mix/"+e+"/"+t+"/matrix/prefader")},this)}},{key:"componentWillReceiveProps",value:function(e){void 0!==e.stripInfo&&e.stripInfo.id!==this.props.stripInfo.id&&(this.initPaths(e.stripInfo),this.refreshValues())}},{key:"componentDidUpdate",value:function(e,t){}},{key:"componentDidMount",value:function(){Object.keys(this.calcChPaths).forEach(function(e,t,n){p.default.addChangeListener(this.id,this._oncalcChChanged,this.calcChPaths[e])},this),p.default.addChangeListener(this.id,this._onTalkbackChanChanged,this.talkbackChanPath),this.selectedChannelDisposer=(0,g.observe)(this.props.observableState,"selectedStripInfo",this._onSelectedChannelChanged)}},{key:"componentWillUnmount",value:function(){Object.keys(this.calcChPaths).forEach(function(e,t,n){p.default.removeChangeListener(this.id,this._oncalcChChanged,this.calcChPaths[e])},this),this.removeChangeListeners("aux",this.auxcalcCh),this.removeChangeListeners("group",this.groupcalcCh),this.removeChangeListeners("reverb",this.reverbcalcCh),this.removeChangeListeners("main",this.maincalcCh),p.default.removeChangeListener(this.id,this._onTalkbackChanChanged,this.talkbackChanPath),this.selectedChannelDisposer()}},{key:"render",value:function(){var e=30*(this.auxcalcCh+this.groupcalcCh+this.reverbcalcCh+this.maincalcCh);return o.default.createElement(a.default,null,o.default.createElement("div",{className:f.default.AuxSendsModule},o.default.createElement("div",{className:f.default.SendsWrapper},o.default.createElement("div",{style:{minWidth:e},className:f.default.Row},o.default.createElement("div",{className:f.default.Column+" "+f.default.Aux},o.default.createElement("h3",null,"Aux"),this.renderSendSliders("aux",this.observableState.auxcalcCh)),o.default.createElement("div",{className:f.default.Column+" "+f.default.Group},o.default.createElement("h3",null,"Group"),this.renderSendSliders("group",this.observableState.groupcalcCh)),o.default.createElement("div",{className:f.default.Column+" "+f.default.Reverb},o.default.createElement("h3",null,"Reverb"),this.renderSendSliders("reverb",this.observableState.reverbcalcCh)),o.default.createElement("div",{className:f.default.Column+" "+f.default.Main},o.default.createElement("h3",null,"Main"),this.renderSendSliders("main",this.observableState.maincalcCh))))))}},{key:"renderSendSliders",value:function(e,t){var n=this,r=this._onPreFaderChange,i=this._onTextKeyDown,a=[],l=[],d=[],m=!1;this.observableState.talkbackChan==this.props.stripInfo.num&&"chan"==this.props.stripInfo.type&&(m=!0);for(var C=function(){var t=new y.default(e+"/"+_),C={},w=""+e+_+"Format";C={},p.default.has(t.formatPath)?(n.observableState.hasOwnProperty(w)||(C[w]=p.default.get(t.formatPath),(0,g.extendObservable)(n.observableState,C)),p.default.removeChangeListener(n.id,n._onFormatValueChange,t.formatPath),p.default.addChangeListener(n.id,n._onFormatValueChange,t.formatPath,!1)):n.observableState.hasOwnProperty(w)||(C[w]="2:1",(0,g.extendObservable)(n.observableState,C));var S="2"===n.observableState[w].split(":")[0],k=""+e+_+"Slider",T=""+e+_+"Level",E=""+e+_+"PreFader",P=n.mixPath+"/matrix/"+e+"/"+_+"/send",I="mix/"+e+"/"+_+"/matrix/prefader";if(p.default.has(P)){var B=""+(_+1);S&&(B=B+" - "+(_+2)),n.observableState.hasOwnProperty(T)||((C={})[T]=p.default.get(P),(0,g.extendObservable)(n.observableState,C)),p.default.removeChangeListener(n.id,n._onSliderValueChange,P),p.default.addChangeListener(n.id,n._onSliderValueChange,P,!1),p.default.has(I)&&!n.observableState.hasOwnProperty(E)&&((C={})[E]=p.default.get(I),(0,g.extendObservable)(n.observableState,C)),p.default.removeChangeListener(n.id,n._onPreFaderValueChange,I),p.default.addChangeListener(n.id,n._onPreFaderValueChange,I,!1),a.push(o.default.createElement("div",{className:f.default.SliderCell,width:"50px"},o.default.createElement(h.Slider,{direction:h.SliderDirection.VERTICAL,className:f.default.SendSlider,trackWidth:8,width:24,id:k,key:T,observableValues:n.observableState,observableState:n.props.observableState,stateKey:T,valuePath:P,warpType:new b.FaderWarp,anchorType:c.SliderTrackAnchorTypes.LEFT_TO_RIGHT,color2:c.SliderTrackColors[e],onChange:n._onSliderChange,onDoubleClick:function(){return n._onDoubleClick(T,P)},showToolTip:!0,toolTipContents:o.default.createElement(s.default,{ref:"gainText_"+e+"_"+_,type:"text",mask:x,placeholderChar:"∞",className:f.default.GainTextInput,value:Math.round(100*(0,u.mag2db)(n.observableState[T]))/100,onChange:n._onTextChange,onKeyDown:function(e){i(e,T,P)}}),disabled:m},o.default.createElement(h.SliderTrack,{trackWidth:8,className:f.default.SliderTrack},o.default.createElement(h.SliderThumb,{className:f.default.SliderThumb}))))),l.push(o.default.createElement("div",{className:f.default.SliderCell},o.default.createElement("label",{className:f.default.SendLabel},B))),d.push(o.default.createElement("div",{className:f.default.SliderCell},o.default.createElement("div",{className:f.default.PrePostIconContainer,onClick:function(){r(I)}},o.default.createElement(v.default,{type:"prepost",ref:"pre-fader-button-"+e+"-"+_,id:"pre-fader-button-"+e+"-"+_,width:"25px",height:"25px",fillColor:n.observableState[E]?c.Colors.blue:c.Colors.gray,className:f.default.PrePostIcon+" "+(p.default.has(I)?null:f.default.Invisible)}))))}S&&_++},_=0;_<t;_++)C();return o.default.createElement("div",{className:f.default.SliderTable},o.default.createElement("div",{className:f.default.SliderRow},a),o.default.createElement("div",{className:f.default.SliderRow},l),o.default.createElement("div",{className:f.default.SliderRow},d))}},{key:"removeChangeListeners",value:function(e,t){for(var n=0;n<t;n++){var r=this.mixPath+"/matrix/"+e+"/"+n+"/send",i="mix/"+e+"/"+n+"/matrix/prefader";p.default.removeChangeListener(this.id,this._onSliderValueChange,r),p.default.removeChangeListener(this.id,this._onSliderValueChange,i)}}},{key:"_onFormatValueChange",value:function(e){if(void 0!==e){var t=e.split("/"),n=""+t[1]+t[2]+"Format";this.observableState[n]=p.default.get(e)}}},{key:"_onSliderValueChange",value:function(e){if(void 0!==e){var t=e.split("/"),n=""+t[4]+t[5]+"Level",r=p.default.get(e);this.observableState[n]=r;var i="gainText_"+t[4]+"_"+t[5];void 0!==this.refs[i]&&this.refs[i].textMaskInputElement.update(Math.round(100*(0,u.mag2db)(r))/100)}}},{key:"_onSliderChange",value:function(e,t){void 0!==e&&void 0!==t&&d.setAny(t,e)}},{key:"_onDoubleClick",value:function(e,t){if(void 0!==e&&void 0!==t){var n=1===this.observableState[e]?0:1;d.setAny(t,n)}}},{key:"_onPreFaderValueChange",value:function(e){if(void 0!==e){var t=e.split("/"),n=""+t[1]+t[2]+"PreFader";this.observableState[n]=p.default.get(e)}}},{key:"_onPreFaderChange",value:function(e){var t=p.default.get(e);d.setAny(e,+!t)}},{key:"_onTextChange",value:function(e){if(e.target instanceof HTMLInputElement&&""!=e.target.value&&"-∞ dB"!=e.target.value){var t=(0,u.db2mag)(Number(e.target.value.replace(" dB",""))),n=Math.min(Math.max(t,0),4);t!=n&&(e.target.value=Math.round((0,u.mag2db)(n)))}}},{key:"_onTextKeyDown",value:function(e,t,n){13!==e.keyCode&&9!==e.keyCode||d.setAny(n,(0,u.db2mag)(Number(e.target.value.replace(" dB",""))))}},{key:"_oncalcChChanged",value:function(e){var t="";Object.keys(this.calcChPaths).forEach(function(n,r,i){this.calcChPaths[n]==e&&(t=n)},this),this.observableState[t+"calcCh"]=p.default.get(e)}},{key:"_onTalkbackChanChanged",value:function(){this.observableState.talkbackChan=p.default.get(this.talkbackChanPath)}},{key:"_onSelectedChannelChanged",value:function(){this.forceUpdate()}}]),t}())||r;t.default=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(31)),u(n(6))),a=(u(n(25)),u(n(242))),s=u(n(0)),l=(u(n(11)),u(n(239)));function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,n(12).observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._onStoreChange=n._onStoreChange.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),i(t,[{key:"componentDidMount",value:function(){o.default.addChangeListener(this.constructor.name,this._onStoreChange,null)}},{key:"componentWillUnmount",value:function(){o.default.removeChangeListener(this.constructor.name,this._onStoreChange,null)}},{key:"render",value:function(){return s.default.createElement("div",{className:l.default.FocusChannelSendsTab},s.default.createElement(a.default,{stripInfo:this.props.stripInfo,observableState:this.props.observableState}))}},{key:"_onStoreChange",value:function(){}}]),t}())||r;t.default=c},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._2PyYh_FocusChannelLevelerTab,._2sr3l_FocusChannelLevelerTabGraphContainerLandscape{height:100%;text-align:center;background-color:#131313}._2sr3l_FocusChannelLevelerTabGraphContainerLandscape{display:inline-block;float:left;width:60%;overflow:hidden;position:relative}._1_w6Y_FocusChannelLevelerTabSettingsContainerLandscape{display:inline-block;background-color:#282828;height:100%;width:40%}._2pzDG_FocusChannelLevelerTabGraphContainerPortrait{width:100%;background-color:#131313}._1RCDs_FocusChannelLevelerTabSettingsContainerPortrait{width:100%;background-color:#282828}._3LHdK_FocusChannelLevelerTabMeterContainerInner{margin:0;position:absolute;top:50%;left:50%;margin-right:-50%;transform:translate(-50%,-50%)}._3ABeD_GainReductionMeter{display:inline-block;width:auto}",""]),t.locals={FocusChannelLevelerTab:"_2PyYh_FocusChannelLevelerTab",FocusChannelLevelerTabGraphContainerLandscape:"_2sr3l_FocusChannelLevelerTabGraphContainerLandscape",FocusChannelLevelerTabSettingsContainerLandscape:"_1_w6Y_FocusChannelLevelerTabSettingsContainerLandscape",FocusChannelLevelerTabGraphContainerPortrait:"_2pzDG_FocusChannelLevelerTabGraphContainerPortrait",FocusChannelLevelerTabSettingsContainerPortrait:"_1RCDs_FocusChannelLevelerTabSettingsContainerPortrait",FocusChannelLevelerTabMeterContainerInner:"_3LHdK_FocusChannelLevelerTabMeterContainerInner",GainReductionMeter:"_3ABeD_GainReductionMeter"}},function(e,t,n){var r=n(244);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=(n(63),n(37),n(9)),a=(d(n(6)),d(n(43))),s=d(n(78)),l=(d(n(61)),d(n(140))),u=(d(n(25)),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(18)),d(n(0))),c=(d(n(36)),n(12)),h=n(4),p=(d(n(19)),d(n(11)),d(n(15)),d(n(245)));function d(e){return e&&e.__esModule?e:{default:e}}var f=(0,c.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.id=Math.random().toString(36).substring(7),n.observableState=(0,h.observable)({width:0,height:0,meterIndex:a.default.getMeterIndex("leveler",e.stripInfo.type,e.stripInfo.num)}),n.addChangeListeners=n.addChangeListeners.bind(n),n.removeChangeListeners=n.removeChangeListeners.bind(n),n.refreshValues=n.refreshValues.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),i(t,[{key:"refreshValues",value:function(){}},{key:"componentDidMount",value:function(){this.addChangeListeners()}},{key:"componentWillUnmount",value:function(){this.removeChangeListeners()}},{key:"addChangeListeners",value:function(){}},{key:"removeChangeListeners",value:function(){}},{key:"componentWillReceiveProps",value:function(e){this.observableState.meterIndex=a.default.getMeterIndex("leveler",e.stripInfo.type,e.stripInfo.num)}},{key:"render",value:function(){var e=this.props.tabOrientation,t=p.default.FocusChannelLevelerTabGraphContainerLandscape,n=p.default.FocusChannelLevelerTabSettingsContainerLandscape;e===o.Orientations.PORTRAIT&&(t=p.default.FocusChannelLevelerTabGraphContainerPortrait,n=p.default.FocusChannelLevelerTabSettingsContainerPortrait);var r=e===o.Orientations.PORTRAIT?.9:.58,i={width:this.props.observableState.mixerWidth*r,height:this.props.observableState.focusChannelHeight-150},a=0,c=0;if(i.width>i.height){var h=Math.round(i.height/9*16);h>i.width?(a=i.width,c=Math.round(i.width/16*9)):(a=h,c=i.height)}else{var d=Math.round(i.width/16*9);d>i.height?(a=Math.round(i.height/9*16),c=i.height):(a=i.width,c=d)}var f=e===o.Orientations.PORTRAIT?c+72:"90%";return u.default.createElement("div",{className:p.default.FocusChannelLevelerTab},u.default.createElement("div",{style:{height:f},className:t},u.default.createElement("h3",null,"Gain Reduction"),u.default.createElement(l.default,{stripInfo:this.props.stripInfo,control:"leveler",property:"gain",width:a,height:c,observableState:this.props.observableState})),u.default.createElement("div",{className:n},u.default.createElement(s.default,{ref:"levelerSettingsModule",stripInfo:this.props.stripInfo,scope:"leveler",header:"Leveler",controlsPath:"mix/ctrls/leveler",observableState:this.props.observableState})))}}]),t}())||r;t.default=f},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._2V_jq_FocusChannelReverbTab{height:100%;background-color:#131313}._1tu4p_FocusChannelReverbTabGraphContainerLandscape{width:60%;float:left;box-sizing:border-box;display:inline-block}._neF1f_FocusChannelReverbTabGraphContainerPortrait{width:100%}._15z_8_FocusChannelReverbTabSettingsContainerLandscape{float:right;width:40%;height:90%;display:block;background-color:#353535}._1ehcI_FocusChannelReverbTabSettingsContainerPortrait{width:100%;height:500px;display:block;margin-top:36px;background-color:#353535}._3HQPF_PlotForeground{overflow-y:hidden;overflow-x:scroll;-webkit-overflow-scrolling:touch;white-space:nowrap;max-width:100vw;backface-visibility:hidden;position:relative}",""]),t.locals={FocusChannelReverbTab:"_2V_jq_FocusChannelReverbTab",FocusChannelReverbTabGraphContainerLandscape:"_1tu4p_FocusChannelReverbTabGraphContainerLandscape",FocusChannelReverbTabGraphContainerPortrait:"_neF1f_FocusChannelReverbTabGraphContainerPortrait",FocusChannelReverbTabSettingsContainerLandscape:"_15z_8_FocusChannelReverbTabSettingsContainerLandscape",FocusChannelReverbTabSettingsContainerPortrait:"_1ehcI_FocusChannelReverbTabSettingsContainerPortrait",PlotForeground:"_3HQPF_PlotForeground"}},function(e,t,n){var r=n(247);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=(n(63),n(37),n(9)),a=(d(n(31)),p(n(6)),p(n(137))),s=p(n(78)),l=(p(n(25)),d(n(18)),p(n(0))),u=(p(n(36)),n(12)),c=n(4),h=(p(n(19)),p(n(11)),p(n(15)),p(n(248)));function p(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var f=(0,u.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.id=Math.random().toString(36).substring(7),n.observableState=(0,c.observable)({width:0,height:0,path:e.path,graphWidth:0,graphHeight:0}),n.addChangeListeners=n.addChangeListeners.bind(n),n.removeChangeListeners=n.removeChangeListeners.bind(n),n.refreshValues=n.refreshValues.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),i(t,[{key:"refreshValues",value:function(){}},{key:"componentDidMount",value:function(){this.addChangeListeners()}},{key:"componentWillUnmount",value:function(){this.removeChangeListeners()}},{key:"addChangeListeners",value:function(){}},{key:"removeChangeListeners",value:function(){}},{key:"componentWillReceiveProps",value:function(e){}},{key:"render",value:function(){var e=this.props.tabOrientation,t=h.default.FocusChannelReverbTabGraphContainerLandscape,n=h.default.FocusChannelReverbTabSettingsContainerLandscape;e===o.Orientations.PORTRAIT&&(t=h.default.FocusChannelReverbTabGraphContainerPortrait,n=h.default.FocusChannelReverbTabSettingsContainerPortrait);var r=e===o.Orientations.PORTRAIT?.9:.58,i={width:this.props.observableState.mixerWidth*r,height:this.props.observableState.focusChannelHeight-150},u=0,c=0;if(i.width>i.height){var p=Math.round(i.height/9*16);p>i.width?(u=i.width,c=Math.round(i.width/16*9)):(u=p,c=i.height)}else{var d=Math.round(i.width/16*9);d>i.height?(u=Math.round(i.height/9*16),c=i.height):(u=i.width,c=d)}var f=e===o.Orientations.PORTRAIT?c+72:"90%";return l.default.createElement("div",{style:{height:this.props.observableState.focusChannelHeight,minHeight:o.FocusChannelMinHeight,maxHeight:this.props.observableState.focusChannelHeight},ref:"FocusChannelReverbTab",className:h.default.FocusChannelReverbTab},l.default.createElement("div",{style:{height:f},className:t},l.default.createElement(a.default,{ref:"reverbGraph",segments:120,width:u,height:c,stripInfo:this.props.stripInfo,gridEnabled:!0})),l.default.createElement("div",{className:n},l.default.createElement(s.default,{ref:"reverbSettingsModule",stripInfo:this.props.stripInfo,scope:"reverb",header:"Reverb",controlsPath:"mix/ctrls/"+this.props.stripInfo.type,observableState:this.props.observableState})))}}]),t}())||r;t.default=f},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._Y9XOV_FocusChannelDynamicsTab{height:100%;background-color:#131313}._xF2wm_FocusChannelDynamicsTabBandButton{margin:0 1%}._1Vjq0_FocusChannelDynamicsTabNavBarSelected{border-bottom:1px solid #1d1d20}._2MWDj_FocusChannelDynamicsTabGraphContainerLandscape{position:relative;width:40%;float:left;box-sizing:border-box;display:inline-block}._1mZO2_FocusChannelDynamicsTabGraphContainerPortrait{position:relative;width:100%;padding:10px 0}._3X1_u_FocusChannelDynamicsTabSettingsContainerLandscape{float:right;width:60%;height:100%;display:block;background-color:#282828}._wzezb_FocusChannelDynamicsTabSettingsContainerPortrait{width:100%;height:auto;display:block;background-color:#282828}._38Jcb_FocusChannelDynamicsTabCanvasContainer{height:86%}._1aF27_PlotForeground{overflow-y:hidden;overflow-x:scroll;-webkit-overflow-scrolling:touch;white-space:nowrap;max-width:100vw;backface-visibility:hidden;position:relative}",""]),t.locals={FocusChannelDynamicsTab:"_Y9XOV_FocusChannelDynamicsTab",FocusChannelDynamicsTabBandButton:"_xF2wm_FocusChannelDynamicsTabBandButton",FocusChannelDynamicsTabNavBarSelected:"_1Vjq0_FocusChannelDynamicsTabNavBarSelected",FocusChannelDynamicsTabGraphContainerLandscape:"_2MWDj_FocusChannelDynamicsTabGraphContainerLandscape",FocusChannelDynamicsTabGraphContainerPortrait:"_1mZO2_FocusChannelDynamicsTabGraphContainerPortrait",FocusChannelDynamicsTabSettingsContainerLandscape:"_3X1_u_FocusChannelDynamicsTabSettingsContainerLandscape",FocusChannelDynamicsTabSettingsContainerPortrait:"_wzezb_FocusChannelDynamicsTabSettingsContainerPortrait",FocusChannelDynamicsTabCanvasContainer:"_38Jcb_FocusChannelDynamicsTabCanvasContainer",PlotForeground:"_1aF27_PlotForeground"}},function(e,t,n){var r=n(250);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=(n(37),g(n(31)),g(n(35)),n(9)),a=(m(n(36)),m(n(6))),s=m(n(128)),l=m(n(127)),u=m(n(61)),c=(m(n(25)),m(n(78))),h=g(n(18)),p=m(n(0)),d=n(12),f=n(4),v=(m(n(19)),m(n(11)),m(n(15)),m(n(251)));function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var b=(0,d.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=e.stripInfo.basePath.split("/"),i=parseInt(r[r.length-1]);return n.observableState=(0,f.observable)({width:-1,height:-1,enabled:!1,meterIndex:i,graphSize:0,tabWidth:0,tabHeight:0,moduleHeight:0}),n.id=Math.random().toString(36).substring(7),n.addChangeListeners=n.addChangeListeners.bind(n),n.removeChangeListeners=n.removeChangeListeners.bind(n),n.refreshValues=n.refreshValues.bind(n),n.initPaths=n.initPaths.bind(n),n._onEnabledValueChange=n._onEnabledValueChange.bind(n),n._onToggleComp=n._onToggleComp.bind(n),n._onTouchStart=n._onTouchStart.bind(n),n.initPaths(e.stripInfo,e.type),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.default.Component),i(t,[{key:"initPaths",value:function(e,t){this.path=e.basePath,this.paths={},this.paths[t]=this.path+"/"+t,this.paths.enable=this.path+"/"+t+"/enable",this.paths.threshold=this.path+"/"+t+"/threshold",this.paths.attack=this.path+"/"+t+"/attack",this.paths.release=this.path+"/"+t+"/release",this.paths.enable=this.path+"/"+t+"/ratio",this.paths.trim=this.path+"/"+t+"/trim",this.paths.peak=this.path+"/"+t+"/peak";var n=this.path.split("/");this.observableState.meterIndex=parseInt(n[n.length-1])}},{key:"refreshValues",value:function(){this._onEnabledValueChange()}},{key:"componentDidMount",value:function(){this.addChangeListeners()}},{key:"componentWillUnmount",value:function(){this.removeChangeListeners()}},{key:"addChangeListeners",value:function(){a.default.addChangeListener(this.id,this._onEnabledValueChange,this.paths.enable)}},{key:"removeChangeListeners",value:function(){a.default.removeChangeListener(this.id,this._onEnabledValueChange,this.paths.enable)}},{key:"componentWillReceiveProps",value:function(e){void 0!==e.stripInfo&&(this.initPaths(e.stripInfo,e.type),this.refreshValues(),this.removeChangeListeners(),this.addChangeListeners())}},{key:"render",value:function(){var e=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,t="comp"==this.props.type?"Compressor":"Gate",n=this.props.tabOrientation,r=v.default.FocusChannelDynamicsTabGraphContainerLandscape,i=(v.default.FocusChannelDynamicsTabBandContainerLandscape,v.default.FocusChannelDynamicsTabSettingsContainerLandscape);n===o.Orientations.PORTRAIT&&(r=v.default.FocusChannelDynamicsTabGraphContainerPortrait,v.default.FocusChannelDynamicsTabBandContainerPortrait,i=v.default.FocusChannelDynamicsTabSettingsContainerPortrait);var a=n===o.Orientations.PORTRAIT?1:.4,h={width:this.props.observableState.mixerWidth*a,height:this.props.observableState.focusChannelHeight},d=n==o.Orientations.LANDSCAPE?Math.min(Math.max(h.width,0),h.height)-75:Math.min(Math.max(h.width,0),.6*h.height)-75,f=e?0:this.props.observableState.scrollBarWidth,m=(h.width-f-d)/2-20,g=n==o.Orientations.LANDSCAPE?(h.height-37-d)/2+"px":"10px",b=n===o.Orientations.PORTRAIT?d:"100%",y=n===o.Orientations.PORTRAIT?"calc(100% - "+b+"px)":"100%",C=n===o.Orientations.PORTRAIT?"scroll":"hidden";return p.default.createElement("div",{ref:"FocusChannelDynamicsTab",className:v.default.FocusChannelDynamicsTab},"gate"==this.props.type?p.default.createElement("div",{style:{height:b},className:r},p.default.createElement(s.default,{ref:"gateGraph",meterIndex:this.observableState.meterIndex,width:d,height:d,path:this.paths.gate})):p.default.createElement("div",{style:{height:b},className:r},p.default.createElement(l.default,{ref:"compGraph",meterIndex:this.observableState.meterIndex,width:d,height:d,path:this.paths[this.props.type]}),p.default.createElement("div",{style:{position:"absolute",top:g,right:m}},p.default.createElement(u.default,{type:"gain",path:"mix/comp",width:10,height:d,orientation:"vertical",enabled:this.observableState.enabled,meterIndex:this.observableState.meterIndex,scaleFactor:1,observableState:this.props.observableState,renderPeakHolds:!1,renderCanvas:!0}))),p.default.createElement("div",{style:{height:y,overflow:C},className:i+" scrollContext"},p.default.createElement(c.default,{ref:"compSettingsModule",stripInfo:this.props.stripInfo,scope:this.props.type,header:t,controlsPath:this.paths[this.props.type].replace(this.path,"mix/ctrls"),observableState:this.props.observableState})))}},{key:"_onEnabledValueChange",value:function(){this.observableState.enabled=!!a.default.get(this.paths.enable)}},{key:"_onToggleComp",value:function(e){h.setAny(this.paths.enable,+!this.observableState.enabled)}},{key:"_onTouchStart",value:function(e){}}]),t}())||r;t.default=b},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._1UrlC_FocusChannelEQTab{height:100%;background-color:#131313}._2MBto_FocusChannelEQTabBandButton{margin:0 1%}._202vR_FocusChannelEQTabNavBarSelected{border-bottom:1px solid #1d1d20}._3b4e2_FocusChannelEQTabGraphContainerLandscape{width:60%;float:left;box-sizing:border-box;display:inline-block}._2778K_FocusChannelEQTabGraphContainerPortrait{width:100%}._2HI3C_FocusChannelEQTabBandContainerLandscape{position:absolute;display:flex;flex-direction:row;justify-content:space-around;margin:0;bottom:10px;left:0;width:60%}._3G2Mr_FocusChannelEQTabBandContainerPortrait{display:flex;flex-direction:row;justify-content:space-around;margin:0;bottom:0;left:0;width:100%}._2vbwy_FocusChannelEQTabSettingsContainerLandscape{float:right;width:40%;height:100%;display:block;background-color:#282828}._5T7HM_FocusChannelEQTabSettingsContainerPortrait{width:100%;height:auto;display:block;margin-top:36px;background-color:#282828}._78EZR_FocusChannelEQTabCanvasContainer{height:86%}.__eMXX_PlotForeground{overflow-y:hidden;overflow-x:scroll;-webkit-overflow-scrolling:touch;white-space:nowrap;max-width:100vw;backface-visibility:hidden;position:relative}",""]),t.locals={FocusChannelEQTab:"_1UrlC_FocusChannelEQTab",FocusChannelEQTabBandButton:"_2MBto_FocusChannelEQTabBandButton",FocusChannelEQTabNavBarSelected:"_202vR_FocusChannelEQTabNavBarSelected",FocusChannelEQTabGraphContainerLandscape:"_3b4e2_FocusChannelEQTabGraphContainerLandscape",FocusChannelEQTabGraphContainerPortrait:"_2778K_FocusChannelEQTabGraphContainerPortrait",FocusChannelEQTabBandContainerLandscape:"_2HI3C_FocusChannelEQTabBandContainerLandscape",FocusChannelEQTabBandContainerPortrait:"_3G2Mr_FocusChannelEQTabBandContainerPortrait",FocusChannelEQTabSettingsContainerLandscape:"_2vbwy_FocusChannelEQTabSettingsContainerLandscape",FocusChannelEQTabSettingsContainerPortrait:"_5T7HM_FocusChannelEQTabSettingsContainerPortrait",FocusChannelEQTabCanvasContainer:"_78EZR_FocusChannelEQTabCanvasContainer",PlotForeground:"__eMXX_PlotForeground"}},function(e,t,n){var r=n(253);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._16mXz_SettingsModule{position:relative;width:100%;height:100%;padding:2%;background-color:#353535}._2J5C1_UnavailableTextContainer{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}._3DZmE_PresetContainer{position:absolute;top:36px}._1WOnE_HeaderCell{width:100%;text-align:center;vertical-align:top}._3nhap_SettingsTable{width:98%;height:93%}._-xQE4_SettingsModuleTextInput{font-size:1em;border:none;box-sizing:border-box;color:#348ee8;display:block;margin:0;width:100%;border-radius:0}._1IuDE_SettingsModuleReadoutCell,._-xQE4_SettingsModuleTextInput{font-family:Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;font-style:normal;font-variant:normal;font-weight:400;text-align:center}._1IuDE_SettingsModuleReadoutCell{font-size:12px;line-height:1em;color:#d7d7d7;width:30%}._17bqE_SettingsModuleControlCell{padding:5px}._2RIaJ_SettingsModuleSelectedBand{font-family:Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;font-style:normal;font-variant:normal;font-weight:400;font-size:12px;line-height:1em;font-size:1.2em}",""]),t.locals={SettingsModule:"_16mXz_SettingsModule",UnavailableTextContainer:"_2J5C1_UnavailableTextContainer",PresetContainer:"_3DZmE_PresetContainer",HeaderCell:"_1WOnE_HeaderCell",SettingsTable:"_3nhap_SettingsTable",SettingsModuleTextInput:"_-xQE4_SettingsModuleTextInput",SettingsModuleReadoutCell:"_1IuDE_SettingsModuleReadoutCell",SettingsModuleControlCell:"_17bqE_SettingsModuleControlCell",SettingsModuleSelectedBand:"_2RIaJ_SettingsModuleSelectedBand"}},function(e,t,n){var r=n(255);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(63),a=n(37),s=n(9),l=y(n(31)),u=n(62),c=b(n(6)),h=b(n(139)),p=b(n(78)),d=(b(n(25)),y(n(18))),f=b(n(0)),v=(b(n(36)),n(12)),m=n(4),g=(b(n(19)),b(n(11)),b(n(15)),b(n(254)));function b(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var C=o.BandTypes.HIGHPASS,x=o.BandTypes.LOWSHELF,_=o.BandTypes.PEAK,w=o.BandTypes.HIGHSHELF;function S(e){var t=[];return c.default.has(e.basePath+"/hpf/enable")&&t.push({path:e.basePath+"/hpf",name:"High Pass",defaultType:C,defaultFreq:100,color:l.LIGHTGRAY}),t.push({path:e.basePath+"/eq/lowshelf",name:"Low",defaultType:x,defaultFreq:200,color:l.BLUE}),t.push({path:e.basePath+"/eq/mid1",name:"Low-Mid",defaultType:_,defaultFreq:1500,color:l.TEAL}),t.push({path:e.basePath+"/eq/mid2",name:"High-Mid",defaultType:_,defaultFreq:5e3,color:l.YELLOW}),t.push({path:e.basePath+"/eq/highshelf",name:"High",defaultType:w,defaultFreq:1e4,color:l.PURPLE}),t}var k=(0,v.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.id=Math.random().toString(36).substring(7),n.addChangeListeners=n.addChangeListeners.bind(n),n.removeChangeListeners=n.removeChangeListeners.bind(n),n.initPaths=n.initPaths.bind(n),n.refreshValues=n.refreshValues.bind(n),n._onHpfEnabledValueChange=n._onHpfEnabledValueChange.bind(n),n._onLowBandEnabledValueChange=n._onLowBandEnabledValueChange.bind(n),n._onLowMidBandEnabledValueChange=n._onLowMidBandEnabledValueChange.bind(n),n._onHighMidBandEnabledValueChange=n._onHighMidBandEnabledValueChange.bind(n),n._onHighBandEnabledValueChange=n._onHighBandEnabledValueChange.bind(n),n._onToggleHighPass=n._onToggleHighPass.bind(n),n._onToggleLowBand=n._onToggleLowBand.bind(n),n._onToggleLowMidBand=n._onToggleLowMidBand.bind(n),n._onToggleHighMidBand=n._onToggleHighMidBand.bind(n),n._onToggleHighBand=n._onToggleHighBand.bind(n),n._setActiveBandPath=n._setActiveBandPath.bind(n),n.initPaths(e.stripInfo),n.observableState=(0,m.observable)({width:0,height:0,hpfEnabled:!1,lowBandEnabled:!1,lowMidBandEnabled:!1,highMidBandEnabled:!1,highBandEnabled:!1,activeBandPath:n.path+"/eq/lowshelf",activeBandName:"Low",graphWidth:0,graphHeight:0,tabsHeight:0,controlsHeight:0}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.default.Component),i(t,[{key:"initPaths",value:function(e){this.path=e.basePath,this.hpfPath=this.path+"/hpf",this.lowBandPath=this.path+"/eq/lowshelf",this.lowMidBandPath=this.path+"/eq/mid1",this.highMidBandPath=this.path+"/eq/mid2",this.highBandPath=this.path+"/eq/highshelf"}},{key:"refreshValues",value:function(){c.default.has(this.hpfPath+"/enable")&&this._onHpfEnabledValueChange(),this._onLowBandEnabledValueChange(),this._onLowMidBandEnabledValueChange(),this._onHighMidBandEnabledValueChange(),this._onHighBandEnabledValueChange()}},{key:"componentDidMount",value:function(){this.addChangeListeners()}},{key:"componentWillUnmount",value:function(){this.removeChangeListeners()}},{key:"addChangeListeners",value:function(){c.default.has(this.hpfPath+"/enable")&&c.default.addChangeListener(this.id,this._onHpfEnabledValueChange,this.hpfPath+"/enable"),c.default.addChangeListener(this.id,this._onLowBandEnabledValueChange,this.lowBandPath+"/enable"),c.default.addChangeListener(this.id,this._onLowMidBandEnabledValueChange,this.lowMidBandPath+"/enable"),c.default.addChangeListener(this.id,this._onHighMidBandEnabledValueChange,this.highMidBandPath+"/enable"),c.default.addChangeListener(this.id,this._onHighBandEnabledValueChange,this.highBandPath+"/enable")}},{key:"removeChangeListeners",value:function(){c.default.has(this.hpfPath+"/enable")&&c.default.removeChangeListener(this.id,this._onHpfEnabledValueChange,this.hpfPath+"/enable"),c.default.removeChangeListener(this.id,this._onLowBandEnabledValueChange,this.lowBandPath+"/enable"),c.default.removeChangeListener(this.id,this._onLowMidBandEnabledValueChange,this.lowMidBandPath+"/enable"),c.default.removeChangeListener(this.id,this._onHighMidBandEnabledValueChange,this.highMidBandPath+"/enable"),c.default.removeChangeListener(this.id,this._onHighBandEnabledValueChange,this.highBandPath+"/enable")}},{key:"componentWillReceiveProps",value:function(e){void 0!==e.stripInfo&&(this.initPaths(e.stripInfo),this.refreshValues(),this.removeChangeListeners(),this.addChangeListeners(),this.props.stripInfo.id!==e.stripInfo.id&&this._setActiveBandPath(S(e.stripInfo)[0]))}},{key:"render",value:function(){var e=S(this.props.stripInfo),t=this.observableState.activeBandPath,n=this._setActiveBandPath,r=100/e.length,i=e.map(function(e){var i=null,o=e.color;return e.path===t&&(i=e.color,o=(0,u.getContrastColor)(e.color)),f.default.createElement(a.Button,{style:{width:r+"%",backgroundColor:i,color:o},className:g.default.FocusChannelEQTabBandButton,onClick:n.bind(null,e)},e.name)}),o=this.props.tabOrientation,l=g.default.FocusChannelEQTabGraphContainerLandscape,c=g.default.FocusChannelEQTabBandContainerLandscape,d=g.default.FocusChannelEQTabSettingsContainerLandscape;o===s.Orientations.PORTRAIT&&(l=g.default.FocusChannelEQTabGraphContainerPortrait,c=g.default.FocusChannelEQTabBandContainerPortrait,d=g.default.FocusChannelEQTabSettingsContainerPortrait);var v=o===s.Orientations.PORTRAIT?.9:.58,m={width:this.props.observableState.mixerWidth*v,height:this.props.observableState.focusChannelHeight-150},b=0,y=0;if(m.width>m.height){var C=Math.round(m.height/9*16);C>m.width?(b=m.width,y=Math.round(m.width/16*9)):(b=C,y=m.height)}else{var x=Math.round(m.width/16*9);x>m.height?(b=Math.round(m.height/9*16),y=m.height):(b=m.width,y=x)}var _=o===s.Orientations.PORTRAIT?y+72:"90%",w=0==b?60:Math.round(b);return f.default.createElement("div",{style:{height:this.props.observableState.focusChannelHeight,minHeight:s.FocusChannelMinHeight,maxHeight:this.props.observableState.focusChannelHeight},ref:"FocusChannelEQTab",className:g.default.FocusChannelEQTab},f.default.createElement("div",{style:{height:_},className:l},f.default.createElement(h.default,{ref:"eqGraph",segments:w,width:b,height:y,stripInfo:this.props.stripInfo,observableState:this.props.observableState,bands:S(this.props.stripInfo),setActiveBandPath:this._setActiveBandPath,gridEnabled:!0}),f.default.createElement("div",{className:c},i)),f.default.createElement("div",{className:d},f.default.createElement(p.default,{ref:"eqSettingsModule",stripInfo:this.props.stripInfo,scope:-1!==this.observableState.activeBandPath.indexOf("/hpf")?"hpf":"eq",controlsPath:this.observableState.activeBandPath.replace(this.path,"mix/ctrls"),observableState:this.props.observableState})))}},{key:"_onHpfEnabledValueChange",value:function(){var e=!!c.default.get(this.hpfPath+"/enable");this.observableState.hpfEnabled=e}},{key:"_onLowBandEnabledValueChange",value:function(){var e=!!c.default.get(this.lowBandPath+"/enable");this.observableState.lowBandEnabled=e}},{key:"_onLowMidBandEnabledValueChange",value:function(){var e=!!c.default.get(this.lowMidBandPath+"/enable");this.observableState.lowMidBandEnabled=e}},{key:"_onHighMidBandEnabledValueChange",value:function(){var e=!!c.default.get(this.highMidBandPath+"/enable");this.observableState.highMidBandEnabled=e}},{key:"_onHighBandEnabledValueChange",value:function(){var e=!!c.default.get(this.highBandPath+"/enable");this.observableState.highBandEnabled=e}},{key:"_onToggleHighPass",value:function(e){d.setAny(this.observableState.path+"/hpf/enable",+!this.observableState.hpfEnabled)}},{key:"_onToggleLowBand",value:function(e){d.setAny(this.observableState.path+"/eq/lowshelf/enable",+!this.observableState.lowBandEnabled)}},{key:"_onToggleLowMidBand",value:function(e){d.setAny(this.observableState.path+"/eq/mid1/enable",+!this.observableState.lowMidBandEnabled)}},{key:"_onToggleHighMidBand",value:function(e){d.setAny(this.observableState.path+"/eq/mid2/enable",+!this.observableState.highMidBandEnabled)}},{key:"_onToggleHighBand",value:function(e){d.setAny(this.observableState.path+"/eq/highshelf/enable",+!this.observableState.highBandEnabled)}},{key:"_setActiveBandPath",value:function(e){this.observableState.activeBandPath=e.path,this.observableState.activeBandName=e.name,this.setState({path:e.path})}}]),t}())||r;t.default=k},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._3DvsC_FocusChannelSettingsTab{height:100%;width:100%}._5uBMM_HardwareControlsLabel{width:auto;margin-left:13px;padding-left:30px}._1-x55_InputChannelLabel{display:inline-block;width:50%;padding-left:13px}._1dD7K_PresetContainer{position:absolute;top:36px}._289Jf_Row{width:100%;height:100%}._38zMJ_Column{vertical-align:top;width:50%}._1-OV-_FocusChannelSettingsTabSettingsContainerLandscape,._38zMJ_Column{background-color:#282828;border:1px solid #1d1d20;box-sizing:border-box;display:inline-block;height:100%;position:relative}._1-OV-_FocusChannelSettingsTabSettingsContainerLandscape{width:calc(50% - 2px);float:left;overflow-x:auto;-webkit-overflow-scrolling:auto}._cEbDq_FocusChannelSettingsTabSettingsContainerPortrait{width:100%;background-color:#282828;border:1px solid #1d1d20;overflow-x:auto;-webkit-overflow-scrolling:auto}._10CKs_FocusChannelSettingsTabRoutingContainerLandscape{float:right;width:calc(50% - 2px);height:100%;display:block;background-color:#282828;border:1px solid #1d1d20}._13k-v_FocusChannelSettingsTabRoutingContainerPortrait{width:100%;height:100%;display:block;background-color:#282828;border:1px solid #1d1d20}._Rm5eI_FormatButton{position:absolute;top:0;right:0;width:25%;margin:5px}._Sc1AH_ConfirmRouteButton{display:inline-block;width:25%;float:right;margin:5px}._1ysKM_SelectorContainerOuter{height:calc(100% - 44px)}.selectorContainer{background-color:#282828!important;display:block;height:100%;width:99%;margin-left:auto;margin-right:auto}.selectorContainer>.scrollContainer{height:100%!important}",""]),t.locals={FocusChannelSettingsTab:"_3DvsC_FocusChannelSettingsTab",HardwareControlsLabel:"_5uBMM_HardwareControlsLabel",InputChannelLabel:"_1-x55_InputChannelLabel",PresetContainer:"_1dD7K_PresetContainer",Row:"_289Jf_Row",Column:"_38zMJ_Column",FocusChannelSettingsTabSettingsContainerLandscape:"_1-OV-_FocusChannelSettingsTabSettingsContainerLandscape",FocusChannelSettingsTabSettingsContainerPortrait:"_cEbDq_FocusChannelSettingsTabSettingsContainerPortrait",FocusChannelSettingsTabRoutingContainerLandscape:"_10CKs_FocusChannelSettingsTabRoutingContainerLandscape",FocusChannelSettingsTabRoutingContainerPortrait:"_13k-v_FocusChannelSettingsTabRoutingContainerPortrait",FormatButton:"_Rm5eI_FormatButton",ConfirmRouteButton:"_Sc1AH_ConfirmRouteButton",SelectorContainerOuter:"_1ysKM_SelectorContainerOuter"}},function(e,t,n){var r=n(258);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._27HiM_ChannelSettingsModule{height:100%;overflow:visible;justify-content:center;display:flex}._1Nckb_Column{background-color:#282828;box-sizing:border-box;display:inline-block;vertical-align:top;height:100%;width:50%;position:relative}._2m6YS_ChannelSettingsModuleTextInput{border:none;box-sizing:border-box;color:#348ee8;display:block;margin:0;padding:6px;width:100%;border-radius:0}._2m6YS_ChannelSettingsModuleTextInput,._x7o0x_ChannelSettingsModuleReadoutCell{font-family:Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;font-style:normal;font-variant:normal;font-size:12px;line-height:1em;font-weight:400;text-align:center}._x7o0x_ChannelSettingsModuleReadoutCell{color:#d7d7d7;width:25%}._VZWKK_ChannelSettingsContainer{width:100%;height:100%}.__pBuB_FormatButton{text-align:center;display:block;width:100%;align-self:center;margin-bottom:20px}._3MYNS_ContextualControls{display:-ms-flex;display:-webkit-flex;display:flex;height:100%}._I7H0E_TrimControls{text-align:center;width:50%;height:100%;align-self:center}._1ROSb_TrimMeter{margin-right:20px}._1bHtU_TrimSlider,._1ROSb_TrimMeter{display:inline-block;width:auto}._2hxST_Buttons{width:50%;margin-right:6px;align-self:center}._2hxST_Buttons button{margin:5px 0}",""]),t.locals={ChannelSettingsModule:"_27HiM_ChannelSettingsModule",Column:"_1Nckb_Column",ChannelSettingsModuleTextInput:"_2m6YS_ChannelSettingsModuleTextInput",ChannelSettingsModuleReadoutCell:"_x7o0x_ChannelSettingsModuleReadoutCell",ChannelSettingsContainer:"_VZWKK_ChannelSettingsContainer",FormatButton:"__pBuB_FormatButton",ContextualControls:"_3MYNS_ContextualControls",TrimControls:"_I7H0E_TrimControls",TrimMeter:"_1ROSb_TrimMeter",TrimSlider:"_1bHtU_TrimSlider",Buttons:"_2hxST_Buttons"}},function(e,t,n){var r=n(260);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._3qnKR_TrimControls{text-align:center;height:100%;padding:6px;align-self:center}._3Dhjd_Name{padding:6px 0}._3pBCP_TrimStripContainer,._14fl9_Column{display:inline-block}._14fl9_Column{background-color:#282828;border:1px solid #1d1d20;box-sizing:border-box;vertical-align:top;position:relative}._2n1-W_TrimMeter{margin-right:20px}._2n1-W_TrimMeter,._EQohT_TrimSlider{display:inline-block;width:auto}._21LcI_TrimTextInput{font-family:Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;font-style:normal;font-variant:normal;font-size:12px;line-height:1em;font-weight:400;border:none;box-sizing:border-box;color:#348ee8;display:block;margin:0;padding:6px;text-align:center;width:100%;border-radius:0}",""]),t.locals={TrimControls:"_3qnKR_TrimControls",Name:"_3Dhjd_Name",TrimStripContainer:"_3pBCP_TrimStripContainer",Column:"_14fl9_Column",TrimMeter:"_2n1-W_TrimMeter",TrimSlider:"_EQohT_TrimSlider",TrimTextInput:"_21LcI_TrimTextInput"}},function(e,t,n){var r=n(262);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TrimStripInternal=void 0;var r,i,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=_(n(0)),l=(_(n(13)),_(n(57))),u=_(n(56)),c=(_(n(11)),_(n(24)),_(n(17))),h=(_(n(15)),_(n(263))),p=_(n(43)),d=_(n(6)),f=(n(20),n(23)),v=_(n(113)),m=(n(26),n(48)),g=n(9),b=_(n(61)),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(18)),C=n(12),x=n(4);function _(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var T=(0,u.default)({prefix:"",suffix:" dB",includeThousandsSeparator:!1,allowDecimal:!0,allowNegative:!0}),E=t.TrimStripInternal=(0,C.observer)(r=function(e){function t(e){w(this,t);var n=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.updateMeterIndex=n.updateMeterIndex.bind(n),n._onTrimValueChange=n._onTrimValueChange.bind(n),n._onTrimChange=n._onTrimChange.bind(n),n._onTrimTextKeyDown=n._onTrimTextKeyDown.bind(n),n._onTrimTextChange=n._onTrimTextChange.bind(n),n.observableState=(0,x.observable)({trim:0,levelMeterIndex:-1}),n.meterIndexStore=p.default,n}return k(t,s.default.Component),a(t,[{key:"componentDidMount",value:function(){d.default.addChangeListener(this.id,this._onTrimValueChange,this.props.trimPath),this.updateMeterIndex(this.props.stripInfo,this.props.bankType,this.props.bankNum,this.props.channelNum)}},{key:"componentWillUnmount",value:function(){d.default.removeChangeListener(this.id,this._onTrimValueChange,this.props.trimPath)}},{key:"componentWillReceiveProps",value:function(e){d.default.removeChangeListener(this.id,this._onTrimValueChange,this.props.trimPath),d.default.addChangeListener(this.id,this._onTrimValueChange,e.trimPath),this.updateMeterIndex(e.stripInfo,e.bankType,e.bankNum,e.channelNum)}},{key:"componentDidUpdate",value:function(e,t){this.updateMeterIndex(this.props.stripInfo,this.props.bankType,this.props.bankNum,this.props.channelNum),this._onTrimValueChange()}},{key:"updateMeterIndex",value:function(e,t,n,r){"ibank"==t?this.observableState.levelMeterIndex=p.default.getIBankMeterIndex(t,e.type,e.num):"obank"==t&&(this.observableState.levelMeterIndex=p.default.getOBankMeterIndex(n,r))}},{key:"render",value:function(){var e=d.default.get(this.props.trimRangePath).split(":"),t=parseInt(e[0]),n=parseInt(e[1]),r=-1!==this.props.trimPath.indexOf("stereoTrim")&&this.props.stereoEnabled,i="ibank"==this.props.bankType?"IBank":"OBank",o="";if(r){var a=(0,f.getRouterUtilities)().getChNameFromBank({Bank:i},this.props.bankNum,this.props.channelNum),u=(0,f.getRouterUtilities)().getChNameFromBank({Bank:i},this.props.bankNum,v.default.getOtherStereoCh(this.props.channelNum));o=v.default.join([a,u])}else o=(0,f.getRouterUtilities)().getChNameFromBank({Bank:i},this.props.bankNum,this.props.channelNum);var c=r?75:60;return s.default.createElement("div",{style:{width:c},className:h.default.TrimControls},s.default.createElement("div",{className:h.default.Name},o),s.default.createElement(b.default,{type:"input",path:"ext/input",className:h.default.TrimMeter,width:12,height:this.props.height,enabled:!0,sideBar:!0,stereo:r,renderCanvas:!0,renderPeakHolds:!0,meterIndex:this.observableState.levelMeterIndex,scaleFactor:1e3/255,observableState:this.props.observableState}),s.default.createElement(m.Slider,{className:h.default.TrimSlider,direction:m.SliderDirection.VERTICAL,id:"trimSlider",observableValues:this.observableState,observableState:this.props.observableState,stateKey:"trim",valuePath:this.props.trimPath,width:24,height:this.props.height,minValue:t,maxValue:n,color2:g.SliderTrackColors.fader,onChange:this._onTrimChange,onDoubleClick:this._onTrimDoubleClick},s.default.createElement(m.SliderTrack,{trackWidth:8,className:h.default.SliderTrack},s.default.createElement(m.SliderThumb,{className:h.default.SliderThumb}))),s.default.createElement(l.default,{ref:"trimText",id:"trimText",type:"tel",mask:T,className:h.default.TrimTextInput,value:Math.round(100*this.observableState.trim)/100,onKeyDown:this._onTrimTextKeyDown,onChange:this._onTrimTextChange}))}},{key:"_onTrimValueChange",value:function(){this.observableState.trim=d.default.get(this.props.trimPath)}},{key:"_onTrimChange",value:function(e){y.setAny(this.props.trimPath,Math.round(e))}},{key:"_onTrimTextKeyDown",value:function(e){13!==e.keyCode&&9!==e.keyCode||"-_ dB"===e.target.value||y.setAny(this.props.trimPath,Number(e.target.value.replace(" dB","")))}},{key:"_onTrimTextChange",value:function(e){if(e.target instanceof HTMLInputElement&&""!=e.target.value&&"-_ dB"!==e.target.value){var t=d.default.get(this.props.trimRangePath).split(":"),n=parseInt(t[0]),r=parseInt(t[1]),i=Number(e.target.value.replace(" dB","")),o=Math.min(Math.max(i,n),r);i!=o&&(e.target.value=o)}}}]),t}())||r,P=(0,C.observer)(i=function(e){function t(e){w(this,t);var n=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.id=Math.random().toString(36).substring(7),n._onFormatValueChange=n._onFormatValueChange.bind(n);var r=e.stripInfo,i=e.height,o=e.bankType,a=e.bankNum,s=e.channelNum,l=e.observableState,u=(function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}(e,["stripInfo","height","bankType","bankNum","channelNum","observableState"]),!d.default.has(r.formatPath)||"2"===d.default.get(r.formatPath).split(":")[0]),h="ext/"+o+"/"+a+"/ch/"+s;n.observableState=(0,x.observable)({stereoEnabled:u});var p=d.default.has(h+"/trim")?h+"/trim":h+"/stereoTrim",f=d.default.has(h+"/trimRange")?h+"/trimRange":h+"/stereoTrimRange";n.leftProps={stripInfo:r,height:i,bankType:o,bankNum:a,channelNum:s,trimPath:p,trimRangePath:f,observableState:l};var v=new c.default(r.type+"/"+(r.num+1)),m="ext/"+o+"/"+a+"/ch/"+(s+1);return n.rightProps={stripInfo:v,height:i,bankType:o,bankNum:a,channelNum:s+1,trimPath:m+"/trim",trimRangePath:m+"/trimRange",observableState:l},n}return k(t,s.default.Component),a(t,[{key:"componentWillReceiveProps",value:function(e){this.removeChangeListeners();var t="ext/"+e.bankType+"/"+e.bankNum+"/ch/"+e.channelNum,n=d.default.has(t+"/trim")?t+"/trim":t+"/stereoTrim",r=d.default.has(t+"/trimRange")?t+"/trimRange":t+"/stereoTrimRange";Object.assign(this.leftProps,{stripInfo:e.stripInfo,height:e.height,bankType:e.bankType,bankNum:e.bankNum,channelNum:e.channelNum,trimPath:n,trimRangePath:r});var i=new c.default(e.stripInfo.type+"/"+(e.stripInfo.num+1)),o="ext/"+e.bankType+"/"+e.bankNum+"/ch/"+(e.channelNum+1);Object.assign(this.rightProps,{stripInfo:i,height:e.height,bankType:e.bankType,bankNum:e.bankNum,channelNum:e.channelNum+1,trimPath:o+"/trim",trimRangePath:o+"/trimRange"}),this.addChangeListeners()}},{key:"componentDidMount",value:function(){this.addChangeListeners()}},{key:"componentWillUnmount",value:function(){this.removeChangeListeners()}},{key:"addChangeListeners",value:function(){var e=this.leftProps.stripInfo;d.default.has(e.formatPath)&&d.default.addChangeListener(this.id,this._onFormatValueChange,e.formatPath);var t=this.rightProps.stripInfo;d.default.has(t.formatPath)&&d.default.addChangeListener(this.id,this._onFormatValueChange,t.formatPath)}},{key:"removeChangeListeners",value:function(){var e=this.leftProps.stripInfo,t=this.rightProps.stripInfo;d.default.removeChangeListener(this.id,this._onFormatValueChange,e.formatPath),d.default.removeChangeListener(this.id,this._onFormatValueChange,t.formatPath)}},{key:"_onFormatValueChange",value:function(){var e=this.leftProps.stripInfo;this.observableState.stereoEnabled=!d.default.has(e.formatPath)||"2"===d.default.get(e.formatPath).split(":")[0]}},{key:"render",value:function(){var e="ext/"+this.props.bankType+"/"+this.props.bankNum+"/ch/"+(this.props.channelNum+1)+"/src";return this.observableState.stereoEnabled&&-1==this.props.bankPaths.indexOf(e)&&d.default.has(this.rightProps.trimPath)&&"obank"==this.props.bankType?s.default.createElement("div",{style:{minWidth:"124px"},className:h.default.TrimStripContainer},s.default.createElement("div",{style:{width:"50%",minWidth:"62px"},className:h.default.Column},s.default.createElement(E,o({stereoEnabled:this.observableState.stereoEnabled},this.leftProps))),s.default.createElement("div",{style:{width:"50%",minWidth:"62px"},className:h.default.Column},s.default.createElement(E,o({stereoEnabled:this.observableState.stereoEnabled},this.rightProps)))):s.default.createElement("div",{className:h.default.TrimStripContainer},s.default.createElement("div",{className:h.default.Column},s.default.createElement(E,o({stereoEnabled:this.observableState.stereoEnabled},this.leftProps))))}}]),t}())||i;t.default=P},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ChannelSettingsModuleInternal=void 0;var r,i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=S(n(0)),s=S(n(13)),l=(S(n(57)),S(n(56))),u=S(n(6)),c=(S(n(43)),n(23)),h=w(n(18)),p=(n(26),n(20)),d=n(37),f=S(n(264)),v=(n(48),n(9)),m=(S(n(61)),S(n(15)),S(n(11))),g=S(n(261)),b=(w(n(35)),n(12)),y=n(4),C=(w(n(39)),S(n(93))),x=S(n(84)),_=S(n(17));function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Math.round,(0,l.default)({prefix:"",suffix:" dB",includeThousandsSeparator:!1,allowDecimal:!0,allowNegative:!0});var I=t.ChannelSettingsModuleInternal=(0,b.observer)(r=function(e){function t(e){T(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.id=Math.random().toString(36).substring(7),n.initPaths=n.initPaths.bind(n),n.changePath=(0,C.default)(n.changePath,n,1),n.addChangeListeners=n.addChangeListeners.bind(n),n.removeChangeListeners=n.removeChangeListeners.bind(n),n._moduleTouchStart=n._moduleTouchStart.bind(n),n._onFormatValueChange=n._onFormatValueChange.bind(n),n._onTrimValueChange=n._onTrimValueChange.bind(n),n._onPowerValueChange=n._onPowerValueChange.bind(n),n._onPadValueChange=n._onPadValueChange.bind(n),n._onPhaseValueChange=n._onPhaseValueChange.bind(n),n._onVLimitValueChange=n._onVLimitValueChange.bind(n),n._onSoftClipValueChange=n._onSoftClipValueChange.bind(n),n._onSourceValueChange=n._onSourceValueChange.bind(n),n._onTrimChange=n._onTrimChange.bind(n),n._onTrimDoubleClick=n._onTrimDoubleClick.bind(n),n._onPowerChange=n._onPowerChange.bind(n),n._onPadChange=n._onPadChange.bind(n),n._onPhaseChange=n._onPhaseChange.bind(n),n._onVLimitChange=n._onVLimitChange.bind(n),n._onSoftClipChange=n._onSoftClipChange.bind(n),n.observableState=(0,y.observable)({width:-1,height:-1,stereoEnabled:0,hasTrim:!1,hasPower:!1,hasPad:!1,hasPhase:!1,hasVLimit:!1,hasSoftClip:!1,trim:0,powerEnabled:1,padEnabled:1,phaseEnabled:1,vLimitEnabled:1,softClipEnabled:1}),n.initPaths(e.stripInfo),n}return P(t,a.default.Component),o(t,[{key:"initPaths",value:function(e){this.stripInfo=e,this.path="chan"===e.type?(0,p.getMixerChannelInputPath)(e):(0,p.getOutputChannelInputPath)(e),this.paths={},this.paths.trim=this.path+"/trim",this.paths.trimRange=this.path+"/trimRange",this.paths.power=this.path+"/48V",this.paths.pad=this.path+"/pad",this.paths.phase=this.path+"/phase",this.paths.vlimit=this.path+"/vlLimit",this.paths.softclip=this.path+"/vlClip",this.paths.src=(0,p.getMixerChOBankPath)(e)+"/src",this.paths.obank=(0,p.getOutputChOBankPaths)(e);var t="chan"==e.type?x.default.ios.input:x.default.ios.output,n=(0,p.getBnCn)(this.path);if(x.default.channelHasAnyControls({io:t,bn:n.bn,cn:n.cn,dev:(0,c.getInjectedDevice)()})){var r=x.default.getValidControls({io:t,bn:n.bn,cn:n.cn,dev:(0,c.getInjectedDevice)()});this.observableState.hasInputTrim=-1!==r.indexOf("trim"),this.observableState.hasPower=-1!==r.indexOf("48V"),this.observableState.hasPad=-1!==r.indexOf("pad"),this.observableState.hasPhase=-1!==r.indexOf("phase"),this.observableState.hasVLimit=-1!==r.indexOf("vlimit"),this.observableState.hasSoftClip=-1!==r.indexOf("softclip")}else this.observableState.hasInputTrim=!1,this.observableState.hasPower=!1,this.observableState.hasPad=!1,this.observableState.hasPhase=!1,this.observableState.hasVLimit=!1,this.observableState.hasSoftClip=!1;this.observableState.hasOutputTrim=void 0!==this.paths.obank&&null!==this.paths.obank}},{key:"componentWillReceiveProps",value:function(e){void 0!==e.stripInfo&&this.changePath(e.stripInfo)}},{key:"changePath",value:function(e){this.removeChangeListeners(),this.initPaths(e),this.addChangeListeners(),this.forceUpdate()}},{key:"componentDidMount",value:function(){this.addChangeListeners()}},{key:"componentWillUnmount",value:function(){this.removeChangeListeners()}},{key:"addChangeListeners",value:function(){u.default.has(this.stripInfo.formatPath)&&u.default.addChangeListener(this.id,this._onFormatValueChange,this.stripInfo.formatPath),"chan"==this.stripInfo.type&&(u.default.addChangeListener(this.id,this._onSourceValueChange,this.paths.src,!1),u.default.addChangeListener(this.id,this._onTrimValueChange,this.paths.trim)),"chan"!=this.stripInfo.type&&(0,p.getAllOBankCalcChPaths)().forEach(function(e,t,n){for(var r=u.default.get(e),i=0;i<r;i++){var o="ext/obank/"+t+"/ch/"+i+"/src";u.default.addChangeListener(this.id,this._onSourceValueChange,o,!1)}},this),this.observableState.hasPower&&u.default.addChangeListener(this.id,this._onPowerValueChange,this.paths.power),this.observableState.hasPad&&u.default.addChangeListener(this.id,this._onPadValueChange,this.paths.pad),this.observableState.hasPhase&&u.default.addChangeListener(this.id,this._onPhaseValueChange,this.paths.phase),this.observableState.hasVLimit&&u.default.addChangeListener(this.id,this._onVLimitValueChange,this.paths.vlimit),this.observableState.hasSoftClip&&u.default.addChangeListener(this.id,this._onSoftClipValueChange,this.paths.softclip)}},{key:"removeChangeListeners",value:function(){u.default.removeChangeListener(this.id,this._onFormatValueChange,this.stripInfo.formatPath),"chan"==this.stripInfo.type&&(u.default.removeChangeListener(this.id,this._onSourceValueChange,this.paths.src),u.default.removeChangeListener(this.id,this._onTrimValueChange,this.paths.trim)),"chan"!=this.stripInfo.type&&(0,p.getAllOBankCalcChPaths)().forEach(function(e,t,n){for(var r=u.default.get(e),i=0;i<r;i++){var o="ext/obank/"+t+"/ch/"+i+"/src";u.default.removeChangeListener(this.id,this._onSourceValueChange,o)}},this),u.default.removeChangeListener(this.id,this._onPowerValueChange,this.paths.power),u.default.removeChangeListener(this.id,this._onPadValueChange,this.paths.pad),u.default.removeChangeListener(this.id,this._onPhaseValueChange,this.paths.phase),u.default.removeChangeListener(this.id,this._onVLimitValueChange,this.paths.vlimit),u.default.removeChangeListener(this.id,this._onSoftClipValueChange,this.paths.softclip)}},{key:"render",value:function(){var e=this.observableState.hasPower||this.observableState.hasPad||this.observableState.hasPhase||this.observableState.hasVLimit||this.observableState.hasSoftClip;return a.default.createElement("div",{onTouchStart:this._moduleTouchStart,className:g.default.ChannelSettingsModule},a.default.createElement("div",{className:g.default.ContextualControls},this.observableState.hasInputTrim||this.observableState.hasOutputTrim?this.observableState.hasInputTrim?this.renderTrimStrips([this.path]):this.renderTrimStrips(this.paths.obank):null,e?a.default.createElement("table",{className:g.default.Buttons},a.default.createElement("tbody",null,this.observableState.hasPower?this.renderPowerButton():null,this.observableState.hasPad?this.renderPadButton():null,this.observableState.hasPhase?this.renderPhaseButton():null,this.observableState.hasVLimit?this.renderVLimitButton():null,this.observableState.hasSoftClip?this.renderSoftClipButton():null)):null))}},{key:"renderTrimStrips",value:function(e){if(e)return e.map(function(e,t,n){var r="",i="",o="",s="",l="";if(this.observableState.hasInputTrim?(r=this.paths.trim,o=this.paths.trimRange,l="ibank"):this.observableState.hasOutputTrim&&(r=e.replace("src","trim"),i=e.replace("src","stereoTrim"),o=e.replace("src","trimRange"),s=e.replace("src","stereoTrimRange"),l="obank"),u.default.has(r)&&u.default.has(o)||u.default.has(i)&&u.default.has(s)){var c=(0,p.getBnCn)(e),h=Math.min(Math.max(this.props.observableState.focusChannelHeight-120,0),v.FaderMaxHeight);return a.default.createElement(f.default,{stripInfo:this.props.stripInfo,height:h,bankType:l,bankNum:c.bn,channelNum:c.cn,bankPaths:n,observableState:this.props.observableState})}},this)}},{key:"renderPowerButton",value:function(){if(u.default.has(this.paths.power))return a.default.createElement("tr",null,a.default.createElement("td",null,a.default.createElement(d.Button,{ref:"powerButton",id:"powerButton",className:(0,m.default)(k({},d.ButtonStyles.RED,+this.observableState.powerEnabled)),onClick:this._onPowerChange},"48V")))}},{key:"renderPadButton",value:function(){if(u.default.has(this.paths.pad))return a.default.createElement("tr",null,a.default.createElement("td",null,a.default.createElement(d.Button,{ref:"padButton",id:"padButton",className:(0,m.default)(k({},d.ButtonStyles.BLUE,+this.observableState.padEnabled)),onClick:this._onPadChange},"PAD")))}},{key:"renderPhaseButton",value:function(){if(u.default.has(this.paths.phase))return a.default.createElement("tr",null,a.default.createElement("td",null,a.default.createElement(d.Button,{ref:"phaseButton",id:"phaseButton",className:(0,m.default)(k({},d.ButtonStyles.BLUE,+this.observableState.phaseEnabled)),onClick:this._onPhaseChange},"PHASE")))}},{key:"renderVLimitButton",value:function(){if(u.default.has(this.paths.vlimit))return a.default.createElement("tr",null,a.default.createElement("td",null,a.default.createElement(d.Button,{ref:"vLimitButton",id:"vLimitButton",className:(0,m.default)(k({},d.ButtonStyles.BLUE,+this.observableState.vLimitEnabled)),onClick:this._onVLimitChange},"VLimit")))}},{key:"renderSoftClipButton",value:function(){if(u.default.has(this.paths.softclip))return a.default.createElement("tr",null,a.default.createElement("td",null,a.default.createElement(d.Button,{ref:"softClipButton",id:"softClipButton",className:(0,m.default)(k({},d.ButtonStyles.BLUE,+this.observableState.softClipEnabled)),onClick:this._onSoftClipChange},"SoftClip")))}},{key:"_moduleTouchStart",value:function(e){var t=e.touches[0].clientX,n=e.touches[0].clientY,r=document.elementFromPoint(t,n),i=s.default.findDOMNode(this.refs.formatButton),o=document.getElementById("trimSlider"),a=s.default.findDOMNode(this.refs.trimText),l=s.default.findDOMNode(this.refs.powerButton),u=s.default.findDOMNode(this.refs.padButton),c=s.default.findDOMNode(this.refs.phaseButton),h=s.default.findDOMNode(this.refs.vLimitButton),p=s.default.findDOMNode(this.refs.softClipButton),d=!1;null!==i&&i.id===r.id&&(d=!0),null!==o&&o.id===r.id&&(d=!0),null!==a&&a.id===r.id&&(d=!0),null!==l&&l.id===r.id&&(d=!0),null!==u&&u.id===r.id&&(d=!0),null!==c&&c.id===r.id&&(d=!0),null!==h&&h.id===r.id&&(d=!0),null!==p&&p.id===r.id&&(d=!0),d||e.preventDefault()}},{key:"_onFormatValueChange",value:function(){var e=u.default.get(this.stripInfo.formatPath);this.observableState.stereoEnabled="2"===e.split(":")[0]}},{key:"_onTrimValueChange",value:function(e){if(void 0!==e){var t=e.split("/"),n=""+t[2]+t[2]+"Trim";this.observableState[n]=u.default.get(e)}}},{key:"_onPowerValueChange",value:function(){this.observableState.powerEnabled=!!u.default.get(this.paths.power)}},{key:"_onPadValueChange",value:function(){this.observableState.padEnabled=!!u.default.get(this.paths.pad)}},{key:"_onPhaseValueChange",value:function(){this.observableState.phaseEnabled=!!u.default.get(this.paths.phase)}},{key:"_onVLimitValueChange",value:function(){this.observableState.vLimitEnabled=!!u.default.get(this.paths.vlimit)}},{key:"_onSoftClipValueChange",value:function(){this.observableState.softClipEnabled=!!u.default.get(this.paths.softclip)}},{key:"_onSourceValueChange",value:function(){this.changePath(this.stripInfo)}},{key:"_onTrimChange",value:function(e){h.setAny(this.paths.trim,Math.round(e))}},{key:"_onTrimDoubleClick",value:function(e){h.setAny(this.paths.trim,0)}},{key:"_onPowerChange",value:function(e){h.setAny(this.paths.power,+!this.observableState.powerEnabled)}},{key:"_onPadChange",value:function(e){h.setAny(this.paths.pad,+!this.observableState.padEnabled)}},{key:"_onPhaseChange",value:function(e){h.setAny(this.paths.phase,+!this.observableState.phaseEnabled)}},{key:"_onVLimitChange",value:function(e){h.setAny(this.paths.vlimit,+!this.observableState.vLimitEnabled)}},{key:"_onSoftClipChange",value:function(e){h.setAny(this.paths.softclip,+!this.observableState.softClipEnabled)}}]),t}())||r,B=(0,b.observer)(i=function(e){function t(e){T(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.id=Math.random().toString(36).substring(7),n._onFormatValueChange=n._onFormatValueChange.bind(n);var r=e.stripInfo,i=e.observableState,o=(function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}(e,["stripInfo","observableState"]),!u.default.has(r.formatPath)||"2"===u.default.get(r.formatPath).split(":")[0]);n.observableState=(0,y.observable)({stereoEnabled:o}),n.leftProps={stripInfo:r,observableState:i};var a=new _.default(r.type+"/"+(r.num+1));return n.rightProps={stripInfo:a,observableState:i},n}return P(t,a.default.Component),o(t,[{key:"componentWillReceiveProps",value:function(e){this.removeChangeListeners(),Object.assign(this.leftProps,{stripInfo:e.stripInfo});var t=new _.default(e.stripInfo.type+"/"+(e.stripInfo.num+1));Object.assign(this.rightProps,{stripInfo:t}),this.addChangeListeners()}},{key:"componentDidMount",value:function(){this.addChangeListeners()}},{key:"componentWillUnmount",value:function(){this.removeChangeListeners()}},{key:"addChangeListeners",value:function(){var e=this.leftProps.stripInfo;u.default.has(e.formatPath)&&u.default.addChangeListener(this.id,this._onFormatValueChange,e.formatPath);var t=this.rightProps.stripInfo;u.default.has(t.formatPath)&&u.default.addChangeListener(this.id,this._onFormatValueChange,t.formatPath)}},{key:"removeChangeListeners",value:function(){var e=this.leftProps.stripInfo,t=this.rightProps.stripInfo;u.default.removeChangeListener(this.id,this._onFormatValueChange,e.formatPath),u.default.removeChangeListener(this.id,this._onFormatValueChange,t.formatPath)}},{key:"_onFormatValueChange",value:function(){var e=this.leftProps.stripInfo;this.observableState.stereoEnabled=!u.default.has(e.formatPath)||"2"===u.default.get(e.formatPath).split(":")[0]}},{key:"render",value:function(){return this.observableState.stereoEnabled&&"chan"==this.leftProps.stripInfo.type?a.default.createElement("div",{className:g.default.ChannelSettingsModuleContainer},a.default.createElement("div",{className:g.default.Row},a.default.createElement("div",{className:g.default.Column},a.default.createElement(I,this.leftProps)),a.default.createElement("div",{className:g.default.Column},a.default.createElement(I,this.rightProps)))):a.default.createElement("div",{className:g.default.ChannelSettingsModuleContainer},a.default.createElement(I,this.leftProps))}}]),t}())||i;t.default=B},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!e||!t)return!1;if(e.length!=t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]instanceof Array&&t[n]instanceof Array){if(!e[n].equals(t[n]))return!1}else if(e[n]!=t[n])return!1;return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(37),a=(n(48),k(n(31)),k(n(35)),S(n(266))),s=S(n(36)),l=S(n(6)),u=(S(n(128)),S(n(127)),S(n(25)),S(n(265))),c=k(n(18)),h=n(9),p=n(20),d=S(n(0)),f=(S(n(13)),n(12)),v=n(4),m=S(n(151)),g=S(n(103)),b=S(n(84)),y=n(23),C=(S(n(19)),S(n(11))),x=(S(n(15)),S(n(17))),_=S(n(93)),w=S(n(259));function S(e){return e&&e.__esModule?e:{default:e}}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=(0,f.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.id=Math.random().toString(36).substring(7),n.addChangeListeners=n.addChangeListeners.bind(n),n.removeChangeListeners=n.removeChangeListeners.bind(n),n.initPresetUI=n.initPresetUI.bind(n),n.initPaths=n.initPaths.bind(n),n.initMiniRoute=n.initMiniRoute.bind(n),n.removeMiniRoute=n.removeMiniRoute.bind(n),n.renderFormatButton=n.renderFormatButton.bind(n),n._onTouchStart=n._onTouchStart.bind(n),n._onFormatValueChange=n._onFormatValueChange.bind(n),n._onSourceValueChange=(0,_.default)(n._onSourceValueChange,n,1),n._onFormatChange=n._onFormatChange.bind(n),n._onInputSelected=n._onInputSelected.bind(n),n._onOutputSelected=n._onOutputSelected.bind(n),n._onConfirmInputRouting=n._onConfirmInputRouting.bind(n),n._onConfirmOutputRoutings=n._onConfirmOutputRoutings.bind(n),n.observableState=(0,v.observable)({init:!1,width:-1,height:-1,stereoEnabled:!1,routeReady:0,stagedInputRoute:null,stagedOutputRoutes:null}),n.initPaths(e.stripInfo),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default.Component),i(t,[{key:"componentDidMount",value:function(){this.addChangeListeners(),this.initMiniRoute(),this.initPresetUI(this.stripInfo)}},{key:"componentWillUnmount",value:function(){this.removeChangeListeners(),l.default.removeChangeListener(this.id,this._onSourceValueChange,this.sourcePath),this.removeMiniRoute()}},{key:"addChangeListeners",value:function(){l.default.addChangeListener(this.id,this._onFormatValueChange,this.stripInfo.formatPath,!1),"chan"==this.stripInfo.type?l.default.addChangeListener(this.id,this._onSourceValueChange,this.sourcePath,!1):(0,p.getAllOBankCalcChPaths)().forEach(function(e,t,n){for(var r=l.default.get(e),i=0;i<r;i++){var o="ext/obank/"+t+"/ch/"+i+"/src";l.default.addChangeListener(this.id,this._onSourceValueChange,o,!1)}},this)}},{key:"removeChangeListeners",value:function(){l.default.removeChangeListener(this.id,this._onFormatValueChange,this.stripInfo.formatPath),"chan"==this.stripInfo.type?l.default.removeChangeListener(this.id,this._onSourceValueChange,this.sourcePath):(0,p.getAllOBankCalcChPaths)().forEach(function(e,t,n){for(var r=l.default.get(e),i=0;i<r;i++){var o="ext/obank/"+t+"/ch/"+i+"/src";l.default.removeChangeListener(this.id,this._onSourceValueChange,o)}},this)}},{key:"componentWillReceiveProps",value:function(e){void 0!==e.stripInfo&&(this.removeChangeListeners(),this.initPaths(e.stripInfo),this.initPresetUI(e.stripInfo),this.addChangeListeners(),this.removeMiniRoute(),this.initMiniRoute())}},{key:"initPaths",value:function(e){this.stripInfo=e,this.sourcePath=(0,p.getMixerChOBankPath)(e)+"/src";var t=!0;l.default.has(e.formatPath)&&(t="2"===l.default.get(e.formatPath).split(":")[0],this.secondStripInfo=new x.default(e.type+"/"+(e.num+1))),this.observableState.stereoEnabled=t}},{key:"initPresetUI",value:function(e){this.presetPane=new g.default({scope:"channel",wildcards:{type:e.type,num:e.num},node:this.refs.presetContainer,dev:(0,y.getInjectedDevice)(),extraCss:"devBtn"})}},{key:"initMiniRoute",value:function(){var e="chan"===this.stripInfo.type?(0,p.getStripSourceBnCn)(this.stripInfo):(0,p.getOutputChannelBnCn)(this.stripInfo);if("chan"===this.stripInfo.type){if(this._inputSelector=new m.default.Selector({parent:this.refs.selectorContainer,dev:(0,y.getInjectedDevice)(),io:b.default.ios.input,onChange:this._onInputSelected,strip_id:this.stripInfo.id,bank:-1,channel:0,displayActivity:!1}),null!==e){var t=this._inputSelector.channels[e.bn.toString()+":"+e.cn.toString()];if(t){this._inputSelector.choose({bn:[-1],cn:[0],chLi:this._inputSelector.channels["-1:0"].node});var n=t.node;this._inputSelector.choose({bn:[e.bn],cn:[e.cn],chLi:n}),this._inputSelector.expandBank(n.parentElement.parentElement)}}}else{this._inputSelector=new m.default.Selector({parent:this.refs.selectorContainer,dev:(0,y.getInjectedDevice)(),io:b.default.ios.output,onChange:this._onOutputSelected,strip_id:this.stripInfo.id,bank:-1,channel:0,displayActivity:!1});var r=(0,p.getOutputChOBankPaths)(this.stripInfo);if(void 0!==r&&null!==r){r=r.sort();for(var i=0;i<r.length;i++){var o=r[i].split("/"),a=o[2],s=o[4],l=this._inputSelector.channels[a.toString()+":"+s.toString()];if(l){var u=l.node;this._inputSelector.choose({bn:[a],cn:[s],chLi:u});var c=u.parentElement.parentElement;new RegExp("(\\s|^)selected(\\s|$)").test(c.className)||this._inputSelector.expandBank(u.parentElement.parentElement)}}}}this.observableState.init=!0}},{key:"removeMiniRoute",value:function(){if(void 0!==this._inputSelector){this._inputSelector.remove();for(var e=0;e<this._inputSelector.parent.childElementCount;e++)this._inputSelector.parent.children[e].remove();this.observableState.init=!1}}},{key:"render",value:function(){var e=this,t=(0,C.default)(T({},o.ButtonStyles.BLUE,this.observableState.stereoEnabled));t+=" "+w.default.FormatButton;var n=(0,C.default)(T({},o.ButtonStyles.RED,+this.observableState.routeReady));n+=" "+w.default.ConfirmRouteButton;var r=this.props.tabOrientation,i=w.default.FocusChannelSettingsTabSettingsContainerLandscape,a=w.default.FocusChannelSettingsTabRoutingContainerLandscape;return r===h.Orientations.PORTRAIT&&(i=w.default.FocusChannelSettingsTabSettingsContainerPortrait,a=w.default.FocusChannelSettingsTabRoutingContainerPortrait),d.default.createElement(s.default,{onMeasure:function(t){e.observableState.width=t.width,e.observableState.height=t.height}},d.default.createElement("div",{className:w.default.FocusChannelSettingsTab,onTouchStart:this.props.onTouchStart},d.default.createElement("div",{className:w.default.Row},d.default.createElement("div",{className:i},d.default.createElement("h3",{className:w.default.HardwareControlsLabel},"Hardware Controls"),d.default.createElement("span",{ref:"presetContainer",className:"presetContainer "+w.default.PresetContainer}),l.default.has(this.stripInfo.formatPath)?d.default.createElement(o.Button,{ref:"formatButton",id:"formatButton",className:t,onClick:this._onFormatChange},this.observableState.stereoEnabled?"STEREO":"MONO"):null,d.default.createElement(u.default,{ref:"ChannelSettingsModule",stripInfo:this.stripInfo,observableState:this.props.observableState})),d.default.createElement("div",{className:a},d.default.createElement("div",null,d.default.createElement("h3",{className:w.default.InputChannelLabel},"chan"===this.stripInfo.type?"Input Routing":"Output Routing"),d.default.createElement(o.Button,{ref:"confirmRouteButton",id:"confirmRouteButton",className:n,onClick:"chan"===this.stripInfo.type?this._onConfirmInputRouting:this._onConfirmOutputRoutings},"Confirm Routing")),d.default.createElement("div",{className:w.default.SelectorContainerOuter},d.default.createElement("div",{ref:"selectorContainer",className:"selectorContainer"}))))))}},{key:"renderFormatButton",value:function(){}},{key:"_onTouchStart",value:function(e){e.preventDefault()}},{key:"_onFormatValueChange",value:function(){this.observableState.init=!1;var e=!0;l.default.has(this.stripInfo.formatPath)&&(e="2"===l.default.get(this.stripInfo.formatPath).split(":")[0]),this.observableState.stereoEnabled=e;var t=this.removeMiniRoute,n=this.initMiniRoute;setTimeout(function(){t(),n()},250)}},{key:"_onSourceValueChange",value:function(){this.removeChangeListeners(),this.initPaths(this.stripInfo),this.addChangeListeners(),this.removeMiniRoute(),this.initMiniRoute()}},{key:"_onFormatChange",value:function(e){var t=this.stripInfo.num%2==0,n=t?this.stripInfo.num+1:this.stripInfo.num-1,r=new x.default(this.stripInfo.type+"/"+n),i=[];this.observableState.stereoEnabled?(i.push({path:this.stripInfo.formatPath,value:"1:0"}),i.push({path:r.formatPath,value:"1:0"})):(i.push({path:this.stripInfo.formatPath,value:"2:"+(t?"0":"1")}),i.push({path:r.formatPath,value:"2:"+(t?"1":"0")})),c.setMultiple(i),this.props.observableState.selectedStripInfo=t?this.stripInfo:r}},{key:"_onInputSelected",value:function(e,t){if(this.observableState.init){var n=-1,r=0;if(""!==e[0]){var i=e.toString().split("/");n=i[2],r=i[4]}if(NaN!==n&&void 0!==n&&NaN!==r&&void 0!==r&&void 0!==this.observableState){var o=(0,p.getStripSourceBnCn)(this.stripInfo),a=n+":"+r;(null!==o?o.bn+":"+o.cn:null)!==a?("-1:0"===a&&(a=""),this.observableState.stagedInputRoute=a,this.observableState.routeReady=1):(this.observableState.stagedInputRoute=null,this.observableState.routeReady=0)}}}},{key:"_onOutputSelected",value:function(e,t){if(this.observableState.init){var n=(0,p.getOutputChOBankPaths)(this.stripInfo);n=void 0==n||null==n?[]:n.sort();for(var r=[],i=0;i<e.length;i++){var o=-1,s=0;if(""!==e[i]){var l=e[i].toString().split("/");o=l[2],s=l[4],r.push("ext/obank/"+o+"/ch/"+s+"/src")}}r=r.filter(function(e,t){return r.indexOf(e)==t}).sort(),(0,a.default)(r,n)?(this.observableState.stagedOutputRoutes=null,this.observableState.routeReady=0):(this.observableState.stagedOutputRoutes=r,this.observableState.routeReady=1)}}},{key:"_onConfirmInputRouting",value:function(){if(this.observableState.routeReady&&null!==this.observableState.stagedInputRoute&&this.observableState.init){var e=this.observableState.stagedInputRoute.toString().split(":"),t=e[0],n=e[1];if(this.observableState.stereoEnabled){var r=[],i="";if(""!==this.observableState.stagedInputRoute){var o=parseInt(e[1]);i=o%2==0?o+1:o-1}e[1]=i.toString();var a={};a.path=(0,p.getMixerChOBankPath)(this.stripInfo)+"/src",a.value=this.observableState.stagedInputRoute,r.push(a);var s=e.join(":"),l={};l.path=(0,p.getMixerChOBankPath)((0,p.getOtherStereoChStripInfo)(this.stripInfo))+"/src",l.value=":"==s?"":s,r.push(l),c.setMultiple(r)}else c.setAny((0,p.getMixerChOBankPath)(this.stripInfo)+"/src",this.observableState.stagedInputRoute);this.observableState.bank=t,this.observableState.channel=n,this.observableState.routeReady=0,this.forceUpdate()}}},{key:"_onConfirmOutputRoutings",value:function(){if(this.observableState.routeReady&&null!==this.observableState.stagedOutputRoutes&&this.observableState.init){this.observableState.init=!1;var e=[],t=(0,p.getOutputChannelBnCn)(this.stripInfo);if(null!==t){var n=t.bn+":"+t.cn,r=t.bn+":"+(parseInt(t.cn)+1),i=(0,p.getOutputChOBankPaths)(this.stripInfo);if(void 0!==i&&null!==i){i=i.filter(function(e,t){return i.indexOf(e)==t}).sort();for(var o=0;o<i.length;o++)if(e.push({path:i[o],value:""}),this.observableState.stereoEnabled){var a=i[o].split("/"),s="ext/obank/"+a[2]+"/ch/"+(parseInt(a[4])+1)+"/src";e.push({path:s,value:""})}c.setMultiple(e)}e=[];for(o=0;o<this.observableState.stagedOutputRoutes.length;o++){var l=this.observableState.stagedOutputRoutes[o].split("/");if(e.push({path:this.observableState.stagedOutputRoutes[o],value:n}),this.observableState.stereoEnabled){var u="ext/obank/"+l[2]+"/ch/"+(parseInt(l[4])+1)+"/src";e.push({path:u,value:r})}var h=l[2],d=l[4],f=this._inputSelector.channels[h.toString()+":"+d.toString()].node;this._inputSelector.choose({bn:[h],cn:[d],chLi:f})}c.setMultiple(e),this.observableState.stagedOutputRoutes=null,this.observableState.routeReady=0,this.observableState.init=!0,this.forceUpdate()}}}}]),t}())||r;t.default=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(146)),a=(c(n(129)),c(n(0))),s=c(n(13)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(97)),u=(c(n(11)),n(9),c(n(60)),c(n(232)));n(83);function c(e){return e&&e.__esModule?e:{default:e}}var h=(0,n(12).observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._closeFocusChannel=n._closeFocusChannel.bind(n),n.props.observableState.formatGlideScope=new l.GlideScope({axis:"x",boundingNode:null}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),i(t,[{key:"componentDidMount",value:function(){this.props.observableState.formatGlideScope.boundingNode=s.default.findDOMNode(this.refs.container)}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return a.default.createElement("div",{ref:"container",className:u.default.MixerEffects},this.props.observableState.channels.map(function(e,t){return a.default.createElement(o.default,{stripInfo:e,observableState:this.props.observableState})},this))}},{key:"_closeFocusChannel",value:function(e){this.props.observableState.focusChannelVisible=!1}}]),t}())||r;t.default=h},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._1kra2_MixerFaders{position:relative;-webkit-transform:translateZ(0)}._33KMr_TopShadow{-webkit-box-shadow:0 -2px 2px 0 rgba(0,0,0,.5);-moz-box-shadow:0 -2px 2px 0 rgba(0,0,0,.5);box-shadow:0 -2px 2px 0 rgba(0,0,0,.5);-webkit-transform:translateZ(0)}",""]),t.locals={MixerFaders:"_1kra2_MixerFaders",TopShadow:"_33KMr_TopShadow"}},function(e,t,n){var r=n(269);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(131)),a=(c(n(6)),c(n(0))),s=c(n(13)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(97)),u=(n(83),c(n(270)));function c(e){return e&&e.__esModule?e:{default:e}}var h=(0,n(12).observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.props.observableState.muteGlideScope=new l.GlideScope({axis:"x",boundingNode:null}),n.props.observableState.soloGlideScope=new l.GlideScope({axis:"x",boundingNode:null}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),i(t,[{key:"componentDidMount",value:function(){this.props.observableState.muteGlideScope.boundingNode=s.default.findDOMNode(this.refs.container),this.props.observableState.soloGlideScope.boundingNode=s.default.findDOMNode(this.refs.container)}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){u.default;var e=this.props.observableState.auxMixer?u.default.MixerFaders+" "+u.default.TopShadow:u.default.MixerFaders;return a.default.createElement("div",{ref:"container",className:e},this.props.observableState.channels.map(function(e,t){return a.default.createElement(o.default,{stripInfo:e,observableState:this.props.observableState,faderPath:this.props.observableState.faderPath,panPath:this.props.observableState.panPath})},this))}}]),t}())||r;t.default=h},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,'._303jy_FaderStripContainer,._QhMI6_FaderStrip{display:inline-block;position:relative;vertical-align:bottom;border-style:none}._QhMI6_FaderStrip{width:106px;padding-left:2px;padding-right:2px;margin-top:-1px}._QhMI6_FaderStrip:before{left:0;-webkit-box-shadow:inset -2px 0 2px 0 rgba(0,0,0,.5);-moz-box-shadow:inset -2px 0 2px 0 rgba(0,0,0,.5);box-shadow:inset -2px 0 2px 0 rgba(0,0,0,.5)}._QhMI6_FaderStrip:after,._QhMI6_FaderStrip:before{position:absolute;top:0;bottom:0;content:" ";display:inline-block;width:2px}._QhMI6_FaderStrip:after{right:0;-webkit-box-shadow:inset 2px 0 2px 0 rgba(0,0,0,.5);-moz-box-shadow:inset 2px 0 2px 0 rgba(0,0,0,.5);box-shadow:inset 2px 0 2px 0 rgba(0,0,0,.5)}._3nlIv_InputFaderStrip{background-color:#303030}._2SlAn_OutputFaderStrip{background-color:#373737}._3nlIv_InputFaderStrip:after{background-color:#303030}._2SlAn_OutputFaderStrip:after{background-color:#373737}._3nlIv_InputFaderStrip:before{background-color:#303030}._2SlAn_OutputFaderStrip:before{background-color:#373737}._Moy8Y_FaderStripCell{padding:6px;position:relative}._BzJdN_MonitorStripContainer{padding:2px 0 1px;height:91px;position:relative;text-align:center}._2kjkI_MonitorStripCell{padding:3px 6px;position:relative;overflow:hidden}._rw2N4_FaderStripTextInput{font-family:Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;font-style:normal;font-variant:normal;font-size:12px;line-height:1em;font-weight:400;background-color:#131313;border:none;box-sizing:border-box;color:#fff;display:block;margin:0;text-align:center;width:100%;border-radius:0}._rw2N4_FaderStripTextInput::placeholder{color:#fff;opacity:1}._3y_so_GainTextContainer{height:31px}._3n_-R_GainTextInput{position:absolute;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);width:calc(100% - 12px)}._Dfn_o_FaderStripMeter{display:inline-block;float:left;width:44%;height:100%;text-align:center}._3g8sG_FaderStripFaderContainer{overflow:hidden}._21OJH_FaderStripFaderReadout{-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;-moz-background-clip:padding;-webkit-background-clip:padding-box;background-clip:padding-box;font-family:Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;font-style:normal;font-variant:normal;font-weight:400;font-size:12px;line-height:1em;width:100%;background-color:#1d1d20;color:#d7d7d7;margin-top:6px;padding:6px 0;text-align:center}._2QRgL_FaderStripPanContainer{height:20px}._2uH0s_TalkbackContainer{text-align:center;color:#348ee8}._2wdk2_PersonalAuxMixButtonContainer{margin-top:2px;margin-bottom:2px}._JV6cx_FaderStripNameCell{height:37px}._2x74E_FaderStripNameText{position:absolute;bottom:6px;left:6px;right:6px;width:94px;padding-top:6px;color:#348ee8}._3US8c_FaderStripNameTextMobile{font-family:Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;font-style:normal;font-variant:normal;font-size:12px;line-height:1em;width:100%;height:22px;font-weight:400;text-align:center;overflow-wrap:break-word;white-space:pre-wrap;word-break:break-all;padding:6px 0;background-color:#131313}._3O_M6_Invisible{visibility:hidden}._1esRk_Hidden{display:none}',""]),t.locals={FaderStripContainer:"_303jy_FaderStripContainer",FaderStrip:"_QhMI6_FaderStrip",InputFaderStrip:"_3nlIv_InputFaderStrip",OutputFaderStrip:"_2SlAn_OutputFaderStrip",FaderStripCell:"_Moy8Y_FaderStripCell",MonitorStripContainer:"_BzJdN_MonitorStripContainer",MonitorStripCell:"_2kjkI_MonitorStripCell",FaderStripTextInput:"_rw2N4_FaderStripTextInput",GainTextContainer:"_3y_so_GainTextContainer",GainTextInput:"_3n_-R_GainTextInput",FaderStripMeter:"_Dfn_o_FaderStripMeter",FaderStripFaderContainer:"_3g8sG_FaderStripFaderContainer",FaderStripFaderReadout:"_21OJH_FaderStripFaderReadout",FaderStripPanContainer:"_2QRgL_FaderStripPanContainer",TalkbackContainer:"_2uH0s_TalkbackContainer",PersonalAuxMixButtonContainer:"_2wdk2_PersonalAuxMixButtonContainer",FaderStripNameCell:"_JV6cx_FaderStripNameCell",FaderStripNameText:"_2x74E_FaderStripNameText",FaderStripNameTextMobile:"_3US8c_FaderStripNameTextMobile",Invisible:"_3O_M6_Invisible",Hidden:"_1esRk_Hidden"}},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._27ueb_Fader{position:relative;padding:0}._o6pFK_FaderTicks{position:absolute;left:0;top:0}._1pqTS_FaderTrack{background-color:#1a1a1a;height:100%;margin:0 auto;position:relative;width:4px}._1TiHA_FaderThumb{background:#282828;background:-webkit-linear-gradient(top,#676c6c,#282828);background:-o-linear-gradient(bottom,#676c6c,#282828);background:-moz-linear-gradient(bottom,#676c6c,#282828);background:linear-gradient(180deg,#676c6c,#282828);border:1px solid #131313;-webkit-box-shadow:-3px 3px 4px 1px rgba(1,1,1,.32);-moz-box-shadow:-3px 3px 4px 1px rgba(1,1,1,.32);box-shadow:-3px 3px 4px 1px rgba(1,1,1,.32);border-radius:2px;cursor:pointer;position:absolute;height:auto;top:0;z-index:1}._1KC36_FaderThumbTick{height:1px;border-top:1px solid rgba(0,0,0,.7);background-color:#fff}",""]),t.locals={Fader:"_27ueb_Fader",FaderTicks:"_o6pFK_FaderTicks",FaderTrack:"_1pqTS_FaderTrack",FaderThumb:"_1TiHA_FaderThumb",FaderThumbTick:"_1KC36_FaderThumbTick"}},function(e,t,n){var r=n(273);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,'._3a1oE_Slider{box-sizing:border-box;padding:8px 0;will-change:transform}._3Vl9f_Disabled{opacity:.25}._1uA5T_SliderTrack{touch-action:manipulation;background-color:#1a1a1a;position:relative;-webkit-box-shadow:inset 1px 1px 1px 0 #131313;-moz-box-shadow:inset 1px 1px 1px 0 #131313;box-shadow:inset 1px 1px 1px 0 #131313}._1uA5T_SliderTrack:after{content:"";position:absolute;top:-10px;bottom:-10px;left:-10px;right:-10px}._1Gsad_SliderThumbHorizontal{touch-action:pan-x;background:#373737;background:-webkit-linear-gradient(right,#4f4f4f,#414141);background:-o-linear-gradient(right,#4f4f4f,#414141);background:-moz-linear-gradient(right,#4f4f4f,#414141);background:linear-gradient(90deg,#4f4f4f,#414141);height:24px;left:0;top:-11px;width:15px;touch-action:none}._1Gsad_SliderThumbHorizontal,._2IIr1_SliderThumbVertical{border:1px solid #1f1f1f;-webkit-box-shadow:-2px 2px 4px 0 rgba(1,1,1,.7);-moz-box-shadow:-2px 2px 4px 0 rgba(1,1,1,.7);box-shadow:-2px 2px 4px 0 rgba(1,1,1,.7);border-radius:2px;cursor:pointer;position:absolute;z-index:1}._2IIr1_SliderThumbVertical{touch-action:pan-y;background:#373737;background:-webkit-linear-gradient(bottom,#4f4f4f,#414141);background:-o-linear-gradient(bottom,#4f4f4f,#414141);background:-moz-linear-gradient(bottom,#4f4f4f,#414141);background:linear-gradient(180deg,#4f4f4f,#414141);height:15px;left:-11px;top:0;width:24px}._EEbE8_Easing{-webkit-transition:all .2s ease-out;-moz-transition:all .2s ease-out;-ms-transition:all .2s ease-out;-o-transition:all .2s ease-out;transition:all .2s ease-out}',""]),t.locals={Slider:"_3a1oE_Slider",Disabled:"_3Vl9f_Disabled",SliderTrack:"_1uA5T_SliderTrack",SliderThumbHorizontal:"_1Gsad_SliderThumbHorizontal",SliderThumbVertical:"_2IIr1_SliderThumbVertical",Easing:"_EEbE8_Easing"}},function(e,t,n){var r=n(275);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return r.default.createElement(i.Slider,{className:s.default.Fader,direction:i.SliderDirection.VERTICAL,width:56,height:e.height,onChange:e.onChange,observableValues:e.observableValues,observableState:e.observableState,stateKey:e.stateKey,warpType:new o.FaderWarp,minValue:0,maxValue:4,anchorType:e.anchorType,color1:e.color1,color2:e.color2,showToolTip:e.showToolTip,toolTipContents:e.toolTipContents,onDoubleClick:void 0!==e.onDoubleClick?e.onDoubleClick:null},r.default.createElement(a.default,{className:s.default.FaderTicks,type:"fader-ticks",width:56,height:e.height}),r.default.createElement(i.SliderTrack,{trackWidth:4,className:s.default.FaderTrack},r.default.createElement(i.SliderThumb,{className:s.default.FaderThumb},r.default.createElement("div",{className:s.default.FaderThumbTick}))))};var r=l(n(0)),i=n(48),o=(n(9),n(58)),a=l(n(28)),s=l(n(274));function l(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(132),a=(r=o)&&r.__esModule?r:{default:r},s=n(79);var l={type:s.TYPE.DEFAULT,autoClose:null,closeButton:null,hideProgressBar:null,position:null,pauseOnHover:null,closeOnClick:null,className:null,bodyClassName:null,progressClassName:null,transition:null,updateId:null,draggable:null},u=null,c=[],h=0;function p(e,t){return i({},l,e,{type:t,toastId:++h})}function d(e,t){return null!==u?a.default.emit(s.ACTION.SHOW,e,t):c.push({action:s.ACTION.SHOW,content:e,options:t}),t.toastId}var f=i(function(e,t){return d(e,p(t,t&&t.type||s.TYPE.DEFAULT))},{success:function(e,t){return d(e,p(t,s.TYPE.SUCCESS))},info:function(e,t){return d(e,p(t,s.TYPE.INFO))},warn:function(e,t){return d(e,p(t,s.TYPE.WARNING))},warning:function(e,t){return d(e,p(t,s.TYPE.WARNING))},error:function(e,t){return d(e,p(t,s.TYPE.ERROR))},dismiss:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return u&&a.default.emit(s.ACTION.CLEAR,e)},isActive:function(){return!1},update:function(e,t){setTimeout(function(){if(u&&void 0!==u.collection[e]){var n=u.collection[e],r=n.options,o=n.content,a=null!==r.updateId?r.updateId+1:1,s=i({},r,t,{toastId:e,updateId:a}),l=void 0!==s.render?s.render:o;delete s.render,d(l,s)}},0)},onChange:function(e){"function"==typeof e&&a.default.on(s.ACTION.ON_CHANGE,e)}},{POSITION:s.POSITION,TYPE:s.TYPE});a.default.on(s.ACTION.MOUNTED,function(e){u=e,f.isActive=function(e){return u.isToastActive(e)},c.forEach(function(e){a.default.emit(e.action,e.content,e.options)}),c=[]}),t.default=f},function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0,t.transitionTimeout=function(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}};var r,i=n(98),o=(r=i)&&r.__esModule?r:{default:r};t.timeoutsShape=o.default.oneOfType([o.default.number,o.default.shape({enter:o.default.number,exit:o.default.number}).isRequired]),t.classNamesShape=o.default.oneOfType([o.default.string,o.default.shape({enter:o.default.string,exit:o.default.string,active:o.default.string}),o.default.shape({enter:o.default.string,enterDone:o.default.string,enterActive:o.default.string,exit:o.default.string,exitDone:o.default.string,exitActive:o.default.string})])},function(e,t,n){"use strict";t.__esModule=!0,t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(98)),i=a(n(0)),o=a(n(13));n(279);function a(e){return e&&e.__esModule?e:{default:e}}var s=t.UNMOUNTED="unmounted",l=t.EXITED="exited",u=t.ENTERING="entering",c=t.ENTERED="entered",h=t.EXITING="exiting",p=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r)),o=r.transitionGroup,a=o&&!o.isMounting?n.enter:n.appear,h=void 0;return i.nextStatus=null,n.in?a?(h=l,i.nextStatus=u):h=c:h=n.unmountOnExit||n.mountOnEnter?s:l,i.state={status:h},i.nextCallback=null,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{transitionGroup:null}},t.prototype.componentDidMount=function(){this.updateStatus(!0)},t.prototype.componentWillReceiveProps=function(e){var t=(this.pendingState||this.state).status;e.in?(t===s&&this.setState({status:l}),t!==u&&t!==c&&(this.nextStatus=u)):t!==u&&t!==c||(this.nextStatus=h)},t.prototype.componentDidUpdate=function(){this.updateStatus()},t.prototype.componentWillUnmount=function(){this.cancelNextCallback()},t.prototype.getTimeouts=function(){var e=this.props.timeout,t=void 0,n=void 0,r=void 0;return t=n=r=e,null!=e&&"number"!=typeof e&&(t=e.exit,n=e.enter,r=e.appear),{exit:t,enter:n,appear:r}},t.prototype.updateStatus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.nextStatus;if(null!==t){this.nextStatus=null,this.cancelNextCallback();var n=o.default.findDOMNode(this);t===u?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===l&&this.setState({status:s})},t.prototype.performEnter=function(e,t){var n=this,r=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,o=this.getTimeouts();t||r?(this.props.onEnter(e,i),this.safeSetState({status:u},function(){n.props.onEntering(e,i),n.onTransitionEnd(e,o.enter,function(){n.safeSetState({status:c},function(){n.props.onEntered(e,i)})})})):this.safeSetState({status:c},function(){n.props.onEntered(e)})},t.prototype.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:h},function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,function(){t.safeSetState({status:l},function(){t.props.onExited(e)})})})):this.safeSetState({status:l},function(){t.props.onExited(e)})},t.prototype.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},t.prototype.safeSetState=function(e,t){var n=this;this.pendingState=e,t=this.setNextCallback(t),this.setState(e,function(){n.pendingState=null,t()})},t.prototype.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},t.prototype.onTransitionEnd=function(e,t,n){this.setNextCallback(n),e?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},t.prototype.render=function(){var e=this.state.status;if(e===s)return null;var t=this.props,n=t.children,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"==typeof n)return n(e,r);var o=i.default.Children.only(n);return i.default.cloneElement(o,r)},t}(i.default.Component);function d(){}p.contextTypes={transitionGroup:r.object},p.childContextTypes={transitionGroup:function(){}},p.propTypes={},p.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:d,onEntering:d,onEntered:d,onExit:d,onExiting:d,onExited:d},p.UNMOUNTED=0,p.EXITED=1,p.ENTERING=2,p.ENTERED=3,p.EXITING=4,t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),i=o(n(49));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.closeToast,n=e.type,i=e.ariaLabel;return r.default.createElement("button",{className:"Toastify__close-button Toastify__close-button--"+n,type:"button",onClick:t,"aria-label":i},"✖")}a.propTypes={closeToast:i.default.func,arialLabel:i.default.string},a.defaultProps={ariaLabel:"close"},t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),i=s(n(49)),o=s(n(11)),a=n(79);function s(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.delay,n=e.isRunning,i=e.closeToast,a=e.type,s=e.hide,l=e.className,u=e.rtl,c={animationDuration:t+"ms",animationPlayState:n?"running":"paused",opacity:s?0:1},h=(0,o.default)("Toastify__progress-bar","Toastify__progress-bar--"+a,{"Toastify__progress-bar--rtl":u},l);return r.default.createElement("div",{className:h,style:c,onAnimationEnd:i})}l.propTypes={delay:i.default.number.isRequired,isRunning:i.default.bool.isRequired,closeToast:i.default.func.isRequired,rtl:i.default.bool.isRequired,type:i.default.string,hide:i.default.bool,className:i.default.oneOfType([i.default.string,i.default.object])},l.defaultProps={type:a.TYPE.DEFAULT,hide:!1},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=p(o),s=p(n(49)),l=p(n(11)),u=p(n(282)),c=n(79),h=n(135);function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}var v=function(){},m=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={isRunning:!0,preventExitTransition:!1},r.flag={canCloseOnClick:!0,canDrag:!1},r.drag={start:0,x:0,y:0,deltaX:0,removalDistance:0},r.ref=null,r.pauseToast=function(){r.setState({isRunning:!1})},r.playToast=function(){r.setState({isRunning:!0})},r.onDragStart=function(e){r.flag.canCloseOnClick=!0,r.flag.canDrag=!0,r.ref.style.transition="",r.drag.start=r.drag.x=f(e.nativeEvent),r.drag.removalDistance=r.ref.offsetWidth*(r.props.draggablePercent/100)},r.onDragMove=function(e){r.flag.canDrag&&(r.state.isRunning&&r.pauseToast(),r.drag.x=f(e),r.drag.deltaX=r.drag.x-r.drag.start,r.drag.start!==r.drag.x&&(r.flag.canCloseOnClick=!1),r.ref.style.transform="translateX("+r.drag.deltaX+"px)",r.ref.style.opacity=1-Math.abs(r.drag.deltaX/r.drag.removalDistance))},r.onDragEnd=function(e){if(r.flag.canDrag){if(r.flag.canDrag=!1,Math.abs(r.drag.deltaX)>r.drag.removalDistance)return void r.setState({preventExitTransition:!0},r.props.closeToast);r.drag.y=function(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}(e),r.ref.style.transition="transform 0.2s, opacity 0.2s",r.ref.style.transform="translateX(0)",r.ref.style.opacity=1}},r.onDragTransitionEnd=function(){var e=r.ref.getBoundingClientRect(),t=e.top,n=e.bottom,i=e.left,o=e.right;r.props.pauseOnHover&&r.drag.x>=i&&r.drag.x<=o&&r.drag.y>=t&&r.drag.y<=n?r.pauseToast():r.playToast()},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),i(t,[{key:"componentDidMount",value:function(){this.props.onOpen(this.props.children.props),this.props.draggable&&this.bindDragEvents()}},{key:"bindDragEvents",value:function(){document.addEventListener("mousemove",this.onDragMove),document.addEventListener("mouseup",this.onDragEnd),document.addEventListener("touchmove",this.onDragMove),document.addEventListener("touchend",this.onDragEnd)}},{key:"unbindDragEvents",value:function(){document.removeEventListener("mousemove",this.onDragMove),document.removeEventListener("mouseup",this.onDragEnd),document.removeEventListener("touchmove",this.onDragMove),document.removeEventListener("touchend",this.onDragEnd)}},{key:"componentDidUpdate",value:function(e){e.draggable!==this.props.draggable&&(this.props.draggable?this.bindDragEvents():this.unbindDragEvents())}},{key:"componentWillUnmount",value:function(){this.props.onClose(this.props.children.props),this.props.draggable&&this.unbindDragEvents()}},{key:"render",value:function(){var e=this,t=this.props,n=t.closeButton,i=t.children,o=t.autoClose,s=t.pauseOnHover,c=t.closeOnClick,h=t.type,p=t.hideProgressBar,d=t.closeToast,f=t.transition,v=t.position,m=t.onExited,g=t.className,b=t.bodyClassName,y=t.progressClassName,C=t.updateId,x=t.role,_=t.rtl,w={className:(0,l.default)("Toastify__toast","Toastify__toast--"+h,{"Toastify__toast--rtl":_},g)};return o&&s&&(w.onMouseEnter=this.pauseToast,w.onMouseLeave=this.playToast),c&&(w.onClick=function(){return e.flag.canCloseOnClick&&d()}),a.default.createElement(f,{in:this.props.in,appear:!0,unmountOnExit:!0,onExited:m,position:v,preventExitTransition:this.state.preventExitTransition},a.default.createElement("div",r({},w,{ref:function(t){return e.ref=t},onMouseDown:this.onDragStart,onTouchStart:this.onDragStart,onTransitionEnd:this.onDragTransitionEnd}),a.default.createElement("div",r({},this.props.in&&{role:x},{className:(0,l.default)("Toastify__toast-body",b)}),i),!1!==n&&n,!1!==o&&a.default.createElement(u.default,r({},C?{key:"pb-"+C}:{},{rtl:_,delay:o,isRunning:this.state.isRunning,closeToast:d,hide:p,type:h,className:y}))))}}]),t}();m.propTypes={closeButton:h.falseOrElement.isRequired,autoClose:h.falseOrDelay.isRequired,children:s.default.node.isRequired,closeToast:s.default.func.isRequired,position:s.default.oneOf((0,h.objectValues)(c.POSITION)).isRequired,pauseOnHover:s.default.bool.isRequired,closeOnClick:s.default.bool.isRequired,transition:s.default.func.isRequired,isDocumentHidden:s.default.bool.isRequired,rtl:s.default.bool.isRequired,hideProgressBar:s.default.bool.isRequired,draggable:s.default.bool.isRequired,draggablePercent:s.default.number.isRequired,in:s.default.bool,onExited:s.default.func,onOpen:s.default.func,onClose:s.default.func,type:s.default.oneOf((0,h.objectValues)(c.TYPE)),className:s.default.oneOfType([s.default.string,s.default.object]),bodyClassName:s.default.oneOfType([s.default.string,s.default.object]),progressClassName:s.default.oneOfType([s.default.string,s.default.object]),updateId:s.default.number,ariaLabel:s.default.string},m.defaultProps={type:c.TYPE.DEFAULT,in:!0,onOpen:v,onClose:v,className:null,bodyClassName:null,progressClassName:null,updateId:null,role:"alert"},t.default=m},function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=function(e,t){var n=Object.create(null);e&&r.Children.map(e,function(e){return e}).forEach(function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)});return n},t.mergeChildMappings=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r=Object.create(null),i=[];for(var o in e)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var a=void 0,s={};for(var l in t){if(r[l])for(a=0;a<r[l].length;a++){var u=r[l][a];s[r[l][a]]=n(u)}s[l]=n(l)}for(a=0;a<i.length;a++)s[i[a]]=n(i[a]);return s};var r=n(0)},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=n(94),i=n(73),o=n(285);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=l(n(98)),o=n(0),a=l(o),s=n(284);function l(e){return e&&e.__esModule?e:{default:e}}var u=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},c=(i.default.any,i.default.node,i.default.bool,i.default.bool,i.default.bool,i.default.func,function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return i.state={children:(0,s.getChildMapping)(n.children,function(e){return(0,o.cloneElement)(e,{onExited:i.handleExited.bind(i,e),in:!0,appear:i.getProp(e,"appear"),enter:i.getProp(e,"enter"),exit:i.getProp(e,"exit")})})},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},t.prototype.getProp=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.props;return null!=n[t]?n[t]:e.props[t]},t.prototype.componentDidMount=function(){this.appeared=!0},t.prototype.componentWillReceiveProps=function(e){var t=this,n=this.state.children,r=(0,s.getChildMapping)(e.children),i=(0,s.mergeChildMappings)(n,r);Object.keys(i).forEach(function(a){var s=i[a];if((0,o.isValidElement)(s)){var l=a in n,u=a in r,c=n[a],h=(0,o.isValidElement)(c)&&!c.props.in;!u||l&&!h?u||!l||h?u&&l&&(0,o.isValidElement)(c)&&(i[a]=(0,o.cloneElement)(s,{onExited:t.handleExited.bind(t,s),in:c.props.in,exit:t.getProp(s,"exit",e),enter:t.getProp(s,"enter",e)})):i[a]=(0,o.cloneElement)(s,{in:!1}):i[a]=(0,o.cloneElement)(s,{onExited:t.handleExited.bind(t,s),in:!0,exit:t.getProp(s,"exit",e),enter:t.getProp(s,"enter",e)})}}),this.setState({children:i})},t.prototype.handleExited=function(e,t){var n=(0,s.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.setState(function(t){var n=r({},t.children);return delete n[e.key],{children:n}}))},t.prototype.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["component","childFactory"]),i=u(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?i:a.default.createElement(t,r,i)},t}(a.default.Component));c.childContextTypes={transitionGroup:i.default.object.isRequired},c.propTypes={},c.defaultProps={component:"div",childFactory:function(e){return e}},t.default=c,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),s=g(a),l=g(n(49)),u=g(n(11)),c=g(n(287)),h=g(n(283)),p=g(n(281)),d=n(134),f=n(79),v=g(n(132)),m=n(135);function g(e){return e&&e.__esModule?e:{default:e}}function b(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={toast:[],isDocumentHidden:!1},r.collection={},r.isToastActive=function(e){return-1!==r.state.toast.indexOf(parseInt(e,10))},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),o(t,[{key:"componentDidMount",value:function(){var e=this,t=f.ACTION.SHOW,n=f.ACTION.CLEAR,r=f.ACTION.MOUNTED;v.default.on(t,function(t,n){return e.show(t,n)}).on(n,function(t){return null!==t?e.removeToast(t):e.clear()}).emit(r,this)}},{key:"componentWillUnmount",value:function(){v.default.off(f.ACTION.SHOW),v.default.off(f.ACTION.CLEAR)}},{key:"removeToast",value:function(e){this.setState({toast:this.state.toast.filter(function(t){return t!==parseInt(e,10)})},this.dispatchChange)}},{key:"dispatchChange",value:function(){v.default.emit(f.ACTION.ON_CHANGE,this.state.toast.length)}},{key:"makeCloseButton",value:function(e,t,n){var r=this,i=this.props.closeButton;return((0,a.isValidElement)(e)||!1===e)&&(i=e),!1!==i&&(0,a.cloneElement)(i,{closeToast:function(){return r.removeToast(t)},type:n})}},{key:"getAutoCloseDelay",value:function(e){return!1===e||(0,m.isValidDelay)(e)?e:this.props.autoClose}},{key:"canBeRendered",value:function(e){return(0,a.isValidElement)(e)||"string"==typeof e||"number"==typeof e||"function"==typeof e}},{key:"parseClassName",value:function(e){return"string"==typeof e?e:null!==e&&"object"===(void 0===e?"undefined":i(e))&&"toString"in e?e.toString():null}},{key:"show",value:function(e,t){var n=this;if(!this.canBeRendered(e))throw new Error("The element you provided cannot be rendered. You provided an element of type "+(void 0===e?"undefined":i(e)));var o,s,l,u=t.toastId,c=function(){return n.removeToast(u)},h={id:u,type:t.type,closeToast:c,updateId:t.updateId,rtl:this.props.rtl,position:t.position||this.props.position,transition:t.transition||this.props.transition,className:this.parseClassName(t.className||this.props.toastClassName),bodyClassName:this.parseClassName(t.bodyClassName||this.props.bodyClassName),closeButton:this.makeCloseButton(t.closeButton,u,t.type),pauseOnHover:null!==t.pauseOnHover?t.pauseOnHover:this.props.pauseOnHover,draggable:null!==t.draggable?t.draggable:this.props.draggable,draggablePercent:null!==t.draggable?t.draggablePercent:this.props.draggablePercent,closeOnClick:null!==t.closeOnClick?t.closeOnClick:this.props.closeOnClick,progressClassName:this.parseClassName(t.progressClassName||this.props.progressClassName),autoClose:this.getAutoCloseDelay(!1!==t.autoClose?parseInt(t.autoClose,10):t.autoClose),hideProgressBar:"boolean"==typeof t.hideProgressBar?t.hideProgressBar:this.props.hideProgressBar};"function"==typeof t.onOpen&&(h.onOpen=t.onOpen),"function"==typeof t.onClose&&(h.onClose=t.onClose),(0,a.isValidElement)(e)&&"string"!=typeof e.type&&"number"!=typeof e.type?e=(0,a.cloneElement)(e,{closeToast:c}):"function"==typeof e&&(e=e({closeToast:c})),this.collection=r({},this.collection,(o={},s=u,l={position:h.position,options:h,content:e},s in o?Object.defineProperty(o,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[s]=l,o)),this.setState({toast:null!==h.updateId?[].concat(b(this.state.toast)):[].concat(b(this.state.toast),[u])},this.dispatchChange)}},{key:"makeToast",value:function(e,t){return s.default.createElement(h.default,r({},t,{isDocumentHidden:this.state.isDocumentHidden,key:"toast-"+t.id}),e)}},{key:"clear",value:function(){this.setState({toast:[]})}},{key:"renderToast",value:function(){var e=this,t={},n=this.props,i=n.className,o=n.style;return(n.newestOnTop?Object.keys(this.collection).reverse():Object.keys(this.collection)).forEach(function(n){var r=e.collection[n];t[r.position]||(t[r.position]=[]),-1!==e.state.toast.indexOf(parseInt(n,10))?t[r.position].push(e.makeToast(r.content,r.options)):(t[r.position].push(null),delete e.collection[n])}),Object.keys(t).map(function(n){var a=1===t[n].length&&null===t[n][0],l={className:(0,u.default)("Toastify__toast-container","Toastify__toast-container--"+n,{"Toastify__toast-container--rtl":e.props.rtl},e.parseClassName(i)),style:a?r({},o,{pointerEvents:"none"}):r({},o)};return s.default.createElement(c.default,r({},l,{key:"container-"+n}),t[n])})}},{key:"render",value:function(){return s.default.createElement("div",{className:"Toastify"},this.renderToast())}}]),t}();C.propTypes={position:l.default.oneOf((0,m.objectValues)(f.POSITION)),autoClose:m.falseOrDelay,closeButton:m.falseOrElement,hideProgressBar:l.default.bool,pauseOnHover:l.default.bool,closeOnClick:l.default.bool,newestOnTop:l.default.bool,className:l.default.oneOfType([l.default.string,l.default.object]),style:l.default.object,toastClassName:l.default.oneOfType([l.default.string,l.default.object]),bodyClassName:l.default.oneOfType([l.default.string,l.default.object]),progressClassName:l.default.oneOfType([l.default.string,l.default.object]),transition:l.default.func,rtl:l.default.bool,draggable:l.default.bool,draggablePercent:l.default.number,pauseOnVisibilityChange:l.default.bool},C.defaultProps={position:f.POSITION.TOP_RIGHT,transition:d.Bounce,rtl:!1,pauseOnVisibilityChange:!0,autoClose:5e3,hideProgressBar:!1,closeButton:s.default.createElement(p.default,null),pauseOnHover:!0,closeOnClick:!0,newestOnTop:!1,draggable:!0,draggablePercent:80,className:null,style:null,toastClassName:null,bodyClassName:null,progressClassName:null},t.default=C},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,'._1KXxH_EffectsStrip{border:none;display:inline-block;width:106px;padding-left:2px;padding-right:2px;margin-bottom:-1px;position:relative;vertical-align:top}._1KXxH_EffectsStrip:before{left:0;-webkit-box-shadow:inset -2px 0 2px 0 rgba(0,0,0,.5);-moz-box-shadow:inset -2px 0 2px 0 rgba(0,0,0,.5);box-shadow:inset -2px 0 2px 0 rgba(0,0,0,.5)}._1KXxH_EffectsStrip:after,._1KXxH_EffectsStrip:before{position:absolute;top:0;bottom:0;content:" ";display:inline-block;width:2px}._1KXxH_EffectsStrip:after{right:0;background-color:#303030;-webkit-box-shadow:inset 2px 0 2px 0 rgba(0,0,0,.5);-moz-box-shadow:inset 2px 0 2px 0 rgba(0,0,0,.5);box-shadow:inset 2px 0 2px 0 rgba(0,0,0,.5)}._3M-IZ_InputEffectsStrip{background-color:#303030}._2ybCM_OutputEffectsStrip{background-color:#373737}._3M-IZ_InputEffectsStrip:after,._3M-IZ_InputEffectsStrip:before{background-color:#303030}._2ybCM_OutputEffectsStrip:after,._2ybCM_OutputEffectsStrip:before{background-color:#373737}._3aHNl_EffectsStripCell{padding:6px;cursor:pointer}._3JnHr_EffectsStripThumbnailHeader{font-family:Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;font-style:normal;font-variant:normal;font-weight:400;font-size:10px;line-height:17px;color:#d7d7d7;padding:0 0 4px}._2EerQ_EffectsStripThumbnail{display:block;line-height:0;height:60px;width:94px}._Hwnro_SoloClearButton{margin-bottom:5px}._3lDTA_ToastContent{width:50%;margin-left:auto;margin-right:auto}._2BAjw_ToastText{font-family:Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;font-style:normal;font-variant:normal;font-weight:400;font-size:12px;line-height:1em;color:#fff}._6fqgt_Inline{width:auto;display:inline-block}._RewKt_Invisible{visibility:hidden}._3Eh1D_Hidden{display:none}',""]),t.locals={EffectsStrip:"_1KXxH_EffectsStrip",InputEffectsStrip:"_3M-IZ_InputEffectsStrip",OutputEffectsStrip:"_2ybCM_OutputEffectsStrip",EffectsStripCell:"_3aHNl_EffectsStripCell",EffectsStripThumbnailHeader:"_3JnHr_EffectsStripThumbnailHeader",EffectsStripThumbnail:"_2EerQ_EffectsStripThumbnail",SoloClearButton:"_Hwnro_SoloClearButton",ToastContent:"_3lDTA_ToastContent",ToastText:"_2BAjw_ToastText",Inline:"_6fqgt_Inline",Invisible:"_RewKt_Invisible",Hidden:"_3Eh1D_Hidden"}},function(e,t,n){var r=n(289);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(9),a=n(62),s=p(n(6)),l=p(n(42)),u=p(n(43)),c=(p(n(19)),n(26)),h=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(35)),n(4));function p(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=Math.random().toString(36).substring(7),this.path=t.path,this.meterIndex=u.default.getMeterIndex("level",t.stripInfo.type,t.stripInfo.num),this.drawMeters=t.drawMeters,this.notify=t.notify,this.xMin=t.xMin,this.xMax=t.xMax,this.yMin=t.yMin,this.yMax=t.yMax,this.draw=this.draw.bind(this),this._onEnabledValueChange=this._onEnabledValueChange.bind(this),this._onFaderValueChange=this._onFaderValueChange.bind(this),this._onPreDelayValueChange=this._onPreDelayValueChange.bind(this),this._onReverbTimeValueChange=this._onReverbTimeValueChange.bind(this),this._onMeterChange=this._onMeterChange.bind(this),this.observableState=(0,h.observable)({enabled:!0,fader:0,reverbTime:0,mod:0,preDelay:0,tailSpread:0,mf:0,mfratio:0,hf:0,hfratio:0,meterLevel:0}),this.paths={enable:t.stripInfo.basePath+"/reverb/enable",fader:t.stripInfo.basePath+"/matrix/fader",reverbtime:t.stripInfo.basePath+"/reverb/reverbtime",mod:t.stripInfo.basePath+"/reverb/mod",predelay:t.stripInfo.basePath+"/reverb/predelay",tailspread:t.stripInfo.basePath+"/reverb/tailspread",mf:t.stripInfo.basePath+"/reverb/mf",mfratio:t.stripInfo.basePath+"/reverb/mfratio",hf:t.stripInfo.basePath+"/reverb/hf",hfratio:t.stripInfo.basePath+"/reverb/hfratio"},s.default.addChangeListener(this.id,this._onEnabledValueChange,this.paths.enable),s.default.addChangeListener(this.id,this._onFaderValueChange,this.paths.fader),s.default.addChangeListener(this.id,this._onPreDelayValueChange,this.paths.predelay),s.default.addChangeListener(this.id,this._onReverbTimeValueChange,this.paths.reverbtime),l.default.addChangeListener(this._onMeterChange)}return i(e,[{key:"destructor",value:function(){s.default.removeChangeListener(this.id,this._onEnabledValueChange,this.paths.enable),s.default.removeChangeListener(this.id,this._onFaderValueChange,this.paths.fader),s.default.removeChangeListener(this.id,this._onPreDelayValueChange,this.paths.predelay),s.default.removeChangeListener(this.id,this._onReverbTimeValueChange,this.paths.reverbtime),l.default.removeChangeListener(this._onMeterChange)}},{key:"draw",value:function(e){var t=this._getPoints(),n=t.p0,r=t.p1,i=t.p2;this._drawFill(e,n,r,i),this._drawCurve(e,n,r,i)}},{key:"_onEnabledValueChange",value:function(){var e=!!s.default.get(this.paths.enable);this.observableState.enabled=e,this.notify()}},{key:"_onFaderValueChange",value:function(){var e=s.default.get(this.paths.fader);this.observableState.fader=(0,c.mag2db)(e),this.notify()}},{key:"_onPreDelayValueChange",value:function(){var e=s.default.get(this.paths.predelay);this.observableState.preDelay=e,this.notify()}},{key:"_onReverbTimeValueChange",value:function(){var e=s.default.get(this.paths.reverbtime);this.observableState.reverbTime=e,this.notify()}},{key:"_onMeterChange",value:function(){var e=l.default.get("mix/level");if(this.observableState.enabled&&"object"===(void 0===e?"undefined":r(e))&&null!==e&&0!==e.length){var t=(0,c.db2mag)(this.observableState.fader),n=(0,c.mag2db)(e[0][this.meterIndex]/1e3*t);n!==this.observableState.meterLevel&&(this.observableState.meterLevel=n,this.observableState.enabled&&this.drawMeters&&this.notify())}}},{key:"_getPoints",value:function(){var e=this.observableState.fader,t=this.observableState.preDelay,n=this.observableState.reverbTime;return{p0:{x:t,y:this.yMin},p1:{x:t,y:e},p2:{x:n+t,y:this.yMin}}}},{key:"_drawCurve",value:function(e,t,n,r){var i=this.observableState.enabled?o.Colors.reverb:o.Colors.gray;e.beginPath(i),e.moveTo(t.x,t.y),e.lineTo(n.x,n.y),e.quadraticCurveTo(r.x,r.y,t.x,t.y),e.stroke()}},{key:"_drawFill",value:function(e,t,n,r){var i=this.observableState.meterLevel;if(this.drawMeters&&this.observableState.enabled&&!(i<this.yMin)){var s=this.observableState.enabled?o.Colors.reverb:o.Colors.gray;e.beginPath((0,a.hex2rgba)(s,.2)),e.moveTo(t.x,t.y),e.lineTo(n.x,i),e.quadraticCurveTo(r.x,r.y,t.x,t.y),e.lineTo(t.x,t.y),e.fill()}}}]),e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(31)),l(n(137))),a=l(n(25)),s=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"drawLabels",value:function(){return!1}},{key:"render",value:function(){return s.default.createElement(a.default,{className:this.props.className},i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setGridEnabled",this).call(this,!1),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this))}},{key:"_canvasMouseMove",value:function(e){this.CANVAS.style.cursor="pointer"}}]),t}();t.default=u},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._hQx_T_SendsThumbnail{position:relative}._3YKGQ_TalkbackIconContainer{position:absolute;left:0;top:0;z-index:2}._2miSm_PlotContainer{position:absolute;left:0;top:0;z-index:1}",""]),t.locals={SendsThumbnail:"_hQx_T_SendsThumbnail",TalkbackIconContainer:"_3YKGQ_TalkbackIconContainer",PlotContainer:"_2miSm_PlotContainer"}},function(e,t,n){var r=n(293);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=m(n(29)),a=m(n(6)),s=m(n(25)),l=(m(n(28)),m(n(59))),u=m(n(0)),c=n(9),h=(m(n(145)),n(20),m(n(60)),m(n(17))),p=n(58),d=n(12),f=n(4),v=m(n(294));function m(e){return e&&e.__esModule?e:{default:e}}var g=(0,d.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.id=Math.random().toString(36).substring(7),n.addChangeListeners=n.addChangeListeners.bind(n),n.removeChangeListeners=n.removeChangeListeners.bind(n),n.initPaths=n.initPaths.bind(n),n._onSendValueChange=n._onSendValueChange.bind(n),n._onTalkbackChanChanged=n._onTalkbackChanChanged.bind(n),n._getSendValues=n._getSendValues.bind(n),n._draw=n._draw.bind(n),n.initPaths(e.stripInfo),n.faderWarp=new p.FaderWarp,void 0!==a.default.getBankForMixerStripType&&(n.auxIBank=a.default.getBankForMixerStripType("aux").split("/")[2],n.groupIBank=a.default.getBankForMixerStripType("group").split("/")[2],n.reverbIBank=a.default.getBankForMixerStripType("reverb").split("/")[2],n.mainIBank=a.default.getBankForMixerStripType("main").split("/")[2],n.auxcalcCh=a.default.get("ext/ibank/"+n.auxIBank+"/calcCh"),n.groupcalcCh=a.default.get("ext/ibank/"+n.groupIBank+"/calcCh"),n.reverbcalcCh=a.default.get("ext/ibank/"+n.reverbIBank+"/calcCh"),n.maincalcCh=a.default.get("ext/ibank/"+n.mainIBank+"/calcCh")),n.talkbackControls=a.default.getControlsFromPath("mix/ctrls/talkback","mix"),n.observableState=(0,f.observable)({scale:1,talkbackEnabled:!1}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default.Component),i(t,[{key:"componentDidMount",value:function(){this.addChangeListeners("aux",this.auxcalcCh),this.addChangeListeners("group",this.groupcalcCh),this.addChangeListeners("reverb",this.reverbcalcCh),this.addChangeListeners("main",this.maincalcCh),a.default.addChangeListener(this.id,this._onTalkbackChanChanged,this.talkbackControls.chan.valuePath),o.default.queue(this._draw)}},{key:"componentWillUnmount",value:function(){this.removeChangeListeners("aux",this.auxcalcCh),this.removeChangeListeners("group",this.groupcalcCh),this.removeChangeListeners("reverb",this.reverbcalcCh),this.removeChangeListeners("main",this.maincalcCh),a.default.removeChangeListener(this.id,this._onTalkbackChanChanged,this.talkbackControls.chan.valuePath)}},{key:"componentWillReceiveProps",value:function(e){this.removeChangeListeners("aux",this.auxcalcCh),this.removeChangeListeners("group",this.groupcalcCh),this.removeChangeListeners("reverb",this.reverbcalcCh),this.removeChangeListeners("main",this.maincalcCh),this.initPaths(e.stripInfo),this.addChangeListeners("aux",this.auxcalcCh),this.addChangeListeners("group",this.groupcalcCh),this.addChangeListeners("reverb",this.reverbcalcCh),this.addChangeListeners("main",this.maincalcCh),o.default.queue(this._draw)}},{key:"initPaths",value:function(e){this.mixPath=e.basePath}},{key:"addChangeListeners",value:function(e,t){for(var n=0;n<t;n++){var r=new h.default(e+"/"+n),i="2:1";a.default.has(r.formatPath)&&(i=a.default.get(r.formatPath));var o="2"===i.split(":")[0],s=""+e+n+"Level",l=this.mixPath+"/matrix/"+e+"/"+n+"/send";if(a.default.has(l)){var u=this.faderWarp.warp(a.default.get(l));if(this.observableState.hasOwnProperty(s))this.observableState[s]=u;else{var c={};c[s]=u,(0,f.extendObservable)(this.observableState,c)}a.default.addChangeListener(this.id,this._onSendValueChange,l)}o&&n++}}},{key:"removeChangeListeners",value:function(e,t){for(var n=0;n<t;n++){var r=new h.default(e+"/"+n),i="2:1";a.default.has(r.formatPath)&&(i=a.default.get(r.formatPath));var o="2"===i.split(":")[0],s=this.mixPath+"/matrix/"+e+"/"+n+"/send";a.default.has(s)&&a.default.removeChangeListener(this.id,this._onSendValueChange,s),o&&n++}}},{key:"_onSendValueChange",value:function(e){if(void 0!==e){var t=e.split("/"),n=""+t[4]+t[5]+"Level",r=a.default.get(e);this.observableState[n]!==r&&(this.observableState[n]=this.faderWarp.warp(r),o.default.queue(this._draw))}}},{key:"_onTalkbackChanChanged",value:function(){a.default.get(this.talkbackControls.chan.valuePath)==this.props.stripInfo.num&&"chan"==this.props.stripInfo.type?this.observableState.talkbackEnabled=!0:this.observableState.talkbackEnabled=!1}},{key:"render",value:function(){return u.default.createElement(s.default,{className:this.props.className},u.default.createElement("div",{className:v.default.SendsThumbnail},u.default.createElement("div",{style:{width:this.props.width,height:this.props.height},className:v.default.PlotContainer},u.default.createElement(l.default,{ref:"plot",width:this.props.width,height:this.props.height,xAxis:{min:0,max:1,scale:function(e){return e},ticks:[],labels:null},yAxis:{min:0,max:1,scale:function(e){return e},ticks:[],labels:null}}))))}},{key:"_getSendValues",value:function(e,t){for(var n=[],r=0;r<this.auxcalcCh;r++){var i=new h.default(e+"/"+r),o="2:1";a.default.has(i.formatPath)&&(o=a.default.get(i.formatPath));var s="2"===o.split(":")[0],l=""+e+r+"Level",u=this.observableState[l];void 0!==u&&n.push({type:e,value:u}),s&&r++}return n}},{key:"_draw",value:function(){if(void 0!==this.refs.plot){var e=this.refs.plot.getCanvas(),t=this._getSendValues("aux",this.auxcalcCh),n=this._getSendValues("group",this.groupcalcCh),r=this._getSendValues("reverb",this.reverbcalcCh),i=this._getSendValues("main",this.maincalcCh),o=Array.prototype.concat.call([],t,n,r,i),a=o.length,s=1/a*.2,l=(1-(a-1)*s)/a;e.clear();for(var u=0;u<o.length;u++){var h=u*(l+s),p=o[u].value/this.observableState.scale,d=c.SliderTrackColors[o[u].type];e.fillRect(d,h,0,h+l,p)}}}}]),t}())||r;t.default=g},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._2agZP_EQGraph{touch-action:none}",""]),t.locals={EQGraph:"_2agZP_EQGraph"}},function(e,t,n){var r=n(296);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EQHandle=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(9);t.EQHandle=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.band=t.band,this.x=t.x,this.y=t.y,this.velX=t.velX,this.velY=t.velY,this.accelX=t.accelX,this.accelY=t.accelY,this.color=t.color,this.radius=t.radius,this.hitTest=this.hitTest.bind(this),this.drawToContext=this.drawToContext.bind(this)}return r(e,[{key:"hitTest",value:function(e,t){var n=this.x-e,r=this.y-t;return n*n+r*r<this.radius*this.radius}},{key:"drawToContext",value:function(e){e.fillStyle=this.color,e.globalAlpha=.3,e.beginPath(),e.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),e.closePath(),e.fill(),e.globalAlpha=1,e.strokeStyle=i.Colors.blacker,e.lineWidth=2,e.beginPath(),e.arc(this.x,this.y,.7*this.radius,0,2*Math.PI,!1),e.closePath(),e.fill(),e.stroke()}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},o=(n(63),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(31)),l(n(139))),a=l(n(25)),s=l(n(0));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),r(t,[{key:"drawLabels",value:function(){return!1}},{key:"render",value:function(){return s.default.createElement(a.default,{className:this.props.className},i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setGridEnabled",this).call(this,!1),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this))}},{key:"_draw",value:function(){if(void 0!==this.refs.plot){for(var e=this.refs.plot.getCanvas(),t=this._xspace,n=new Array(t.length),r=0;r<n.length;r++)n[r]=0;this.CURVES.forEach(function(e){if(e.isEnabled())for(var r=e.generateCurve(t),i=0;i<r.length;i++)n[i]+=r[i]}),e.clear(),e.beginPath("#2d2d2d"),e.moveTo(20,0),e.lineTo(22050,0),e.stroke(),e.beginPath("#3b6cae"),e.moveTo(t[0],n[0]);for(var i=1;i<n.length;i++)e.lineTo(t[i],n[i]);e.stroke()}}},{key:"_canvasTouchStart",value:function(e){e.preventDefault()}},{key:"_canvasMouseMove",value:function(e){this.CANVAS.style.cursor="pointer"}}]),t}();t.default=u},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._2x8C4_VUMeter{background-color:#131313;display:block;height:100%;position:relative}._3SAmW_Canvas{position:absolute;width:100%;height:100%;top:50%;left:50%;transform:translate(-50%,-50%);border:1px solid rgba(46,49,54,.7)}",""]),t.locals={VUMeter:"_2x8C4_VUMeter",Canvas:"_3SAmW_Canvas"}},function(e,t,n){var r=n(300);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(31)),s(n(140))),o=s(n(25)),a=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"drawLabels",value:function(){return!1}},{key:"render",value:function(){return a.default.createElement(o.default,{className:this.props.className},function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this))}},{key:"_canvasMouseMove",value:function(e){this.CANVAS.style.cursor="pointer"}}]),t}();t.default=l},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._16whi_DynamicsThumbnailContainer{overflow:hidden}._3HUtc_DynamicsThumbnailPlotContainer{position:relative;float:left}._yBmf8_DynamicsThumbnailPlot{position:absolute;top:0;left:0;height:60px;width:60px}._30NFZ_DynamicsThumbnailMeters{position:absolute;right:10px;overflow:hidden}._3p1W1_DynamicsThumbnailSplit{width:30px}._N-dKA_DynamicsThumbnailMeterContainer{display:inline-block;width:12px;height:60px}._p4J8l_DynamicsThumbnailGRMeter{background-color:#1d1d20}",""]),t.locals={DynamicsThumbnailContainer:"_16whi_DynamicsThumbnailContainer",DynamicsThumbnailPlotContainer:"_3HUtc_DynamicsThumbnailPlotContainer",DynamicsThumbnailPlot:"_yBmf8_DynamicsThumbnailPlot",DynamicsThumbnailMeters:"_30NFZ_DynamicsThumbnailMeters",DynamicsThumbnailSplit:"_3p1W1_DynamicsThumbnailSplit",DynamicsThumbnailMeterContainer:"_N-dKA_DynamicsThumbnailMeterContainer",DynamicsThumbnailGRMeter:"_p4J8l_DynamicsThumbnailGRMeter"}},function(e,t,n){var r=n(303);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._3X3UH_Plot{display:block;height:100%;position:relative}._3ylo9_PlotForeground{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border:1px solid rgba(46,49,54,.7)}",""]),t.locals={Plot:"_3X3UH_Plot",PlotForeground:"_3ylo9_PlotForeground"}},function(e,t,n){var r=n(305);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=l(n(29)),a=l(n(101)),s=l(n(0));l(n(15));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.resizeTimer=null,n._draw=n._draw.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),i(t,[{key:"componentWillReceiveProps",value:function(e){o.default.queue(this._draw)}},{key:"componentDidMount",value:function(){o.default.queue(this._draw)}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return s.default.createElement(a.default,{ref:"canvas",className:this.props.className,width:this.props.width,height:this.props.height,xAxis:this.props.xAxis,yAxis:this.props.yAxis})}},{key:"_draw",value:function(){if(void 0!==this.refs.canvas){var e=this.props.xAxis.min,t=this.props.xAxis.max,n=this.props.yAxis.min,r=this.props.yAxis.max,i=void 0===this.props.backgroundEnabled||this.props.backgroundEnabled;this.refs.canvas.clear(),i&&this.refs.canvas.fillRect("#131313",e,n,t,r),this.refs.canvas.beginPath("rgba(46, 49, 54, 0.7)"),this.props.gridEnabled&&(this._drawHorizontalTicks(),this._drawVerticalTicks(),this.refs.canvas.stroke(),this._drawXAxisLabels(),this._drawYAxisLabels())}}},{key:"_drawHorizontalTicks",value:function(){for(var e=this.props.yAxis.ticks,t=this.props.xAxis.min,n=this.props.xAxis.max,r=0;r<e.length;r++)this.refs.canvas.moveTo(t,e[r]),this.refs.canvas.lineTo(n,e[r])}},{key:"_drawVerticalTicks",value:function(){for(var e=this.props.xAxis.ticks,t=this.props.yAxis.min,n=this.props.yAxis.max,r=0;r<e.length;r++)this.refs.canvas.moveTo(e[r],t),this.refs.canvas.lineTo(e[r],n)}},{key:"_drawXAxisLabels",value:function(){var e=this.props.xAxis.labels;if("object"===(void 0===e?"undefined":r(e))&&null!==e){var t=this.props.xAxis.ticks,n=this.props.yAxis.min,i=this.refs.canvas.getContext();i.fillStyle="#677787";for(var o=0;o<t.length;o++){var a=this.refs.canvas.xPos(t[o])+4,s=this.refs.canvas.yPos(n)-6;i.fillText(e[o],a,s)}}}},{key:"_drawYAxisLabels",value:function(){var e=this.props.yAxis.labels;if("object"===(void 0===e?"undefined":r(e))&&null!==e)for(var t=this.props.yAxis.ticks,n=this.props.xAxis.min,i=this.refs.canvas.getContext(),o=0;o<t.length;o++){var a=this.refs.canvas.xPos(n)+4,s=this.refs.canvas.yPos(t[o])-6;i.fillText(e[o],a,s)}}}]),t}();t.default=u},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._SzJpG_LevelMeter{background-color:#222}._1qLBw_LevelMeterContainer{width:auto}._3V5Nb_LevelMeterRect,._3Ya5g_DynamicsMeterRect{background-color:#222;box-shadow:inset 0 0 10px rgba(0,0,0,.25);z-index:1}",""]),t.locals={LevelMeter:"_SzJpG_LevelMeter",LevelMeterContainer:"_1qLBw_LevelMeterContainer",LevelMeterRect:"_3V5Nb_LevelMeterRect",DynamicsMeterRect:"_3Ya5g_DynamicsMeterRect"}},function(e,t,n){var r=n(308);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._2K_T2_Canvas{transform:translateZ(0)}",""]),t.locals={Canvas:"_2K_T2_Canvas"}},function(e,t,n){var r=n(310);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._1R7gL_InsetContainer{box-sizing:border-box;padding:1px}._1R7gL_InsetContainer,._3ay9H_InsetContainerInner{display:inline-block;height:100%;width:100%}",""]),t.locals={InsetContainer:"_1R7gL_InsetContainer",InsetContainerInner:"_3ay9H_InsetContainerInner"}},function(e,t,n){var r=n(312);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=C(n(29)),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(31)),C(n(142))),s=C(n(6)),l=C(n(141)),u=C(n(25)),c=C(n(43)),h=C(n(61)),p=C(n(59)),d=C(n(0)),f=n(12),v=n(4),m=n(102),g=(C(n(19)),C(n(11))),b=n(20),y=(C(n(15)),C(n(304)));function C(e){return e&&e.__esModule?e:{default:e}}var x=function(e){return e},_=(0,f.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.id=Math.random().toString(36).substring(7),n._draw=n._draw.bind(n),n._queueDraw=n._queueDraw.bind(n),n._onGateEnabledValueChange=n._onGateEnabledValueChange.bind(n),n._onCompEnabledValueChange=n._onCompEnabledValueChange.bind(n),n._onMeterIndexStoreChange=n._onMeterIndexStoreChange.bind(n),n.observableState=(0,v.observable)({path:e.stripInfo.basePath,gateEnablePath:e.stripInfo.basePath+"/gate/enable",compEnablePath:e.stripInfo.basePath+"/comp/enable",gateMeterIndex:-1,compMeterIndex:-1,gateCurveEnabled:!1,compCurveEnabled:!1}),n._setCurves(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d.default.Component),i(t,[{key:"componentDidMount",value:function(){s.default.addChangeListener(this.id,this._onGateEnabledValueChange,this.observableState.gateEnablePath),s.default.addChangeListener(this.id,this._onCompEnabledValueChange,this.observableState.compEnablePath),c.default.addChangeListener(this._onMeterIndexStoreChange)}},{key:"componentDidUpdate",value:function(e,t){this.compCurve.destructor(),this.gateCurve.destructor(),this._setCurves()}},{key:"componentWillUnmount",value:function(){s.default.removeChangeListener(this.id,this._onGateEnabledValueChange,this.observableState.gateEnablePath),s.default.removeChangeListener(this.id,this._onCompEnabledValueChange,this.observableState.compEnablePath),c.default.removeChangeListener(this._onMeterIndexStoreChange),this.compCurve.destructor(),this.gateCurve.destructor()}},{key:"render",value:function(){return d.default.createElement("div",{className:(0,g.default)(y.default.DynamicsThumbnailContainer,this.props.className)},d.default.createElement(u.default,{className:y.default.DynamicsThumbnailPlotContainer},d.default.createElement(p.default,{ref:"gate_plot",className:y.default.DynamicsThumbnailPlot,xAxis:{min:-80,max:0,scale:x,ticks:[-30,-20,-10],labels:null},yAxis:{min:-80,max:0,scale:x,ticks:[-30,-20,-10],labels:null},width:this.props.width,height:this.props.height,gridEnabled:!1}),d.default.createElement(p.default,{ref:"comp_plot",className:y.default.DynamicsThumbnailPlot,xAxis:{min:-40,max:0,scale:x,ticks:[-30,-20,-10],labels:null},yAxis:{min:-40,max:0,scale:x,ticks:[-30,-20,-10],labels:null},width:this.props.width,height:this.props.height,gridEnabled:!1,backgroundEnabled:!1})),d.default.createElement("div",{className:y.default.DynamicsThumbnailMeters},d.default.createElement(m.Split,{className:y.default.DynamicsThumbnailSplit},d.default.createElement(m.SplitCell,null,d.default.createElement("div",{className:y.default.DynamicsThumbnailMeterContainer},d.default.createElement(u.default,null,d.default.createElement(h.default,{type:"gate",path:"mix/gate",className:y.default.DynamicsThumbnailGRMeter,width:12,height:60,enabled:this.observableState.gateCurveEnabled,meterIndex:this.observableState.gateMeterIndex,scaleFactor:1,observableState:this.props.observableState,thumbState:this.observableState,renderPeakHolds:!1,renderCanvas:!0})))),d.default.createElement(m.SplitCell,null,d.default.createElement("div",{className:y.default.DynamicsThumbnailMeterContainer},d.default.createElement(u.default,null,d.default.createElement(h.default,{type:"gain",path:"mix/comp",className:y.default.DynamicsThumbnailGRMeter,orientation:"vertical",width:12,height:60,enabled:this.observableState.compCurveEnabled,meterIndex:this.observableState.compMeterIndex,scaleFactor:1,observableState:this.props.observableState,thumbState:this.observableState,renderPeakHolds:!1,renderCanvas:!0})))))))}},{key:"_setCurves",value:function(){this.compCurve=new a.default({path:this.observableState.path+"/comp",meterIndex:this.observableState.compMeterIndex,drawMeters:!1,notify:this._queueDraw,xMin:-40,xMax:0,yMin:-40,yMax:0}),this.gateCurve=new l.default({path:this.observableState.path+"/gate",meterIndex:this.observableState.gateMeterIndex,drawMeters:!1,notify:this._queueDraw,xMin:-80,xMax:0,yMin:-80,yMax:0})}},{key:"_onGateEnabledValueChange",value:function(){this.observableState.gateCurveEnabled=!!s.default.get(this.observableState.gateEnablePath)}},{key:"_onCompEnabledValueChange",value:function(){this.observableState.compCurveEnabled=!!s.default.get(this.observableState.compEnablePath)}},{key:"_onMeterIndexStoreChange",value:function(){var e=(0,b.parse)(this.observableState.path),t=e.type,n=e.index;this.observableState.gateMeterIndex=c.default.getMeterIndex("gate",t,n),this.observableState.compMeterIndex=c.default.getMeterIndex("comp",t,n)}},{key:"_queueDraw",value:function(){o.default.queue(this._draw)}},{key:"_draw",value:function(){if(void 0!==this.refs.gate_plot){var e=this.refs.gate_plot.getCanvas();e.clear(),this.gateCurve.draw.call(this.gateCurve,e)}if(void 0!==this.refs.comp_plot){var t=this.refs.comp_plot.getCanvas();t.clear(),this.compCurve.draw.call(this.compCurve,t)}}}]),t}())||r;t.default=_},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._3sCk8_MonitorFollowSelectContainer{background-color:#1d1d20;overflow:hidden;position:relative;width:100%;padding:2px 0}._1zRU9_MonitorFollowDropDown{background:transparent;border:none;background-color:#1b1b1b;color:#fff;width:100%;height:100%;text-overflow:ellipsis;white-space:nowrap;-webkit-appearance:none}._1zRU9_MonitorFollowDropDown:hover{background-color:#404040;box-shadow:none}",""]),t.locals={MonitorFollowSelectContainer:"_3sCk8_MonitorFollowSelectContainer",MonitorFollowDropDown:"_1zRU9_MonitorFollowDropDown"}},function(e,t,n){var r=n(315);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(8)(!1)).push([e.i,"",""])},function(e,t,n){var r=n(317);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,'._1WG-w_ChannelSettingsOverview{background-color:#131313;padding:4px 0;display:inline-flex;align-items:center;text-align:center;width:100%}._RSDiV_GearIconInner{width:1em;height:1em;background:#bbb;position:relative;border-radius:1em}._RSDiV_GearIconInner:before{width:1.4em;height:1.4em;background:-webkit-linear-gradient(0deg,transparent 39%,#bbb 0,#bbb 61%,transparent 0),-webkit-linear-gradient(60deg,transparent 42%,#bbb 0,#bbb 58%,transparent 0),-webkit-linear-gradient(120deg,transparent 42%,#bbb 0,#bbb 58%,transparent 0);background:-moz-linear-gradient(0deg,transparent 39%,#bbb 39%,#bbb 61%,transparent 61%),-moz-linear-gradient(60deg,transparent 42%,#bbb 42%,#bbb 58%,transparent 58%),-moz-linear-gradient(120deg,transparent 42%,#bbb 42%,#bbb 58%,transparent 58%);background:-o-linear-gradient(0deg,transparent 39%,#bbb 39%,#bbb 61%,transparent 61%),-o-linear-gradient(60deg,transparent 42%,#bbb 42%,#bbb 58%,transparent 58%),-o-linear-gradient(120deg,transparent 42%,#bbb 42%,#bbb 58%,transparent 58%);background:-ms-linear-gradient(0deg,transparent 39%,#bbb 39%,#bbb 61%,transparent 61%),-ms-linear-gradient(60deg,transparent 42%,#bbb 42%,#bbb 58%,transparent 58%),-ms-linear-gradient(120deg,transparent 42%,#bbb 42%,#bbb 58%,transparent 58%);background:linear-gradient(0deg,transparent 39%,#bbb 0,#bbb 61%,transparent 0),linear-gradient(60deg,transparent 42%,#bbb 0,#bbb 58%,transparent 0),linear-gradient(120deg,transparent 42%,#bbb 0,#bbb 58%,transparent 0);position:absolute;content:"";top:-.2em;left:-.2em;border-radius:.7em}._RSDiV_GearIconInner:after{width:.5em;height:.5em;background:#131313;position:absolute;content:"";top:.25em;left:.25em;border-radius:.25em}._153lL_GearIconOuter{display:inline-block;vertical-align:middle}._l_gLh_TextLED{font-family:Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;font-style:normal;font-variant:normal;font-weight:400;font-size:10px;line-height:17px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;-moz-background-clip:padding;-webkit-background-clip:padding-box;background-clip:padding-box;border-style:none;padding:2px}._1wqp5_TextLEDBlue{color:#348ee8}._2PuLy_TextLEDRed{color:#c21720}._1SVd0_TextLEDDisabled{color:#6c6c6c}',""]),t.locals={ChannelSettingsOverview:"_1WG-w_ChannelSettingsOverview",GearIconInner:"_RSDiV_GearIconInner",GearIconOuter:"_153lL_GearIconOuter",TextLED:"_l_gLh_TextLED",TextLEDBlue:"_1wqp5_TextLEDBlue",TextLEDRed:"_2PuLy_TextLEDRed",TextLEDDisabled:"_1SVd0_TextLEDDisabled"}},function(e,t,n){var r=n(319);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._1kHxA_SVGIcon{display:inline-block;z-index:1}._1J6WH_EQPath{fill-rule:evenodd;filter:url(#filter)}._1kF3g_DynamicsPath{stroke-miterlimit:10;stroke-width:13px}._3988q_LevelerPath{stroke-miterlimit:10;stroke-width:8px}._jNC74_AuxPath{stroke-miterlimit:10;stroke-width:5px}._1DlxH_ReverbText{font-size:80px;font-family:Helvetica-Bold,Helvetica;font-weight:700}._3G3l7_FaderPath{stroke-miterlimit:10;stroke-width:5px}._1nwpI_FaderTick{fill:#6c6c6c}._2p-th_FaderText{fill:#6c6c6c;font-family:Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;font-style:normal;font-variant:normal;font-size:.9em}._gyh0m_TalkbackRect{fill:none}._gyh0m_TalkbackRect,._rpeLy_TalkbackCircles{stroke-miterlimit:10;stroke-width:20px}",""]),t.locals={SVGIcon:"_1kHxA_SVGIcon",EQPath:"_1J6WH_EQPath",DynamicsPath:"_1kF3g_DynamicsPath",LevelerPath:"_3988q_LevelerPath",AuxPath:"_jNC74_AuxPath",ReverbText:"_1DlxH_ReverbText",FaderPath:"_3G3l7_FaderPath",FaderTick:"_1nwpI_FaderTick",FaderText:"_2p-th_FaderText",TalkbackRect:"_gyh0m_TalkbackRect",TalkbackCircles:"_rpeLy_TalkbackCircles"}},function(e,t,n){var r=n(321);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._2hgXE_Split{display:table;width:100%}._1W_jT_SplitRow{display:table-row}._2-npx_SplitCell{display:table-cell;text-align:center}",""]),t.locals={Split:"_2hgXE_Split",SplitRow:"_1W_jT_SplitRow",SplitCell:"_2-npx_SplitCell"}},function(e,t,n){var r=n(323);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=g(n(6)),a=n(23),s=g(n(0)),l=n(102),u=g(n(28)),c=n(9),h=n(20),p=(g(n(15)),g(n(320))),d=g(n(11)),f=(g(n(17)),g(n(84))),v=n(12),m=n(4);g(n(93));function g(e){return e&&e.__esModule?e:{default:e}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t,n=(0,d.default)((b(t={},p.default.TextLED,!0),b(t,p.default.TextLEDRed,e.enabled),b(t,p.default.TextLEDDisabled,!e.enabled),t));return s.default.createElement(l.SplitCell,null,s.default.createElement("span",{className:n},e.children))}function C(e){var t,n=(0,d.default)((b(t={},p.default.TextLED,!0),b(t,p.default.TextLEDBlue,e.enabled),b(t,p.default.TextLEDDisabled,!e.enabled),t));return s.default.createElement(l.SplitCell,null,s.default.createElement("span",{className:n},e.children))}var x=(0,v.observer)(r=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.id=Math.random().toString(36).substring(7),n.initPaths=n.initPaths.bind(n),n.checkControls=n.checkControls.bind(n),n.addChangeListeners=n.addChangeListeners.bind(n),n.removeChangeListeners=n.removeChangeListeners.bind(n),n._onStereoEnabledChange=n._onStereoEnabledChange.bind(n),n._onPowerEnabledValueChange=n._onPowerEnabledValueChange.bind(n),n._onPadEnabledValueChange=n._onPadEnabledValueChange.bind(n),n._onPhaseEnabledValueChange=n._onPhaseEnabledValueChange.bind(n),n._onSourceValueChange=n._onSourceValueChange.bind(n),n.observableState=(0,m.observable)({stereoEnabled:!1,hasPower:!1,hasPad:!1,hasPhase:!1,powerEnabled:0,padEnabled:0,phaseEnabled:0}),n.initPaths(e.stripInfo),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),i(t,[{key:"initPaths",value:function(e){this.stripInfo=e,this.inputPath="chan"===this.stripInfo.type?(0,h.getMixerChannelInputPath)(this.stripInfo):(0,h.getOutputChannelInputPath)(this.stripInfo),this.sourcePath=(0,h.getMixerChOBankPath)(this.stripInfo)+"/src",this.checkControls(this.stripInfo),o.default.has(e.formatPath)&&(this.observableState.stereoEnabled="2"===o.default.get(this.stripInfo.formatPath).split(":")[0],this.observableState.stereoEnabled&&(this.secondStripInfo=(0,h.getOtherStereoChStripInfo)(this.stripInfo),this.secondInputPath="chan"===this.secondStripInfo.type?(0,h.getMixerChannelInputPath)(this.secondStripInfo):(0,h.getOutputChannelInputPath)(this.secondStripInfo),this.secondSourcePath=(0,h.getMixerChOBankPath)(this.secondStripInfo)+"/src",this.checkControls(this.secondStripInfo)))}},{key:"checkControls",value:function(e){var t="chan"===e.type?(0,h.getMixerChannelInputPath)(e):(0,h.getOutputChannelInputPath)(e),n="chan"==e.type?f.default.ios.input:f.default.ios.output,r=(0,h.getBnCn)(t);if(null!==r&&f.default.channelHasAnyControls({io:n,bn:r.bn,cn:r.cn,dev:(0,a.getInjectedDevice)()})){var i=f.default.getValidControls({io:n,bn:r.bn,cn:r.cn,dev:(0,a.getInjectedDevice)()});this.observableState.hasPower=-1!==i.indexOf("48V"),this.observableState.hasPad=-1!==i.indexOf("pad"),this.observableState.hasPhase=-1!==i.indexOf("phase")}}},{key:"addChangeListeners",value:function(){o.default.has(this.stripInfo.formatPath)&&o.default.addChangeListener(this.id,this._onStereoEnabledChange,this.stripInfo.formatPath),this.observableState.hasPower&&o.default.addChangeListener(this.id,this._onPowerEnabledValueChange,this.inputPath+"/48V"),this.observableState.hasPad&&o.default.addChangeListener(this.id,this._onPadEnabledValueChange,this.inputPath+"/pad"),this.observableState.hasPhase&&o.default.addChangeListener(this.id,this._onPhaseEnabledValueChange,this.inputPath+"/phase"),void 0!==this.secondStripInfo&&(this.observableState.hasPower&&o.default.addChangeListener(this.id,this._onPowerEnabledValueChange,this.secondInputPath+"/48V"),this.observableState.hasPad&&o.default.addChangeListener(this.id,this._onPadEnabledValueChange,this.secondInputPath+"/pad"),this.observableState.hasPhase&&o.default.addChangeListener(this.id,this._onPhaseEnabledValueChange,this.secondInputPath+"/phase"))}},{key:"removeChangeListeners",value:function(){o.default.removeChangeListener(this.id,this._onStereoEnabledChange,this.stripInfo.formatPath),o.default.removeChangeListener(this.id,this._onPowerEnabledValueChange,this.inputPath+"/48V"),o.default.removeChangeListener(this.id,this._onPadEnabledValueChange,this.inputPath+"/pad"),o.default.removeChangeListener(this.id,this._onPhaseEnabledValueChange,this.inputPath+"/phase"),void 0!==this.secondInputPath&&(o.default.removeChangeListener(this.id,this._onPowerEnabledValueChange,this.secondInputPath+"/48V"),o.default.removeChangeListener(this.id,this._onPadEnabledValueChange,this.secondInputPath+"/pad"),o.default.removeChangeListener(this.id,this._onPhaseEnabledValueChange,this.secondInputPath+"/phase"))}},{key:"componentDidMount",value:function(){this.addChangeListeners(),o.default.addChangeListener(this.id,this._onSourceValueChange,this.sourcePath,!1),this.observableState.stereoEnabled&&o.default.addChangeListener(this.id,this._onSourceValueChange,this.secondSourcePath,!1)}},{key:"componentWillUnmount",value:function(){this.removeChangeListeners(),o.default.removeChangeListener(this.id,this._onSourceValueChange,this.sourcePath),o.default.removeChangeListener(this.id,this._onSourceValueChange,this.secondSourcePath)}},{key:"componentWillReceiveProps",value:function(e){void 0!==e.stripInfo&&this.initPaths(e.stripInfo)}},{key:"render",value:function(){var e=1;e=this.observableState.hasPower?e+1:e,e=this.observableState.hasPad?e+1:e;var t=100/(e=this.observableState.hasPhase?e+1:e)+"%";return s.default.createElement("div",{className:p.default.ChannelSettingsOverview},s.default.createElement("div",{style:{width:t}},s.default.createElement(u.default,{type:"settings",width:"15",height:"15",fillColor:c.Colors.lightGray})),this.observableState.hasPower?s.default.createElement("div",{style:{width:t}},s.default.createElement(y,{enabled:this.observableState.powerEnabled},"48V")):null,this.observableState.hasPad?s.default.createElement("div",{style:{width:t}},s.default.createElement(C,{enabled:this.observableState.padEnabled},"PAD")):null,this.observableState.hasPhase?s.default.createElement("div",{style:{width:t}},s.default.createElement(C,{enabled:this.observableState.phaseEnabled},"Θ")):null)}},{key:"_onStereoEnabledChange",value:function(){this.observableState.stereoEnabled="2"===o.default.get(this.stripInfo.formatPath).split(":")[0],this.secondStripInfo=(0,h.getOtherStereoChStripInfo)(this.stripInfo),this.observableState.stereoEnabled&&(this.checkControls(this.stripInfo),this.checkControls(this.secondStripInfo))}},{key:"_onPowerEnabledValueChange",value:function(){this.observableState.powerEnabled=this.observableState.hasPower?o.default.get(this.inputPath+"/48V"):0,this.observableState.stereoEnabled&&void 0!==this.secondStripInfo&&this.observableState.hasPower&&(this.observableState.powerEnabled=this.observableState.powerEnabled||o.default.get(this.secondInputPath+"/48V"))}},{key:"_onPadEnabledValueChange",value:function(){this.observableState.padEnabled=this.observableState.hasPad?o.default.get(this.inputPath+"/pad"):0,this.observableState.stereoEnabled&&void 0!==this.secondStripInfo&&this.observableState.hasPad&&(this.observableState.padEnabled=this.observableState.padEnabled||o.default.get(this.secondInputPath+"/pad"))}},{key:"_onPhaseEnabledValueChange",value:function(){this.observableState.phaseEnabled=this.observableState.hasPhase?o.default.get(this.inputPath+"/phase"):0,this.observableState.stereoEnabled&&void 0!==this.secondStripInfo&&this.observableState.hasPhase&&(this.observableState.phaseEnabled=this.observableState.phaseEnabled||o.default.get(this.secondInputPath+"/phase"))}},{key:"_onSourceValueChange",value:function(){this.removeChangeListeners(),this.initPaths(this.stripInfo),this.addChangeListeners()}}]),t}())||r;t.default=x},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.parentNode,r=document.createElement("div"),i=e.cloneNode(!0),a=getComputedStyle(e),s=void 0,l=void 0,u=void 0;r.style.height=0,r.style.overflow="hidden",i.setAttribute("id",""),i.setAttribute("name",""),(t.display||"none"===a.getPropertyValue("display"))&&(i.style.display=t.display||"block");!t.width&&parseInt(a.getPropertyValue("width"))||(i.style.width=t.width||"auto");!t.height&&parseInt(a.getPropertyValue("height"))||(i.style.height=t.height||"auto");return r.appendChild(i),n.appendChild(r),s=i.getBoundingClientRect(),l=i.offsetWidth,u=i.offsetHeight,n.removeChild(r),{rect:{width:l,height:u,top:s.top,right:s.right,bottom:s.bottom,left:s.left},margin:(0,o.default)(a)}};var r,i=n(147),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=e.getBoundingClientRect(),r=void 0,a=void 0,s=void 0;if(n.width&&n.height&&!t.clone)t.margin&&(s=(0,o.default)(getComputedStyle(e)));else{var l=(0,i.default)(e,t);n=l.rect,s=l.margin}t.margin?(r=s.left+n.width+s.right,a=s.top+n.height+s.bottom):(r=n.width,a=n.height);return{width:r,height:a,top:n.top,right:n.right,bottom:n.bottom,left:n.left}};var i=r(n(326)),o=r(n(147));e.exports=t.default},function(e,t,n){"use strict";n.r(t),function(e){var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return function(){function t(){this.__entries__=[]}var n={size:{configurable:!0}};return n.size.get=function(){return this.__entries__.length},t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n+=1){var i=r[n];e.call(t,i[1],i[0])}},Object.defineProperties(t.prototype,n),t}()}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,i=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),o="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},a=2,s=["top","right","bottom","left","width","height","size","weight"],l="undefined"!=typeof MutationObserver,u=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function s(){n&&(n=!1,e()),r&&u()}function l(){o(s)}function u(){var e=Date.now();if(n){if(e-i<a)return;r=!0}else n=!0,r=!1,setTimeout(l,t);i=e}return u}(this.refresh.bind(this),20)};u.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},u.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},u.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},u.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},u.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},u.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},u.prototype.onTransitionEnd_=function(e){var t=e.propertyName;void 0===t&&(t=""),s.some(function(e){return!!~t.indexOf(e)})&&this.refresh()},u.getInstance=function(){return this.instance_||(this.instance_=new u),this.instance_},u.instance_=null;var c=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n+=1){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},h=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||i},p=b(0,0,0,0);function d(e){return parseFloat(e)||0}function f(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return t.reduce(function(t,n){return t+d(e["border-"+n+"-width"])},0)}function v(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return p;var r=h(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n+=1){var i=r[n],o=e["padding-"+i];t[i]=d(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=d(r.width),l=d(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=f(r,"left","right")+o),Math.round(l+a)!==n&&(l-=f(r,"top","bottom")+a)),!function(e){return e===h(e).document.documentElement}(e)){var u=Math.round(s+o)-t,c=Math.round(l+a)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(c)&&(l-=c)}return b(i.left,i.top,s,l)}var m="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof h(e).SVGGraphicsElement}:function(e){return e instanceof h(e).SVGElement&&"function"==typeof e.getBBox};function g(e){return r?m(e)?function(e){var t=e.getBBox();return b(0,0,t.width,t.height)}(e):v(e):p}function b(e,t,n,r){return{x:e,y:t,width:n,height:r}}var y=function(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=b(0,0,0,0),this.target=e};y.prototype.isActive=function(){var e=g(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},y.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e};var C=function(e,t){var n,r,i,o,a,s,l,u=(r=(n=t).x,i=n.y,o=n.width,a=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),c(l,{x:r,y:i,width:o,height:a,top:i,right:r+o,bottom:a+i,left:r}),l);c(this,{target:e,contentRect:u})},x=function(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r};x.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof h(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new y(e)),this.controller_.addObserver(this),this.controller_.refresh())}},x.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof h(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},x.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},x.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},x.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new C(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},x.prototype.clearActive=function(){this.activeObservations_.splice(0)},x.prototype.hasActive=function(){return this.activeObservations_.length>0};var _="undefined"!=typeof WeakMap?new WeakMap:new n,w=function(e){if(!(this instanceof w))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=u.getInstance(),n=new x(e,t,this);_.set(this,n)};["observe","unobserve","disconnect"].forEach(function(e){w.prototype[e]=function(){return(t=_.get(this))[e].apply(t,arguments);var t}});var S=void 0!==i.ResizeObserver?i.ResizeObserver:w;t.default=S}.call(this,n(45))},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=n(329);function i(){}e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=i,n.PropTypes=n,n}},function(e,t,n){e.exports=n(330)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=(c(o),c(n(331))),s=c(n(13)),l=c(n(328)),u=c(n(327));function c(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.measure=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.props.includeMargin,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.props.useClone;if(n.props.shouldMeasure){n._node.parentNode||n._setDOMNode();var r=n.getDimensions(n._node,e,t),i="function"==typeof n.props.children;n._propsToMeasure.some(function(e){if(r[e]!==n._lastDimensions[e])return n.props.onMeasure(r),i&&void 0!==n&&n.setState({dimensions:r}),n._lastDimensions=r,!0})}},n.state={dimensions:{width:0,height:0,top:0,right:0,bottom:0,left:0}},n._node=null,n._propsToMeasure=n._getPropsToMeasure(e),n._lastDimensions={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),i(t,[{key:"componentDidMount",value:function(){var e=this;this._setDOMNode(),this.measure(),this.resizeObserver=new l.default(function(){return e.measure()}),this.resizeObserver.observe(this._node)}},{key:"componentWillReceiveProps",value:function(e){e.config;var t=e.whitelist,n=e.blacklist;this.props.whitelist===t&&this.props.blacklist===n||(this._propsToMeasure=this._getPropsToMeasure({whitelist:t,blacklist:n}))}},{key:"componentWillUnmount",value:function(){this.resizeObserver.disconnect(this._node),this._node=null}},{key:"_setDOMNode",value:function(){this._node=s.default.findDOMNode(this)}},{key:"getDimensions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._node,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.includeMargin,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.props.useClone,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.props.cloneOptions;return(0,u.default)(e,r({margin:t,clone:n},i))}},{key:"_getPropsToMeasure",value:function(e){var t=e.whitelist,n=e.blacklist;return t.filter(function(e){return n.indexOf(e)<0})}},{key:"render",value:function(){var e=this.props.children;return o.Children.only("function"==typeof e?e(this.state.dimensions):e)}}]),t}();h.propTypes={whitelist:a.default.array,blacklist:a.default.array,includeMargin:a.default.bool,useClone:a.default.bool,cloneOptions:a.default.object,shouldMeasure:a.default.bool,onMeasure:a.default.func},h.defaultProps={whitelist:["width","height","top","right","bottom","left"],blacklist:[],includeMargin:!0,useClone:!1,cloneOptions:{},shouldMeasure:!0,onMeasure:function(){return null}},t.default=h,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maybeSetObjectAssignPolyfill=function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(void 0!==i&&null!==i)for(var o=Object.keys(Object(i)),a=0,s=o.length;a<s;a++){var l=o[a],u=Object.getOwnPropertyDescriptor(i,l);void 0!==u&&u.enumerable&&(n[l]=i[l])}}return n}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(17),o=(r=i)&&r.__esModule?r:{default:r};var a={saveSettings:function(e,t){window.localStorage.setItem("metersPreFader",t.metersPreFader),t.sideBarFaderStripInfo&&window.localStorage.setItem(e+"_sideBarFaderStripInfo",t.sideBarFaderStripInfo.id),window.localStorage.setItem(e+"_sideBarFaderHidden",t.sideBarFaderHidden),window.localStorage.setItem(e+"_sideBarFaderFollow",t.sideBarFaderFollow),window.localStorage.setItem(e+"_faderVisibility",JSON.stringify(t.faderVisibility)),t.onFaderStripInfo&&window.localStorage.setItem(e+"_onFaderStripInfo",t.onFaderStripInfo.id),window.localStorage.setItem(e+"_faderPath",t.faderPath),window.localStorage.setItem(e+"_panPath",t.panPath)},restoreSettings:function(e,t){var n="true"==window.localStorage.getItem("metersPreFader");t.metersPreFader=null!==n&&n;var r=window.localStorage.getItem(e+"_sideBarFaderStripInfo"),i=null!==r?new o.default(r):null;t.sideBarFaderStripInfo=i;var a="true"==window.localStorage.getItem(e+"_sideBarFaderHidden");t.sideBarFaderHidden=null!==a&&a;var s="true"==window.localStorage.getItem(e+"_sideBarFaderFollow");t.sideBarFaderFollow=null!==s&&s;try{var l=JSON.parse(window.localStorage.getItem(e+"_faderVisibility"));l&&(t.faderVisibility=l)}catch(e){}}};t.default=a},function(e,t){!function(e){var t,n=!!e.navigator.msPointerEnabled,r=!!e.navigator.pointerEnabled||!!e.PointerEvent;if(n||r&&!("ontouchstart"in e)){var i,o=e.document,a=r?"pointerdown":"MSPointerDown",s=r?"pointerup":"MSPointerUp",l=r?"pointermove":"MSPointerMove",u=r?"pointercancel":"MSPointerCancel",c=r?"touch":MSPointerEvent.MSPOINTER_TYPE_TOUCH,h=r?"mouse":MSPointerEvent.MSPOINTER_TYPE_MOUSE,p=(r||MSPointerEvent.MSPOINTER_TYPE_PEN,r?"touchAction":"msTouchAction"),d=180/Math.PI,f=e.Touchr_ALLOWED_POINTER_TYPE||1,v=function(e,t,n){var r,i=o.createEvent("Event");for(r in i.initEvent(e,!0,!0),n)i[r]=n[r];t.dispatchEvent(i)},m=function(){var e=Math.pow(2,32)-1,t=Object.prototype.hasOwnProperty;function n(e){return e>>>0}return function(r){var i=0;return(r=r||{}).length={get:function(){var r=+function(r){var i,o=-1;for(i in r)String(n(i))===i&&n(i)!==e&&t.call(r,i)&&i>o&&(o=i);return o}(this);return Math.max(i,r+1)},set:function(e){var t=n(e);if(t!==+e)throw new RangeError;for(var r=t,o=this.length;r<o;r++)delete this[r];i=t}},r.toString={value:Array.prototype.join},Object.create(Array.prototype,r)}}(),g=(t={identifiedTouch:{value:function(e){for(var t=this.length;t--;)if(this[t].identifier===e)return this[t]}},item:{value:function(e){return this[e]}},_touchIndex:{value:function(e){for(var t=this.length;t--;)if(this[t].pointerId==e.pointerId)return t;return-1}},_addAll:{value:function(e){for(var t=0,n=e.length;t<n;t++)this._add(e[t])}},_add:{value:function(e){var t=this._touchIndex(e);t=t<0?this.length:t,e.type=l,e.identifier=e.pointerId,e.force=e.pressure,e.radiusX=e.radiusY=1,e.rotationAngle=0,this[t]=e}},_remove:{value:function(e){var t=this._touchIndex(e);t>=0&&this.splice(t,1)}}},function(){var e=m(t);return 1===arguments.length?e.length=arguments[0]:e.push.apply(e,arguments),e}),b={},y=e.MSGesture?new MSGesture:null,C=1,x=0,_=[],w=function(e,t){return!!t&&(e===t||w(e,t.parentNode))},S=function(e){var t,n,r,p,d,m=e.target;if(((g=e.pointerType)==c?1:g==h?2:4)&f){var g;if(e.type===a&&(i._add(e),b[e.pointerId]=e.target,t="touchstart",i.length>1))for(y.target=e.target,n=0;n<i.length;n++)i[n].pointerType===c&&y.addPointer(i[n].pointerId);for(e.type===l&&i.identifiedTouch(e.pointerId)&&(i._add(e),t="touchmove"),p=o.createTouchList(e),d=o.createTouchList(),n=0;n<i.length;n++)w(m,b[i[n].identifier])&&d._add(i[n]);r=b[e.pointerId],e.type!==s&&e.type!==u||(i._remove(e),b[e.pointerId]=null,delete b[e.pointerId],t="touchend",i.length<=1&&y.stop()),t&&r&&v(t,r,{touches:i,changedTouches:p,targetTouches:d})}},k=function(e){var t,n,r;"MSGestureStart"===e.type?t="gesturestart":"MSGestureChange"===e.type?t="gesturechange":"MSGestureEnd"===e.type&&(t="gestureend"),"MSGestureStart"===e.type?(n=C=1,r=x=0):(n=C+=e.scale-1,r=x+=e.rotation*d),v(t,e.target,{scale:n,rotation:r,screenX:e.screenX,screenY:e.screenY})},T=function(e){var t=E,n=P,r=e.prototype.addEventListener,i=e.prototype.removeEventListener;e.prototype.addEventListener=function(e,n,i){0!==e.indexOf("gesture")&&0!==e.indexOf("touch")||t.call(this,e,n,i),r.call(this,e,n,i)},e.prototype.removeEventListener=function(e,t,r){0!==e.indexOf("gesture")&&0!==e.indexOf("touch")||n.call(this,e,t,r),i.call(this,e,t,r)}},E=function(e,t,n){var r=9==this.nodeType?this:this.ownerDocument;_.indexOf(r)<0&&(_.push(r),r.addEventListener(a,S,n),r.addEventListener(l,S,n),r.addEventListener(s,S,n),r.addEventListener(u,S,n),r.addEventListener("MSGestureStart",k,n),r.addEventListener("MSGestureChange",k,n),r.addEventListener("MSGestureEnd",k,n)),!this.style||void 0!==this.style[p]&&this.style[p]||(this.style[p]="none")},P=function(e,t,n){};o.createTouchList=function(e){var t=new g;return e&&(e.length?t._addAll(e):t._add(e)),t},o.createTouch=function(e,t,n,r,i,o,a){return{identifier:n,screenX:o,screenY:a,pageX:r,pageY:i,target:t}},e.ontouchstart||(e.ontouchstart=1),i=o.createTouchList(),T(HTMLElement),T(Document)}}(window)},function(e,t,n){"use strict";var r,i;r=[n(3),n(5),n(2),n(149),n(22),n(68),n(66),n(41),n(51),n(187),n(0),n(13),n(148),n(125),n(124),n(23)],void 0===(i=function(e,t,n,r,i,o,a,s,l,u,c,h,p,d,f,v){var m={}.hasOwnProperty;return function(t){function n(){n.__super__.constructor.apply(this,arguments),this.resetInteractionCounter=this.resetInteractionCounter.bind(this),this.checkIdleTime=this.checkIdleTime.bind(this),this.createMixer=this.createMixer.bind(this),this.createFaderModesUI=this.createFaderModesUI.bind(this),this.createMixerSettingsUI=this.createMixerSettingsUI.bind(this),this.removeMixer=this.removeMixer.bind(this),this.removeNavUI=this.removeNavUI.bind(this)}return function(e,t){for(var n in t)m.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,o),n.needsSpinner=!0,n.needsTarget=!0,n.ID="aux-mixing",n.label="Aux Mixing",n.prototype.finalizeConstruction=function(){var e;if(0!==this.dev.router.getOBankUserCh(this.dev.mixer.getBnForStripType("chan")))return e=this.dev.perf.addMode(new a.MixerCreation),this.device=this.dev,this.removePool=[],this.createMixer(this.device,this.div),window.removeEventListener("touchmove",i.handleEvent),document.addEventListener("click",this.resetInteractionCounter,!1),document.addEventListener("mousemove",this.resetInteractionCounter,!1),document.addEventListener("keypress",this.resetInteractionCounter,!1),this.idleSeconds=0,this.idleTimeInterval=window.setInterval(this.checkIdleTime,1e3),this.dev.perf.removeMode(e);this.alert=new l("Mixing has been disabled; please add mixer inputs on the Routing page",this.div)},n.prototype.resetInteractionCounter=function(){return this.idleSeconds=0},n.prototype.checkIdleTime=function(){return this.idleSeconds++,this.idleSeconds>36e5&&this.mounted?this.spinner=new s({node:this.div}):this.idleSeconds<=1&&!this.mounted?(this.createMixer(this.device,this.div),this.spinner.remove()):void 0},n.prototype.createMixer=function(t,n){var r,i,o,a,s;for(v.setInitialData(t.deviceData()),v.injectDevice(t),null!=window.auxID?this.auxID=window.auxID:this.auxID=null,this.mixerElement=c.createElement(p.default,{auxMixer:!0,auxID:this.auxID}),this.mixer=h.render(this.mixerElement,n),o={},r=0,i=(s=["expanded","collapsed"]).length;r<i;r++)o[a=s[r]]=document.getElementById(a+"-nav"),this.navUIContainer=e.appendSpec(o[a],{id:"nav-ui-container-"+a,className:"nav-ui-container scrollContext"}),this.createMixerSettingsUI(this.mixer,this.navUIContainer,a),null==window.auxID&&this.createFaderModesUI(this.mixer,this.navUIContainer,a);return this.mounted=!0},n.prototype.createFaderModesUI=function(t,n,r){return this.faderModesContainer=e.appendSpec(n,{id:"fader-modes-container-"+r}),this.faderModesDrawer=c.createElement(d.default,{mode:r,observableState:t.getObservableState()}),this.removePool.push(this.faderModesContainer),h.render(this.faderModesDrawer,this.faderModesContainer)},n.prototype.createMixerSettingsUI=function(t,n,r){return this.mixerSettingsContainer=e.appendSpec(n,{id:"mixer-settings-container-"+r}),this.mixerSettingsDrawer=c.createElement(f.default,{mode:r,observableState:t.getObservableState()}),this.removePool.push(this.mixerSettingsContainer),h.render(this.mixerSettingsDrawer,this.mixerSettingsContainer)},n.prototype.removeMixer=function(){return h.unmountComponentAtNode(this.div),delete this.mixer,this.removeNavUI(),v.unload(),this.mounted=!1},n.prototype.removeNavUI=function(){var e,t,n,r,i;for(i=[],t=0,n=(r=this.removePool).length;t<n;t++)e=r[t],h.unmountComponentAtNode(e),i.push(delete e.child);return i},n.prototype.remove=function(){return this.removePool&&(this.removeMixer(),window.addEventListener("touchmove",i.handleEvent),window.clearInterval(this.idleTimeInterval)),n.__super__.remove.apply(this,arguments)},n}()}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(106),n(27),n(2),n(3),n(1),n(22),n(5),n(16),n(69),n(2)],void 0===(i=function(e,t,n,r,i,o,a,s,l,u){var c,h,p,d,f,v,m=function(e,t){for(var n in t)g.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},g={}.hasOwnProperty,b=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};return(c=function(t){function n(e){n.__super__.constructor.call(this,e),this.dev=e.dev,this.onchange=e.onchange,this.doneConstructing=!1}return m(n,e),n.prototype.setDoneConstructing=function(){return this.doneConstructing=!0},n}()).MetaButton=function(){function e(e){var t;t=e.node,this.node=r.appendSpec(t,{className:"glideMetaButton"})}return e.prototype.setup=function(e){var t,n,r,i;if(r=e.state,t=e.action,n=e.dev,this.listen=new s.FunctionButton({node:this.node,f:t}),null!=r)return this.reaction=new a.Function(n,(i=this,function(e){return i.setState(r(e))}))},e.prototype.setState=function(e){return r.setClass(this.node,"ui-all-selected","on"===e),r.setClass(this.node,"ui-none-selected","off"===e)},e.prototype.remove=function(){var e,t;return null!=(e=this.listen)&&e.remove(),null!=(t=this.reaction)?t.remove():void 0},e}(),c.Controller=function(){function e(e){var t,n,r,i,o,a;for(this.dev=e.dev,a=e.selUIs,this.titles=e.titles,this.node=e.node,this.headerHeight=null,this.selUIs=[],this.draggers=[],n=r=0,i=a.length;0<=i?r<i:r>i;n=0<=i?++r:--r)t=this.addSelectListHeader(n,a.length),null==this.headerHeight&&(this.headerHeight=t.offsetHeight),(o=a[n](this.node)).selUIController=this,this.selUIs.push(o),0!==n&&this.draggers.push(new c.Controller.HeaderDragger({controller:this,index:n,node:t,numPanes:a.length}))}return e.prototype.addSelectListHeader=function(e){var t;return t=r.appendSpec(this.node,{className:"selectListHeader "+(0!==e?"grip":"")}),r.appendSpec(t,{type:"h2",textContent:this.titles[e]}),t},e.prototype.defaultPos=function(e,t){return e/t},e.prototype.grabPreferencePositions=function(){var e,t,n,r,i;for(this.selUIPositions=[0],e=t=1,n=this.selUIs.length;1<=n?t<n:t>n;e=1<=n?++t:--t)this.selUIPositions.push(+(null!=(r=this.dev.get("preferences/routing/seluipos/"+e))?r:this.defaultPos(e,this.selUIs.length)));return this.selUIPositions.push(1),this.pixelPos=this.selUIPositions.map((i=this,function(e){return i.ratioToPixelPos(e)})),this.forceValidPositions()},e.prototype.forceValidPositions=function(e){var t,n,r,i,o,a,s,l;if(l=this,t=function(e){var t,n;return t=l.maxHeaderPixelPos(e),n=l.minHeaderPixelPos(e),l.pixelPos[e]=Math.min(t,Math.max(n,l.pixelPos[e]))},null!=e&&e<0){for(s=[],n=i=this.pixelPos.length-2;i>=1;n=i+=-1)s.push(t(n));return s}for(a=[],n=r=1,o=this.pixelPos.length-1;1<=o?r<o:r>o;n=1<=o?++r:--r)a.push(t(n));return a},e.prototype.pixelPosToRatio=function(e){return e/window.innerHeight},e.prototype.ratioToPixelPos=function(e){return e*window.innerHeight},e.prototype.savePositions=function(){var e,t,n,r;for(r=[],e=t=1,n=this.selUIs.length;1<=n?t<n:t>n;e=1<=n?++t:--t)r.push(this.dev.set("preferences/routing/seluipos/"+e,this.pixelPosToRatio(this.pixelPos[e])));return r},e.prototype.minHeaderPixelPos=function(e){return 0===e?0:this.pixelPos[e-1]+this.headerHeight+this.selUIs[e-1].minHeight()},e.prototype.maxHeaderPixelPos=function(e){return 0===e?0:this.pixelPos[e+1]-this.headerHeight-this.selUIs[e].minHeight()},e.prototype.absoluteMinHeaderPixelPos=function(e){return 0===e?0:this.absoluteMinHeaderPixelPos(e-1)+this.headerHeight+this.selUIs[e-1].minHeight()},e.prototype.absoluteMaxHeaderPixelPos=function(e){return 0===e?0:e===this.selUIs.length?this.pixelPos[e]:this.absoluteMaxHeaderPixelPos(e+1)-this.headerHeight-this.selUIs[e].minHeight()},e.prototype.setDoneConstructing=function(){var e,t,n,r,i;for(r=[],e=0,t=(n=this.selUIs).length;e<t;e++)i=n[e],r.push(i.setDoneConstructing());return r},e.prototype.updateSize=function(){return this.grabPreferencePositions(),this.updateLocalSize()},e.prototype.updateLocalSize=function(){var e,t,n,r,i,o,a;for(t=n=0,i=this.selUIs.length;0<=i?n<i:n>i;t=0<=i?++n:--n)this.selUIs[t].setHeight(this.pixelPos[t+1]-this.pixelPos[t]-this.headerHeight);for(a=[],t=r=0,o=this.selUIs.length;0<=o?r<o:r>o;t=0<=o?++r:--r)(e=this.pixelPos[t+1]-this.pixelPos[t]-this.headerHeight)>this.selUIs[t].maxHeight()?a.push(this.selUIs[t].pane.contentWrapper.style.paddingBottom=e-this.selUIs[t].maxHeight()+"px"):a.push(this.selUIs[t].pane.contentWrapper.style.paddingBottom="");return a},e.prototype.remove=function(){var e,t,n,r,i,o,a,s,l,u;for(t=0,r=(o=this.selUIs).length;t<r;t++)null!=(a=(u=o[t]).metaButton)&&a.remove(),u.remove();for(l=[],n=0,i=(s=this.draggers).length;n<i;n++)e=s[n],l.push(e.remove);return l},e}(),c.Controller.HeaderDragger=function(){function e(e){this.controller=e.controller,this.index=e.index,this.node=e.node,this.numPanes=e.numPanes,this.listen=new o.Listener({proxy:this,events:["dragdown","dragmove","dragup","dragcancel"],node:this.node,options:{fakeMousemoveOnScroll:!1}})}return e.prototype.dragdown=function(e,t){return t.startY=e.clientY,t.startPos=this.controller.pixelPos[this.index]},e.prototype.dragmove=function(e,t){var n,r,i,o,a;return a=e.clientY-t.startY+t.startPos,n=this.controller.absoluteMaxHeaderPixelPos(this.index),r=this.controller.absoluteMinHeaderPixelPos(this.index),a>n&&(a=n),a<r&&(a=r),this.controller.pixelPos[this.index]=a,i=this.controller.maxHeaderPixelPos(this.index),o=this.controller.minHeaderPixelPos(this.index),a>i&&this.controller.forceValidPositions(-1),a<o&&this.controller.forceValidPositions(1),this.controller.updateLocalSize()},e.prototype.dragcancel=function(){return this.dragup()},e.prototype.dragup=function(){return this.controller.updateLocalSize(),this.controller.savePositions()},e.prototype.remove=function(){return this.listen.remove()},e}(),h=function(e,t,n){var r,i,o;for(i in r=0,o=e.router["stream"+t.Bank+"s"])n(o[i])&&r++;return r},p=function(e,t){return h(e,t,function(n){return e.router["get"+t.Bank+"NumCh"](n)>0})},d=function(e,t){var n,r;return r=e.get("uid"),n=e.get("avb/"+r+"/current_configuration"),"IBank"===t.Bank?e.get("avb/"+r+"/cfg/"+n+"/input_streams/requested_num"):e.get("avb/"+r+"/cfg/"+n+"/output_streams/requested_num")},v=function(e,t,n){var r,i;return i=e.get("uid"),r=e.get("avb/"+i+"/current_configuration"),"IBank"===t.Bank?e.set("avb/"+i+"/cfg/"+r+"/input_streams/requested_num",n):e.set("avb/"+i+"/cfg/"+r+"/output_streams/requested_num",n)},function(e,t){var n,r;return null!=(n=d(e,t))?(r=p(e,t),Math.min(n,r)):h(e,t,function(n){return e.router["get"+t.Bank+"CalcCh"](n)>0})},c.InputBanks=function(e){function t(e){t.__super__.constructor.call(this,e),this.makeSimpleBanks(),this.makeComputerBank()}return m(t,c),t.prototype.makeSimpleBanks=function(){var e,t,n,i,o,s,l;for(s=function(e){var t,n,r,i;for(t=0,n=(r=["Mix ","Computer","AVB Stream"]).length;t<n;t++)if(i=r[t],-1!==e.indexOf(i))return!1;return!0},e="IBank",t=[],this.dev.router.mapIBanks(function(e,n){if(s(e))return t.push(n)}),l=[],i=0,o=t.length;i<o;i++)n=t[i],l.push(function(t){return function(n){var i,o,s,l,u;return s=function(e){return s=(s=e.router.getIBankName(n)).replace("ADAT","Optical")},t.dev.router.getIBankName(n),l=function(e){return 0!==e.router.getIBankCalcCh(n)},u=function(e){return e?t.dev.router.setIBankUserCh(n,t.dev.router.getIBankMaxCh(n)):t.dev.router.setIBankUserCh(n,0)},i=function(){return l(t.dev)?0:1},o=t.addItem({label:s,selected:l,setValue:u,chooseValue:i}),new a.Function(t.dev,function(t){return r.setClass(o.node,"disabled",0==+t.get("ext/"+e.toLowerCase()+"/"+n+"/numCh"))})}}(this)(n));return l},t.prototype.makeComputerBank=function(){var e,t,n,r,i;return e=-1,this.dev.router.mapIBanks(function(t,n){if(-1!==t.indexOf("Computer"))return e=n}),t=function(t){return t.router.getIBankCalcCh(e)},i=function(t,n){var r;return!isNaN(n)&&((n=+n)>(r=t.router.getIBankMaxCh(e))&&(n=r),n<0&&(n=0),t.router.setIBankUserCh(e,n),!0)},r=function(t){var n;return n=t.router.getIBankCalcCh(e),i(t,n+1)},n=function(t){var n;return n=t.router.getIBankCalcCh(e),i(t,n-1)},this.addRangeItem({label:"From Computer",curNum:t,newValue:i,incValue:r,decValue:n})},t}(),c.OutputBanks=function(e){function t(e){t.__super__.constructor.call(this,e),this.makeSimpleBanks(),this.makeMixerBank(),this.makeComputerBank()}return m(t,c),t.prototype.makeSimpleBanks=function(){var e,t,n,i,o,s,l;for(s=function(e){var t,n,r,i;for(t=0,n=(r=["Mix ","Computer","AVB Stream"]).length;t<n;t++)if(i=r[t],-1!==e.indexOf(i))return!1;return!0},e="OBank",t=[],this.dev.router.mapOBanks(function(e,n){if(s(e))return t.push(n)}),l=[],i=0,o=t.length;i<o;i++)n=t[i],l.push(function(t){return function(n){var i,o,s,l,u;if(s=function(e){return s=(s=e.router.getOBankName(n)).replace("ADAT","Optical")},"LTC Clock"!==t.dev.router.getOBankName(n))return l=function(e){return 0!==e.router.getOBankCalcCh(n)},u=function(e){return e?t.dev.router.setOBankUserCh(n,t.dev.router.getOBankMaxCh(n)):t.dev.router.setOBankUserCh(n,0)},i=function(){return l(t.dev)?0:1},o=t.addItem({label:s,selected:l,setValue:u,chooseValue:i}),new a.Function(t.dev,function(t){return r.setClass(o.node,"disabled",0==+t.get("ext/"+e.toLowerCase()+"/"+n+"/numCh"))})}}(this)(n));return l},t.prototype.makeMixerBank=function(){var e,t,n,r,i;return e=this.dev.mixer.getBnForStripType("chan"),t=function(t){return t.router.getOBankCalcCh(e)},i=function(t,n){var r,i,o;return!isNaN(n)&&((n=+n)>(i=t.router.getOBankMaxCh(e))&&(n=i),n<0&&(n=0),n=2*Math.ceil(n/2),t.router.setOBankUserCh(e,n),r=function(e){return-1!==e.indexOf("Mix ")&&-1===e.indexOf("Mix Post")},o=0===n?function(){return 0}:function(e){return t.router.getIBankMaxCh(e)},t.router.mapIBanks(function(e,n){if(r(e))return t.router.setIBankUserCh(n,o(n))}),!0)},r=function(t){var n;return n=t.router.getOBankCalcCh(e),i(t,n+2)},n=function(t){var n;return n=t.router.getOBankCalcCh(e),i(t,n-2)},this.addRangeItem({label:"To Mixer",curNum:t,newValue:i,incValue:r,decValue:n})},t.prototype.makeComputerBank=function(){var e,t,n,r,i;return e=-1,this.dev.router.mapOBanks(function(t,n){if(-1!==t.indexOf("Computer"))return e=n}),t=function(t){return t.router.getOBankCalcCh(e)},i=function(t,n){var r;return!isNaN(n)&&((n=+n)>(r=t.router.getOBankMaxCh(e))&&(n=r),n<0&&(n=0),t.router.setOBankUserCh(e,n),!0)},r=function(t){var n;return n=t.router.getOBankCalcCh(e),i(t,n+1)},n=function(t){var n;return n=t.router.getOBankCalcCh(e),i(t,n-1)},this.addRangeItem({label:"To Computer",curNum:t,newValue:i,incValue:r,decValue:n})},t}(),f="0000000000000000:0",c.StreamConnections=function(e){function t(e){var n;t.__super__.constructor.call(this,e),this.makeFromAVBBank(),this.makeToAVBBank(),this.removePool=[],this.guid=this.dev.get("uid"),new a.Function(this.dev,(n=this,function(e){return n.recreateMenus(e)}))}return m(t,c),t.prototype.makeFromAVBBank=function(){var e,t,n,r;if(e=function(e){return d(e,{Bank:"IBank"})},r=function(e,t){var n;return!isNaN(t)&&((t=+t)>(n=p(e,{Bank:"IBank"}))&&(t=n),t<0&&(t=0),v(e,{Bank:"IBank"},t),!0)},n=function(t){var n;return n=e(t),r(t,n+1)},t=function(t){var n;return n=e(t),r(t,n-1)},void 0!==d(this.dev,{Bank:"IBank"}))return this.addRangeItem({label:"Input Streams",curNum:e,newValue:r,incValue:n,decValue:t})},t.prototype.makeToAVBBank=function(){var e,t,n,r;if(e=function(e){return d(e,{Bank:"OBank"})},r=function(e,t){var n;return!isNaN(t)&&((t=+t)>(n=p(e,{Bank:"OBank"}))&&(t=n),t<0&&(t=0),v(e,{Bank:"OBank"},t),!0)},n=function(t){var n;return n=e(t),r(t,n+1)},t=function(t){var n;return n=e(t),r(t,n-1)},void 0!==d(this.dev,{Bank:"OBank"}))return this.addRangeItem({label:"Output Streams",curNum:e,newValue:r,incValue:n,decValue:t})},t.prototype.filterSourcesConnectedByOtherStreams=function(e){var t,n,r,o,a;return r=e.sources,o=e.streamIndex,n=e.dev,t=[],n.avb.mapInputStreams(this.guid,(a=this,function(e,r){if(r!==o)return t.push(n.avb.getNthInputStreamTalker(a.guid,r))})),i.filter(r,function(e){return e===f||!(b.call(t,e)>=0)})},t.prototype.recreateMenus=function(e){var t,n,i,o;for(t=0,n=(i=this.removePool).length;t<n;t++)i[t].remove();return this.removePool=[],e.avb.mapInputStreams(this.guid,(o=this,function(t,n){var i,s,l,u,c,h;return 0===n&&o.removePool.push(o.addSeparatorItem({label:"Input Connections"})),o.routerOK&&null!=(i=e.router.getNthInputStreamIBank(n))&&o.removePool.push(new a.Function(o.dev,function(e){var t;return t=menuRow.parentNode.parentNode,+e.get("meta/ibank/"+i+"/calcCh")>0?r.show(t):r.hide(t),"function"==typeof o.onSizeChanged?o.onSizeChanged():void 0})),h=o.addDropdownItem({label:n+1+":"}),o.removePool.push(h),s=h.menu,o.removePool.push(new a.Function(o.dev,function(e){var t,r,i;return r=o.gatherSources(e),i=r.sources,t=r.disp,i=o.filterSourcesConnectedByOtherStreams({sources:i,streamIndex:n,dev:e}),s.getOpts=function(){return i},s.showOpt=function(e){return null!=t[e]?t[e]:"Offline Stream"},s.setupMenu()})),o.removePool.push(new a.Function(o.dev,function(e){var t;return t="avb/"+o.guid+"/cfg/"+e.avb.getCurConfig(o.guid)+"/input_streams/"+n+"/talker",s.rewire(t)})),l=s.node.className,u=l.concat(" connecting"),c=l.concat(" failed"),o.removePool.push(new a.Function(o.dev,function(e){var t,r,i,a;return a=e.get("avb/"+o.guid+"/cfg/"+e.avb.getCurConfig(o.guid)+"/input_streams/"+n+"/talker"),i=(r=o.gatherSources(e)).sources,r.disp,"connecting"===(t=null!=(t=null!=(t=e.get("avb/"+o.guid+"/cfg/"+e.avb.getCurConfig(o.guid)+"/input_streams/"+n+"/connection_status"))?t.split(":"):void 0)?t[0]:void 0)&&b.call(i,a)>=0?s.node.className=u:"failed"===t?s.node.className=c:"not_connected"===t&&b.call(i,a)>=0&&a!==f?s.node.className=c:s.node.className=l,e.avb.isAcquired(o.guid)?s.node.setAttribute("disabled",!0):s.node.removeAttribute("disabled")}))}))},t.prototype.gatherSources=function(e){var t,n,r,i,o,a;for(t={},(a=[]).push(f),t[f]="None",r=0,i=(o=e.avb.getDevs()).length;r<i;r++)(n=o[r])!==this.guid&&(e.avb.isAcquired(n)||!e.avb.isAcquired(this.guid)&&e.avb.isControllerIgnore(n)||e.avb.getCurSampleRate(n)===e.avb.getCurSampleRate(this.guid)&&e.avb.mapOutputStreams(n,function(r){return function(i,o){var s,l,u;if(!(0!==(l=e.avb.getNthOutputStreamSampleRates(n,o))[0]&&(s=e.avb.getCurSampleRate(r.guid),b.call(l,s)<0)))return u=n+":"+o,a.push(u),t[u]=e.avb.getTalkerTitle(r.guid,u)}}(this)));return{sources:a,disp:t}},t}(),c}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(27),n(64),n(22),n(86),n(150),n(1),n(34),n(5),n(2),n(85),n(3),n(21)],void 0===(i=function(e,t,n,r,i,o,a,s,l,u,c,h){var p,d,f,v,m,g,b,y,C,x,_,w,S,k,T=function(e,t){for(var n in t)E.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},E={}.hasOwnProperty,P=function(e,t){return function(){return e.apply(t,arguments)}};return 120,118,b=i.CellWidth,k=238+b,_=b+120,120,w=i.CellWidth,S=120+w,4,x={in:{bank:"ibank",Bank:"IBank",css:"routeInput",mode:"in",svgCss:"colLabelsSVG"},out:{bank:"obank",Bank:"OBank",css:"routeOutput",mode:"out",svgCss:"rowLabelsSVG"}},g=function(){function e(e){var t;this.dev=e.dev,this.bn=e.bn,this.cn=e.cn,this.dsvg=e.dsvg,this.gridDsvg=e.gridDsvg,this.lookup=e.lookup,this.box=new r.TextBox({dsvg:this.dsvg,extraCss:"srcLabel routeOutput"}),this.box.setAlignment({align:"end"}),this.icons=[],new s.Function(this.dev,(t=this,function(e){return c.setClass(t.box.text.text,"disconnected",!t.connected(e))})),h.works({dev:this.dev,cap:"activityMeters"})&&(this.led=new r.LED({dsvg:this.dsvg}),this.ledIndexWatcher=new s.Function(this.dev,function(e){return function(t){var n;return e.ledIndex=t.router.getOBankChMeterIndex({bn:e.bn,cn:e.cn}),null!=(n=e.ledWatcher)?n.inval():void 0}}(this)),this.ledWatcher=new s.Function(this.dev,function(e){return function(t){return e.updateLED(t)}}(this))),this.srcWatcher=new s.Function(this.dev,function(e){return function(t){return e.updateIcons(t)}}(this))}return e.prototype.updateLED=function(e){var t,n;if(null!=this.led)if(null!=this.ledIndex){if(null==e&&(e=this.dev),n=e.get("meters/ext/input"),this.visible)return this.led.setValue(null!=(t=null!=n?n[this.ledIndex]:void 0)?t:0)}else this.led.setValue(0)},e.prototype.updateIcons=function(e){var t,n,r,o,a,s,l,u,c,h,p;for(a=0,s=(l=this.icons).length;a<s;a++)l[a].remove();if(this.icons=[],this.visible){if(p=e.get("meta/obank/"+this.bn+"/ch/"+this.cn+"/src"))return t=(u=p.split(":"))[0],n=u[1],this.box.setText(e.get("meta/ibank/"+t+"/ch/"+n+"/name")),null!=(r=this.lookup(p))&&this.icons.push(new i.Icon({icon:"item-item full-dest-route full-src-route",c:r,r:null!=(c=this.row)?c:0,dsvg:this.gridDsvg})),null!=(o=this.lookup(""+t))?this.icons.push(new i.Icon({icon:"item-group full-dest-route",c:o,r:null!=(h=this.row)?h:0,dsvg:this.gridDsvg})):void 0;this.box.setText("")}},e.prototype.connected=function(e){var t,n,r,i,o,a;return!(a=e.get("meta/obank/"+this.bn+"/ch/"+this.cn+"/src"))||(t=(o=a.split(":"))[0],n=o[1],null==(i=e.get("ext/ibank/"+t+"/name"))||"Mic Inst"===i||(null==(r=e.get("ext/ibank/"+t+"/ch/"+n+"/connection"))||+r))},e.prototype.hilite=function(e){return this.box.hilite(e)},e.prototype.reflow=function(e,t){var n,r,a;return this.visible=t,this.row=e.info.length,this.srcWatcher.inval(),this.visible?(r=e.info.length*i.CellWidth,n={left:_,right:k-.5,top:r,bottom:r+i.CellWidth},this.box.setBox(n),null!=this.led&&((n=o.clone(n)).right-=11,this.box.setTextBox(n),this.led.setPos({cx:k-3.5-4,cy:r+i.CellWidth/2,r:4}),this.led.show()),this.box.show()):(this.box.hide(),void(null!=(a=this.led)&&a.hide()))},e}(),p=function(t){function u(e){var t,n,i,o;this.dev=e.dev,this.dsvg=e.dsvg,this.io=e.io,this.bn=e.bn,this.cn=e.cn,i=e.lookup,n=e.gridDsvg,u.__super__.constructor.call(this,this.dev),this.box=new r.TextBox({dsvg:this.dsvg,extraCss:"chLabel "+this.io.css,clicky:!0}),this.box.setAlignment({in:{align:"start",direction:"vertical"},out:{align:"end"}}[this.io.mode]),t="ext/"+this.io.bank+"/"+this.bn+"/ch/"+this.cn+"/connection",null!=this.dev.get(t)&&new s.Function(this.dev,(o=this,function(e){return c.setClass(o.box.text.text,"disconnected",!o.connected(e))})),"out"===this.io.mode&&(this.source=new g({gridDsvg:n,lookup:i,dev:this.dev,dsvg:this.dsvg,bn:this.bn,cn:this.cn})),"in"===this.io.mode&&h.works({dev:this.dev,cap:"activityMeters"})&&(this.led=new r.LED({dsvg:this.dsvg}),this.ledIndexListen=new s.Function(this.dev,function(e){return function(t){var n;return e.ledIndex=t.router.getIBankChMeterIndex({bn:e.bn,cn:e.cn}),null!=(n=e.ledListen)?n.inval():void 0}}(this)),this.ledListen=new s.Function(this.dev,function(e){return function(t){return e.updateLED(t)}}(this))),"out"===this.io.mode&&null!=this.dev.get("ext/ab/a/enable")&&(this.showA=!1,this.showB=!1,this.aLabel=new r.TextBox({dsvg:this.dsvg,extraCss:"routeOutput abLabel",text:"A"}),this.bLabel=new r.TextBox({dsvg:this.dsvg,extraCss:"routeOutput abLabel",text:"B"}),new s.Function(this.dev,function(e){return function(t){var n,r,i,o,a,s,l,u,c;return n=(o=t.get("ext/ab/a/dst")).split(":")[0],r=o.split(":")[1],i=t.mixer.getOtherStereoCh(+r),a=t.get("ext/ab/a/mode"),s=(c=t.get("ext/ab/b/dst")).split(":")[0],l=c.split(":")[1],u=t.mixer.getOtherStereoCh(+l),"analog6"===a&&"Analog"===t.router.getOBankName(e.bn)&&e.cn<6?e.showA=!0:"analog8"===a&&"Analog"===t.router.getOBankName(e.bn)&&e.cn<8?e.showA=!0:n+":"+r==e.bn+":"+e.cn||n+":"+i==e.bn+":"+e.cn?e.showA=!0:e.showA=!1,s+":"+l==e.bn+":"+e.cn||s+":"+u==e.bn+":"+e.cn?e.showB=!0:e.showB=!1,e.maybeShowAB()}}(this))),this.rewire("meta/"+this.io.bank+"/"+this.bn+"/ch/"+this.cn+"/name"),this.defaultNameReaction=new s.Function(this.dev,function(e){return function(t){return c.setClass(e.box.text.text,"defaultName",""===t.get("ext/"+e.io.bank+"/"+e.bn+"/ch/"+e.cn+"/name"))}}(this))}return T(u,t),u.prototype.maybeShowAB=function(){var e,t,n,r;return this.visible&&this.showA?null!=(e=this.aLabel)&&e.show():null!=(t=this.aLabel)&&t.hide(),this.visible&&this.showB?null!=(n=this.bLabel)?n.show():void 0:null!=(r=this.bLabel)?r.hide():void 0},u.prototype.updateLED=function(e){var t,n;if(null==e&&(e=this.dev),n=e.get("meters/ext/input"),this.visible)return this.led.setValue(null!=(t=null!=n?n[this.ledIndex]:void 0)?t:0)},u.prototype.dragdown=function(t,n,r){var i,s;if("mouse"===n.type)return s=new a({node:this.box.clicky.getNode(),dev:this.dev,options:{position:"cover"}}),c.setWidth(s.div,120),c.setHeight(s.div,b),i=new e.BankChName({dev:s.dev,bn:this.bn,cn:this.cn,io:this.io,node:s.div,extraCss:"bankChNameEntry",onblur:function(){return s.remove()}}),o.defer(function(){var e;return null!=(e=i.interaction)?e.popEdit():void 0}),r.preventDefault(),r.stopPropagation(),n.remove()},u.prototype.addInteraction=function(){if(!l.isMobile)return this.listen=new n.Listener({proxy:this,node:this.box.clicky.getNode(),events:["dragdown"]})},u.prototype.removeInteraction=function(){var e;return null!=(e=this.listen)&&e.remove(),this.listen=null},u.prototype.update=function(e){return this.box.setText(e)},u.prototype.reflow=function(e,t){var n,r,a,s,l,u,c;return this.visible=t,null!=(r=this.source)&&r.reflow(e,this.visible),this.visible?(this.box.show(),null!=(u=this.led)&&u.show(),this.maybeShowAB(),n=e.info.length*i.CellWidth,{in:(c=this,function(){var e;if(e={left:n,top:w,right:n+i.CellWidth,bottom:S-.5},c.box.setBox(e),null!=c.led)return(e=o.clone(e)).bottom-=11,c.box.setTextBox(e),c.led.setPos({cx:n+i.CellWidth/2,cy:S-4-3.5,r:4})}),out:function(e){return function(){var t,r,o,a;return t={left:b,right:_,top:n,bottom:n+i.CellWidth},e.box.setBox(t),null!=(r=e.aLabel)&&r.setBox({left:b+2,right:b+20,top:n+2,bottom:n+i.CellWidth-2}),e.showA?null!=(o=e.bLabel)?o.setBox({left:b+23,right:b+41,top:n+2,bottom:n+i.CellWidth-2}):void 0:null!=(a=e.bLabel)?a.setBox({left:b+2,right:b+20,top:n+2,bottom:n+i.CellWidth-2}):void 0}}(this)}[this.io.mode](),e.reverseLookup[this.bn+":"+this.cn]=e.info.length,e.info.push({type:"item",bn:this.bn,cn:this.cn,label:this})):(this.box.hide(),null!=(a=this.led)&&a.hide(),null!=(s=this.aLabel)&&s.hide(),void(null!=(l=this.bLabel)&&l.hide()))},u.prototype.hilite=function(e){var t;return this.box.hilite(e),null!=(t=this.source)?t.hilite(e):void 0},u.prototype.connected=function(e){var t,n;return null==(n=e.get("ext/"+this.io.bank+"/"+this.bn+"/name"))||"Mic Inst"===n||(null==(t=e.get("ext/"+this.io.bank+"/"+this.bn+"/ch/"+this.cn+"/connection"))||+t)},u}(s.Control),v=function(){function e(e){var t,n,i,o,a;for(this.dev=e.dev,this.bn=e.bn,this.gridDsvg=e.gridDsvg,this.lookup=e.lookup,this.dsvg=e.dsvg,this.update=P(this.update,this),this.box=new r.TextBox({dsvg:this.dsvg,extraCss:"groupLabel routeOutput collapsed"}),this.box.setText(""),h.works({dev:this.dev,cap:"activityMeters"})&&(this.led=new r.LED({dsvg:this.dsvg}),this.ledIndexWatcher=new s.Function(this.dev,(a=this,function(e){var t,n,r,i,o;for(a.ledIndices=[],t=n=0,i=e.router.getOBankCalcCh(a.bn);0<=i?n<i:n>i;t=0<=i?++n:--n)null!=(r=e.router.getOBankChMeterIndex({bn:a.bn,cn:t}))&&a.ledIndices.push(r);return null!=(o=a.ledWatcher)?o.inval():void 0})),this.ledWatcher=new s.Function(this.dev,function(e){return function(t){return e.updateLED(t)}}(this))),this.icons=[],t=0,n=(o=this.allChPaths()).length;t<n;t++)i=o[t],this.dev.addListener(i,this);this.inval()}return e.prototype.hilite=function(e){return this.box.hilite(e)},e.prototype.updateLED=function(e){var t,n,r,i,o,a,s,l;if(null!=this.led){for(null==e&&(e=this.dev),l=null!=(o=e.get("meters/ext/input"))?o:[],i=0,n=0,r=(a=this.ledIndices).length;n<r;n++)(null!=(s=l[t=a[n]])?s:0)>i&&(i=l[t]);return this.led.setValue(i)}},e.prototype.reflow=function(e,t){var n,r,o,a;return this.row=e,this.visible=t,this.visible?(this.box.show(),null!=(r=this.led)&&r.show(),n=this.row*i.CellWidth,this.box.setBox({left:_,right:k-.5,top:n,bottom:n+i.CellWidth}),null!=(o=this.led)&&o.setPos({cx:k-3.5-4,cy:n+i.CellWidth/2,r:4})):(this.box.hide(),null!=(a=this.led)&&a.hide()),this.inval()},e.prototype.allChPaths=function(){var e,t,n,r;for(r=[],e=t=0,n=this.dev.router.getOBankMaxCh(this.bn);0<=n?t<n:t>n;e=0<=n?++t:--t)r.push("meta/obank/"+this.bn+"/ch/"+e+"/src");return r},e.prototype.calcChPaths=function(){var e,t,n,r;for(r=[],e=t=0,n=this.dev.router.getOBankCalcCh(this.bn);0<=n?t<n:t>n;e=0<=n?++t:--t)r.push("meta/obank/"+this.bn+"/ch/"+e+"/src");return r},e.prototype.remove=function(){var e,t,n,r,i,o,a,s,l,u,c;for(t=0,r=(a=this.allChPaths()).length;t<r;t++)o=a[t],this.dev.removeListener(o,this);for(null!=(s=this.ledIndexWatcher)&&s.remove(),null!=(l=this.ledWatcher)&&l.remove(),c=[],n=0,i=(u=this.icons).length;n<i;n++)e=u[n],c.push(e.remove());return c},e.prototype.inval=function(){return null!=this.deferredUpdate?this.deferredUpdate:this.deferredUpdate=o.defer((e=this,function(){return e.update()}));var e},e.prototype.updateIconsForOneRow=function(e,t,n){var r,o,a,s,l,u;if(u=this.dev.get(e))return r=(l=u.split(":"))[0],o=l[1],null!=(a=this.lookup(u))&&null==n[a]&&(n[a]=new i.Icon({icon:"group-item full-src-route",c:a,r:this.row,dsvg:this.gridDsvg})),null!=(s=this.lookup(""+r))?(null==n[s]&&(n[s]=new i.Icon({icon:"group-group",c:s,r:this.row,dsvg:this.gridDsvg})),null==t[s]&&(t[s]={groupCh:[],bn:r}),t[s].groupCh.push(o)):void 0},e.prototype.update=function(){return this.updateText(),this.updateIcons()},e.prototype.updateText=function(){},e.prototype.updateIcons=function(){var e,t,n,r,i,a,s,l,u,c,h,p,d,f,v,m,g;for(delete this.deferredUpdate,l=0,c=(f=this.icons).length;l<c;l++)(r=f[l]).remove();if(this.icons=[],this.visible){for(a={},i={},u=0,h=(v=this.calcChPaths()).length;u<h;u++)d=v[u],this.updateIconsForOneRow(d,i,a);for(t in i)n=(m=i[t]).groupCh,e=m.bn,[],p=o.union(n).length,r=a[t],p>=this.dev.router.getOBankCalcCh(this.bn)&&r.addClass("full-dest-route"),p>=this.dev.router.getIBankCalcCh(e)&&r.addClass("full-src-route");for(s in g=[],a)r=a[s],g.push(this.icons.push(r));return g}},e}(),C={Phones:"img/headphones.svg",Main:"img/mains.svg",Monitor:"img/monitors.svg","Mix Monitor":"img/monitors.svg",Guitar:"img/guitar.svg",SPDIF:"img/spdif.svg","Mix Main":"img/mains.svg","Mix Reverb":"img/reverb.svg"},y=function(e){return o.any(["ADAT","SPDIF","MADI","Computer"],function(t){return-1!==e.indexOf(t)})},f=function(e){function t(e){var t,n,o,a,l;this.dev=e.dev,this.io=e.io,this.bn=e.bn,this.dsvg=e.dsvg,n=e.gridDsvg,o=e.lookup,a=this.dev.router["get"+this.io.Bank+"Name"](this.bn),this.image=C[a],this.image&&(this.image={url:this.image,size:{width:i.CellWidth,height:i.CellWidth-4}}),this.box=new r.TextBox({dsvg:this.dsvg,extraCss:"groupLabel "+this.io.css,image:this.image}),this.titleWatch=new s.Function(this.dev,(l=this,function(e){var t,n,r;return t=e.router["get"+l.io.Bank+"Title"](l.bn),n=e.router["get"+l.io.Bank+"CalcCh"](l.bn),"true"!==e.get("preferences/dt_"+l.io.mode+l.bn)&&(r=t.match(/(From|To) Computer \((TB|USB)\)/))&&(n<=4?t=r[2]:n<=6&&(t=r[1]+"  "+r[2])),l.box.setText(t)})),this.arrow=new r.DisclosureArrow({dsvg:this.dsvg,direction:"down"}),this.clicky=new r.ClickBox({dsvg:this.dsvg,extraCss:"groupLabel "+this.io.css}),"out"===this.io.mode&&(this.sourceView=new v({dev:this.dev,bn:this.bn,dsvg:this.dsvg,gridDsvg:n,lookup:o})),y(a)&&(t="ext/"+this.io.bank+"/"+this.bn+"/ch/0/connection",null!=this.dev.get(t)&&new s.Function(this.dev,function(e){return function(n){return c.setClass(e.box.text.text,"disconnected",!Number(n.get(t)))}}(this))),"in"===this.io.mode&&h.works({dev:this.dev,cap:"activityMeters"})&&this.setupLED(),"out"===this.io.mode&&null!=this.dev.get("ext/ab/a/enable")&&(this.showAB=!1,this.abLabel=new r.TextBox({dsvg:this.dsvg,extraCss:"routeOutput abLabel",text:""}),new s.Function(this.dev,function(e){return function(t){var n,r,i,o,a;return r=t.get("ext/ab/a/dst"),o=t.get("ext/ab/b/dst"),a="stereo"!==t.get("ext/ab/a/mode")&&"Analog"===t.router.getOBankName(e.bn),""===r&&(r="-1:0"),""===o&&(o="-1:0"),n=r.split(":")[0],i=o.split(":")[0],+n!=+e.bn&&!a||+i!=+e.bn?+n==+e.bn||a?(e.showAB=!0,e.abLabel.setText("A")):+i==+e.bn?(e.showAB=!0,e.abLabel.setText("B")):e.showAB=!1:(e.showAB=!0,e.abLabel.setText("...")),e.maybeShowAB()}}(this)))}return T(t,e),t.prototype.maybeShowAB=function(){var e,t;if(this.collapsed&&this.showAB)return null!=(t=this.abLabel)?t.show():void 0;null!=(e=this.abLabel)&&e.hide()},t.prototype.setupLED=function(){var e;return this.led=new r.LED({dsvg:this.dsvg}),this.ledIndexListen=new s.Function(this.dev,(e=this,function(t){var n;return e.startLEDIndex=t.router.getIBankChMeterIndex({bn:e.bn,cn:0}),e.endLEDIndex=t.router.getIBankChMeterIndex({bn:e.bn,cn:t.router["get"+e.io.Bank+"CalcCh"](e.bn)}),null!=(n=e.ledListen)?n.inval():void 0})),this.ledListen=new s.Function(this.dev,function(e){return function(t){return e.updateLED(t)}}(this))},t.prototype.updateLED=function(e){var t,n,r,i,o,a,s,l;if(null!=this.led){for(null==e&&(e=this.dev),l=null!=(i=e.get("meters/ext/input"))?i:[],r=0,t=n=o=this.startLEDIndex,a=this.endLEDIndex;o<=a?n<a:n>a;t=o<=a?++n:--n)(null!=(s=l[t])?s:0)>r&&(r=l[t]);return this.led.setValue(r)}},t.prototype.getElems=function(){var e;return o.flatten(function(){var t,n,r,i,o;for(o=[],t=0,n=(r=[this.box,this.arrow,this.clicky,this.led]).length;t<n;t++)e=r[t],o.push(null!=(i=null!=e?e.getElems():void 0)?i:[]);return o}.call(this))},t.prototype.reflow=function(e,t,n,r){var a,s,l,u,c,h,p;if(this.collapsed=t,null!=(c=this.sourceView)&&c.reflow(n,this.collapsed&&r),r)return p=this,h=function(){return p.box.hasImage()?p.box.showTextAndHideImage():p.box.showText()},s=function(e){return function(){return e.box.hasImage()?e.box.hideTextAndShowImage():e.box.hideText()}}(this),this.show(),this.box.setClass("collapsed",this.collapsed),l=e.info.length*i.CellWidth,a=n*i.CellWidth,this.maybeShowAB(),u=this.io.mode+(t?"_collapsed":""),{out:function(e){return function(){var t,n,r,i,u;for(t={left:0,right:b,top:a,bottom:l},n=0,r=(i=[e.box,e.clicky]).length;n<r;n++)i[n].setBox(t);return e.box.setAlignment({align:"middle",vAlign:"center",direction:"vertical"}),e.arrow.setPos({x:5,y:a+5}),e.arrow.setDirection("down"),(u=o.clone(t)).top+=7,e.box.setTextBox(u),e.dev.router["get"+e.io.Bank+"CalcCh"](e.bn)<4?s():h()}}(this),out_collapsed:function(e){return function(){var t,n,r,a,s,u;for(t={left:0,right:_,top:l,bottom:l+i.CellWidth},n=0,r=(a=[e.box,e.clicky]).length;n<r;n++)a[n].setBox(t);return e.box.setAlignment({align:"end"}),e.arrow.setPos({x:4,y:l+5}),e.arrow.setDirection("right"),(u=o.clone(t)).left+=7,e.box.setTextBox(u),h(),null!=(s=e.abLabel)?s.setBox({left:20,right:38,top:l+2,bottom:l+i.CellWidth-2}):void 0}}(this),in:function(e){return function(){var t,n,r,u,c;for(t={left:a,top:1,right:l,bottom:i.CellWidth},n=0,r=(u=[e.box,e.clicky]).length;n<r;n++)u[n].setBox(t);return e.box.setAlignment({align:"middle",vAlign:"center"}),e.arrow.setPos({x:5+a,y:5}),e.arrow.setDirection("right"),null!=e.led&&((c=o.clone(t)).left+=7,e.box.setTextBox(c),e.led.hide()),e.dev.router["get"+e.io.Bank+"CalcCh"](e.bn)<4?s():h()}}(this),in_collapsed:function(e){return function(){var t,n,r,s,u;for(t={left:l,top:1,bottom:S-.5,right:l+i.CellWidth},n=0,r=(s=[e.box,e.clicky]).length;n<r;n++)s[n].setBox(t);return e.box.setAlignment({align:"start",direction:"vertical"}),e.arrow.setPos({x:5+a,y:4}),e.arrow.setDirection("down"),null!=e.led&&((u=o.clone(t)).top+=7,u.bottom-=11,e.box.setTextBox(u),e.led.setPos({cy:S-3.5-4,cx:l+i.CellWidth/2,r:4}),e.led.show()),h()}}(this)}[u](),t?(e.reverseLookup[""+this.bn]=e.info.length,e.info.push({type:"group",bn:this.bn,label:this})):void 0;this.hide()},t.prototype.hilite=function(e){var t;return this.box.hilite(e),null!=(t=this.sourceView)?t.hilite(e):void 0},t}(r.SVGGroup),d=function(){function e(e){var t,r,i,o,a,l,u;for(this.dev=e.dev,this.dsvg=e.dsvg,this.bn=e.bn,this.io=e.io,this.onStateChanged=e.onStateChanged,o=e.lookup,r=e.gridDsvg,this.availListener=new s.Function(this.dev,(u=this,function(e){var t;if(t=+e.get("meta/"+u.io.bank+"/"+u.bn+"/calcCh"),null==u.lastCalcCh&&(u.lastCalcCh=t),u.lastCalcCh!==t)return u.lastCalcCh=t,"function"==typeof u.onStateChanged?u.onStateChanged():void 0})),this.group=new f({dev:this.dev,bn:this.bn,io:this.io,dsvg:this.dsvg,lookup:o,gridDsvg:r}),this.items=[],t=i=0,a=this.dev.router["get"+this.io.Bank+"MaxCh"](this.bn);0<=a?i<a:i>a;t=0<=a?++i:--i)this.items.push(new p({dev:this.dev,io:this.io,dsvg:this.dsvg,bn:this.bn,cn:t,lookup:o,gridDsvg:r}));this.collapsedPath="preferences/dt_"+this.io.mode+this.bn,l=this.dev.get(this.collapsedPath),this.collapsed=null==l||"true"===l,this.listen=new n.Listener({proxy:this,node:this.group.clicky.getNode(),events:["mouseenter","mouseleave","dragdown"]})}return e.prototype.mouseenter=function(){return this.group.arrow.addClass("hover")},e.prototype.mouseleave=function(){return this.group.arrow.removeClass("hover")},e.prototype.isCollapsed=function(){return this.collapsed},e.prototype.setCollapsed=function(e){return this.collapsed=e,this.dev.set(this.collapsedPath,""+this.collapsed),"function"==typeof this.onStateChanged?this.onStateChanged():void 0},e.prototype.dragdown=function(e,t,n){return this.setCollapsed(!this.collapsed),n.stopPropagation(),n.preventDefault(),t.remove()},e.prototype.reflow=function(e){var t,n,r,i,o,a,s;for(n=e.info.length,t=this.dev.router["get"+this.io.Bank+"CalcCh"](this.bn),t="LTC Clock"===this.dev.router["get"+this.io.Bank+"Name"](this.bn)?0:t,s=this.collapsed?0:t,r=i=0,o=(a=this.items).length;i<o;r=++i)a[r].reflow(e,r<s);return this.group.reflow(e,this.collapsed,n,t>0)},e.prototype.remove=function(){return this.listen.remove()},e}(),(m=function(){function e(e){var n,r,i,o,a,s,l,u;n=e.div,this.dev=e.dev,o=e.inout,l=e.onStateChanged,i=e.gridDsvg,a=e.inputLabels,this.io=x[o],this.groups=[],this.info=[],r=document.createDocumentFragment(),this.dsvg=new t.SVGContext,r.appendChild(this.dsvg.div),this.dsvg.svg.setAttribute("class",this.io.svgCss),s=function(e){var t;return null!=(t=a.reverseLookup)?t[e]:void 0},this.dev.router["map"+this.io.Bank+"s"]((u=this,function(e,t){return u.groups.push(new d({dsvg:u.dsvg,dev:u.dev,bn:t,io:u.io,gridDsvg:i,onStateChanged:l,lookup:s}))})),n.appendChild(r)}return e.prototype.remove=function(){},e.prototype.reflow=function(){var e,t,n,r,o;for(r={info:[],reverseLookup:{}},e=0,t=(n=this.groups).length;e<t;e++)n[e].reflow(r);return this.info=r.info,this.reverseLookup=r.reverseLookup,{in:(o=this,function(){return o.dsvg.setSize(i.CellWidth*o.info.length+1,S+1)}),out:function(e){return function(){return e.dsvg.setSize(k+1,i.CellWidth*e.info.length+1)}}(this)}[this.io.mode]()},e.prototype.setHilite=function(e){var t;return null!=this.hilite&&this.info[this.hilite].label.hilite(0),null!=(t=this.info[e])&&t.label.hilite(1),this.hilite=e},e}()).OutputHeader=function(){function e(e){var n,o,a;n=e.div,this.dev=e.dev,null==this.labelsUIs&&(this.labelsUIs=[]),this.dsvg=new t.SVGContext(260+i.CellWidth-3,i.CellWidth+1),new u({scope:"routing",node:n,dev:this.dev,extraCss:"devBtn"}),n.appendChild(this.dsvg.div),a=this,(o=function(e){var t,n;return t=e.box,n=e.text,new r.TextBox({dsvg:a.dsvg,extraCss:"outputHeader",alignment:{align:"end"},box:t,text:n})})({box:{left:0,top:1,right:140+i.CellWidth,bottom:i.CellWidth+.5},text:"Output"}),o({box:{left:140+i.CellWidth,top:1,right:260+i.CellWidth,bottom:i.CellWidth+.5},text:"Source"})}return e.prototype.remove=function(){},e}(),m}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(1)],void 0===(i=function(e){return function(){function t(e){this.cols=e.inputLabels,this.rows=e.outputLabels,this.dev=e.dev}return t.prototype.routeDispatch=function(e,t){var n,r,i,o,a;return o=e.row,n=e.col,i=e.intent,r=this.rows.info[o],a=this.cols.info[n],t[r.type+"_"+a.type+"_"+i]({dest:r,src:a})},t.prototype.mapGroup=function(e,t){var n,r,i,o,a;for(n=e.bn,a=[],r=i=0,o=this.dev.router.getOBankCalcCh(n);0<=o?i<o:i>o;r=0<=o?++i:--i)a.push(t({bn:n,cn:r}));return a},t.prototype.getSrcString=function(e){return e?e.bn+":"+e.cn:""},t.prototype.getSrcStringBank=function(e){return e?+e.split(":")[0]:null},t.prototype.srcMatches=function(e,t){return"item"===e.type?t===this.getSrcString(e):t&&+e.bn==+this.getSrcStringBank(t)},t.prototype.itemMatches=function(e,t,n){var r,i,o;return r=e.dest,o=e.src,i=this.dev.router.getOBankChSrc(r),null==t&&(t=!0),null==n&&(n=!1),this.srcMatches(o,i)?t:n},t.prototype.groupMatches=function(t,n,r){var i,o,a;return i=t.dest,o=t.src,null==n&&(n=!0),null==r&&(r=!1),e.any(this.mapGroup(i,(a=this,function(e){return a.itemMatches({src:o,dest:e})})))?n:r},t.prototype.matches=function(e){var t,n;return t=e.dest,n=e.src,"group"===t.type?this.groupMatches({dest:t,src:n}):this.itemMatches({dest:t,src:n})},t.prototype.getIntentValid=function(e,t,n){var r,i,o;return i=e.row,r=e.col,"invalid"!==t&&(this.rows.info[i],this.cols.info[r],this.routeDispatch({row:i,col:r,intent:t},{item_item_route:function(){return!0},item_item_unroute:(o=this,function(e){return o.itemMatches(e)}),item_group_route:function(){return!1},item_group_unroute:function(e){return function(t){return e.itemMatches(t)}}(this),item_group_verticalGroupRoute:function(){var e;return e=n.index<n.maxCh,n.index++,e},group_item_route:function(){return!1},group_item_unroute:function(e){return function(t){return e.groupMatches(t)}}(this),group_item_horizontalGroupRoute:function(){var e;return e=n.index<n.maxCh,n.index++,e},group_group_route:function(){return!1},group_group_unroute:function(e){return function(t){return e.groupMatches(t)}}(this),group_group_horizontalGroupRoute:function(e){return function(t){var r,i;return r=t.src,t.dest,i=n.index<n.maxCh,n.index+=e.dev.router.getIBankCalcCh(r.bn),i}}(this),group_group_verticalGroupRoute:function(e){return function(t){var r,i;return t.src,r=t.dest,i=n.index<n.maxCh,n.index+=e.dev.router.getOBankCalcCh(r.bn),i}}(this)}))},t.prototype.getConcreteRoutes=function(e,t,n){var r,i,o;return i=e.row,r=e.col,e.valid?this.routeDispatch({row:i,col:r,intent:t},{item_item_route:function(e){return e},item_item_unroute:function(e){return{dest:e.dest}},item_group_unroute:function(e){return{dest:e.dest}},item_group_verticalGroupRoute:function(e){var t;return t=e.src.bn,{dest:e.dest,src:{bn:t,cn:n.index++}}},group_item_unroute:(o=this,function(e){var t,n;return n=e.src,t=e.dest,o.mapGroup(t,function(e){return o.itemMatches({dest:e,src:n},{dest:e},[])})}),group_item_horizontalGroupRoute:function(e){return{src:e.src,dest:{bn:e.dest.bn,cn:n.index++}}},group_group_route:function(e){return function(t){var n,r;return r=t.src,n=t.dest,e.mapGroup(n,function(t){return t.cn<e.dev.router.getIBankCalcCh(r.bn)?{dest:t,src:{bn:r.bn,cn:t.cn}}:{dest:t}})}}(this),group_group_unroute:function(e){return function(t){var n,r;return r=t.src,n=t.dest,e.mapGroup(n,function(t){return e.itemMatches({dest:t,src:r},{dest:t},[])})}}(this),group_group_horizontalGroupRoute:function(e){return function(t){var r,i,o;return o=t.src,i=t.dest,function(){var e,t,a;for(a=[],r=e=0,t=this.dev.router.getIBankCalcCh(o.bn);0<=t?e<t:e>t;r=0<=t?++e:--e)n.index<n.maxCh?a.push({src:{bn:o.bn,cn:r},dest:{bn:i.bn,cn:n.index++}}):a.push([]);return a}.call(e)}}(this),group_group_verticalGroupRoute:function(e){return function(t){var r,i,o;return o=t.src,i=t.dest,function(){var e,t,a;for(a=[],r=e=0,t=this.dev.router.getOBankCalcCh(i.bn);0<=t?e<t:e>t;r=0<=t?++e:--e)n.index<n.maxCh?a.push({src:{bn:o.bn,cn:n.index++},dest:{bn:i.bn,cn:r}}):a.push([]);return a}.call(e)}}(this)}):[]},t.prototype.initState=function(e,t){var n,r,i,o;return i=e.row,r=e.col,"function"==typeof(n={horizontalGroupRoute:(o=this,function(){var e;return e=o.rows.info[i].bn,{maxCh:o.dev.router.getOBankCalcCh(e),index:0,bn:e}}),verticalGroupRoute:function(e){return function(){var t;return t=e.cols.info[r].bn,{maxCh:e.dev.router.getIBankCalcCh(t),index:0,bn:t}}}(this),route:function(){return{start:{row:i,col:r}}}})[t]?n[t]():void 0},t.prototype.getFinalConcreteRoutesForState=function(e,t){var n,r;return null!=(r="function"==typeof(n={horizontalGroupRoute:function(){var t,n,r,i,o;for(o=[],t=n=r=e.index,i=e.maxCh;r<=i?n<i:n>i;t=r<=i?++n:--n)o.push({dest:{bn:e.bn,cn:t}});return o}})[t]?n[t]():void 0)?r:[]},t.prototype.diagonalDrag=function(e,t){var n,r,i,o,a,s,l,u;for(i=e.row>t.row?-1:1,r=e.col>t.col?-1:1,s=[],o=a=0,l=Math.max(Math.abs(e.row-t.row),Math.abs(e.col-t.col));(0<=l?a<=l:a>=l)&&(n=e.col+o*r,u=e.row+o*i,!(n<0||u<0||n>=this.cols.info.length||u>=this.rows.info.length));o=0<=l?++a:--a)s.push({col:n,row:u});return s},t.prototype.verticalDrag=function(e,t){var n;return function(){var r,i,o,a;for(a=[],n=r=i=e.row,o=t.row;i<=o?r<=o:r>=o;n=i<=o?++r:--r)a.push({col:e.col,row:n});return a}()},t.prototype.horizontalDrag=function(e,t){var n;return function(){var r,i,o,a;for(a=[],n=r=i=e.col,o=t.col;i<=o?r<=o:r>=o;n=i<=o?++r:--r)a.push({row:e.row,col:n});return a}()},t.prototype.clickDrag=function(e){return[e]},t.prototype.annotateValidity=function(e,t){var n,r,i,o,a;for(o=this.initState(t[0],e),n=0,r=t.length;n<r;n++)i=t[n],a=this.getIntentValid(i,e,o),i.valid=a;return t},t.prototype.getDragInfo=function(e,t){var n,r,i,o,a,s,l,u,c,h,p,d,f,v,m,g,b;for(r=this.rows.info[e.row],v=this.cols.info[e.col],h=this.matches({dest:r,src:v}),a=r.type+"_"+v.type+"_"+h,b={item_item_true:g={diagonal:"unroute",vertical:"unroute",click:"unroute"},item_item_false:{diagonal:"route",click:"route"},item_group_true:g,item_group_false:{vertical:"verticalGroupRoute"},group_item_true:m={diagonal:"unroute",vertical:"unroute",click:"unroute",horizontal:"unroute"},group_item_false:{horizontal:"horizontalGroupRoute"},group_group_true:m,group_group_false:{vertical:"verticalGroupRoute",horizontal:"horizontalGroupRoute",click:"horizontalGroupRoute"}}[a],i=Math.abs(e.col-t.col),o=Math.abs(e.row-t.row),f=i+o!==0?["diagonal"]:[],d=function(){if(0!==o)return 2*i<o?f.unshift("vertical"):f.push("vertical")},p=function(){if(0!==i)return 2*o<i?f.unshift("horizontal"):f.push("horizontal")},o<=i?(p(),d()):(d(),p()),f.push("click"),l=0,u=f.length;l<u;l++)if(null!=b[n=f[l]]){s=b[n],c=this[n+"Drag"](e,t);break}return null==s?{intent:"invalid",locations:[{row:e.row,col:e.col,valid:!1}]}:{intent:s,locations:this.annotateValidity(s,c)}},t.prototype.performRoute=function(t,n){var r,i,o,a,s,l,u,c,h,p,d,f,v,m;for(p=this.getDragInfo(t,n),s=p.intent,h=p.locations,m=this.initState(t,s),a=e.flatten([function(){var e,t,n;for(n=[],e=0,t=h.length;e<t;e++)c=h[e],n.push(this.getConcreteRoutes(c,s,m));return n}.call(this),this.getFinalConcreteRoutesForState(m,s)]),i={},l=0,u=a.length;l<u;l++)r=(f=(d=a[l]).dest).bn,o=f.cn,v=d.src,i["ext/obank/"+r+"/ch/"+o+"/src"]=this.getSrcString(v);return this.dev.setMultiple(i)},t}()}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(64),n(3)],void 0===(i=function(e,t){var n;return"rgb(66, 66, 66)","#242424",n=[{id:"VGridBG",x1:0,y1:0,x2:0,y2:1,stops:[{offset:"0%",color:"rgb(33, 39, 43)"},{offset:"100%",color:"rgb(24, 30, 34)"}]},{id:"HGridBG",x1:0,y1:0,x2:0,y2:1,stops:[{offset:"0%",color:"red"},{offset:"100%",color:"blue"}]},{id:"HGridShadow",x1:0,y1:0,x2:1,y2:0,stops:[{offset:"0%",color:"rgb(0,0,0)",opacity:"70%"},{offset:"100%",color:"rgb(0,0,0)",opacity:"0%"}]}],function(){function r(r){var i,o,a;for(this.div=r,this.dsvg=new e.SVGContext,this.div.appendChild(this.dsvg.div),this.dsvg.div.style.visibility="hidden",this.dsvg.div.style.position="absolute",o=0,a=n.length;o<a;o++)i=n[o],this.dsvg.makeLinearGradient(i);this.style=t.appendSpec(this.dsvg.div,{type:"style",textContent:"\n.gridBG {\n  fill: url(#VGridBG);\n}"}),this.style.type="text/css"}return r.prototype.remove=function(){return this.dsvg.remove()},r}()}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(3),n(64),n(2),n(1),n(44),n(340),n(339),n(22),n(150),n(338),n(21),n(68),n(5),n(16),n(337)],void 0===(i=function(e,t,n,r,i,o,a,s,l,u,c,h,p,d,f){var v,m,g,b=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},y={}.hasOwnProperty;return v=function(){function t(t){var n,r,i,o,a,s,l;for(o=t.node,this.labelsUI=t.labelsUI,this.dev=t.dev,this.node=e.appendSpec(o,{className:"expandCollapseButton"}),this.working=!1,s={},r=0,i=(a=this.labelsUI.groups).length;r<i;r++)s[(n=a[r]).collapsedPath]=n.collapsedPath;this.reaction=new p.Reaction({slots:s,f:(l=this,function(){return l.updateExpandOrCollapse()}),src:this.dev,gatherSlots:!1}),this.reaction.inval(),this.listener=new d.FunctionButton({node:this.node,f:function(e){return function(){return e.perform()}}(this)})}return t.prototype.wouldExpandOrCollapse=function(){return r.any(this.labelsUI.groups,function(e){return!e.isCollapsed()})?"collapse":"expand"},t.prototype.perform=function(){var e,t,n,r;for(this.working=!0,r=this.wouldExpandOrCollapse(),e=0,t=(n=this.labelsUI.groups).length;e<t;e++)n[e].setCollapsed("collapse"===r);return this.working=!1,this.reaction.inval()},t.prototype.updateExpandOrCollapse=function(){var t,n,r,i,o,a;if(!this.working){for(a=this.wouldExpandOrCollapse(),i=[],t=0,n=(r=["collapse","expand"]).length;t<n;t++)o=r[t],i.push(e.setClass(this.node,o,a===o));return i}},t}(),g=function(e,t){return e.classList.add(t),setTimeout(function(){return e.classList.remove(t)},500)},m=function(){function t(t){var n,c,h,d,f,m,b,y,C,x,_,w,S;for(this.dev=t.dev,n=t.content,this.icons=[],this.currDrags=[],this.updatepreview=r.throttle((S=this,function(){return S.doUpdatePreview()}),this.mouseThrottleTime),_=e.appendSpec(n,{className:"routeDivRow"}),x=e.appendSpec(_,{className:"routeWrapper"}),this.div=e.appendSpec(x,{className:"routeDiv"}),w=e.appendSpec(this.div,{className:"routeTableWrapper"}),this.gradients=new o(w),this.table=new i({node:w,scrollX:!0,extraCss:"routingContent",dev:this.dev,id:"router"}),this.table.showXHeader(),this.table.showYHeader(),m=e.appendSpec(this.table.container,{className:"routeLegendY"}),e.appendSpec(m,{type:"p",className:"routingYHeader",textContent:"Outputs"}),f=e.appendSpec(this.table.container,{className:"routeLegendX"}),e.appendSpec(f,{type:"p",textContent:"Inputs"}),this.routingGrid=new l(this.table.content),this.cols=new u({dev:this.dev,div:this.table.xHeader,inout:"in",onStateChanged:function(e){return function(){return e.update()}}(this)}),this.rows=new u({dev:this.dev,div:this.table.yHeader,inout:"out",onStateChanged:function(e){return function(){return e.update()}}(this),gridDsvg:this.routingGrid.dsvg,inputLabels:this.cols}),this.colsExpandCollapse=new v({node:f,labelsUI:this.cols,dev:this.dev}),this.rowsExpandCollapse=new v({node:m,labelsUI:this.rows,dev:this.dev}),this.outputsHeader=new u.OutputHeader({div:this.table.xyHeader,dev:this.dev}),this.lockButton=e.appendSpec(this.table.xyHeader,{className:"devBtn lock routingLock"}),this.lockButton.addEventListener("click",function(e){return function(){return e.dev.set("preferences/router/routingGridLocked",+!e.dev.get("preferences/router/routingGridLocked"))}}(this)),this.lockButtonReaction=new p.Function(this.dev,function(e){return function(t){return t.get("preferences/router/routingGridLocked")?(e.lockButton.classList.add("locked"),e.div.classList.add("locked")):(e.lockButton.classList.remove("locked"),e.div.classList.remove("locked"))}}(this)),this.logic=new a({inputLabels:this.cols,outputLabels:this.rows,dev:this.dev}),this.doUpdate(),y={},c=!1,C=["dragdown","dragup","mousemove","mouseleave","dragmove","dragcancel"],h=function(e){return function(t){return y[t]=function(n,r,i){var o,a;return e.dev.get("preferences/router/routingGridLocked")?"dragdown"!==t||c?void 0:(g(e.lockButton,"routingLockFlash"),c=!0,o=0,a=setInterval(function(){if(g(e.lockButton,"routingLockFlash"),++o>=2)return clearInterval(a),c=!1},1e3)):e["grid"+t](e.routingGrid.clientToRowCol(n),r,i)}}}(this),d=0,b=C.length;d<b;d++)h(C[d]);this.gridListen=new s.Listener({node:this.routingGrid.getClickNode(),proxy:y})}return t.prototype.numDevicesChanged=function(){},t.prototype.mouseThrottleTime=1e3/15,t.prototype.remove=function(){var e,t,n,r,i;for(r=[],e=0,t=(n=[this.gridListen,this.cols,this.rows,this.outputsHeader,this.gradients,this.resizer,this.dev]).length;e<t;e++)i=n[e],r.push(null!=i&&"function"==typeof i.remove?i.remove():void 0);return r},t.prototype.update=function(){return null!=this.deferredUpdate?this.deferredUpdate:this.deferredUpdate=r.defer((e=this,function(){return e.doUpdate()}));var e},t.prototype.doUpdate=function(){return delete this.deferredUpdate,this.cols.reflow(),this.rows.reflow(),this.routingGrid.reset(this.cols.info.length,this.rows.info.length),this.doUpdatePreview()},t.prototype.doUpdatePreview=function(){var e,t,n,r,i,o,a,s,u,c,h,p,d,f,v,m,g,y,C,x,_;for(o=0,u=(v=this.icons).length;o<u;o++)v[o].remove();for(this.icons=[],this.mouseOver&&(i=this.logic.getDragInfo(this.mouseOver,this.mouseOver).intent,this.icons.push(new l.Icon({icon:i+" preview start",c:this.mouseOver.col,r:this.mouseOver.row,dsvg:this.routingGrid.dsvg})),m=this.hiliteDrag,b.call(this.currDrags,m)<0&&(n=this.mouseOver)),a=0,c=(g=this.currDrags).length;a<c;a++)for(t=g[a],i=(y=this.logic.getDragInfo(t.startGridLoc,t.gridLoc)).intent,d=y.locations,this.hiliteDrag===t&&(n=d[d.length-1]),t.focusClientPos=this.routingGrid.rowColToClient(d[d.length-1]),s=0,h=d.length;s<h;s++)_=(C=d[s]).row,e=C.col,r=i+(C.valid?"":" invalid"),this.icons.push(new l.Icon({icon:r+" preview",c:e,r:_,dsvg:this.routingGrid.dsvg}));if(null!=n)return this.cols.setHilite(n.col),this.rows.setHilite(n.row),this.routingGrid.setHilite(n.row,n.col);for(f=0,p=(x=[this.rows,this.cols]).length;f<p;f++)x[f].setHilite(null);return this.routingGrid.setHilite()},t.prototype.gridmouseleave=function(){return delete this.mouseOver,this.updatepreview()},t.prototype.gridmousemove=function(e){return this.mouseOver=e,this.updatepreview()},t.prototype.griddragmove=function(e,t){return this.hiliteDrag=t,t.gridLoc=e,this.updatepreview()},t.prototype.griddragdown=function(e,t,n){return"mouse"===t.type&&delete this.mouseOver,t.startGridLoc=e,t.gridLoc=e,this.currDrags.push(t),this.hiliteDrag=t,this.updatepreview(),n.stopPropagation(),n.preventDefault()},t.prototype.griddragcancel=function(e,t){return this.hiliteDrag===t&&delete this.hiliteDrag,this.currDrags=r.without(this.currDrags,t),this.updatepreview()},t.prototype.griddragup=function(t,i,o){var a;return this.hiliteDrag===i&&delete this.hiliteDrag,this.currDrags=r.without(this.currDrags,i),this.logic.performRoute(i.startGridLoc,t),"mouse"===i.type&&(a=e.getBoundingClientRect(this.routingGrid.getClickNode()),n.pointInRect({x:o.clientX,y:o.clientY},a)&&this.gridmousemove(t)),this.updatepreview()},t}(),function(t){function n(){var t,r,i;(n.__super__.constructor.apply(this,arguments),this.alert=c.doAlertCheck({dev:this.dev,cap:"router",task:"Routing",node:this.div}),null==this.alert)&&(this.content=e.appendSpec(this.div,{className:"routingPane"}),i=this,r=[function(e){return new f.InputBanks({node:e,dev:i.dev,id:"inBankEnable"})},function(e){return function(t){return new f.OutputBanks({node:t,dev:e.dev,id:"outBankEnable"})}}(this),function(e){return function(t){return new f.StreamConnections({node:t,dev:e.dev,id:"streamConnections"})}}(this)],t=["Enable Inputs","Enable Outputs","AVB Configuration"],this.selUI=new f.Controller({dev:this.dev,node:this.extra,selUIs:r,titles:t}),this.internalRoutingUI=new m({dev:this.dev,content:this.content}),this.selUI.updateSize())}return function(e,t){for(var n in t)y.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,h),n.needsSpinner=!0,n.needsTarget=!0,n.needsExtra=!0,n.ID="routing",n.label="Routing",n.extraLabel="Routing Setup",n.extraID="routing-setup",n.prototype.remove=function(){var e,t,r;return null!=(e=this.internalRoutingUI)&&e.remove(),null!=(t=this.alert)&&t.remove(),null!=(r=this.selUI)&&r.remove(),n.__super__.remove.call(this)},n}()}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(3)],void 0===(i=function(e){return function(){function t(t){var n;n=t.extraCss,this.parent=e.appendSpec(document.body,{className:"modalPaneWrapper "+(null!=n?n:"")}),this.node=e.appendSpec(this.parent,{className:"modalPane "+(null!=n?n:"")})}return t.prototype.getNode=function(){return this.node},t.prototype.getPane=function(){return this.parent},t.prototype.remove=function(){return e.remove(this.parent)},t}()}.apply(t,r))||(e.exports=i)},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,"._3sC3B_wizardSelectorBackground{width:100%;height:100%;position:absolute;z-index:3;top:0;left:0;background-color:#212121}._3Be0D_startWizardBtnContainer{text-align:center}._cTX4w_stepNumber{width:40px;height:40px;background-color:#ababab;float:left;position:absolute;border-radius:20px;margin-left:6px;margin-top:6px;font-size:25px;line-height:40px;color:#0b1318}._2k-D7_xButton{background-color:inherit;color:#ababab;border:2px solid #ababab;width:20px;height:20px;font-size:14px;line-height:20px;margin-left:10px;margin-top:17px;border-radius:15px;display:inline-block;cursor:pointer;vertical-align:top}._2k-D7_xButton:hover{color:#49aef8;border-color:#49aef8}._2vvM8_wizardTitle{display:inline-block;padding-left:10px;max-width:88%}._1Ivwc_scrollX{overflow-x:scroll}._YKKOe_table{width:100%;border:3px solid #292f36;border-left:0;background-color:#0b1318;height:328px;overflow-y:scroll;overflow-x:hidden;box-sizing:border-box;text-align:left;padding:12px;margin:auto}._fDQ_T_tableRowNoHover,._lKziD_tableRow{float:left;width:100%;font-size:12px;color:#50a0da;font-weight:700}._lKziD_tableRow:hover{background-color:#292f36;border-radius:2px}._1Qhhs_tableColumn{width:47%;white-space:nowrap;overflow-x:hidden}._1Qhhs_tableColumn,._7fNc5_tableColumnDel{float:left;padding:2px;box-sizing:border-box}._7fNc5_tableColumnDel{width:5%;cursor:pointer}._7fNc5_tableColumnDel:hover{color:red}._1HY_q_tableColumnHeader{float:left;width:47%;font-size:12px;font-weight:700;padding-bottom:3px;color:#ababab}._3ZEy__stepHeader{font-size:18px;margin-left:54px;margin-right:46px;box-sizing:border-box;min-height:42px;text-align:left}li.file .wrap .chNameSrc{margin-left:0;font-weight:400}.selectorContainer.chRouting ol.topLevel{width:300px}.container .descriptionText{font-size:12px;margin-left:18px;margin-right:18px}.container{width:20%;min-width:230px;border:2px solid transparent;border-radius:5px;margin-right:7px;padding-bottom:0;position:relative;display:inline-block;vertical-align:top}.container.doubleWide{width:40%;min-width:460px}._bRC3y_sideBySide{width:50%;float:left}.preferenceReadout.entName.inputName{margin:auto;margin-bottom:20px;width:200px}.container.active{border:2px solid #49aef8}._3rfdH_fullWidthContainer{width:100%;float:left;margin-top:15px;min-width:1000px}.utilityBtn.wizard{margin:auto;margin-top:20px;display:block;width:25em}.utilityBtn.done{right:10px}.utilityBtn.another,.utilityBtn.done{position:absolute;bottom:7px;width:8em}.utilityBtn.another{left:10px}.utilityBtn.overlay{display:inline-block;width:11em;font-size:16px;margin-top:10px;margin-right:10px;margin-left:10px}.selectorContainer{display:inline-block;width:100%}._auFzv_successMsg,.container .selectorContainer.chRouting{box-sizing:border-box;width:100%}._auFzv_successMsg{position:absolute;top:0;left:0;height:100%;background:rgba(0,0,0,.75);padding-top:12%;font-size:20px;z-index:100}",""]),t.locals={wizardSelectorBackground:"_3sC3B_wizardSelectorBackground",startWizardBtnContainer:"_3Be0D_startWizardBtnContainer",stepNumber:"_cTX4w_stepNumber",xButton:"_2k-D7_xButton",wizardTitle:"_2vvM8_wizardTitle",scrollX:"_1Ivwc_scrollX",table:"_YKKOe_table",tableRowNoHover:"_fDQ_T_tableRowNoHover",tableRow:"_lKziD_tableRow",tableColumn:"_1Qhhs_tableColumn",tableColumnDel:"_7fNc5_tableColumnDel",tableColumnHeader:"_1HY_q_tableColumnHeader",stepHeader:"_3ZEy__stepHeader",sideBySide:"_bRC3y_sideBySide",fullWidthContainer:"_3rfdH_fullWidthContainer",successMsg:"_auFzv_successMsg"}},function(e,t,n){var r=n(343);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var r,i=n(153);var o="transform",a=void 0,s=void 0,l=void 0,u=void 0,c=void 0,h=void 0,p=void 0,d=void 0,f=void 0,v=void 0,m=void 0;if(((r=i)&&r.__esModule?r:{default:r}).default){var g=function(){for(var e=document.createElement("div").style,t={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},n=Object.keys(t),r=void 0,i=void 0,o="",a=0;a<n.length;a++){var s=n[a];if(s+"TransitionProperty"in e){o="-"+s.toLowerCase(),r=t[s]("TransitionEnd"),i=t[s]("AnimationEnd");break}}!r&&"transitionProperty"in e&&(r="transitionend");!i&&"animationName"in e&&(i="animationend");return e=null,{animationEnd:i,transitionEnd:r,prefix:o}}();a=g.prefix,t.transitionEnd=s=g.transitionEnd,t.animationEnd=l=g.animationEnd,t.transform=o=a+"-"+o,t.transitionProperty=u=a+"-transition-property",t.transitionDuration=c=a+"-transition-duration",t.transitionDelay=p=a+"-transition-delay",t.transitionTiming=h=a+"-transition-timing-function",t.animationName=d=a+"-animation-name",t.animationDuration=f=a+"-animation-duration",t.animationTiming=v=a+"-animation-delay",t.animationDelay=m=a+"-animation-timing-function"}t.transform=o,t.transitionProperty=u,t.transitionTiming=h,t.transitionDelay=p,t.transitionDuration=c,t.transitionEnd=s,t.animationName=d,t.animationDuration=f,t.animationTiming=v,t.animationDelay=m,t.animationEnd=l,t.default={transform:o,end:s,property:u,timing:h,delay:p,duration:c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(153);var o,a="clearTimeout",s=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-u)),r=setTimeout(e,n);return u=t,r},l=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};((r=i)&&r.__esModule?r:{default:r}).default&&["","webkit","moz","o","ms"].some(function(e){var t=l(e,"request");if(t in window)return a=l(e,"cancel"),s=function(e){return window[t](e)}});var u=(new Date).getTime();(o=function(e){return s(e)}).cancel=function(e){window[a]&&"function"==typeof window[a]&&window[a](e)},t.default=o,e.exports=t.default},function(e,t,n){"use strict";e.exports=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+e.className+" ").indexOf(" "+t+" ")},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.classList?e.classList.add(t):(0,o.default)(e)||(e.className=e.className+" "+t)};var r,i=n(348),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=p(n(349)),o=p(n(347)),a=p(n(346)),s=n(345),l=p(n(0)),u=p(n(49)),c=n(13),h=n(152);function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=[];s.transitionEnd&&f.push(s.transitionEnd),s.animationEnd&&f.push(s.animationEnd);u.default.node,h.nameShape.isRequired,u.default.bool,u.default.bool,u.default.bool,u.default.number,u.default.number,u.default.number;var v=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=d(this,e.call.apply(e,[this].concat(o))),r.componentWillAppear=function(e){r.props.appear?r.transition("appear",e,r.props.appearTimeout):e()},r.componentWillEnter=function(e){r.props.enter?r.transition("enter",e,r.props.enterTimeout):e()},r.componentWillLeave=function(e){r.props.leave?r.transition("leave",e,r.props.leaveTimeout):e()},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},t.prototype.transition=function(e,t,n){var r=(0,c.findDOMNode)(this);if(r){var a=this.props.name[e]||this.props.name+"-"+e,l=this.props.name[e+"Active"]||a+"-active",u=null,h=void 0;(0,i.default)(r,a),this.queueClassAndNode(l,r);var p=function(e){e&&e.target!==r||(clearTimeout(u),h&&h(),(0,o.default)(r,a),(0,o.default)(r,l),h&&h(),t&&t())};n?(u=setTimeout(p,n),this.transitionTimeouts.push(u)):s.transitionEnd&&(h=function(e,t){return f.length?f.forEach(function(n){return e.addEventListener(n,t,!1)}):setTimeout(t,0),function(){f.length&&f.forEach(function(n){return e.removeEventListener(n,t,!1)})}}(r,p))}else t&&t()},t.prototype.queueClassAndNode=function(e,t){var n=this;this.classNameAndNodeQueue.push({className:e,node:t}),this.rafHandle||(this.rafHandle=(0,a.default)(function(){return n.flushClassNameAndNodeQueue()}))},t.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(e){e.node.scrollTop,(0,i.default)(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},t.prototype.render=function(){var e=r({},this.props);return delete e.name,delete e.appear,delete e.enter,delete e.leave,delete e.appearTimeout,delete e.enterTimeout,delete e.leaveTimeout,delete e.children,l.default.cloneElement(l.default.Children.only(this.props.children),e)},t}(l.default.Component);v.displayName="CSSTransitionGroupChild",v.propTypes={},t.default=v,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=function(e){if(!e)return e;var t={};return r.Children.map(e,function(e){return e}).forEach(function(e){t[e.key]=e}),t},t.mergeChildMappings=function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},i=[];for(var o in e)t.hasOwnProperty(o)?i.length&&(r[o]=i,i=[]):i.push(o);var a=void 0,s={};for(var l in t){if(r.hasOwnProperty(l))for(a=0;a<r[l].length;a++){var u=r[l][a];s[r[l][a]]=n(u)}s[l]=n(l)}for(a=0;a<i.length;a++)s[i[a]]=n(i[a]);return s};var r=n(0)},function(e,t,n){"use strict";e.exports=function(){}},function(e,t){e.exports=function(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];if(0!==(t=t.filter(function(e){return null!=e})).length)return 1===t.length?t[0]:t.reduce(function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}})}},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=l(n(353)),o=l(n(0)),a=l(n(49)),s=(l(n(352)),n(351));function l(e){return e&&e.__esModule?e:{default:e}}a.default.any,a.default.func,a.default.node;var u=function(e){function t(n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,i));return o.performAppear=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(o._handleDoneAppearing.bind(o,e,t)):o._handleDoneAppearing(e,t)},o._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete o.currentlyTransitioningKeys[e];var n=(0,s.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)||o.performLeave(e,t)},o.performEnter=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(o._handleDoneEntering.bind(o,e,t)):o._handleDoneEntering(e,t)},o._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete o.currentlyTransitioningKeys[e];var n=(0,s.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)||o.performLeave(e,t)},o.performLeave=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(o._handleDoneLeaving.bind(o,e,t)):o._handleDoneLeaving(e,t)},o._handleDoneLeaving=function(e,t){t.componentDidLeave&&t.componentDidLeave(),delete o.currentlyTransitioningKeys[e];var n=(0,s.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)?o.keysToEnter.push(e):o.setState(function(t){var n=r({},t.children);return delete n[e],{children:n}})},o.childRefs=Object.create(null),o.state={children:(0,s.getChildMapping)(n.children)},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},t.prototype.componentWillReceiveProps=function(e){var t=(0,s.getChildMapping)(e.children),n=this.state.children;for(var r in this.setState({children:(0,s.mergeChildMappings)(n,t)}),t){var i=n&&n.hasOwnProperty(r);!t[r]||i||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(var o in n){var a=t&&t.hasOwnProperty(o);!n[o]||a||this.currentlyTransitioningKeys[o]||this.keysToLeave.push(o)}},t.prototype.componentDidUpdate=function(){var e=this,t=this.keysToEnter;this.keysToEnter=[],t.forEach(function(t){return e.performEnter(t,e.childRefs[t])});var n=this.keysToLeave;this.keysToLeave=[],n.forEach(function(t){return e.performLeave(t,e.childRefs[t])})},t.prototype.render=function(){var e=this,t=[],n=function(n){var r=e.state.children[n];if(r){var a="string"!=typeof r.ref,s=e.props.childFactory(r),l=function(t){e.childRefs[n]=t};s===r&&a&&(l=(0,i.default)(r.ref,l)),t.push(o.default.cloneElement(s,{key:n,ref:l}))}};for(var a in this.state.children)n(a);var s=r({},this.props);return delete s.transitionLeave,delete s.transitionName,delete s.transitionAppear,delete s.transitionEnter,delete s.childFactory,delete s.transitionLeaveTimeout,delete s.transitionEnterTimeout,delete s.transitionAppearTimeout,delete s.component,o.default.createElement(this.props.component,s,t)},t}(o.default.Component);u.displayName="TransitionGroup",u.propTypes={},u.defaultProps={component:"span",childFactory:function(e){return e}},t.default=u,e.exports=t.default},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=n(94),i=n(73),o=n(355);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=u(n(0)),o=u(n(49)),a=u(n(354)),s=u(n(350)),l=n(152);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}l.nameShape.isRequired,o.default.bool,o.default.bool,o.default.bool,(0,l.transitionTimeout)("Appear"),(0,l.transitionTimeout)("Enter"),(0,l.transitionTimeout)("Leave");var h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=c(this,e.call.apply(e,[this].concat(a))),r._wrapChild=function(e){return i.default.createElement(s.default,{name:r.props.transitionName,appear:r.props.transitionAppear,enter:r.props.transitionEnter,leave:r.props.transitionLeave,appearTimeout:r.props.transitionAppearTimeout,enterTimeout:r.props.transitionEnterTimeout,leaveTimeout:r.props.transitionLeaveTimeout},e)},c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return i.default.createElement(a.default,r({},this.props,{childFactory:this._wrapChild}))},t}(i.default.Component);h.displayName="CSSTransitionGroup",h.propTypes={},h.defaultProps={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},t.default=h,e.exports=t.default},function(e,t,n){"use strict";e.exports=n(357)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=p(n(0)),o=p(n(13)),a=(p(n(358)),p(n(19))),s=p(n(181)),l=p(n(344)),u=p(n(151)),c=p(n(84)),h=p(n(342));function p(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(e){d(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n._inputSelected=n._inputSelected.bind(n),n._setupAnother=n._setupAnother.bind(n),n._doneAdjustingInputControls=n._doneAdjustingInputControls.bind(n),n._doneAdjustingOutputControls=n._doneAdjustingOutputControls.bind(n),n._renderRoutingTable=n._renderRoutingTable.bind(n),n._doneSelectingInput=n._doneSelectingInput.bind(n),n._outputsSelected=n._outputsSelected.bind(n),n._removeAllRoutes=n._removeAllRoutes.bind(n),n._removeRoute=n._removeRoute.bind(n),n._nameChange=n._nameChange.bind(n),n._apply=n._apply.bind(n),n._undoAll=n._undoAll.bind(n);var r=n.props.device.get("uid");return n.state={originalName:"",name:"",deviceName:n.props.device.get("avb/"+r+"/entity_name"),inputPath:"",step:1,routing:{},initialRouting:{},apply:!1,applyMessage:"",dirtyPaths:[]},n}return v(t,i.default.Component),r(t,[{key:"componentDidMount",value:function(){this._inputSelector=new u.default.Selector({parent:this.refs.selectorContainer,dev:this.props.device,io:c.default.ios.input,onChange:this._inputSelected}),document.onkeydown=function(e){27===e.keyCode&&this.props.close()}.bind(this)}},{key:"componentWillUnmount",value:function(){document.onkeydown=null}},{key:"componentDidUpdate",value:function(e,t){if(this.state.step>=1){var n=this.state.inputPath.split("/"),r=+n[2],i=+n[4];this.refs.inputControlContainer.innerHTML="",new c.default.MixerControl({dev:this.props.device,div:this.refs.inputControlContainer,args:[[r,i],c.default.ios.input],close:function(){}})}else 3===this.state.step&&t.step}},{key:"_nameChange",value:function(){this.setState((0,a.default)({},this.state,{name:this.refs.name.value}))}},{key:"_inputSelected",value:function(e,t){var n=e[0],r="",i="";if(n.length){var o=n.split("/"),s=+o[2],l=+o[4];r=this.props.device.get(n),i=this.props.device.router.getChNameFromBank(c.default.ios.input,s,l)}this._removeAllRoutes(),this.setState((0,a.default)({},this.state,{inputPath:n,originalName:i,name:r,apply:!1,step:1}));var h=n.split("/"),p=+h[2],d=+h[4];this.refs.outputSelectorContainer.innerHTML="",this.refs.outputSelectorContainer.className="selectorContainer",this._outputSelector=null,this.state.originalName.length>0&&(this._outputSelector=new u.default.Selector({parent:this.refs.outputSelectorContainer,dev:this.props.device,io:c.default.ios.output,onChange:this._outputsSelected,src:p+":"+d}))}},{key:"_setupAnother",value:function(){this._removeAllRoutes(),this.setState((0,a.default)({},this.state,{apply:!1,step:1})),this._inputSelector.choose({bn:-1,cn:0,chLi:this._inputSelector.channels["-1:0"].node})}},{key:"_doneSelectingInput",value:function(){this.setState((0,a.default)({},this.state,{step:2}))}},{key:"_doneAdjustingInputControls",value:function(){this.setState((0,a.default)({},this.state,{step:3}));var e=this.state.inputPath.split("/");e[0]="ext",e=e.join("/"),this.props.device.set(e,this.refs.name.value)}},{key:"_doneAdjustingOutputControls",value:function(){this.setState((0,a.default)({},this.state,{step:4}))}},{key:"_outputsSelected",value:function(e,t){e.map(function(e){return this.props.device.get(e)}.bind(this));var n=this.state.routing,r=e.indexOf("");if(r>-1&&e.splice(r,1),!t){for(var i=0;i<e.length;i++)if(void 0===n[this.state.inputPath]||-1===n[this.state.inputPath].indexOf(e[i])){var o=e[i].split("/");o[0]="ext",o[5]="src",o=o.join("/");var s=this.state.inputPath.split("/"),l=+s[2],u=+s[4],c=this.props.device.get(o);c.length>0&&(c="meta/ibank/"+(c=c.split(":"))[0]+"/ch/"+c[1]+"/name");var h=this.state.initialRouting,p=!1;for(var d in h)if(h[d].indexOf(e[i])>-1){p=!0;break}p||(h[c]=h[c]||[],h[c].push(e[i]),this.setState((0,a.default)({},this.state,{initialRouting:h}))),this.props.device.set(o,l+":"+u)}if(void 0!==n[this.state.inputPath])for(i=0;i<n[this.state.inputPath].length;i++)if(-1===e.indexOf(n[this.state.inputPath][i])){var f=n[this.state.inputPath][i].split("/");f[0]="ext",f[5]="src",f=f.join("/");var v=!1;for(var m in this.state.initialRouting){if(this.state.initialRouting[m].indexOf(n[this.state.inputPath][i])>-1&&m!==this.state.inputPath&&m.length>0){var g=m.split("/"),b=+g[2],y=+g[4];v=!0,this.props.device.set(f,b+":"+y)}}v||this.props.device.set(f,"")}}if(n[this.state.inputPath]=e,t){var C=this.state.initialRouting;-1===this.state.dirtyPaths.indexOf(this.state.inputPath)&&(C[this.state.inputPath]=e),this.setState((0,a.default)({},this.state,{initialRouting:C,routing:JSON.parse(JSON.stringify(n))}))}else{var x=this.state.dirtyPaths;-1===x.indexOf(this.state.inputPath)&&x.push(this.state.inputPath),this.setState((0,a.default)({},this.state,{routing:n,dirtyPaths:x}))}}},{key:"_removeAllRoutes",value:function(){this.setState((0,a.default)({},this.state,{routing:{}}))}},{key:"_removeRoute",value:function(e,t){var n=t.split("/"),r=+n[2],i=+n[4];this._outputSelector.choose({bn:r,cn:i,chLi:this._outputSelector.channels[r+":"+i].node},!1)}},{key:"_apply",value:function(e){this.setState((0,a.default)({},this.state,{apply:!0,applyMessage:e}))}},{key:"_undoAll",value:function(){for(var e in this.state.initialRouting)for(var t=0;t<this.state.initialRouting[e].length;++t){var n=this.state.initialRouting[e][t].split("/");if(n[0]="ext",n[5]="src",n=n.join("/"),e.length>0){var r=e.split("/"),i=+r[2],o=+r[4];this.props.device.set(n,i+":"+o)}else this.props.device.set(n,"")}this._apply("All changes reverted")}},{key:"_renderRoutingTable",value:function(){var e=function(e){return i.default.createElement("div",{key:e},this.state.routing[e].map(function(t){return i.default.createElement("div",{key:t,className:l.default.tableRow},i.default.createElement("div",{className:l.default.tableColumn},this.props.device.get(e)),i.default.createElement("div",{className:l.default.tableColumn},this.props.device.get(t)),i.default.createElement("div",{className:l.default.tableColumnDel,onClick:this._removeRoute.bind(this,e,t)},"X"))}.bind(this)))}.bind(this);return Object.keys(this.state.routing).map(e)}},{key:"render",value:function(){return i.default.createElement("div",{className:l.default.scrollX},i.default.createElement("p",{className:l.default.wizardTitle},'This routing wizard will help you connect inputs to desired outputs on your "'+this.state.deviceName+'". These changes will be reflected in the routing grid.'),i.default.createElement("div",{className:l.default.fullWidthContainer},this.state.apply?i.default.createElement("div",{className:l.default.successMsg},this.state.applyMessage,i.default.createElement("br",null),i.default.createElement("div",{className:"utilityBtn overlay",onClick:this.props.close},"OK")):null,i.default.createElement("div",{className:"container"},i.default.createElement("div",{className:l.default.stepNumber},"1"),i.default.createElement("p",{className:l.default.stepHeader},"Choose an Input"),i.default.createElement("div",{ref:"selectorContainer",className:"selectorContainer"})),i.default.createElement("div",{className:"container"},i.default.createElement("div",{className:l.default.stepNumber},"2"),i.default.createElement("p",{className:l.default.stepHeader},"Adjust Input Settings"),0===this.state.originalName.length?null:i.default.createElement("p",{className:"descriptionText"},"Change the name of this input (Optional)"),0===this.state.originalName.length?null:i.default.createElement("input",{className:"preferenceReadout entName inputName",spellCheck:"false",value:this.state.name,placeholder:this.state.originalName,ref:"name",onChange:this._nameChange}),i.default.createElement("div",{ref:"inputControlContainer"})),i.default.createElement("div",{className:"container doubleWide"},i.default.createElement("div",{className:l.default.stepNumber},"3"),i.default.createElement("p",{className:l.default.stepHeader},"Route Input to which Output(s)?"),i.default.createElement("div",{className:l.default.sideBySide},i.default.createElement("div",{ref:"outputSelectorContainer",className:"selectorContainer"})),i.default.createElement("div",{className:l.default.sideBySide},0===this.state.originalName.length?null:i.default.createElement("div",{className:l.default.table},i.default.createElement("div",{className:l.default.tableRowNoHover},i.default.createElement("div",{className:l.default.tableColumnHeader},"Input"),i.default.createElement("div",{className:l.default.tableColumnHeader},"Routed To Output")),this._renderRoutingTable())))),i.default.createElement("div",{className:l.default.fullWidthContainer},i.default.createElement("div",{className:"utilityBtn overlay",onClick:this._undoAll},"Cancel"),i.default.createElement("div",{className:"utilityBtn overlay",onClick:this._apply.bind(this,"Changes saved")},"Done")))}}]),t}(),g=function(e){function t(e){return d(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return v(t,i.default.Component),r(t,[{key:"render",value:function(){return i.default.createElement("div",null,i.default.createElement("p",null,"Which Output?"),i.default.createElement("div",{className:"utilityBtn wizard",onClick:this.props.close},"Close"))}}]),t}(),b=function(e){function t(e){return d(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return v(t,i.default.Component),r(t,[{key:"render",value:function(){return i.default.createElement("div",null,i.default.createElement("p",null,"Which IO?"),i.default.createElement("div",{className:"utilityBtn wizard",onClick:this.props.close},"Close"))}}]),t}(),y=(0,s.default)({INPUT_CONFIG:null,OUTPUT_CONFIG:null,IO_CONFIG:null,NONE:null}),C=function(e){function t(e){d(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._setupESCKey=n._setupESCKey.bind(n),n._openInputConfig=n._openInputConfig.bind(n),n._openOutputConfig=n._openOutputConfig.bind(n),n._openIOConfig=n._openIOConfig.bind(n),n._closeConfig=n._closeConfig.bind(n),n.state={activeWizard:y.INPUT_CONFIG},n._setupESCKey(),n}return v(t,i.default.Component),r(t,[{key:"_setupESCKey",value:function(){document.onkeydown=function(e){27===e.keyCode&&this.props.closeWizard()}.bind(this)}},{key:"componentWillUnmount",value:function(){document.onkeydown=null}},{key:"_openInputConfig",value:function(){document.onkeydown=null,this.setState((0,a.default)({},this.state,{activeWizard:y.INPUT_CONFIG}))}},{key:"_openOutputConfig",value:function(){document.onkeydown=null,this.setState((0,a.default)({},this.state,{activeWizard:y.OUTPUT_CONFIG}))}},{key:"_openIOConfig",value:function(){document.onkeydown=null,this.setState((0,a.default)({},this.state,{activeWizard:y.IO_CONFIG}))}},{key:"_closeConfig",value:function(){this.setState((0,a.default)({},this.state,{activeWizard:y.NONE})),this._setupESCKey()}},{key:"render",value:function(){var e=this;return i.default.createElement("div",{className:l.default.wizardSelectorBackground},function(){switch(e.state.activeWizard){case y.INPUT_CONFIG:return i.default.createElement(m,{close:e.props.closeWizard,device:e.props.device});case y.OUTPUT_CONFIG:return i.default.createElement(g,{close:e._closeConfig,device:e.props.device});case y.IO_CONFIG:return i.default.createElement(b,{close:e._closeConfig,device:e.props.device});default:return i.default.createElement("div",null,i.default.createElement("div",{className:l.default.xButton,onClick:e.props.closeWizard},"⇦"),i.default.createElement("p",{className:l.default.wizardTitle},"Welcome to the Setup Wizard for your MOTU device. This setup will help configure your device to best fit your workflow."),i.default.createElement("div",{className:"utilityBtn wizard",onClick:e._openInputConfig},"Make Input Connection"),i.default.createElement("div",{className:"utilityBtn wizard",onClick:e._openOutputConfig},"Make Output Connection"),i.default.createElement("div",{className:"utilityBtn wizard",onClick:e._openIOConfig},"I/O Configuration"))}}())}}]),t}(),x=function(){function e(t){d(this,e),this._device=t,this.openSetupWizard=this.openSetupWizard.bind(this),this._closeSetupWizard=this._closeSetupWizard.bind(this)}return r(e,[{key:"openSetupWizard",value:function(){this._pane=new h.default({extraCss:"quickSetup"}),o.default.render(i.default.createElement(C,{closeWizard:this._closeSetupWizard,device:this._device}),this._pane.getPane())}},{key:"_closeSetupWizard",value:function(){o.default.unmountComponentAtNode(this._pane.getPane()),this._pane.remove(),this._pane=null}}]),e}();t.default=x},function(e,t,n){"use strict";var r,i;r=[n(3),n(104),n(116),n(38),n(41),n(74),n(33)],void 0===(i=function(e,t,n,r,i,o,a){return function(e){var s,l,u,c,h,p,d,f,v;return p=[],c=new n({}),u=c.getNode(),p.push(c),s=function(){var e,t,n,r;for(r=[],e=0,t=p.length;e<t;e++)n=p[e],r.push(n.remove());return r},v=function(){var n;return n=function(){return r({timeout:3e3,url:e.baseURL+"servicetype"}).then(function(e){if("netiodevice"===e.response)return a.resolve()})},t.repeatCheck({check:n,timeout:12e4,checkInterval:1e3}).catch(function(){return a.reject(new Error("Timed out waiting for device to boot"))})},f=function(){var n;return n=function(){return r({url:e.baseURL+"datastore"})},t.repeatCheck({check:n,timeout:18e4,checkInterval:1e3}).catch(function(){return a.reject(new Error("Timed out waiting for device to initialize"))})},h=r({url:e.baseURL+"servicetype",data:{servicetype:"netiodevice"},verb:"POST"}).then(function(){return t.delay({timeout:5e3})}).then(v),d=function(){return f().then(function(){return t.delay({timeout:5e3})})},l=function(e){return new o({node:u,prompt:"Failed to reboot device: "+e}).promise.catch(function(){})},i.RunPromise({promise:h,node:u,prompt:"Waiting for device to reboot..."}).then(function(){return i.RunPromise({promise:d(),node:u,prompt:"Waiting for device to start up..."})}).catch(l).finally(s)}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n(1),n(5),n(2),n(155),n(154)],void 0===(i=function(e,t,n,r,i){var o=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};return function(){function t(){}return t.for_device=function(e,t){var n,i,o,a,s,l;for(l=[],i=n=0,a=e.avb.getNumClockSources(t);0<=a?n<a:n>a;i=0<=a?++n:--n)(s=new r(e,t,i)).isOwnMasterSource()?(o=this.masters_for_device(e,t,i),l=l.concat(o)):l.push(s);return l.filter(function(e){return e.isSelectable()})},t.masters_for_device=function(e,t,n){var r,o,a,s,l;for(l=[],o=0,a=(r=this.getPotentialMasterClockDevs(t,e)).length;o<a;o++)s=r[o],l.push(new i(e,s,n));return l},t.getPotentialMasterClockDevs=function(t,n){var r,i,a,s,l,u,c,h,p;for(p=[],a=0,s=(c=n.avb.getDevs()).length;a<s;a++)u=(l=c[a])!==t,r=n.avb.hasMasterClockSupport(l),h=n.avb.getCurSampleRate(l),i=o.call(n.avb.getSampleRates(t),h)>=0,e.all([u,r,i])&&p.push(l);return p},t}()}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(3),n(2),n(22),n(27),n(5),n(34),n(1),n(21),n(16),n(361),n(155),n(154),n(38)],void 0===(i=function(e,t,n,r,i,o,a,s,l,u,c,h,p){var d,f,v={}.hasOwnProperty,m=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};return f="MOTU AVB Master Clock",(d={Sources:u}).Menu=function(e){function t(e){var n;e.showUnknownForEmpty=!0,t.__super__.constructor.call(this,e),this.guid=e.guid,this.dev=e.dev,this.routerOK=this.dev.get("uid")===this.guid&&s.works({dev:this.dev,cap:"router"}),this.setupMenu(),this.indexWatcher=new i.Function(e.dev,(n=this,function(e){var t,r,i,o;return r=e.avb.hasMasterClockSupport(n.guid),i=e.avb.getClockSourceIndex(n.guid),t="",e.avb.getNthClockSourceName(n.guid,i)===f&&r&&(t=e.avb.getMasterClockUid(n.guid)),o=i+":"+t,n.update(o)}))}return function(e,t){for(var n in t)v.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,r.Menu),t.prototype.setAcquired=function(e){return this.acquired=e,this.updateEnabled()},t.prototype.updateEnabled=function(){var e,t;return e=null!=(t=this.acquired)&&t||0===this.opts.length,this.node.disabled=e},t.prototype.showOpt=function(e,t){var n,r,i,o;return r=(i=e.split(":"))[0],o=(n=i[1])?new h(t,n,r):new c(t,this.guid,r),this.updateEnabled(),o.displayName()},t.prototype.getOpts=function(e){var t,n,r,i,o;for(i=[],t=0,n=(r=u.for_device(e,this.guid)).length;t<n;t++)o=r[t],i.push(o.optValue());return i},t.prototype.change=function(e){var t,n,r,i;if(!this.node.getAttribute("disabled"))return r=(i=this.node.value.split(":"))[0],n=i[1],t=this.dev.avb.getNthClockSourceName(this.guid,r),this.dev.avb.hasMasterClockSupport(this.guid)&&n&&t===f?this.dev.avb.setMasterClockUid(this.guid,n):this.dev.avb.setClockSourceIndex(this.guid,+r),e.preventDefault()},t.prototype.remove=function(){return this.optsWatcher.remove(),this.indexWatcher.remove(),t.__super__.remove.call(this)},t.guids={},t.prototype.addInteraction=function(){return this.eventListener=new n.Listener({node:this.node,proxy:this,events:["change"]})},t.prototype.removeInteraction=function(){var e;return null!=(e=this.eventListener)?e.remove():void 0},t}(),d.SlaveButton=function(){function t(t){var n,r;n=t.node,this.guid=t.guid,this.dev=t.dev,this.node=e.appendSpec(n,{className:"utilityBtn slaveAll",textContent:"Become Clock Master"}),this.listener=new l.FunctionButton({node:this.node,f:(r=this,function(){return r.promptUser()})})}return t.prototype.wouldDoSomething=function(e){return null==e&&(e=this.dev),e.avb.hasMasterClockSupport(this.guid)&&a.any(e.avb.getDevs(),(t=this,function(n){return t.validDevice(n,e)}));var t},t.prototype.validDevice=function(e,t){var n,r,i,o,s;return null==t&&(t=this.dev),o=e!==this.guid,n=t.avb.hasMasterClockSupport(e),i=!t.avb.isAcquired(e),s=t.avb.getCurSampleRate(this.guid),r=m.call(t.avb.getSampleRates(e),s)>=0,a.all([o,n,i,r])},t.prototype.getAllValidDevices=function(e){return null==e&&(e=this.dev),a.filter(e.avb.getDevs(),(t=this,function(n){return t.validDevice(n,e)}));var t},t.prototype.perform=function(){return p({url:this.dev.baseURL+"become_master",verb:"POST"}).then(function(){}).catch(function(){})},t.prototype.show=function(){return e.show(this.node)},t.prototype.hide=function(){return e.hide(this.node)},t.prototype.setVisible=function(t){return e.setVisible(this.node,t)},t.prototype.shouldSetToInternal=function(e){var t,n,r;return null==e&&(e=this.dev),n=e.avb.getClockSourceIndex(this.guid),t=e.avb.getNthClockSourceName(this.guid,n),r=e.avb.getNthClockSourceType(this.guid,n),t===f||"stream"===r},t.prototype.promptUser=function(){var t,n,r,s;if(this.wouldDoSomething())return r=new o({node:this.node,dev:this.dev}),n=e.appendSpec(r.div,{className:"toolTipWarning",textContent:""}),new i.Function(r.dev,(s=this,function(t){var i,o,l,u,c;for(o=a.map(s.getAllValidDevices(),function(e){return""+s.dev.avb.getName(e)}),e.clear(n),s.shouldSetToInternal(t)&&e.appendSpec(n,{type:"p",textContent:t.avb.getName(s.guid)+" will have its clock source changed to "+t.avb.getNthClockSourceName(s.guid,0)+"."}),e.appendSpec(n,{type:"p",textContent:"The following devices will be slaved to "+t.avb.getName(s.guid)+":"}),c=e.appendSpec(n,{type:"ul"}),l=0,u=o.length;l<u;l++)i=o[l],e.appendSpec(c,{type:"li",textContent:i});if(0===o.length)return r.keepAlive(),r.remove(0)})),t=e.appendSpec(r.div,{className:"utilityBtn devOK",textContent:"OK"}),new l.FunctionButton({node:t,f:function(e){return function(){return e.perform(),r.keepAlive(),r.remove(0)}}(this)}),r.remove("forever")},t}(),d}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(22)],void 0===(i=function(e){return function(){function t(t){this.prompt=t.prompt,this.listener=new e.Listener({proxy:this,events:["beforeunload"],node:window})}return t.prototype.remove=function(){return this.listener.remove()},t.prototype.beforeunload=function(e){return null!=e&&(e.returnValue=this.prompt),this.prompt},t}()}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(104),n(38),n(1),n(76),n(175),n(33),n(21),n(2)],void 0===(i=function(e,t,n,r,i,o,a,s){var l,u,c,h,p,d,f=[].slice;return p=function(e,t){var i,o;return!(!t||null==r.parse(t,!0))&&(!e||null==r.parse(e,!0)||(!!r.lt(e,t)||(i=r.parse(e,!0),null!=(o=r.parse(t,!0)).build&&o.build.length>0&&(o.build=o.build[0].replace(/[^0-9]/g,"")),null!=i.build&&i.build.length>0&&(i.build=i.build[0].replace(/[^0-9]/g,"")),!(null==o.build||!n.isNumber(+o.build))&&(null==i.build||!n.isNumber(+i.build)||+i.build<+o.build))))},l=function(){function e(e){var t,r,i,o,a,s;if(this.image=e.image,this.version=e.version,this.changes=e.changes,o="Bad response from update server",null==this.image||null==this.version)throw new Error(o);if(null==this.changes&&(this.changes=[]),!n.isArray(this.changes))throw new Error(o);for(r=0,i=(s=null!=(a=this.changes)?a:[]).length;r<i;r++)if(t=s[r],!n.isString(t))throw new Error(o)}return e.prototype.image=null,e.prototype.version=null,e.prototype.changes=null,e}(),c=function(e){var t,n;return null!=(t=e.get("meta/hostCanUpdate"))&&1===t?"/"+e.get("uid")+"/update/":e.baseURL?e.baseURL:null!=(n=e.get("avb/"+e.get("uid")+"/url"))?"http://"+n+"/":""},h=function(e){var t;if(t=window.JSON.parse(e),!n.isArray(t))throw new Error("Could not understand update list.");return t=n.map(t,function(e){return new l(e)})},u=function(e){return function(t){var n,r,i,o,a,s;for(a=null,n=[],r=e.avb.getFirmwareVersion(e.get("uid")),t.sort(function(e,t){return p(e.version,t.version)?-1:1}),o=0,s=t.length;o<s;o++)i=t[o],p(r,i.version)&&(n.push({version:i.version,changes:i.changes}),a=i);return n.reverse(),{latest:a,changesSinceInstalledVersion:n}}},d=function(n,r){return function(){var i;return i=function(){return t({timeout:3e3,url:c(r)+"servicetype"}).then(function(e){var t;return(t=e.response)===n?o.resolve():o.reject(new Error("Expected service type "+n+", got "+t+"."))})},e.repeatCheck({check:i,timeout:12e4,checkInterval:1e3}).catch(function(){return o.reject(new Error("Timed out waiting for reboot"))})}},new(function(){function r(){}return r.prototype.checkForNewFirmware=function(e){var n,r;return n=e.avb.getModelName(e.get("uid")),r=e.get("update_channel"),t({url:"http://firmware.motu.com/api/"+(r=null!=r&&"release"!==r?r+"/":"")+"device/"+window.encodeURIComponent(n.toLowerCase())+"/firmware"}).then(function(e){var t;return t=e.response,h(t)}).then(u(e)).cancellable()},r.prototype.downloadFirmware=function(e){return t({url:e.image,responseType:"arraybuffer"}).then(function(e){return e.response})},r.prototype.verifyFirmware=function(e){var t,r,a,l,u,c;return e.byteLength<257?o.reject(new Error("Update file was too small.  This may be due to a corrupted download or an invalid update file.")):(u=new window.Uint8Array(e,0,256),a=new window.Uint8Array(e,256),s.isMobile?o.resolve(a):(c=o.defer(),t=function(e){var t,n,r,i;for(i="",n=0,r=e.length;n<r;n++)t=e[n],i+=String.fromCharCode(t);return i},l="The update file's signature is invalid.  This may be due to a corrupted download or an invalid update file.  Please try again.",r=function(){var e,n;return(n=i.md.sha256.create()).update(t(a)),e=n.digest(),i.pki.publicKeyFromPem("-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAq3+E+yoMbbcPHq3PllXg\nIQEgvrXvhxqU0PgI5M0ovF8tuKacm4+sxNV5/O2vc8ovvgrC1H8LMVRX1QZdb0MZ\nb/ue/+pHJ1gXR95PpR0VEv9fv3V85ctsXuRyK48BFQHVBZ7w60bH00QrfTbywBlU\nQyqsFuN33cSMv9C40qDwE0y9XKx7UWfDG4p5INdtV+t2+Hc5YL4tMD+dBb7wL8ee\nk9wzk1aE3+VH443NZM8mlTB3CdpSoldjRXMOYQRLN4mW2outcXmABozmjAfQyeXW\nmIrYRdatM8fNR/eGe50kTJXVNElw2aJlxH/MbHFp/Cie96c0pk8QcwMZwTV+v5dr\nZQIDAQAB\n-----END PUBLIC KEY-----").verify(e.bytes(),t(u))?c.resolve(a):c.reject(new Error(l))},n.defer(function(){var e;try{r()}catch(t){"Encryption block is invalid."===(e=t).message?c.reject(new Error(l)):c.reject(e)}return n.defer(function(){var e;if(!(e=c.promise.inspect()).isFulfilled()&&!e.isRejected())return c.reject(new Error("Could not verify the update image because an unknown error occurred"))})}),c.promise))},r.prototype.rebootIntoFirmwareOS=function(e){return t({url:c(e)+"servicetype",data:{servicetype:"netiofirmwareupdate"},verb:"POST"}).then(d("netiofirmwareupdate",e))},r.prototype.verifyFirmwareUpdateUid=function(e){var n,r,i;return r=e.dev,i=e.uid,n="Could not complete the update process because contact with the device was lost",t({url:c(r)+"uid"}).then(function(e){return e.response.toUpperCase()===i.toUpperCase()?o.resolve():o.reject(new Error(n))},function(e){return o.reject(new Error(n+" [details: "+e.message+"]"))})},r.prototype.uploadImage=function(n){var r,i,o;return r=n.dev,i=n.image,(o=t({url:c(r)+"update",data:{image:i.buffer},verb:"POST",timeout:6e5,upload:!0})).upload=e.countStalledProgressAsSuccess({promise:o.upload,timeout:5e3}),o},r.prototype.addProgressEventsToPromise=function(e){var r,i,a,s,l,u,h;return l=e.promise,s=e.onPromptChange,i=e.dev,u=o.defer(),h=function(){var e;return e=1<=arguments.length?f.call(arguments,0):[],u.resolve.apply(u,e)},a=function(e){return u.reject(e)},l.then(h,a),500,r=function(){var e,n;if(!(n=l.inspect()).isFulfilled()&&!n.isRejected())return e=function(){return window.setTimeout(r,500)},h=function(t){var n,r;n=t.response;try{r=window.JSON.parse(n),u.progress(+r.done/+r.total),r.op&&"Unknown..."!==r.op&&"function"==typeof s&&s(r.op)}catch(e){e,u.progress()}return e()},t({url:c(i)+"progress"}).then(h,e)},n.defer(r),u.promise},r.prototype.waitForMainOS=function(e){return d("netiodevice",e)()},r.prototype.waitForDatastore=function(n){var r;return r=function(){return t({url:c(n)+"datastore"})},e.repeatCheck({check:r,timeout:18e4,checkInterval:1e3}).catch(function(){return o.resolve()})},r.prototype.refreshWebApp=function(e){var n,r;return r=function(){return window.document.location.reload(!0)},n=function(){return window.document.location=c(e)},t.clearETag(window.location.href),t({url:window.location.href.split("#")[0]+"?dontcache",timeout:5e3,ifNoneMatch:!0}).then(r,n)},r}())}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(3),n(22),n(41),n(2),n(74),n(1),n(21),n(33),n(364),n(44),n(16),n(116),n(76),n(363)],void 0===(i=function(e,t,n,r,i,o,a,s,l,u,c,h,p,d){var f,v,m=function(e,t){return function(){return e.apply(t,arguments)}};return f=function(){function t(e){this.dev=e,this.remove=m(this.remove,this),this.displayError=m(this.displayError,this),this.performUpdate=m(this.performUpdate,this),this.refreshWebApp=m(this.refreshWebApp,this),this.displayUpdateSucceeded=m(this.displayUpdateSucceeded,this),this.waitForDatastore=m(this.waitForDatastore,this),this.waitForMainOS=m(this.waitForMainOS,this),this.waitWhileCheckingProgress=m(this.waitWhileCheckingProgress,this),this.uploadImage=m(this.uploadImage,this),this.verifyFirmwareUpdateUid=m(this.verifyFirmwareUpdateUid,this),this.rebootIntoFirmwareOS=m(this.rebootIntoFirmwareOS,this),this.verifyFirmware=m(this.verifyFirmware,this),this.downloadUpdate=m(this.downloadUpdate,this),this.confirmUpdate=m(this.confirmUpdate,this),this.uid=this.dev.get("uid"),this.model=this.dev.avb.getModelName(this.uid),this.pane=new h({extraCss:"firmware"}),this.node=this.pane.getNode(),this.manualReboot=this.dev.avb.requiresManualReboot(this.dev.get("uid")),this.removePool=[],this.removePool.push(this.pane)}return t.prototype.checkForUpdates=function(){var e;return e=l.checkForNewFirmware(this.dev),n.DelayedSpinner.RunPromise({node:this.node,prompt:"Checking for updates...",promise:e,cancel:!0,src:this.dev}).then(this.confirmUpdate).catch(function(e){return"CancellationError"===e.name},function(){}).catch(this.displayError).then(this.remove)},t.prototype.confirmUpdate=function(t){var n,r,a,s,l,c,h,d,f,v,m,g,b,y;if(f=t.latest,c=t.changesSinceInstalledVersion,null==f)return new i({node:this.node,prompt:"No update available."}).promise;for(b=new i({node:this.node,prompt:"New update "+p.clean(f.version)+" available.  Download and install now?",cancel:!0}),s=e.specToNode({className:"changeListWrap"}),r=new u({node:s,spec:{className:"changeList selectable"}}).content,e.appendSpec(r,{type:"h1",textContent:"Change List"}),h=0,v=c.length;h<v;h++)if(y=(g=c[h]).version,l=g.changes,(l=o.filter(o.map(l,function(e){return e.trim()}))).length)for(e.appendSpec(r,{type:"h2",textContent:p.clean(y)}),a=e.appendSpec(r,{type:"ul"}),d=0,m=l.length;d<m;d++)n=l[d],e.appendSpec(a,{type:"li",textContent:n});return b.insertAfterPrompt(s),b.promise.then(function(){return f}).then(this.downloadUpdate).then(this.verifyFirmware).then(this.performUpdate)},t.prototype.downloadUpdate=function(e){return this.warning=new d({prompt:"Update in progress"}),n.ProgressBar.RunPromise({promise:l.downloadFirmware(e),node:this.node,cancel:!0,prompt:"Downloading update..."})},t.prototype.verifyFirmware=function(e){return n.RunPromise({promise:l.verifyFirmware(e),node:this.node,prompt:"Verifying Update"})},t.prototype.rebootIntoFirmwareOS=function(){return n.RunPromise({promise:l.rebootIntoFirmwareOS(this.dev),node:this.node,prompt:this.manualReboot?"Powering down device...\nPlease power on to reboot into update mode...":"Waiting for device to reboot into update mode..."})},t.prototype.verifyFirmwareUpdateUid=function(){return n.RunPromise({promise:l.verifyFirmwareUpdateUid({dev:this.dev,uid:this.uid}),node:this.node,prompt:"Verifying device..."})},t.prototype.uploadImage=function(e){return t=this,function(){var r;return r=l.uploadImage({image:e,dev:t.dev}),n.ProgressBar.RunPromise({promise:r.upload,node:t.node,prompt:"Uploading..."}).then(function(){return{promise:r}})};var t},t.prototype.waitWhileCheckingProgress=function(e){var t,r,i,o;return r=e.promise,i=null,t=function(e){return i.spinner.changePrompt(e)},o=l.addProgressEventsToPromise({promise:r,onPromptChange:t,dev:this.dev}),i=n.ProgressBar.RunPromise({promise:o,node:this.node,prompt:"Waiting for device..."})},t.prototype.waitForMainOS=function(){var e;return null!=(e=this.warning)&&e.remove(),this.warning=null,n.RunPromise({promise:l.waitForMainOS(this.dev),node:this.node,prompt:this.manualReboot?"Powering down device...\nPlease power on to reboot...":"Waiting for device to reboot..."})},t.prototype.waitForDatastore=function(){return n.RunPromise({promise:l.waitForDatastore(this.dev),node:this.node,prompt:"Waiting for device to start up..."})},t.prototype.displayUpdateSucceeded=function(){return new i({node:this.node,prompt:"Update was successful."}).promise},t.prototype.refreshWebApp=function(){return l.refreshWebApp(this.dev)},t.prototype.refreshOnError=function(e){return e.catch((t=this,function(e){return t.displayError(e).then(function(){return t.refreshWebApp()})}));var t},t.prototype.performUpdate=function(e){return this.rebootIntoFirmwareOS().then((t=this,function(){return t.refreshOnError(t.verifyFirmwareUpdateUid().then(t.uploadImage(e)).then(t.waitWhileCheckingProgress).then(t.waitForMainOS).then(t.waitForDatastore).then(t.displayUpdateSucceeded).then(t.refreshWebApp))}));var t},t.prototype.displayError=function(e){var t,n;return null!=(n=this.warning)&&n.remove(),this.warning=null,null==(t=e.message)&&(t="An unknown error occurred."),new i({node:this.node,prompt:t}).promise.catch(function(){})},t.prototype.remove=function(){var e,t,n,r,i;for(e=0,t=(r=this.removePool).length;e<t;e++)"function"==typeof(n=r[e]).remove&&n.remove();return null!=(i=this.warning)&&i.remove(),this.warning=null},t}(),(v=function(){function t(t){var n,r,i,o;(i=t.node,this.dev=t.dev,n=t.extraCss,r=t.label,a.works({dev:this.dev,cap:"firmware_update"}))&&(null==r&&(r="Check For Updates"),this.checkNode=e.appendSpec(i,{className:null!=n?n:"",textContent:r}),this.checkListener=new c.FunctionButton({node:this.checkNode,f:(o=this,function(){return new f(o.dev).checkForUpdates()})}))}return t.checkForNewFirmware=function(e){return l.checkForNewFirmware(e).then(function(e){var t;if(null!=(t=e.latest))return p.clean(null!=t?t.version:void 0)})},t.prototype.checkForNewFirmware=function(){return t.checkForNewFirmware(this.dev)},t.prototype.remove=function(){return e.remove(this.checkElem),this.checkListener.remove()},t}()).UpdateFromFileButton=function(){function n(n){var r,i,o;o=n.node,this.dev=n.dev,r=n.extraCss,i=n.label,a.works({dev:this.dev,cap:"firmware_update"})&&(null==i&&(i="Update From File"),this.fileNode=e.appendSpec(o,{className:"firmwareButton firmwareFile "+(null!=r?r:""),textContent:"Update From File"}),this.fileInput=e.appendSpec(this.fileNode,{type:"input"}),this.fileInput.type="file",this.fileListener=new t.Listener({events:["change","keydown"],proxy:this,node:this.fileInput}))}return n.prototype.keydown=function(e){return e.preventDefault(),e.stopPropagation()},n.prototype.change=function(e){var t,n;return(t=new window.FileReader).onload=(n=this,function(){var r;return(r=new f(n.dev)).verifyFirmware(t.result).then(r.performUpdate).catch(function(e){return"CancellationError"===e.name},function(){}).catch(r.displayError).then(function(){return r.remove(),e.target.value=""})}),t.onabort=function(){return e.target.value=""},t.onerror=function(){return e.target.value=""},t.readAsArrayBuffer(e.target.files[0])},n.prototype.remove=function(){return e.remove(this.fileNode),e.remove(this.fileInput),this.fileListener.remove()},n}(),v}.apply(t,r))||(e.exports=i)},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,n){(function(e){var r,i=i||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(e){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,n=e.URL||e.webkitURL||e,r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),i=!e.externalHost&&"download"in r,o=e.webkitRequestFileSystem,a=e.requestFileSystem||o||e.mozRequestFileSystem,s=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},l=0,u=[],c=function(){for(var e=u.length;e--;){var t=u[e];"string"==typeof t?n.revokeObjectURL(t):t.remove()}u.length=0},h=function(e,t,n){for(var r=(t=[].concat(t)).length;r--;){var i=e["on"+t[r]];if("function"==typeof i)try{i.call(e,n||e)}catch(e){s(e)}}},p=function(n,s){var c,p,d,f=this,v=n.type,m=!1,g=function(){var t=(e.URL||e.webkitURL||e).createObjectURL(n);return u.push(t),t},b=function(){h(f,"writestart progress write writeend".split(" "))},y=function(){!m&&c||(c=g()),p?p.location.href=c:window.open(c,"_blank"),f.readyState=f.DONE,b()},C=function(e){return function(){if(f.readyState!==f.DONE)return e.apply(this,arguments)}},x={create:!0,exclusive:!1};if(f.readyState=f.INIT,s||(s="download"),i){c=g(),t=e.document,(r=t.createElementNS("http://www.w3.org/1999/xhtml","a")).href=c,r.download=s;var _=t.createEvent("MouseEvents");return _.initMouseEvent("click",!0,!1,e,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(_),f.readyState=f.DONE,void b()}e.chrome&&v&&"application/octet-stream"!==v&&(d=n.slice||n.webkitSlice,n=d.call(n,0,n.size,"application/octet-stream"),m=!0),o&&"download"!==s&&(s+=".download"),("application/octet-stream"===v||o)&&(p=e),a?(l+=n.size,a(e.TEMPORARY,l,C(function(e){e.root.getDirectory("saved",x,C(function(e){var t=function(){e.getFile(s,x,C(function(e){e.createWriter(C(function(t){t.onwriteend=function(t){p.location.href=e.toURL(),u.push(e),f.readyState=f.DONE,h(f,"writeend",t)},t.onerror=function(){var e=t.error;e.code!==e.ABORT_ERR&&y()},"writestart progress write abort".split(" ").forEach(function(e){t["on"+e]=f["on"+e]}),t.write(n),f.abort=function(){t.abort(),f.readyState=f.DONE},f.readyState=f.WRITING}),y)}),y)};e.getFile(s,{create:!1},C(function(e){e.remove(),t()}),C(function(e){e.code===e.NOT_FOUND_ERR?t():y()}))}),y)}),y)):y()},d=p.prototype,f=function(e,t){return new p(e,t)};return d.abort=function(){this.readyState=this.DONE,h(this,"abort")},d.readyState=d.INIT=0,d.WRITING=1,d.DONE=2,d.error=d.onwritestart=d.onprogress=d.onwrite=d.onabort=d.onerror=d.onwriteend=null,e.addEventListener("unload",c,!1),f.unload=function(){c(),e.removeEventListener("unload",c,!1)},f}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);
/*! FileSaver.js
 *  A saveAs() FileSaver implementation.
 *  2014-01-24
 *
 *  By Eli Grey, http://eligrey.com
 *  License: X11/MIT
 *    See LICENSE.md
 */
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */void 0!==e&&null!==e?e.exports=i:null!==n(367)&&null!=n(366)&&(void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r))}).call(this,n(120)(e))},function(e,t,n){"use strict";var r;void 0===(r=function(){return function(){function e(e,t){this.dev=e,this.guid=t}return e.prototype.getNumConfigurations=function(){var e;return e="avb/"+this.guid+"/cfg/num",this.dev.get(e)},e.prototype.getConfigurations=function(){var e,t;return e=this.getNumConfigurations(),function(){t=[];for(var n=0,r=e-1;0<=r?n<=r:n>=r;0<=r?n++:n--)t.push(n);return t}.apply(this)},e.prototype.getConfigurationNames=function(){var e,t;return e="avb/"+this.guid+"/cfg/names",null!=(t=this.dev.get(e))?t.split(":"):void 0},e}()}.apply(t,[]))||(e.exports=r)},function(e,t,n){"use strict";var r,i;r=[n(3),n(5)],void 0===(i=function(e,t){return function(){function n(n){var r,i,o;r=n.dev,i=n.node,this.guid=n.guid,this.node=e.appendSpec(i,{className:"banner-message warn"}),this.message=e.appendSpec(this.node,{className:"message"}),this.list=e.appendSpec(this.message,{type:"ul"}),new t.Function(r,(o=this,function(e){var t;return null==(t=e.avb.getValidationResults(o.guid))&&(t=""),o.setMessages(t.split(":"))}))}return n.prototype.setMessages=function(t){return(t=t.filter(function(e){return e})).length?(e.show(this.node),this.renderMessages(t)):e.hide(this.node)},n.prototype.renderMessages=function(t){var n,r,i,o;if(e.clear(this.list),t.length>1){for(o=[],n=0,r=t.length;n<r;n++)i=t[n],o.push(e.appendSpec(this.list,{type:"li",textContent:i}));return o}return this.message.innerHTML=t[0]},n}()}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";!function(e){var t="KeyboardEvent"in e;t||(e.KeyboardEvent=function(){throw TypeError("Illegal constructor")});var n=window.KeyboardEvent.DOM_KEY_LOCATION_STANDARD,r=window.KeyboardEvent.DOM_KEY_LOCATION_LEFT,i=window.KeyboardEvent.DOM_KEY_LOCATION_RIGHT,o=window.KeyboardEvent.DOM_KEY_LOCATION_NUMPAD;function a(e,t){return-1!==String(e).indexOf(t)}var s=a(navigator.platform,"Win")?"win":a(navigator.platform,"Mac")?"mac":a(navigator.platform,"CrOS")?"cros":a(navigator.platform,"Linux")?"linux":a(navigator.userAgent,"iPad")||a(navigator.platform,"iPod")||a(navigator.platform,"iPhone")?"ios":"",l=a(navigator.userAgent,"Chrome/")?"chrome":a(navigator.vendor,"Apple")?"safari":a(navigator.userAgent,"MSIE")?"ie":a(navigator.userAgent,"Gecko/")?"moz":a(navigator.userAgent,"Opera/")?"opera":"",u=l+"-"+s;function c(e,t,n){u!==t&&l!==t&&s!==t||Object.keys(n).forEach(function(t){e[t]=n[t]})}var h={3:{code:"Cancel"},6:{code:"Help"},8:{code:"Backspace"},9:{code:"Tab"},12:{code:"Clear"},13:{code:"Enter"},16:{code:"Shift"},17:{code:"Control"},18:{code:"Alt"},19:{code:"Pause"},20:{code:"CapsLock"},21:{code:"KanaMode"},22:{code:"Lang1"},25:{code:"Lang2"},27:{code:"Escape"},28:{code:"Convert"},29:{code:"NonConvert"},30:{code:"Accept"},31:{code:"ModeChange"},32:{code:"Space"},33:{code:"PageUp"},34:{code:"PageDown"},35:{code:"End"},36:{code:"Home"},37:{code:"ArrowLeft"},38:{code:"ArrowUp"},39:{code:"ArrowRight"},40:{code:"ArrowDown"},41:{code:"Select"},42:{code:"Print"},43:{code:"Execute"},44:{code:"PrintScreen"},45:{code:"Insert"},46:{code:"Delete"},47:{code:"Help"},48:{code:"Digit0",keyCap:"0"},49:{code:"Digit1",keyCap:"1"},50:{code:"Digit2",keyCap:"2"},51:{code:"Digit3",keyCap:"3"},52:{code:"Digit4",keyCap:"4"},53:{code:"Digit5",keyCap:"5"},54:{code:"Digit6",keyCap:"6"},55:{code:"Digit7",keyCap:"7"},56:{code:"Digit8",keyCap:"8"},57:{code:"Digit9",keyCap:"9"},65:{code:"KeyA",keyCap:"a"},66:{code:"KeyB",keyCap:"b"},67:{code:"KeyC",keyCap:"c"},68:{code:"KeyD",keyCap:"d"},69:{code:"KeyE",keyCap:"e"},70:{code:"KeyF",keyCap:"f"},71:{code:"KeyG",keyCap:"g"},72:{code:"KeyH",keyCap:"h"},73:{code:"KeyI",keyCap:"i"},74:{code:"KeyJ",keyCap:"j"},75:{code:"KeyK",keyCap:"k"},76:{code:"KeyL",keyCap:"l"},77:{code:"KeyM",keyCap:"m"},78:{code:"KeyN",keyCap:"n"},79:{code:"KeyO",keyCap:"o"},80:{code:"KeyP",keyCap:"p"},81:{code:"KeyQ",keyCap:"q"},82:{code:"KeyR",keyCap:"r"},83:{code:"KeyS",keyCap:"s"},84:{code:"KeyT",keyCap:"t"},85:{code:"KeyU",keyCap:"u"},86:{code:"KeyV",keyCap:"v"},87:{code:"KeyW",keyCap:"w"},88:{code:"KeyX",keyCap:"x"},89:{code:"KeyY",keyCap:"y"},90:{code:"KeyZ",keyCap:"z"},91:{code:"MetaLeft",location:r},92:{code:"MetaRight",location:i},93:{code:"ContextMenu"},95:{code:"Standby"},96:{code:"Numpad0",keyCap:"0",location:o},97:{code:"Numpad1",keyCap:"1",location:o},98:{code:"Numpad2",keyCap:"2",location:o},99:{code:"Numpad3",keyCap:"3",location:o},100:{code:"Numpad4",keyCap:"4",location:o},101:{code:"Numpad5",keyCap:"5",location:o},102:{code:"Numpad6",keyCap:"6",location:o},103:{code:"Numpad7",keyCap:"7",location:o},104:{code:"Numpad8",keyCap:"8",location:o},105:{code:"Numpad9",keyCap:"9",location:o},106:{code:"NumpadMultiply",keyCap:"*",location:o},107:{code:"NumpadAdd",keyCap:"+",location:o},108:{code:"NumpadComma",keyCap:",",location:o},109:{code:"NumpadSubtract",keyCap:"-",location:o},110:{code:"NumpadDecimal",keyCap:".",location:o},111:{code:"NumpadDivide",keyCap:"/",location:o},112:{code:"F1"},113:{code:"F2"},114:{code:"F3"},115:{code:"F4"},116:{code:"F5"},117:{code:"F6"},118:{code:"F7"},119:{code:"F8"},120:{code:"F9"},121:{code:"F10"},122:{code:"F11"},123:{code:"F12"},124:{code:"F13"},125:{code:"F14"},126:{code:"F15"},127:{code:"F16"},128:{code:"F17"},129:{code:"F18"},130:{code:"F19"},131:{code:"F20"},132:{code:"F21"},133:{code:"F22"},134:{code:"F23"},135:{code:"F24"},144:{code:"NumLock",location:o},145:{code:"ScrollLock"},160:{code:"ShiftLeft",location:r},161:{code:"ShiftRight",location:i},162:{code:"ControlLeft",location:r},163:{code:"ControlRight",location:i},164:{code:"AltLeft",location:r},165:{code:"AltRight",location:i},166:{code:"BrowserBack"},167:{code:"BrowserForward"},168:{code:"BrowserRefresh"},169:{code:"BrowserStop"},170:{code:"BrowserSearch"},171:{code:"BrowserFavorites"},172:{code:"BrowserHome"},173:{code:"AudioVolumeMute"},174:{code:"AudioVolumeDown"},175:{code:"AudioVolumeUp"},176:{code:"MediaTrackNext"},177:{code:"MediaTrackPrevious"},178:{code:"MediaStop"},179:{code:"MediaPlayPause"},180:{code:"LaunchMail"},181:{code:"MediaSelect"},182:{code:"LaunchApp1"},183:{code:"LaunchApp2"},186:{code:"Semicolon",keyCap:";"},187:{code:"Equal",keyCap:"="},188:{code:"Comma",keyCap:","},189:{code:"Minus",keyCap:"-"},190:{code:"Period",keyCap:"."},191:{code:"Slash",keyCap:"/"},192:{code:"Backquote",keyCap:"`"},219:{code:"BracketLeft",keyCap:"["},220:{code:"Backslash",keyCap:"\\"},221:{code:"BracketRight",keyCap:"]"},222:{code:"Quote",keyCap:"'"},226:{code:"IntlBackslash",keyCap:"\\"},229:{code:"Process"},246:{code:"Attn"},247:{code:"CrSel"},248:{code:"ExSel"},249:{code:"EraseEof"},250:{code:"Play"},251:{code:"ZoomToggle"},254:{code:"Clear"}};c(h,"moz",{59:{code:"Semicolon",keyCap:";"},61:{code:"Equal",keyCap:"="},107:{code:"Equal",keyCap:"="},109:{code:"Minus",keyCap:"-"},187:{code:"NumpadAdd",keyCap:"+",location:o},189:{code:"NumpadSubtract",keyCap:"-",location:o}}),c(h,"moz-mac",{12:{code:"NumLock",location:o},173:{code:"Minus",keyCap:"-"}}),c(h,"moz-win",{173:{code:"Minus",keyCap:"-"}}),c(h,"chrome-mac",{93:{code:"MetaRight",location:i}}),c(h,"safari",{3:{code:"Enter"},25:{code:"Tab"}}),c(h,"ios",{10:{code:"Enter",location:n}}),c(h,"safari-mac",{91:{code:"MetaLeft",location:r},93:{code:"MetaRight",location:i},229:{code:"KeyQ",keyCap:"Q"}});var p={};"cros"===s&&(p["U+00A0"]={code:"ShiftLeft",location:r},p["U+00A1"]={code:"ShiftRight",location:i},p["U+00A2"]={code:"ControlLeft",location:r},p["U+00A3"]={code:"ControlRight",location:i},p["U+00A4"]={code:"AltLeft",location:r},p["U+00A5"]={code:"AltRight",location:i}),"chrome-mac"===u&&(p["U+0010"]={code:"ContextMenu"}),"safari-mac"===u&&(p["U+0010"]={code:"ContextMenu"}),"ios"===s&&(p["U+0010"]={code:"Function"},p["U+001C"]={code:"ArrowLeft"},p["U+001D"]={code:"ArrowRight"},p["U+001E"]={code:"ArrowUp"},p["U+001F"]={code:"ArrowDown"},p["U+0001"]={code:"Home"},p["U+0004"]={code:"End"},p["U+000B"]={code:"PageUp"},p["U+000C"]={code:"PageDown"});var d=[];d[r]={16:{code:"ShiftLeft",location:r},17:{code:"ControlLeft",location:r},18:{code:"AltLeft",location:r}},d[i]={16:{code:"ShiftRight",location:i},17:{code:"ControlRight",location:i},18:{code:"AltRight",location:i}},d[o]={13:{code:"NumpadEnter",location:o}},c(d[o],"moz",{109:{code:"NumpadSubtract",location:o},107:{code:"NumpadAdd",location:o}}),c(d[r],"moz-mac",{224:{code:"MetaLeft",location:r}}),c(d[i],"moz-mac",{224:{code:"MetaRight",location:i}}),c(d[i],"moz-win",{91:{code:"MetaRight",location:i}}),c(d[i],"mac",{93:{code:"MetaRight",location:i}}),c(d[o],"chrome-mac",{12:{code:"NumLock",location:o}}),c(d[o],"safari-mac",{12:{code:"NumLock",location:o},187:{code:"NumpadAdd",location:o},189:{code:"NumpadSubtract",location:o},190:{code:"NumpadDecimal",location:o},191:{code:"NumpadDivide",location:o}});var f={ShiftLeft:{key:"Shift"},ShiftRight:{key:"Shift"},ControlLeft:{key:"Control"},ControlRight:{key:"Control"},AltLeft:{key:"Alt"},AltRight:{key:"Alt"},MetaLeft:{key:"Meta"},MetaRight:{key:"Meta"},NumpadEnter:{key:"Enter"},Space:{key:" "},Digit0:{key:"0",shiftKey:")"},Digit1:{key:"1",shiftKey:"!"},Digit2:{key:"2",shiftKey:"@"},Digit3:{key:"3",shiftKey:"#"},Digit4:{key:"4",shiftKey:"$"},Digit5:{key:"5",shiftKey:"%"},Digit6:{key:"6",shiftKey:"^"},Digit7:{key:"7",shiftKey:"&"},Digit8:{key:"8",shiftKey:"*"},Digit9:{key:"9",shiftKey:"("},KeyA:{key:"a",shiftKey:"A"},KeyB:{key:"b",shiftKey:"B"},KeyC:{key:"c",shiftKey:"C"},KeyD:{key:"d",shiftKey:"D"},KeyE:{key:"e",shiftKey:"E"},KeyF:{key:"f",shiftKey:"F"},KeyG:{key:"g",shiftKey:"G"},KeyH:{key:"h",shiftKey:"H"},KeyI:{key:"i",shiftKey:"I"},KeyJ:{key:"j",shiftKey:"J"},KeyK:{key:"k",shiftKey:"K"},KeyL:{key:"l",shiftKey:"L"},KeyM:{key:"m",shiftKey:"M"},KeyN:{key:"n",shiftKey:"N"},KeyO:{key:"o",shiftKey:"O"},KeyP:{key:"p",shiftKey:"P"},KeyQ:{key:"q",shiftKey:"Q"},KeyR:{key:"r",shiftKey:"R"},KeyS:{key:"s",shiftKey:"S"},KeyT:{key:"t",shiftKey:"T"},KeyU:{key:"u",shiftKey:"U"},KeyV:{key:"v",shiftKey:"V"},KeyW:{key:"w",shiftKey:"W"},KeyX:{key:"x",shiftKey:"X"},KeyY:{key:"y",shiftKey:"Y"},KeyZ:{key:"z",shiftKey:"Z"},Numpad0:{key:"0"},Numpad1:{key:"1"},Numpad2:{key:"2"},Numpad3:{key:"3"},Numpad4:{key:"4"},Numpad5:{key:"5"},Numpad6:{key:"6"},Numpad7:{key:"7"},Numpad8:{key:"8"},Numpad9:{key:"9"},NumpadMultiply:{key:"*"},NumpadAdd:{key:"+"},NumpadComma:{key:","},NumpadSubtract:{key:"-"},NumpadDecimal:{key:"."},NumpadDivide:{key:"/"},Semicolon:{key:";",shiftKey:":"},Equal:{key:"=",shiftKey:"+"},Comma:{key:",",shiftKey:"<"},Minus:{key:"-",shiftKey:"_"},Period:{key:".",shiftKey:">"},Slash:{key:"/",shiftKey:"?"},Backquote:{key:"`",shiftKey:"~"},BracketLeft:{key:"[",shiftKey:"{"},Backslash:{key:"\\",shiftKey:"|"},BracketRight:{key:"]",shiftKey:"}"},Quote:{key:"'",shiftKey:'"'},IntlBackslash:{key:"\\",shiftKey:"|"}};c(f,"mac",{MetaLeft:{key:"Meta"},MetaRight:{key:"Meta"}});var v,m,g,b={Add:"+",Decimal:".",Divide:"/",Subtract:"-",Multiply:"*",Spacebar:" ",Esc:"Escape",Nonconvert:"NonConvert",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Menu:"ContextMenu",MediaNextTrack:"MediaTrackNext",MediaPreviousTrack:"MediaTrackPrevious",SelectMedia:"MediaSelect",HalfWidth:"Hankaku",FullWidth:"Zenkaku",RomanCharacters:"Romaji",Crsel:"CrSel",Exsel:"ExSel",Zoom:"ZoomToggle"},y=(v=h,m="code",g={},Object.keys(v).forEach(function(e){var t=v[e];m in t&&(g[t[m]]=t)}),g);try{var C=t&&"location"in new KeyboardEvent("")}catch(e){}function x(e){var t="keyCode"in e?e.keyCode:"which"in e?e.which:0,n=function(){if(C||"keyLocation"in e){var n=C?e.location:e.keyLocation;if(n&&t in d[n])return d[n][t]}return"keyIdentifier"in e&&e.keyIdentifier in p?p[e.keyIdentifier]:t in h?h[t]:null}();if(!n)return null;var r,i=(r=f[n.code])?e.shiftKey&&"shiftKey"in r?r.shiftKey:r.key:n.code;return{code:n.code,key:i,location:n.location,keyCap:n.keyCap}}"KeyboardEvent"in e&&"defineProperty"in Object&&function(){function e(e,t,n){t in e||Object.defineProperty(e,t,n)}if(e(KeyboardEvent.prototype,"code",{get:function(){var e=x(this);return e?e.code:""}}),"key"in KeyboardEvent.prototype){var t=Object.getOwnPropertyDescriptor(KeyboardEvent.prototype,"key");Object.defineProperty(KeyboardEvent.prototype,"key",{get:function(){var e=t.get.call(this);return b.hasOwnProperty(e)?b[e]:e}})}e(KeyboardEvent.prototype,"key",{get:function(){var e=x(this);return e&&"key"in e?e.key:"Unidentified"}}),e(KeyboardEvent.prototype,"location",{get:function(){var e=x(this);return e&&"location"in e?e.location:n}}),e(KeyboardEvent.prototype,"locale",{get:function(){return""}})}(),"queryKeyCap"in e.KeyboardEvent||(e.KeyboardEvent.queryKeyCap=function(e,t){if(e=String(e),!y.hasOwnProperty(e))return"Undefined";if(t&&"en-us"!==String(t).toLowerCase())throw Error("Unsupported locale");var n=y[e];return n.keyCap||n.code||"Undefined"}),e.identifyKey=function(e){if(!("code"in e)){var t=x(e);e.code=t?t.code:"",e.key=t&&"key"in t?t.key:"Unidentified",e.location="location"in e?e.location:"keyLocation"in e?e.keyLocation:t&&"location"in t?t.location:n,e.locale=""}}}(self)},function(e,t,n){"use strict";var r,i;r=[n(3),n(2),n(27),n(5),n(1),n(21),n(107),n(157)],void 0===(i=function(e,t,n,r,i,o,a,s){var l,u=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};return l="0000000000000000:0",function(){function t(t){var n,i;this.dev=t.dev,this.guid=t.guid,n=t.div,this.onSizeChanged=t.onSizeChanged,this.routerOK=this.dev.get("uid")===this.guid&&o.works({dev:this.dev,cap:"router"}),this.routerOK&&new s.AVBStreamSetup({dev:this.dev,div:n}),this.div=e.appendSpec(n,{className:"devSection"}),e.appendSpec(this.div,{type:"h4",textContent:"AVB Stream Connections"}),this.removePool=[],this.menuTable=new a(this.div),new r.Function(this.dev,(i=this,function(e){return i.recreateMenus(e)})),new r.Function(this.dev,function(e){return function(t){return e.checkAllStreamsHidden(t)}}(this))}return t.prototype.filterSourcesConnectedByOtherStreams=function(e){var t,n,r,o,a;return r=e.sources,o=e.streamIndex,n=e.dev,t=[],n.avb.mapInputStreams(this.guid,(a=this,function(e,r){if(r!==o)return t.push(n.avb.getNthInputStreamTalker(a.guid,r))})),i.filter(r,function(e){return e===l||!(u.call(t,e)>=0)})},t.prototype.recreateMenus=function(t){var i,o,a,s;for(i=0,o=(a=this.removePool).length;i<o;i++)a[i].remove();return this.menuTable.clear(),this.removePool=[],t.avb.mapInputStreams(this.guid,(s=this,function(i,o){var a,c,h,p,d,f;return f=s.menuTable.addRow(i+":"),s.routerOK&&null!=(a=t.router.getNthInputStreamIBank(o))&&s.removePool.push(new r.Function(s.dev,function(t){var n;return n=f.parentNode.parentNode,+t.get("meta/ibank/"+a+"/calcCh")>0?e.show(n):e.hide(n),"function"==typeof s.onSizeChanged?s.onSizeChanged():void 0})),c=new n.Menu({dev:s.dev,node:f,extraCss:"streamMenu"}),s.removePool.push(c),s.removePool.push(new r.Function(s.dev,function(e){var t,n,r;return n=s.gatherSources(e),r=n.sources,t=n.disp,r=s.filterSourcesConnectedByOtherStreams({sources:r,streamIndex:o,dev:e}),c.getOpts=function(){return r},c.showOpt=function(e){return null!=t[e]?t[e]:"Offline Stream"},c.setupMenu()})),s.removePool.push(new r.Function(s.dev,function(e){var t;return t="avb/"+s.guid+"/cfg/"+e.avb.getCurConfig(s.guid)+"/input_streams/"+o+"/talker",c.rewire(t)})),h=c.node.className,p=h.concat(" connecting"),d=h.concat(" failed"),s.removePool.push(new r.Function(s.dev,function(e){var t,n,r,i;return i=e.get("avb/"+s.guid+"/cfg/"+e.avb.getCurConfig(s.guid)+"/input_streams/"+o+"/talker"),r=(n=s.gatherSources(e)).sources,n.disp,"connecting"===(t=null!=(t=null!=(t=e.get("avb/"+s.guid+"/cfg/"+e.avb.getCurConfig(s.guid)+"/input_streams/"+o+"/connection_status"))?t.split(":"):void 0)?t[0]:void 0)&&u.call(r,i)>=0?c.node.className=p:"failed"===t?c.node.className=d:"not_connected"===t&&u.call(r,i)>=0&&i!==l?c.node.className=d:c.node.className=h,e.avb.isAcquired(s.guid)?c.node.setAttribute("disabled",!0):c.node.removeAttribute("disabled")}))}))},t.prototype.checkAllStreamsHidden=function(t){var n,r,i,o;if(this.routerOK){for(o in r=0,i=t.router.streamIBanks)n=i[o],t.router.getIBankCalcCh(n)>0&&r++;return 0===r?e.hide(this.div):e.show(this.div),"function"==typeof this.onSizeChanged?this.onSizeChanged():void 0}},t.prototype.gatherSources=function(e){var t,n,r,i,o,a;for(t={},(a=[]).push(l),t[l]="None",r=0,i=(o=e.avb.getDevs()).length;r<i;r++)(n=o[r])!==this.guid&&(e.avb.isAcquired(n)||!e.avb.isAcquired(this.guid)&&e.avb.isControllerIgnore(n)||e.avb.getCurSampleRate(n)===e.avb.getCurSampleRate(this.guid)&&e.avb.mapOutputStreams(n,function(r){return function(i,o){var s,l,c;if(!(0!==(l=e.avb.getNthOutputStreamSampleRates(n,o))[0]&&(s=e.avb.getCurSampleRate(r.guid),u.call(l,s)<0)))return c=n+":"+o,a.push(c),t[c]=e.avb.getTalkerTitle(r.guid,c)}}(this)));return{sources:a,disp:t}},t.prototype.remove=function(){return e.remove(this.div)},t}()}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(3),n(21),n(5)],void 0===(i=function(e,t,n){return function(){function r(t){var i,o,a;this.dev=t.dev,i=t.div,o=t.guid,a=e.appendSpec(i,{type:"table",className:"infoTb"}),this.reaction=new n.Function(this.dev,function(t){var n,i,s,l,u,c;for(s in e.clear(a),n=e.appendSpec(a,{type:"tr"}),i=e.appendSpec(a,{type:"tr"}),l=[],u=r.values(t,o))(c=u[s])&&(e.appendSpec(n,{type:"th",className:"selectable",textContent:s}),l.push(e.appendSpec(i,{type:"td",className:"selectable",textContent:c})));return l})}return r.values=function(e,n){var r,i,o,a,s,l,u;return o=-1!==(a=e.avb.getModelName(n)).indexOf("UltraLite")&&-1!==a.indexOf("ES"),u={Manufacturer:e.avb.getVendorName(n),Model:o?a.slice(0,-3):a,UID:n,"Firmware Version":e.avb.getFirmwareVersion(n),"Serial Number":o?"ES"+n:void 0,"UI Version":t.ui,Hostname:e.avb.getHostname(n)},e.get("uid")===n&&(i=e.get("avb/"+n+"/url"),r=e.get("host/driver_version"),l=e.get("ext/osc_port"),s=e.get("host/os"),r&&(r="win"===s?"Windows "+r:"Mac "+r),r&&(u["Driver Version"]=r),i&&i!=="127.0.0.1"&&(i&&(u["IP Address"]=i),l&&(u["OSC UDP Port"]=l))),u},r}()}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(2),n(3),n(32),n(34),n(30),n(1),n(5),n(158),n(95),n(16),n(69),n(88)],void 0===(i=function(e,t,n,r,i,o,a,s,l,u,c,h){var p,d,f=function(e,t){for(var n in t)v.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},v={}.hasOwnProperty,m=function(e,t){return function(){return e.apply(t,arguments)}};return d={},p=function(){var n,r,a;function s(r){var i,o,a,s,l,u,c;for(this.path=r.path,this.glideScopes=r.glideScopes,this.glideBoundNode=r.glideBoundNode,this.src=r.dev,this.glideIndexes={},l=t.appendSpec(r.node,{className:"meterLabelDiv"}),this.labels=[],this.interactions=[],i=0,s=n.length;i<s;i++)a=n[i],this.labels.push(t.appendSpec(l,{className:"meterLabel meterLabel"+a}));for(this.addInteraction(),u=t.appendSpec(r.node,{className:"meterLabelTickDiv"}),o=0,c=n.length;0<=c?o<c:o>c;0<=c?++o:--o)e.appendChildClone(u,this.protoTick)}return a=new i.Meter,(r=o.map([1,.8,.6,.4,.2,0],function(e){return 4*a.unwarp(e)}))[1]=1,n=["12dB","0dB","-12dB","-24dB","-36dB","-infdB"],s.prototype.protoTick=t.specToNode({className:"meterLabelTick"}),s.prototype.addInteraction=function(){var t,i,o,a,s,l,c;if(!e.isMobile){for(c=[],s=o=0,l=this.labels.length;0<=l?o<l:o>l;s=0<=l?++o:--o)i="FaderTick"+n[s],null==(t=this.glideScopes)[i]&&(t[i]=new u.GlideScope({axis:"x",boundingNode:this.glideBoundNode})),a=new u.ToggleButton({node:this.labels[s],path:this.path,values:[r[s]],glideScope:this.glideScopes[i],src:this.src,glideIndex:this.glideIndexes[i]}),this.glideIndexes[i]=a.getGlideIndex(),c.push(this.interactions.push(a));return c}},s.prototype.removeInteraction=function(){var t,n,r;for(t=0,n=(r=this.interactions).length;t<n;t++)r[t].remove();return e.clearArray(this.interactions)},s.prototype.rewire=function(e){return this.path=e,this.removeInteraction(),this.addInteraction()},s}(),d.Fader=function(n){function r(e){var n,i,a;r.__super__.constructor.call(this,{src:e.dev,type:e.type,warptype:"Meter"}),this.strip=e.strip,n=e.node,a=t.appendSpec(n,{className:"faderWellWrapper"}),i=t.appendSpec(a,{className:"faderMeterWell"}),this.node=i,this.meter=new s.Meter(o.extend(o.pick(e,"dev","strip","meterDrawer","scope"),{node:this.node,faderPath:e.path})),this.track=t.appendSpec(i,{className:"faderMeterTrack"}),this.thumb=t.appendSpec(this.track,{className:"faderThumb"}),t.appendSpec(this.thumb,{className:"faderThumbTick"}),this.readout=new l.Readout(o.extend(o.clone(e),{node:a,extraCss:"faderReadout"})),this.legend=new p(o.extend(o.clone(e),{node:a,type:this.type})),this.rewire(e.path)}return f(r,n),r.prototype.addInteraction=function(){return this.interactions=[],null==this.warp&&(this.warp=new i[this.warptype](this.type)),e.isMobile||this.interactions.push(new u.DragNumeric({node:this.track,path:this.path,type:this.type,warp:this.warp,mode:"absolute",tooltip:!1,axis:"y",dev:this.src})),this.interactions.push(new u.DragNumeric({node:this.thumb,path:this.path,type:this.type,warp:this.warp,mode:"thumb",tooltip:!1,axis:"y",dev:this.src}))},r.prototype.removeInteraction=function(){var e,t,n;if(null!=this.interactions)for(e=0,t=(n=this.interactions).length;e<t;e++)n[e].remove();return this.interactions=[]},r.prototype.rewire=function(e,t){return this.readout.rewire(e),this.meter.setFaderPath(e),this.legend.rewire(e),this.meter.setMetaFaderPath(t),r.__super__.rewire.call(this,e)},r.prototype.trackHeight=162,r.prototype.thumbHeight=38,r.prototype.update=function(e){var t,n;return t=this.trackHeight,n=Math.floor(t*(1-+e)-this.thumbHeight/2),this.thumb.style.top=n+"px"},r}(a.NumericControl),d.AuxMixerFader=function(e){function t(e){var n;t.__super__.constructor.call(this,o.pick(e,"node","dev","strip","meterDrawer","glideScopes","glideBoundNode","scope")),this.auxMixWatcher=new a.Function(e.dev,(n=this,function(e){var t;if(n.auxID=e.get("preferences/auxmix/current_id"),""!==n.auxID)return t=+e.get("mix/"+n.auxID+"/matrix/prefader"),n.rewire("mix/"+n.strip.id+"/matrix/"+n.auxID+"/send",n.calcMetaPath(t))}))}return f(t,e),t.prototype.remove=function(){return this.auxMixWatcher.remove(),t.__super__.remove.call(this)},t.prototype.calcMetaPath=function(e){return e?null:"mix/"+this.strip.id+"/matrix/fader"},t}(d.Fader),d.HorizontalFader=function(n){function r(e){var t,n,i,o,a,l,u;i=e.node,a=e.src,o=e.path,u=e.warptype,l=e.type,n=e.meterMode,t=e.extraCss,r.__super__.constructor.call(this,{src:a,warptype:u,type:l}),null==n&&(n="left-to-right"),this.faderUI=new s.SingleHorizontalFader({node:i,mode:n,extraCss:t}),this.rewire(o)}return f(r,n),r.prototype.addInteraction=function(){return e.isMobile?this.interaction=new u.DragNumeric({node:this.faderUI.node,path:this.path,type:this.type,warp:this.warper,mode:"absolute",tooltip:!0,axis:"x",dev:this.src}):this.interaction=new u.DragNumeric({node:this.faderUI.node,path:this.path,type:this.type,warp:this.warper,mode:"differential",virtualSize:this.faderUI.faderThrow,tooltip:!0,dev:this.src})},r.prototype.removeInteraction=function(){var e;return null!=(e=this.interaction)?e.remove():void 0},r.prototype.update=function(e){return this.faderUI.set(e)},r.prototype.show=function(){return t.show(this.faderUI.node)},r.prototype.hide=function(){return t.hide(this.faderUI.node)},r}(a.NumericControl),d.AuxPanner=function(n){function r(e){var t,n,i,o,a;t=e.node,i=e.src,n=e.path,a=e.warptype,o=e.type,e.meterMode,e.extraCss,r.__super__.constructor.call(this,{src:i,warptype:a,type:o}),this.UI=new s.ArcMeter(t),this.rewire(n)}return f(r,n),r.prototype.addInteraction=function(){return e.isMobile?this.interaction=new u.DragNumeric({node:this.UI.node,path:this.path,type:this.type,warp:this.warper,mode:"absolute",tooltip:!0,axis:"x",dev:this.src}):this.interaction=new u.DragNumeric({node:this.UI.node,path:this.path,type:this.type,warp:this.warper,mode:"differential",virtualSize:this.UI.faderThrow,tooltip:!0,dev:this.src})},r.prototype.removeInteraction=function(){var e;return null!=(e=this.interaction)?e.remove():void 0},r.prototype.update=function(e){return this.UI.set(e)},r.prototype.show=function(){return t.show(this.UI.node)},r.prototype.hide=function(){return t.hide(this.UI.node)},r}(a.NumericControl),d.AuxSendPanPair=function(){function e(e){var t,n,r,i,o,l,u,p,f,v,g,b,y,C;this.show=m(this.show,this),this.hide=m(this.hide,this),r=e.dev,p=e.node,v=e.path,y=e.type,i=e.extraCss,l=e.label,t=e.auxStrip,n=e.channelStrip,g=e.scope,b=v+"/send",f=v+"/pan",null==i&&(i=""),o=i+" double",this.node=new s.HorizontalFaderGroup({node:p,extraCss:o}).node,this.label=new s.HorizontalFaderLabel({node:this.node,label:l,extraCss:i}),this.sendFader=new d.HorizontalFader({node:this.node,src:r,path:b,type:y,warptype:"Meter",extraCss:i}),this.panFader=new d.AuxPanner({node:this.node,src:r,path:f,type:y,extraCss:i}),this.hideShow=new c.StripEnabledHideShow({scope:g,strip:t,dev:r,onshow:this.show,onhide:this.hide}),u=t.metaPath+"/name",this.nameWatcher=new a.Function(r,(C=this,function(e){return C.label.setText(e.get(u))})),this.busPair=new h(r,t.type,t.num),new a.Function(r,function(e){return function(t){return e.busPair.dev=t,e.busPair.inputsWillPan()?e.grow():e.shrink(),e.busPair.inputWillPan(n)?e.showPan():e.hidePan()}}(this))}return e.prototype.hide=function(){return t.hide(this.node)},e.prototype.show=function(){return t.show(this.node)},e.prototype.shrink=function(){return t.removeClass(this.node,"double")},e.prototype.grow=function(){return t.addClass(this.node,"double")},e.prototype.showPan=function(){return this.panFader.show()},e.prototype.hidePan=function(){return this.panFader.hide()},e}(),d.DummyAuxPair=function(){function e(e){var t,n;this.hidePan=m(this.hidePan,this),this.showPan=m(this.showPan,this),this.hide=m(this.hide,this),this.show=m(this.show,this),this.strip=e.auxStrip,this.dev=e.dev,t=e.node,this.node=new s.HorizontalFaderGroup({node:t,extraCss:"double"}).node,this.hideShow=new c.StripEnabledHideShow({strip:this.strip,dev:this.dev,onshow:this.show,onhide:this.hide}),this.busPair=new h(this.dev,this.strip.type,this.strip.num),new a.Function(this.dev,(n=this,function(e){return n.busPair.dev=e,n.busPair.inputsWillPan()?n.showPan():n.hidePan()}))}return e.prototype.show=function(){return t.show(this.node)},e.prototype.hide=function(){return t.hide(this.node)},e.prototype.showPan=function(){return t.addClass(this.node,"double")},e.prototype.hidePan=function(){return t.removeClass(this.node,"double")},e}(),d.AuxFader=function(){function e(e){var t,n,r,i,o,l,u,h;t=e.dev,i=e.node,o=e.path,u=e.type,n=e.extraCss,r=e.label,this.strip=e.auxStrip,l=e.scope,this.node=new s.HorizontalFaderGroup({node:i,extraCss:n}).node,this.label=new s.HorizontalFaderLabel({node:this.node,label:r,extraCss:n}),this.fader=new d.HorizontalFader({node:this.node,src:t,path:o,type:u,warptype:"Meter",extraCss:n}),this.hideShow=new c.StripEnabledHideShow({scope:l,strip:this.strip,dev:t,onshow:(h=this,function(){return h.show()}),onhide:function(e){return function(){return e.hide()}}(this)}),this.nameWatcher=new a.Function(t,function(e){return function(t){return e.label.setText(t.get(e.strip.metaPath+"/name"))}}(this))}return e.prototype.show=function(){return t.show(this.node)},e.prototype.hide=function(){return t.hide(this.node)},e}(),d.DummyAuxFader=function(){function e(e){var n;this.strip=e.auxStrip,this.dev=e.dev,this.node=t.appendSpec(e.node,{className:"hFaderEmpty"}),this.hideShow=new c.StripEnabledHideShow({strip:this.strip,dev:this.dev,onshow:(n=this,function(){return n.show()}),onhide:function(e){return function(){return e.hide()}}(this)})}return e.prototype.show=function(){return this.node.style.display=""},e.prototype.hide=function(){return this.node.style.display="none"},e.prototype.remove=function(){return this.hideShow.remove()},e}(),d}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(3),n(5),n(30)],void 0===(i=function(e,t,n){var r,i,o,a,s,l,u,c=function(e,t){return function(){return e.apply(t,arguments)}},h=function(e,t){for(var n in t)p.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},p={}.hasOwnProperty;return a=1,o=[],s=function(e){return(-40-e)/-40},u=function(e){return-40*(1-e)},l=function(e){var t,n;for(t=0,n=o.length;t<n;t++)o[t].render(e);return window.requestAnimationFrame(l)},window.requestAnimationFrame(l),i=function(){function r(r){var i,s,l,u,h,p;this.render=c(this.render,this),this.drawControls=c(this.drawControls,this),this.drawMeters=c(this.drawMeters,this),this.drawFill=c(this.drawFill,this),this.drawForeground=c(this.drawForeground,this),this.drawCurves=c(this.drawCurves,this),this.drawBackground=c(this.drawBackground,this),this.points=c(this.points,this),this.getNextValue=c(this.getNextValue,this),this.updateMeterValues=c(this.updateMeterValues,this),o.push(this),this.dev=r.dev,this.path=r.path.slice(0,-5),this.scale=r.scale,this.thumbnail=r.thumbnail,this.enabled=!1,this.id="c"+a++,this.meterType="comp",this.strip=r.strip,this.name=this.dev.mixer.getStripName(this.path.slice(4)),this.meterIndex=null,this.threshold=null,this.ratio=null,this.meterLevel=0,this.meterGainReduction=0,this.decay=.6,this.holdSteps=45,this.epsilon=3,this.hold=0,this.dirty=!1,this.dirtyDeviceRatio=!1,this.dirtyDeviceThreshold=!1,this.warper=new n.CompLevel(this.dev.getParameterTypeForPath(this.path)),this.grWarper=new n.FullScaleMeter(this.dev.getParameterTypeForPath(this.path)),this.indexWatcher=new t.Function(this.dev,(p=this,function(e){var t;return t=p.strip.num,e.valid(p.strip.formatPath)||(t/=2),p.meterIndex=+e.get("meta/meterIndex/"+p.meterType+"/"+p.strip.type)+t})),i=(s=this.thumbnail?"compGraphThumb":"compGraph")+"Background",l=s+"Foreground",this.backgroundEl=e.appendSpec(r.node,{type:"canvas",id:this.id+"bg",height:this.scale,width:this.scale,className:(null!=(u=r.extraCss)?u:"")+" "+i}),this.background=this.backgroundEl.getContext("2d"),this.foregroundEl=e.appendSpec(r.node,{type:"canvas",id:this.id+"fg",height:this.scale,width:this.scale,className:(null!=(h=r.extraCss)?h:"")+" "+l}),this.foreground=this.foregroundEl.getContext("2d"),this.drawBackground(),new t.Function(this.dev,function(e){return function(t){if(e.threshold=t.get(e.path+"/threshold"),e.ratio=t.get(e.path+"/ratio"),e.attack=t.get(e.path+"/attack"),e.release=t.get(e.path+"/release"),e.gain=t.get(e.path+"/trim"),e.enabled=t.get(e.path+"/enable"),e.rms=t.get(e.path+"/peak"),e.makeup=t.get(e.path+"/makeup"),null!=e.updateLabels)return e.updateLabels()}}(this)),new t.Function(this.dev,function(e){return function(t){var n,r;return r=t.get("meters/mix/comp/level"),n=t.get("meters/mix/comp/gain"),e.updateMeterValues(r,n)}}(this))}return r.prototype.updateMeterValues=function(e,t){if(null!=e&&(this.meterLevel=this.getNextValue(this.meterLevel,e[this.meterIndex]/1e3)),null!=t)return this.meterGainReduction=this.getNextValue(this.meterGainReduction,t[this.meterIndex]/1e3)},r.prototype.getNextValue=function(e,t){var n;return t>e+this.epsilon&&(this.hold=0),t>e?t:(this.hold++,n=1,this.hold>=this.holdSteps&&(n=this.decay),Math.max(e*n,t))},r.prototype.points=function(){var e,t,n,r,i,o,a,l;return 4,i=s(this.threshold-4),r=s(this.threshold+4),l=s(this.threshold),this.makeup?(o={x:0,y:(e={x:l,y:1/this.ratio*(1-l)}).x+e.y},a={x:1,y:0}):(e={x:l,y:1-l},o={x:0,y:1},a={x:1,y:(l-1)/this.ratio+e.y}),t={x:i,y:e.y+e.x-i},n={x:r,y:e.y+1/this.ratio*(e.x-r)},{p0:{x:Math.round(o.x*this.scale),y:Math.round(o.y*this.scale)},p1:{x:Math.round(a.x*this.scale),y:Math.round(a.y*this.scale)},c:{x:Math.round(e.x*this.scale),y:Math.round(e.y*this.scale)},k0:{x:Math.round(t.x*this.scale),y:Math.round(t.y*this.scale)},k1:{x:Math.round(n.x*this.scale),y:Math.round(n.y*this.scale)}}},r.prototype.drawBackground=function(){var e,t,n,r,i,o;for(o=[.25,.5,.75],this.background.font="12px helvetica",this.background.fillStyle="#677787",this.background.strokeStyle="#394149",this.background.lineWidth=1,this.background.beginPath(),e=0,n=o.length;e<n;e++)t=u(i=o[e])+"db",r=i*this.scale,this.background.moveTo(0,this.scale-r),this.background.lineTo(this.scale,this.scale-r),this.background.moveTo(r,0),this.background.lineTo(r,this.scale),this.thumbnail||(this.background.fillText(t,4,this.scale-r-6),this.background.fillText(t,r+4,this.scale-6));return this.background.stroke()},r.prototype.drawCurves=function(e){var t,n,r,i,o,a;return i=(a=this.points()).p0,o=a.p1,t=a.c,n=a.k0,r=a.k1,e.beginPath(),e.strokeStyle="#E61B64",e.lineWidth=1,e.moveTo(i.x,i.y),e.lineTo(t.x+this.scale,t.y-this.scale),e.stroke(),e.beginPath(),e.strokeStyle="#93D2FF",e.moveTo(i.x,i.y),e.lineTo(n.x,n.y),e.quadraticCurveTo(t.x,t.y,r.x,r.y),e.lineTo(o.x,o.y),e.stroke()},r.prototype.drawForeground=function(){var e;if(this.dirty&&(this.foreground.clearRect(0,0,this.scale,this.scale),this.dirty=!1),this.enabled&&(this.dirty=!0,this.drawCurves(this.foreground),e=this.warper.warp(this.meterLevel),this.drawFill(e),!this.thumbnail))return this.drawMeters(e,this.grWarper.warp(this.meterGainReduction)),this.drawControls()},r.prototype.drawFill=function(e){var t,n,r,i,o,a,s,l,u,c,h,p;return c=(h=this.points()).p0,h.p1,o=h.c,s=h.k0,l=h.k1,(p=Math.round(e*this.scale))<=s.x?null:s.x<p&&p<=l.x?(a=l.x-s.x,i=1-(n=(l.x-p)/a),t={x:Math.round(n*s.x+i*o.x),y:Math.round(n*s.y+i*o.y)},r={x:Math.round(n*o.x+i*l.x),y:Math.round(n*o.y+i*l.y)},u={x:Math.round(n*t.x+i*r.x),y:Math.round(n*t.y+i*r.y)},this.foreground.fillStyle="rgba(230, 27, 100, 0.4)",this.foreground.beginPath(),this.foreground.moveTo(c.x,c.y),this.foreground.lineTo(s.x,s.y),this.foreground.quadraticCurveTo(t.x,t.y,u.x,u.y),this.foreground.lineTo(u.x,-1*u.x+c.y),this.foreground.lineTo(c.x,c.y),this.foreground.fill(),null):l.x<p?(this.foreground.fillStyle="rgba(230, 27, 100, 0.4)",this.foreground.beginPath(),this.foreground.moveTo(c.x,c.y),this.foreground.lineTo(s.x,s.y),this.foreground.quadraticCurveTo(o.x,o.y,l.x,l.y),this.foreground.lineTo(p,l.y-Math.round((p-l.x)/this.ratio)),this.foreground.lineTo(p,-1*p+c.y),this.foreground.lineTo(c.x,c.y),this.foreground.fill(),null):void 0},r.prototype.drawMeters=function(e,t){var n,r,i;return(i=this.points()).p0,i.p1,i.c,i.k0,i.k1,n=this.scale-Math.round(t*this.scale),r=Math.round(e*this.scale),this.foreground.fillStyle="rgba(230, 27, 100, 0.8)",this.foreground.beginPath(),this.foreground.moveTo(this.scale,0),this.foreground.lineTo(this.scale,n),this.foreground.lineTo(this.scale-6,n),this.foreground.lineTo(this.scale-6,0),this.foreground.fill(),this.foreground.fillStyle="rgba(66, 234, 206, 0.8)",this.foreground.beginPath(),this.foreground.moveTo(0,this.scale),this.foreground.lineTo(0,this.scale-r),this.foreground.lineTo(6,this.scale-r),this.foreground.lineTo(6,this.scale),this.foreground.fill()},r.prototype.drawControls=function(){var e,t;return 12,18,9,9,t=Math.round(s(this.threshold)*this.scale),e=Math.round(this.scale-this.ratio/10*this.scale),this.foreground.fillStyle="#E0FF19",this.foreground.beginPath(),this.foreground.moveTo(t-9,this.scale),this.foreground.lineTo(t+9,this.scale),this.foreground.lineTo(t,this.scale-12),this.foreground.moveTo(t,e),this.foreground.arc(t,e,9,2*Math.PI,0,!0),this.foreground.fill()},r.prototype.render=function(e){var t;if(this.drawForeground(),t={},this.dirtyDeviceRatio&&(t[this.path+"/ratio"]=this.ratio),this.dirtyDeviceThreshold&&(t[this.path+"/threshold"]=this.threshold),this.dirtyDeviceRatio||this.dirtyDeviceThreshold)return this.dev.setMultiple(t),this.dirtyDeviceRatio=!1,this.dirtyDeviceThreshold=!1},r}(),{CompressorGraphThumbnail:function(e){function t(e){var n;e.thumbnail=!0,e.scale=64,t.__super__.constructor.call(this,e),this.bigComp=null,this.foregroundEl.addEventListener("click",(n=this,function(t){if(n.bigComp||(n.bigComp=new r(e)),n.bigComp.mount(),t.stopPropagation&&t.stopPropagation(),t.preventDefault)return t.preventDefault()}))}return h(t,i),t}(),CompressorGraph:r=function(t){function n(t){var r,i,o;this.updateLabels=c(this.updateLabels,this),this.hitCheck=c(this.hitCheck,this),this.keyEventHandler=c(this.keyEventHandler,this),this.unmount=c(this.unmount,this),this.mount=c(this.mount,this),this.container=e.specToNode({className:"compGraphContainer"}),this.drag={startX:null,startY:null,dragging:!1},t.extraCss=null,t.node=this.container,t.thumbnail=!1,t.scale=400,n.__super__.constructor.call(this,t),r=function(e){return function(t){var r,i;if(r=t.touches?t.touches[0].clientX:t.clientX,i=t.touches?t.touches[0].clientY:t.clientY,e.drag.startX=r-n.drag.childContainerLeft,e.drag.startY=i-n.drag.childContainerBottom+400,e.drag.dragging=e.hitCheck(e.drag.startX,e.drag.startY),t.stopPropagation&&t.stopPropagation(),t.preventDefault)return t.preventDefault()}}(this),o=function(e){return function(t){if(e.drag.dragging=!1,t.stopPropagation&&t.stopPropagation(),t.preventDefault)return t.preventDefault()}}(this),i=function(e){return function(t){var r,i,o,a,s,l;return t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),a=t.touches?t.touches[0].clientX:t.clientX,l=t.touches?t.touches[0].clientY:t.clientY,a<n.drag.childContainerLeft&&(a=n.drag.childContainerLeft),a>n.drag.childContainerLeft+e.scale&&(a=n.drag.childContainerLeft+e.scale),l>n.drag.childContainerBottom&&(l=n.drag.childContainerBottom),l<n.drag.childContainerBottom-e.scale&&(l=n.drag.childContainerBottom-e.scale),o=a-n.drag.childContainerLeft,s=l-n.drag.childContainerBottom+400,"ratio"===e.drag.dragging&&(i=.1*e.scale,(r=e.scale-s)<i&&(r=i),e.ratio=r/e.scale*10,e.dirtyDeviceRatio=!0,e.threshold=u(o/e.scale),e.dirtyDeviceThreshold=!0),"threshold"===e.drag.dragging&&(e.threshold=u(o/e.scale),e.dirtyDeviceThreshold=!0),e.hitCheck(o,s)?e.foregroundEl.classList.add("compGraphForeground__controlHover"):e.foregroundEl.classList.remove("compGraphForeground__controlHover")}}(this),this.foregroundEl.addEventListener("mousedown",r),this.foregroundEl.addEventListener("touchstart",r),n.layer.addEventListener("mouseup",o),n.layer.addEventListener("touchend",o),n.layer.addEventListener("mouseleave",function(e){return function(t){if(e.drag.dragging=!1,t.stopPropagation&&t.stopPropagation(),t.preventDefault)return t.preventDefault()}}(this)),n.layer.addEventListener("mousemove",_.throttle(i,1e3/15)),n.layer.addEventListener("touchmove",_.throttle(i,1e3/15)),this.details=e.appendSpec(this.container,{className:"compGraphDetails"}),this.detailsHeader=e.appendSpec(this.details,{className:"compGraphDetailHeader"}),this.enableBtn=e.appendSpec(this.detailsHeader,{className:'enableBtn available #{"active" if @enabled}',style:"float: right"}),this.threshLabel=e.appendSpec(this.details,{className:"compGraphDetailLabel",textContent:"Threshold:"}),this.threshDetail=e.appendSpec(this.details,{type:"input",className:"compGraphDetailReadout"}),this.ratioLabel=e.appendSpec(this.details,{className:"compGraphDetailLabel",textContent:"Ratio:"}),this.ratioDetail=e.appendSpec(this.details,{type:"input",className:"compGraphDetailReadout"}),this.attackLabel=e.appendSpec(this.details,{className:"compGraphDetailLabel",textContent:"Attack:"}),this.attackDetail=e.appendSpec(this.details,{type:"input",className:"compGraphDetailReadout"}),this.releaseLabel=e.appendSpec(this.details,{className:"compGraphDetailLabel",textContent:"Release:"}),this.releaseDetail=e.appendSpec(this.details,{type:"input",className:"compGraphDetailReadout"}),this.gainLabel=e.appendSpec(this.details,{className:"compGraphDetailLabel",textContent:"Gain:"}),this.gainDetail=e.appendSpec(this.details,{type:"input",className:"compGraphDetailReadout"}),this.rmsContainer=e.appendSpec(this.details,{}),this.rmsButton=e.appendSpec(this.rmsContainer,{className:"utilityBtn compGraph reverseActive",textContent:"RMS"}),this.makeupContainer=e.appendSpec(this.details,{}),this.makeupButton=e.appendSpec(this.makeupContainer,{className:"utilityBtn compGraph",textContent:"Auto Makeup"}),this.updateLabels(),[this.threshDetail,this.ratioDetail,this.attackDetail,this.releaseDetail,this.gainDetail].forEach(function(e){return e.addEventListener("mousedown",function(e){return e.stopPropagation()}),e.addEventListener("touchstart",function(e){return e.stopPropagation()}),e.addEventListener("touchend",function(t){return t.stopPropagation(),e.select()}),e.addEventListener("keydown",function(e){return 27===e.keyCode&&(e.target.value=e.target.defaultValue,e.target.blur()),13===e.keyCode&&e.target.blur(),e.stopPropagation()})}),this.threshLabel.addEventListener("dblclick",function(e){return function(t){return e.dev.set(e.path+"/threshold",-20)}}(this)),this.enableBtn.addEventListener("click",function(e){return function(t){return e.dev.set(e.path+"/enable",+!e.enabled)}}(this)),this.enableBtn.addEventListener("touchstart",function(e){return function(t){return e.dev.set(e.path+"/enable",+!e.enabled)}}(this)),this.rmsButton.addEventListener("click",function(e){return function(t){return e.dev.set(e.path+"/peak",+!e.rms)}}(this)),this.rmsButton.addEventListener("touchstart",function(e){return function(t){return e.dev.set(e.path+"/peak",+!e.rms)}}(this)),this.makeupButton.addEventListener("click",function(e){return function(t){return e.dev.set(e.path+"/makeup",+!e.makeup)}}(this)),this.makeupButton.addEventListener("touchstart",function(e){return function(t){return e.dev.set(e.path+"/makeup",+!e.makeup)}}(this)),this.threshDetail.addEventListener("mouseup",function(e){return e.target.select()}),this.threshDetail.addEventListener("change",function(e){return function(t){var n;if(!isNaN(t.target.value))return-40<=(n=+t.target.value)&&n<=0?(e.dev.set(e.path+"/threshold",n),t.target.defaultValue=t.target.value):t.target.value=t.target.defaultValue}}(this)),this.ratioLabel.addEventListener("dblclick",function(e){return function(t){return e.dev.set(e.path+"/ratio",2)}}(this)),this.ratioDetail.addEventListener("mouseup",function(e){return e.target.select()}),this.ratioDetail.addEventListener("change",function(e){return function(t){var n;if(!isNaN(t.target.value))return 1<=(n=+t.target.value)&&n<=10?(e.dev.set(e.path+"/ratio",n),t.target.defaultValue=t.target.value):t.target.value=t.target.defaultValue}}(this)),this.attackLabel.addEventListener("dblclick",function(e){return function(t){return e.dev.set(e.path+"/attack",1)}}(this)),this.attackDetail.addEventListener("mouseup",function(e){return e.target.select()}),this.attackDetail.addEventListener("change",function(e){return function(t){var n;if(!isNaN(t.target.value))return 0<=(n=+t.target.value)&&n<=100?(e.dev.set(e.path+"/attack",n),t.target.defaultValue=t.target.value):t.target.value=t.target.defaultValue}}(this)),this.releaseLabel.addEventListener("dblclick",function(e){return function(t){return e.dev.set(e.path+"/release",500)}}(this)),this.releaseDetail.addEventListener("mouseup",function(e){return e.target.select()}),this.releaseDetail.addEventListener("change",function(e){return function(t){var n;if(!isNaN(t.target.value))return 0<=(n=+t.target.value)&&n<=2e3?(e.dev.set(e.path+"/release",n),t.target.defaultValue=t.target.value):t.target.value=t.target.defaultValue}}(this)),this.gainLabel.addEventListener("dblclick",function(e){return function(t){return e.dev.set(e.path+"/trim",0)}}(this)),this.gainDetail.addEventListener("mouseup",function(e){return e.target.select()}),this.gainDetail.addEventListener("change",function(e){return function(t){var n;if(!isNaN(t.target.value))return-20<=(n=+t.target.value)&&n<=20?(e.dev.set(e.path+"/trim",n),t.target.defaultValue=t.target.value):t.target.value=t.target.defaultValue}}(this))}return h(n,i),n.layer=e.appendSpec(document.body,{className:"compGraphLayer"}),n.parent=e.appendSpec(n.layer,{className:"compGraphParent"}),n.titleBar=e.appendSpec(n.parent,{className:"compGraphTitleBar"}),n.closeButton=e.appendSpec(n.titleBar,{className:"compGraphClose"}),n.titleText=e.appendSpec(n.titleBar,{className:"compGraphTitle"}),n.drag={dragging:!1,offsetX:null,offsetY:null,childContainerLeft:null,childContainerBottom:null},n.parentMouseDown=function(e){if(e.stopPropagation&&e.stopPropagation(),e.preventDefault)return e.preventDefault()},n.titleBarMouseDown=function(e){var t,r,i;if(n.drag.dragging=!0,n.drag.childContainerLeft=null,n.drag.childContainerBottom=null,t=n.parent.getBoundingClientRect(),r=e.touches?e.touches[0].clientX:e.clientX,i=e.touches?e.touches[0].clientY:e.clientY,n.drag.offsetX=r-t.left,n.drag.offsetY=i-t.top,e.stopPropagation&&e.stopPropagation(),e.preventDefault)return e.preventDefault()},n.titleBarMouseUp=function(e){var t;return n.drag.dragging=!1,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),t=n.parent.querySelector(".compGraphContainer").getBoundingClientRect(),n.drag.childContainerLeft=t.left+5,n.drag.childContainerBottom=t.bottom+5},n.layerMouseMove=function(e){var t,r;return!!n.drag.dragging&&(t=e.touches?e.touches[0].clientX:e.clientX,r=e.touches?e.touches[0].clientY:e.clientY,n.parent.style.left=t-n.drag.offsetX+"px",n.parent.style.top=r-n.drag.offsetY+"px")},n.parent.addEventListener("mousedown",n.parentMouseDown),n.parent.addEventListener("touchstart",n.parentMouseDown),n.titleBar.addEventListener("mousedown",n.titleBarMouseDown),n.titleBar.addEventListener("touchstart",n.titleBarMouseDown),n.titleBar.addEventListener("mouseup",n.titleBarMouseUp),n.titleBar.addEventListener("touchend",n.titleBarMouseUp),n.layer.addEventListener("mousemove",_.throttle(n.layerMouseMove,1e3/30)),n.layer.addEventListener("touchmove",_.throttle(n.layerMouseMove,1e3/30)),n.layer.addEventListener("mouseleave",function(e){return n.drag.dragging=!1}),n.prototype.mount=function(){var e;return n.parent.appendChild(this.container),n.titleText.textContent=this.name,n.layer.style.display="block",n.layer.addEventListener("mousedown",this.unmount),n.layer.addEventListener("touchstart",this.unmount),n.closeButton.addEventListener("mousedown",this.unmount),n.closeButton.addEventListener("touchstart",this.unmount),document.body.addEventListener("keydown",this.keyEventHandler),e=this.container.getBoundingClientRect(),n.drag.childContainerLeft=e.left,n.drag.childContainerBottom=e.bottom},n.prototype.unmount=function(e){return n.layer.removeEventListener("mousedown",this.unmount),n.layer.removeEventListener("touchstart",this.unmount),n.closeButton.removeEventListener("mousedown",this.unmount),n.closeButton.removeEventListener("touchstart",this.unmount),n.parent.removeChild(n.parent.lastChild),n.layer.style.display="none",n.dragging=!1,document.body.removeEventListener("keydown",this.keyEventHandler)},n.prototype.keyEventHandler=function(e){if(27===e.keyCode)return this.unmount(e)},n.prototype.hitCheck=function(e,t){var n,r;if(r=Math.round(s(this.threshold)*this.scale),n=Math.round(this.scale-this.ratio/10*this.scale)-8,16,r-16<=e&&e<=r+16){if(n-16<=t&&t<=n+16)return"ratio";if(this.scale-12-16<=t&&t<=this.scale)return"threshold"}return!1},n.prototype.updateLabels=function(){var e,t,n,r,i,o;return null!=this.ratioDetail&&(this.ratioDetail.value=this.ratioDetail.defaultValue=this.ratio.toFixed(3),this.threshDetail.value=this.threshDetail.defaultValue=this.threshold.toFixed(1),this.attackDetail.value=this.attackDetail.defaultValue=this.attack,this.releaseDetail.value=this.releaseDetail.defaultValue=this.release,this.gainDetail.value=this.gainDetail.defaultValue=this.gain),this.enabled?null!=(e=this.enableBtn)&&e.classList.add("active"):null!=(t=this.enableBtn)&&t.classList.remove("active"),this.rms?null!=(n=this.rmsButton)&&n.classList.add("active"):null!=(r=this.rmsButton)&&r.classList.remove("active"),this.makeup?null!=(i=this.makeupButton)?i.classList.add("active"):void 0:null!=(o=this.makeupButton)?o.classList.remove("active"):void 0},n}()}}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(3),n(5)],void 0===(i=function(e,t){var n,r,i,o,a;return o={},a=Math,r=function(){function e(e){this.canvas=e.canvas,this.width=this.canvas.width,this.height=this.canvas.height,this.context=this.canvas.getContext("2d"),this.maxGain=22,this.fs=44100,this.gridFreqs=[30,40,50,60,70,80,100,200,400,600,800,1e3,2e3,3e3,4e3,5e3,6e3,7e3,8e3,1e4,2e4],this.gridMags=[0,3,6,9,12,15,18],this.yGrid=[],this.xGrid=[]}return e.prototype.YPosToGain=function(e){var t;return(t=(1-2*e/this.height)*this.maxGain)>20?20:t<-20?-20:t},e.prototype.XPosToFreq=function(e){var t;return(t=.001*this.fs/2*a.exp(a.log(1e3)*e/(this.width-1)))>2e4?2e4:t<25?25:t},e.prototype.FreqToXPos=function(e){var t,n,r,i,o,s;if(s=this,n=function(e){return a.log(2*e/(.001*s.fs))/a.log(1e3)*(s.width-1)},(null!=e?e.constructor:void 0)===Array){for(o=[],r=0,i=e.length;r<i;r++)t=e[r],o.push(n(t));return o}return n(e)},e.prototype.GainToYPos=function(e){var t,n,r,i,o,a;if(a=this,n=function(e){return e>0?a.height/2-e/a.maxGain*a.height/2:a.height/2+-e/a.maxGain*a.height/2},(null!=e?e.constructor:void 0)===Array){for(o=[],r=0,i=e.length;r<i;r++)t=e[r],o.push(n(t));return o}return n(e)},e.prototype.GenerateGridData=function(){var e,t,n,r,i;for(this.xGrid=this.FreqToXPos(this.gridFreqs),this.yGrid=this.GainToYPos(this.gridMags),i=[],e=0,t=(r=this.gridMags).length;e<t;e++)0!==(n=r[e])?i.push(this.yGrid.push(this.GainToYPos(-n))):i.push(void 0);return i},e.prototype.DrawGrid=function(){var e,t,n,r,i,o,a;for(this.context.lineCap="round",this.context.lineWidth=1,this.context.strokeStyle="#394149",o=e=0,n=this.xGrid.length;0<=n?e<n:e>n;o=0<=n?++e:--e)this.context.beginPath(),this.context.moveTo(this.xGrid[o],0),this.context.lineTo(this.xGrid[o],this.height),this.context.stroke();for(i=[],a=t=0,r=this.yGrid.length;0<=r?t<r:t>r;a=0<=r?++t:--t)this.context.beginPath(),this.context.moveTo(0,this.yGrid[a]),this.context.lineTo(this.width,this.yGrid[a]),i.push(this.context.stroke());return i},e.prototype.DrawGridLabels=function(){var e,t,n,r,i,o,a,s,l,u;for(this.context.font="24px helvetica",this.context.fillStyle="#677787",a=t=0,r=this.xGrid.length;t<r;a=t+=2)e="",s=12,3===(e=this.gridFreqs[a]>=1e3?String(this.gridFreqs[a]/1e3)+"k":String(this.gridFreqs[a])).length&&(s=20),this.context.fillText(e,this.xGrid[a]-s,this.height-10);for(o=[],l=n=0,i=this.gridMags.length;n<i;l=n+=2)s=20,1===(u=String(this.gridMags[l])).length&&(s=30),this.context.fillText(u,s,this.GainToYPos(this.gridMags[l])+8),0!==this.gridMags[l]?o.push(this.context.fillText("-"+u,s-8,this.GainToYPos(-this.gridMags[l])+8)):o.push(void 0);return o},e.prototype.FreqPlot=function(e,t,n){var r,i,o,a;if(null!=e.x){for(a=this.FreqToXPos(e.x),this.context.beginPath(),this.context.moveTo(a[0],e.y[0]),r=i=0,o=e.y.length;0<=o?i<o:i>o;r=0<=o?++i:--i)this.context.lineTo(a[r],e.y[r]);return this.context.lineCap="round",this.context.lineWidth=n,this.context.strokeStyle=t,this.context.stroke()}return Plot(e,t,n)},e.prototype.Plot=function(e,t,n,r){var i,o,a,s,l;for(l=(i=null!=e.x)?e.x[0]:0,this.context.beginPath(),null!=r&&0===l?(this.context.moveTo(-20,this.GainToYPos(0)),this.context.lineTo(l,this.GainToYPos(e.y[0]))):this.context.moveTo(l,this.GainToYPos(e.y[0])),o=a=0,s=e.y.length;0<=s?a<s:a>s;o=0<=s?++a:--a)this.context.lineTo(i?e.x[o]:o,this.GainToYPos(e.y[o]));return this.context.lineCap="round",this.context.lineWidth=n,null!=r&&(0!==e.y[e.y.length-1]&&this.context.lineTo(this.width+20,this.GainToYPos(0)),this.context.closePath(),this.context.fillStyle=r,this.context.fill()),this.context.strokeStyle=t,this.context.stroke()},e.prototype.DrawCircle=function(e,t,n,r,i,o){return this.context.beginPath(),this.context.arc(e,t,n,0,2*a.PI),this.context.lineWidth=r,this.context.fillStyle=i,this.context.strokeStyle=o,this.context.fill(),this.context.stroke()},e.prototype.Clear=function(){return this.context.clearRect(0,0,this.width,this.height)},e}(),n=function(){function e(e,t){this.enabled=!1,this.nPoints=e,this.fs=44100,this.eqtype="peak",this.band=t,this.gain=10,this.fc=1e3,this.Q=1,this.f1=0,this.f2=0,this.coeff={a0:0,a1:0,a2:0,b1:0,b2:0},this.curve={x:[],y:[]},this.peakLoc={x:0,y:0},this.f1XLoc=0,this.f2XLoc=0,this.hitType="none"}return e.prototype.SetQ=function(e){return this.Q=e},e.prototype.SetFc=function(e){return this.fc=e},e.prototype.SetGain=function(e){return this.gain=e},e.prototype.SetFcGain=function(e,t){return this.fc=e,this.gain=t},e.prototype.SetType=function(e){return this.eqtype=e},e.prototype.SetEnabled=function(e){return this.enabled=e},e.prototype.CheckPeakHit=function(e,t,n){var r;return r=n?50:30,e>this.peakLoc.x-r&&e<this.peakLoc.x+r&&t>this.peakLoc.y-r&&t<this.peakLoc.y+r&&(this.hitType="peak",!0)},e.prototype.CheckBWHit=function(e,t,n){var r;return"peak"===this.eqtype&&(r=n?30:10,e>this.f1XLoc-r&&e<this.f1XLoc+r?(this.hitType="bw1",!0):e>this.f2XLoc-r&&e<this.f2XLoc+r&&(this.hitType="bw2",!0))},e.prototype.Hover=function(e,t,n){if("peak"===this.hitType&&(e.canvas.style.cursor="crosshair"),"bw1"===this.hitType||"bw2"===this.hitType)return e.canvas.style.cursor="ew-resize"},e.prototype.Drag=function(e,t,n){var r;return"peak"===this.hitType?(this.SetFcGain(e.XPosToFreq(t),e.YPosToGain(n)),this.CalculateCoeff(),this.GenerateCurve(e)):(r="bw2"===this.hitType,this.SetQFromFreq(e.XPosToFreq(t),r),this.CalculateCoeff(),this.GenerateCurve(e))},e.prototype.CalculateCoeff=function(){var e,t,n;switch(t=a.pow(10,a.abs(this.gain)/20),e=a.tan(a.PI*this.fc/this.fs),this.eqtype){case"peak":return this.gain>=0?(n=1/(1+1/this.Q*e+e*e),this.coeff.a0=(1+t/this.Q*e+e*e)*n,this.coeff.a1=2*(e*e-1)*n,this.coeff.a2=(1-t/this.Q*e+e*e)*n,this.coeff.b1=this.coeff.a1,this.coeff.b2=(1-1/this.Q*e+e*e)*n):(n=1/(1+t/this.Q*e+e*e),this.coeff.a0=(1+1/this.Q*e+e*e)*n,this.coeff.a1=2*(e*e-1)*n,this.coeff.a2=(1-1/this.Q*e+e*e)*n,this.coeff.b1=this.coeff.a1,this.coeff.b2=(1-t/this.Q*e+e*e)*n);case"lowShelf":return this.gain>=0?(n=1/(1+a.SQRT2*e+e*e),this.coeff.a0=(1+a.sqrt(2*t)*e+t*e*e)*n,this.coeff.a1=2*(t*e*e-1)*n,this.coeff.a2=(1-a.sqrt(2*t)*e+t*e*e)*n,this.coeff.b1=2*(e*e-1)*n,this.coeff.b2=(1-a.SQRT2*e+e*e)*n):(n=1/(1+a.sqrt(2*t)*e+t*e*e),this.coeff.a0=(1+a.SQRT2*e+e*e)*n,this.coeff.a1=2*(e*e-1)*n,this.coeff.a2=(1-a.SQRT2*e+e*e)*n,this.coeff.b1=2*(t*e*e-1)*n,this.coeff.b2=(1-a.sqrt(2*t)*e+t*e*e)*n);case"highShelf":return this.gain>=0?(n=1/(1+a.SQRT2*e+e*e),this.coeff.a0=(t+a.sqrt(2*t)*e+e*e)*n,this.coeff.a1=2*(e*e-t)*n,this.coeff.a2=(t-a.sqrt(2*t)*e+e*e)*n,this.coeff.b1=2*(e*e-1)*n,this.coeff.b2=(1-a.SQRT2*e+e*e)*n):(n=1/(t+a.sqrt(2*t)*e+e*e),this.coeff.a0=(1+a.SQRT2*e+e*e)*n,this.coeff.a1=2*(e*e-1)*n,this.coeff.a2=(1-a.SQRT2*e+e*e)*n,this.coeff.b1=2*(e*e-t)*n,this.coeff.b2=(t-a.sqrt(2*t)*e+e*e)*n)}},e.prototype.GenerateCurve=function(e){var t,n,r,i,o,s,l,u,c,h,p,d,f;for(this.curve={x:[],y:[]},t=this.coeff.a0,n=this.coeff.a1,r=this.coeff.a2,i=this.coeff.b1,o=this.coeff.b2,d=0,f=0,h=s=0,u=this.nPoints;0<=u?s<u:s>u;h=0<=u?++s:--s)c=.001*a.exp(a.log(1e3)*h/(this.nPoints-1))*a.PI,l=a.pow(a.sin(c/2),2),-Infinity===(p=10*(p=a.log(a.pow(t+n+r,2)-4*(t*n+4*t*r+n*r)*l+16*t*r*l*l)-a.log(a.pow(1+i+o,2)-4*(i+4*o+i*o)*l+16*o*l*l))/a.LN10)&&(p=-100),this.gain>0?p>f&&(f=p,d=h):p<f&&(f=p,d=h),this.curve.y.push(p),this.curve.x.push(h);return this.curve.y[d]=this.gain,this.GenerateQBWFreqs(),this.peakLoc={x:e.FreqToXPos(this.fc),y:e.GainToYPos(this.gain)},this.f1XLoc=e.FreqToXPos(this.f1),this.f2XLoc=e.FreqToXPos(this.f2)},e.prototype.GenerateQBWFreqs=function(){return this.f1=this.fc*(a.sqrt(1+1/(4*this.Q*this.Q))-1/(2*this.Q)),this.f2=this.fc*(a.sqrt(1+1/(4*this.Q*this.Q))+1/(2*this.Q))},e.prototype.SetQFromFreq=function(e,t){var n;if(e>this.fc&&t)n=this.fc/(e-this.fc*this.fc/e);else{if(!(e<this.fc)||t)return;n=this.fc/(this.fc*this.fc/e-e)}return n<.45&&(n=.45),n>10&&(n=10),this.SetQ(n)},e}(),i=function(){function n(t,n,r,i){var o,a,s,l,u;this.colors=n,this.enabled=!1,this.resetFreq=r,s=e.appendSpec(t,{type:"div",className:"eqGraphDetailGroup","style:color":""+n.color}),l=e.appendSpec(s,{type:"div",className:"eqGraphDetailHeaderContainer"}),e.appendSpec(l,{type:"span",className:"eqGraphDetailHeaderSpan","style:color":""+n.color}).innerHTML=i,this.onOff=e.appendSpec(l,{type:"div",className:"eqGraphDetailOnOff","style:color":""+n.color,"style:border-color":""+n.color}),e.appendSpec(s,{type:"br"}),this.freqLabel=e.appendSpec(s,{type:"span",innerHTML:"Freq : "}),this.freq=e.appendSpec(s,{type:"input",className:"eqGraphDetailTxt","style:border-color":""+n.color,"style:color":""+n.color}),this.gainLabel=e.appendSpec(s,{type:"span",innerHTML:"Gain : "}),this.gain=e.appendSpec(s,{type:"input",className:"eqGraphDetailTxt","style:border-color":""+n.color,"style:color":""+n.color}),this.QBWLabel=e.appendSpec(s,{type:"span",className:"eqGraphDetailQBWLabel",innerHTML:"Q : "}),this.QBWInput=e.appendSpec(s,{type:"input",className:"eqGraphDetailTxt","style:border-color":""+n.color,"style:color":""+n.color}),this.type=e.appendSpec(s,{type:"div",className:"eqGraphDetailType","style:background-color":""+n.color,"style:border-color":""+n.color}),o=function(e,t){if(27===e.keyCode&&t.blur(),13===e.keyCode&&t.blur(),e.stopPropagation)return e.stopPropagation()},this.freq.addEventListener("mousedown",(u=this,function(e){if(u.freq===document.activeElement&&e.stopPropagation)return e.stopPropagation()}),!1),this.freq.addEventListener("touchstart",function(e){return function(t){if(e.freq===document.activeElement&&t.stopPropagation)return t.stopPropagation()}}(this),!1),this.freq.addEventListener("click",function(e){return function(t){if(e.freq!==document.activeElement)return e.freq.select()}}(this),!1),this.freq.addEventListener("touchend",function(e){return function(){return e.freq.select()}}(this),!1),this.freq.addEventListener("change",function(e){return function(){return e.FChange()}}(this),!1),this.freq.addEventListener("keydown",function(e){return function(t){return o(t,e.freq)}}(this),!1),this.freqLabel.addEventListener("dblclick",function(e){return function(){return e.freq.value=r,e.FChange(),e.freq.blur()}}(this),!1),this.gain.addEventListener("mousedown",function(e){return function(t){if(e.gain===document.activeElement&&t.stopPropagation)return t.stopPropagation()}}(this),!1),this.gain.addEventListener("touchstart",function(e){return function(t){if(e.gain===document.activeElement&&t.stopPropagation)return t.stopPropagation()}}(this),!1),this.gain.addEventListener("click",function(e){return function(t){if(e.gain!==document.activeElement)return e.gain.select()}}(this),!1),this.gain.addEventListener("touchend",function(e){return function(){return e.gain.select()}}(this),!1),this.gain.addEventListener("change",function(e){return function(){return e.GChange()}}(this),!1),this.gain.addEventListener("keydown",function(e){return function(t){return o(t,e.gain)}}(this),!1),this.gainLabel.addEventListener("dblclick",function(e){return function(){return e.gain.value=0,e.GChange(),e.gain.blur()}}(this),!1),this.QBWInput.addEventListener("mousedown",function(e){return function(t){if(e.QBWInput===document.activeElement&&t.stopPropagation)return t.stopPropagation()}}(this),!1),this.QBWInput.addEventListener("touchstart",function(e){return function(t){if(e.QBWInput===document.activeElement&&t.stopPropagation)return t.stopPropagation()}}(this),!1),this.QBWInput.addEventListener("click",function(e){return function(t){if(e.QBWInput!==document.activeElement)return e.QBWInput.select()}}(this),!1),this.QBWInput.addEventListener("touchend",function(e){return function(){return e.QBWInput.select()}}(this),!1),this.QBWInput.addEventListener("change",function(e){return function(){return e.QChange()}}(this),!1),this.QBWInput.addEventListener("keydown",function(e){return function(t){return o(t,e.QBWInput)}}(this),!1),this.QBWLabel.addEventListener("dblclick",function(e){return function(){return e.QBWInput.value=1.41,e.QChange(),e.QBWInput.blur()}}(this),!1),this.type.addEventListener("mouseover",function(e){return function(){return e.TypeMouseOver()}}(this),!1),this.type.addEventListener("mouseout",function(e){return function(){return e.TypeMouseOut()}}(this),!1),this.type.addEventListener("touchstart",function(e){return function(){return e.TypeMouseOver()}}(this),!1),a=function(e){return function(){var t;return t=1===e.dev.get(e.path+"/mode")?0:1,e.dev.set(e.path+"/mode",t)}}(this),this.type.addEventListener("click",a,!1),this.type.addEventListener("touchend",a,!1),this.onOff.addEventListener("click",function(e){return function(){return e.OnOffClick()}}(this),!1),this.onOff.addEventListener("touchend",function(e){return function(){return e.OnOffClick()}}(this),!1)}return n.prototype.SetupReactions=function(e,n){var r;return this.dev=e,this.path=n,this.OnOffReaction=new t.Function(this.dev,(r=this,function(e){return r.OnOffClick(1===e.get(r.path+"/enable"))})),this.FreqReaction=new t.Function(this.dev,function(e){return function(t){return e.FChange(t.get(e.path+"/freq"))}}(this)),this.GainReaction=new t.Function(this.dev,function(e){return function(t){return e.GChange(t.get(e.path+"/gain"))}}(this)),this.QBWReaction=new t.Function(this.dev,function(e){return function(t){var n,r;return r=t.get(e.path+"/bw"),n=a.sqrt(a.pow(2,r))/(a.pow(2,r)-1),e.QChange(n)}}(this)),this.TypeReaction=new t.Function(this.dev,function(e){return function(t){return 0===t.get(e.path+"/mode")?(e.type.innerHTML="shelf",e.type.style.backgroundColor="inherit",e.type.style.color=e.colors.color,e.QBWInput.style.color=e.colors.dimColor,e.QBWLabel.style.color=e.colors.dimColor):(e.type.innerHTML="peak",e.type.style.backgroundColor=e.colors.color,e.type.style.color="black",e.QBWInput.style.color=e.colors.color,e.QBWLabel.style.color=e.colors.color)}}(this))},n.prototype.UpdatePath=function(e){return this.path=e,this.OnOffReaction.rewire(),this.FreqReaction.rewire(),this.GainReaction.rewire(),this.QBWReaction.rewire(),this.TypeReaction.rewire()},n.prototype.OnOffClick=function(e){return void 0===e?(this.enabled=!this.enabled,this.dev.set(this.path+"/enable",this.enabled?1:0)):e?(this.enabled=!0,this.onOff.style.backgroundColor=this.colors.color):(this.enabled=!1,this.onOff.style.backgroundColor="transparent")},n.prototype.FChange=function(e){return void 0===e&&(e=(e=(e=""!==(e=this.freq.value.replace(/[^0-9\.]/g,""))?Number(e):Number(this.freq.defaultValue.replace(/[^0-9\.]/g,"")))<25?25:e)>2e4?2e4:e,this.dev.set(this.path+"/freq",e)),e=e.toFixed(0)+" Hz",this.freq.value=e,this.freq.defaultValue=e},n.prototype.GChange=function(e){return void 0===e&&(e=(e=(e=""!==(e=this.gain.value.replace(/[^0-9\.\-]/g,""))?Number(e):Number(this.gain.defaultValue.replace(/[^0-9\.\-]/g,"")))<-20?-20:e)>20?20:e,this.dev.set(this.path+"/gain",e)),e=((e=e.toFixed(1))>0?"+":"")+e+" dB",this.gain.value=e,this.gain.defaultValue=e},n.prototype.QChange=function(e){return void 0===e&&(e=(e=(e=""!==(e=this.QBWInput.value.replace(/[^0-9\.]/g,""))?Number(e):Number(this.QBWInput.defaultValue))<.45?.45:e)>10?10:e,this.dev.set(this.path+"/bw",2/a.log(2)*a.asinh(1/(2*e)))),e=e.toFixed(2),this.QBWInput.value=e,this.QBWInput.defaultValue=e},n.prototype.TypeMouseOver=function(){if(-1===this.path.indexOf("mid"))return"shelf"===this.type.innerHTML?(this.type.style.backgroundColor=this.colors.color,this.type.style.color="black"):(this.type.style.backgroundColor="inherit",this.type.style.color=this.colors.color)},n.prototype.TypeMouseOut=function(){return"shelf"===this.type.innerHTML?(this.type.style.backgroundColor="inherit",this.type.style.color=this.colors.color):(this.type.style.backgroundColor=this.colors.color,this.type.style.color="black")},n}(),o.EqThumbnail=function(){var o,s,l,u;for(c.lastChanInit=0,c.initialized=!1,c.dev={},c.path="",c.reactions=[],c.colors=["rgba(147, 210, 255, 1)","rgba(253, 133, 1, 1)","rgba(224, 255, 25, 1)","rgba(230, 27, 100, 1)"],c.fillColors=["rgba(147, 210, 255, 0.5)","rgba(253, 133, 1, 0.5)","rgba(244, 255, 25, 0.5)","rgba(230, 27, 100, 0.5)"],c.defaultFreqs=[1e4,1500,5e3,200],c.subpaths=["highshelf","mid2","mid1","lowshelf"],c.bandNames=["High","Mid","Mid","Low"],c.bigDiv=e.appendSpec(document.body,{type:"div",className:"eqLargeGraphDiv"}),c.mixerCover=e.appendSpec(document.body,{type:"div",className:"eqDivBackdrop","style:display":"none"}),c.titleBar=e.appendSpec(c.bigDiv,{type:"div",className:"eqLargeGraphTitleBar"}),c.closeButton=e.appendSpec(c.titleBar,{type:"div",className:"eqLargeGraphClose"}),c.title=e.appendSpec(c.titleBar,{type:"div",className:"eqLargeGraphTitle",innerHTML:"Test Channel"}),c.bigDivContainer=e.appendSpec(c.bigDiv,{className:"eqLargeGraphContainer"}),c.bigCanvas=e.appendSpec(c.bigDivContainer,{type:"canvas",height:800,width:1600,className:"eqLargeGraphCanvas"}),c.bigPlot=new r({canvas:c.bigCanvas}),c.bigPlot.GenerateGridData(),c.eqbands=[],s=l=0;l<4;s=++l)c.eqbands.push(new n(c.bigCanvas.width));for(o=e.appendSpec(c.bigDivContainer,{type:"div",className:"eqGraphDetailContainer"}),c.eqbandsDetail=[],s=u=0;u<4;s=++u)c.eqbandsDetail.push(new i(o,{color:c.colors[s],dimColor:c.fillColors[s]},c.defaultFreqs[s],c.bandNames[s]));function c(i){var o,l,u;this.init(i.path,i.dev),this.dev=i.dev,this.path=i.path,this.canvas=e.appendSpec(i.node,{type:"canvas",height:36,width:64,className:""+(null!=(l=i.extraCss)?l:"")}),this.plot=new r({canvas:this.canvas}),this.plot.gridFreqs=[100,1e3,1e4],this.plot.gridMags=[0,9,18],this.plot.GenerateGridData(),this.plot.DrawGrid(),this.canvas.addEventListener("mousedown",(u=this,function(e){var t,n,r,i;for(c.path,c.setPath(u.path),s=r=0,i=c.reactions.length;0<=i?r<i:r>i;s=0<=i?++r:--r)c.reactions[s].rewire();return c.bigdraw(),c.bigDiv.style.display="block",c.mixerCover.style.display="block",+c.bigDiv.style.left.replace(/(^\d+)(.+$)/i,"$1")>+document.body.clientWidth-50&&(c.bigDiv.style.left=""),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,t=function(e){return c.bigDiv.style.display="none",c.mixerCover.style.display="none",document.body.removeEventListener("mousedown",t),document.body.removeEventListener("touchstart",t)},n=function(e){if(27===e.keyCode)return document.body.removeEventListener("keydown",n),t(e)},document.body.addEventListener("mousedown",t,!1),document.body.addEventListener("touchstart",t,!1),document.body.addEventListener("keydown",n,!1),!1}),!1),this.eqHigh=new n(this.canvas.width),this.eqMid2=new n(this.canvas.width),this.eqMid1=new n(this.canvas.width),this.eqLow=new n(this.canvas.width),o=function(e){return function(){var t,n,r,i,o,a,l;for(e.plot.Clear(),e.plot.DrawGrid(),t=e.dev.get(e.path+"/highshelf/enable"),i=e.dev.get(e.path+"/mid2/enable"),r=e.dev.get(e.path+"/mid1/enable"),n=e.dev.get(e.path+"/lowshelf/enable"),1===t&&e.plot.Plot(e.eqHigh.curve,c.colors[0],1,c.fillColors[0]),1===i&&e.plot.Plot(e.eqMid2.curve,c.colors[1],1,c.fillColors[1]),1===r&&e.plot.Plot(e.eqMid1.curve,c.colors[2],1,c.fillColors[2]),1===n&&e.plot.Plot(e.eqLow.curve,c.colors[3],1,c.fillColors[3]),l=[],s=o=0,a=e.eqHigh.nPoints;0<=a?o<a:o>a;s=0<=a?++o:--o)l.push(0),t&&(l[s]+=e.eqHigh.curve.y[s]),i&&(l[s]+=e.eqMid2.curve.y[s]),r&&(l[s]+=e.eqMid1.curve.y[s]),n&&(l[s]+=e.eqLow.curve.y[s]);if(t||i||r||n)return e.plot.Plot({y:l},"rgba(255, 255, 255, 1)",1)}}(this),new t.Function(this.dev,function(e){return function(t){var n;return n=t.get(e.path+"/highshelf/bw"),1===t.get(e.path+"/highshelf/mode")?e.eqHigh.eqtype="peak":e.eqHigh.eqtype="highShelf",e.eqHigh.Q=a.sqrt(a.pow(2,n))/(a.pow(2,n)-1),e.eqHigh.gain=t.get(e.path+"/highshelf/gain"),e.eqHigh.fc=t.get(e.path+"/highshelf/freq"),1===t.get(e.path+"/highshelf/enable")&&(e.eqHigh.CalculateCoeff(),e.eqHigh.GenerateCurve(e.plot)),o()}}(this)),new t.Function(this.dev,function(e){return function(t){var n;return n=t.get(e.path+"/mid2/bw"),e.eqMid2.Q=a.sqrt(a.pow(2,n))/(a.pow(2,n)-1),e.eqMid2.gain=t.get(e.path+"/mid2/gain"),e.eqMid2.fc=t.get(e.path+"/mid2/freq"),1===t.get(e.path+"/mid2/enable")&&(e.eqMid2.CalculateCoeff(),e.eqMid2.GenerateCurve(e.plot)),o()}}(this)),new t.Function(this.dev,function(e){return function(t){var n;return n=t.get(e.path+"/mid1/bw"),e.eqMid1.Q=a.sqrt(a.pow(2,n))/(a.pow(2,n)-1),e.eqMid1.gain=t.get(e.path+"/mid1/gain"),e.eqMid1.fc=t.get(e.path+"/mid1/freq"),1===t.get(e.path+"/mid1/enable")&&(e.eqMid1.CalculateCoeff(),e.eqMid1.GenerateCurve(e.plot)),o()}}(this)),new t.Function(this.dev,function(e){return function(t){var n;return n=t.get(e.path+"/lowshelf/bw"),1===t.get(e.path+"/lowshelf/mode")?e.eqLow.eqtype="peak":e.eqLow.eqtype="lowShelf",e.eqLow.Q=a.sqrt(a.pow(2,n))/(a.pow(2,n)-1),e.eqLow.gain=t.get(e.path+"/lowshelf/gain"),e.eqLow.fc=t.get(e.path+"/lowshelf/freq"),1===t.get(e.path+"/lowshelf/enable")&&(e.eqLow.CalculateCoeff(),e.eqLow.GenerateCurve(e.plot)),o()}}(this))}return c.draggingBigDiv=!1,c.startDivX=0,c.startDivY=0,c.startX=0,c.startY=0,c.setPath=function(e){var t,n,r;for(c.path=e,r=[],s=t=0,n=c.eqbandsDetail.length;0<=n?t<n:t>n;s=0<=n?++t:--t)r.push(c.eqbandsDetail[s].UpdatePath(e+"/"+c.subpaths[s]));return r},c.bigdraw=function(){var e,t,n,r,i,o,a,l,u,h,p,d,f;for(c.bigPlot.Clear(),c.bigPlot.DrawGrid(),p=[],s=t=0,i=c.eqbands[0].nPoints;0<=i?t<i:t>i;s=0<=i?++t:--t){for(f=0,e=n=0,o=c.eqbands.length;0<=o?n<o:n>o;e=0<=o?++n:--n)c.eqbands[e].enabled&&(f+=c.eqbands[e].curve.y[s]);p.push(f)}for(s=r=0,a=c.eqbands.length;0<=a?r<a:r>a;s=0<=a?++r:--r)c.eqbands[s].enabled&&c.bigPlot.Plot(c.eqbands[s].curve,c.colors[s],4,c.fillColors[s]);for(c.bigPlot.Plot({y:p},"rgba(255, 255, 255, 1)",4),s=h=0,l=c.eqbands.length;0<=l?h<l:h>l;s=0<=l?++h:--h)c.eqbands[s].enabled&&"peak"===c.eqbands[s].eqtype&&(c.bigPlot.FreqPlot({x:[c.eqbands[s].f1,c.eqbands[s].f1],y:[0,c.bigPlot.height]},c.colors[s],2),c.bigPlot.FreqPlot({x:[c.eqbands[s].f2,c.eqbands[s].f2],y:[0,c.bigPlot.height]},c.colors[s],2));for(s=d=0,u=c.eqbands.length;0<=u?d<u:d>u;s=0<=u?++d:--d)c.eqbands[s].enabled&&c.bigPlot.DrawCircle(c.eqbands[s].peakLoc.x,c.eqbands[s].peakLoc.y,20,2,c.fillColors[s],c.colors[s]);return c.bigPlot.DrawGridLabels()},c.pauseEvent=function(e){return e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1},c.bigDiv.addEventListener("mousedown",c.pauseEvent,!1),c.bigDiv.addEventListener("touchstart",c.pauseEvent,!1),c.getMousePos=function(e,t){var n,r,i,o;return n=e.getBoundingClientRect(),r=e.width/e.clientWidth,o=e.height/e.clientHeight,i=t.touches?t.touches[0].clientY:t.clientY,{x:((t.touches?t.touches[0].clientX:t.clientX)-n.left)*r,y:(i-n.top)*o}},c.setFunc=_.throttle(function(e){var t,n,r,i,o;return o=c.eqbands[e].gain,i=c.eqbands[e].fc,t=c.eqbands[e].Q,n=2/a.log(2)*a.asinh(1/(2*t)),(r={})[c.path+"/"+c.subpaths[e]+"/gain"]=o,r[c.path+"/"+c.subpaths[e]+"/freq"]=i,r[c.path+"/"+c.subpaths[e]+"/bw"]=n,c.dev.setMultiple(r)},100),c.dragging=-1,c.movefunc=function(e){var t,n,r,i,o,a,l,u;if(l=!!e.touches,t=this.getMousePos(this.bigCanvas,e),this.dragging>=0)this.eqbands[this.dragging].Drag(this.bigPlot,t.x,t.y),(u=this,function(e){return u.setFunc(e)})(this.dragging),this.bigdraw();else{for(i=!1,s=n=o=this.eqbands.length-1;o<=0?n<=0:n>=0;s=o<=0?++n:--n)if(this.eqbands[s].enabled&&this.eqbands[s].CheckPeakHit(t.x,t.y,l)){this.eqbands[s].Hover(this.bigPlot,t.x,t.y),i=!0;break}if(!i)for(s=r=a=this.eqbands.length-1;a<=0?r<=0:r>=0;s=a<=0?++r:--r)if(this.eqbands[s].enabled&&this.eqbands[s].CheckBWHit(t.x,t.y,l)){this.eqbands[s].Hover(this.bigPlot,t.x,t.y);break}}if(-1===this.dragging&&-1===s)return this.bigCanvas.style.cursor="default"},c.clickfunc=function(e){var t,n,r,i,o,a,l,u;for(u=!!e.touches,n=c.getMousePos(c.bigCanvas,e),o=!1,t=!1,s=r=a=c.eqbands.length-1;a<=0?r<=0:r>=0;s=a<=0?++r:--r)if(c.eqbands[s].CheckPeakHit(n.x,n.y,u)){c.pauseEvent(e),c.dragging=s,c.eqbands[s].Drag(c.bigPlot,n.x,n.y),o=!0,c.bigdraw();break}if(!o)for(s=i=l=c.eqbands.length-1;l<=0?i<=0:i>=0;s=l<=0?++i:--i)if(c.eqbands[s].CheckBWHit(n.x,n.y,u)){c.pauseEvent(e),c.dragging=s,c.eqbands[s].Drag(c.bigPlot,n.x,n.y),t=!0,c.bigdraw();break}return o||t},c.closeButtonEvent=function(e){return c.bigDiv.style.display="none",c.mixerCover.style.display="none"},c.closeButton.addEventListener("mousedown",function(e){return c.pauseEvent(e)},!1),c.closeButton.addEventListener("touchstart",function(e){return c.pauseEvent(e)},!1),c.closeButton.addEventListener("mouseup",c.closeButtonEvent,!1),c.closeButton.addEventListener("touchend",c.closeButtonEvent,!1),c.startDraggingFakeWindow=function(e){var t;return c.pauseEvent(e),c.draggingBigDiv=!0,t=c.bigDiv.getBoundingClientRect(),c.startDivX=t.left,c.startDivY=t.top,c.startY=e.touches?e.touches[0].clientY:e.clientY,c.startX=e.touches?e.touches[0].clientX:e.clientX},c.maybeDragFakeWindow=function(e){var t,n,r,i;if(!0===c.draggingBigDiv)return n=e.touches?e.touches[0].clientY:e.clientY,t=e.touches?e.touches[0].clientX:e.clientX,r=c.startDivX+(t-c.startX),i=c.startDivY+(n-c.startY),c.bigDiv.style.left=r+"px",c.bigDiv.style.top=i+"px"},c.bigCanvas.addEventListener("mousemove",_.throttle(function(e){if(!c.draggingBigDiv)return c.movefunc(e,1e3/15)}),!1),c.bigCanvas.addEventListener("touchmove",_.throttle(function(e){if(!c.draggingBigDiv)return c.movefunc(e,1e3/15)}),!1),c.titleBar.addEventListener("mousedown",c.startDraggingFakeWindow,!1),c.titleBar.addEventListener("touchstart",c.startDraggingFakeWindow,!1),c.bigCanvas.addEventListener("mousedown",function(e){if(!c.clickfunc(e))return c.pauseEvent(e)},!1),c.bigCanvas.addEventListener("touchstart",function(e){if(!c.clickfunc(e))return c.pauseEvent(e)},!1),c.bigCanvas.addEventListener("mouseup",function(e){return c.dragging=-1},!1),c.bigCanvas.addEventListener("touchend",function(e){return c.dragging=-1},!1),document.body.addEventListener("mousemove",_.throttle(c.maybeDragFakeWindow,1e3/15),!1),document.body.addEventListener("touchmove",_.throttle(c.maybeDragFakeWindow,1e3/15),!1),document.body.addEventListener("mouseup",function(e){return c.draggingBigDiv=!1,c.dragging=-1},!1),document.body.addEventListener("touchend",function(e){return c.draggingBigDiv=!1,c.dragging=-1},!1),c.prototype.init=function(e,n){var r,i,o,s,l,u,h,p,d;if(r=+(h=e.split("/"))[2],"chan"===h[1]){if(n.get("uid")!==c.guid||r<=c.lastChanInit){for(c.guid=n.get("uid"),l=0,s=(p=c.reactions).length;l<s;l++)p[l].remove();for(c.reactions=[],c.path=e,c.dev=n,c.initialized=!0,c.reactions.push(new t.Function(c.dev,function(e){var t;return t=e.mixer.getStripName(c.path.slice(4,-3)),c.title.innerHTML=t})),i=function(e){return c.eqbandsDetail[e].SetupReactions(n,c.path+"/"+c.subpaths[e]),c.reactions.push(new t.Function(c.dev,function(t){var n,r,i,o,s;if(n=t.get(c.path+"/"+c.subpaths[e]+"/bw"),o=t.get(c.path+"/"+c.subpaths[e]+"/gain"),i=t.get(c.path+"/"+c.subpaths[e]+"/freq"),r=t.get(c.path+"/"+c.subpaths[e]+"/enable"),s=t.get(c.path+"/"+c.subpaths[e]+"/mode"),!(c.dragging>-1))return c.eqbands[e].Q=a.sqrt(a.pow(2,n))/(a.pow(2,n)-1),c.eqbands[e].gain=o,c.eqbands[e].fc=i,c.eqbands[e].enabled=r,c.eqbands[e].eqtype=0===e&&0===s?"highShelf":3===e&&0===s?"lowShelf":"peak",c.eqbands[e].enabled&&(c.eqbands[e].CalculateCoeff(),c.eqbands[e].GenerateCurve(c.bigPlot)),c.bigdraw()}))},o=u=0,d=c.eqbands.length;0<=d?u<d:u>d;o=0<=d?++u:--u)i(o)}return c.lastChanInit=r}},c}(),o}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(2),n(64),n(3),n(32),n(34),n(30),n(1),n(5),n(95),n(16),n(88)],void 0===(i=function(e,t,n,r,i,o,a,s,l,u,c){var h,p,d,f=function(e,t){for(var n in t)v.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},v={}.hasOwnProperty;return d=function(e,t){var n,r,i;for(n in r=[],t)i=t[n],r.push(e.setAttribute(n,i));return r},2.8,p=function(e,t,n){var r,i,o;return e||(e=1),t||(t=1),i=document.createElementNS("http://www.w3.org/2000/svg","svg"),d(i,{version:"1.1","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:e+"px",height:t+"px",viewBox:"0 0 "+e+" "+t,"enable-background":"new 0 0 "+e+" "+t,space:"preserve"}),r=document.createElementNS("http://www.w3.org/2000/svg","path"),d(r,{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"none","stroke-width":"2.8px",class:"knobPath"}),i.appendChild(r),n&&((o=r.cloneNode(!0)).setAttribute("class","knobTick"),o.setAttribute("stroke","yellow"),i.appendChild(o)),i},(h={}).SmallKnob=function(r){function i(t){var r,o,a,l,u,c,h,p;for(i.__super__.constructor.call(this,{src:t.dev,type:t.type,warptype:t.warptype}),this.dev=t.dev,this.disabled=t.disabled,this.pathRoot=t.pathRoot,o=null!=(h=t.extraCss)?h:"",this.block=n.appendSpec(t.node,{className:"knobGroup "+o}),p=this,c=[function(){return n.appendSpec(p.block,{type:"span",textContent:t.text,className:o})},function(e){return function(){return e.cap=n.appendSpec(e.block,{className:"knobCap "+o})}}(this)],!1===t.labelFirst&&c.reverse(),a=0,u=c.length;a<u;a++)(0,c[a])();this.node=e.appendChildClone(this.cap,this.protoKnob),this.rewire(t.path),r=this.dev.get(this.pathRoot+"/connection"),l="trim2"===this.path.split("/").pop(),null==r||!l&&null==this.dev.get(this.pathRoot+"/trim2")||new s.Function(this.dev,function(e){return function(t){return 0===(r=t.get(e.pathRoot+"/connection"))?e.block.style.display=l?"none":"":1===r?e.block.style.display=l?"":"none":void 0}}(this))}return f(i,r),i.prototype.protoKnob=p(26,26,!0),i.prototype.addInteraction=function(){return this.interaction=new u.DragNumeric({node:this.cap,path:this.path,type:this.type,warp:new o[this.warptype](this.type),virtualSize:100,mode:"differential",tooltip:!0,dev:this.dev,disabled:this.disabled})},i.prototype.removeInteraction=function(){var e;return null!=(e=this.interaction)?e.remove():void 0},i.prototype.update=function(e){var r,i,o;if(r=this.node.firstChild,i=this.node.lastChild,!window.isNaN(e))return o=function(){return r.setAttribute("d",t.arcPathAttr(13.8,13,-179,360*e-180,10.87,10.87)),i.setAttribute("d",t.arcPathAttr(13.8,13,360*e-180-10,360*e-180,10.87,10.87))},this.dev.get("performance/deferKnobDraws")?a.defer(function(){return o(),n.getBoundingClientRect(r)}):o()},i}(s.NumericControl),h.PanKnobCenterButton=function(e){function t(e){var r,i;t.__super__.constructor.call(this,{src:e.dev,type:e.type,nowarp:!0}),r=e.node,i=e.path,this.glideScope=e.glideScope,this.node=n.appendSpec(r,{className:"utilityBtn centerButton",textContent:"Center"}),this.rewire(i)}return f(t,e),t.prototype.addInteraction=function(){return this.interaction=new u.ToggleButton({node:this.node,path:this.path,values:[this.type.values[0]],src:this.src,glideScope:this.glideScope})},t.prototype.removeInteraction=function(){var e;return null!=(e=this.interaction)?e.remove():void 0},t.prototype.update=function(e){return n.setClass(this.node,"active",+e==+this.type.values[0])},t}(s.NumericControl),h.PanKnob=function(r){var i;function c(t){var r,i;c.__super__.constructor.call(this,{src:t.dev,type:t.type,warptype:t.warptype}),r=t.node,t.path,this.dev=t.dev,this.strip=t.strip,this.well=n.appendSpec(r,{className:"panKnobWell"}),this.cap=n.appendSpec(this.well,{className:"panKnobCap"}),this.knob=e.appendChildClone(this.cap,this.protoKnob),e.isMobile&&(this.centerButton=new h.PanKnobCenterButton(t)),this.readout=new l.Readout(a.extend(a.clone(t),{extraCss:"panKnobReadout",node:this.well})),new s.Function(t.dev,(i=this,function(e){return i.updateVisibility(e)})),this.rewire(t.path)}return f(c,r),19,17.6,1.5,i=38+Math.abs(1.5),c.prototype.protoKnob=p(38,i,!1),c.prototype.updateVisibility=function(e){return this.shouldBeVisible(e)?this.show():this.hide()},c.prototype.shouldBeVisible=function(e){var t;return 1==+(null!=this.strip.formatPath&&e.valid(this.strip.formatPath)?"function"==typeof(t=e.get(this.strip.formatPath)).split?t.split(":")[0]:void 0:2)},c.prototype.hide=function(){var e;return null!=(e=this.centerButton)&&(e.node.style.display="none"),this.well.style.display="none"},c.prototype.show=function(){var e;return null!=(e=this.centerButton)&&(e.node.style.display=""),this.well.style.display=""},c.prototype.addInteraction=function(){return null==this.warp&&(this.warp=new o[this.warptype](this.type)),this.interaction=new u.DragNumeric({node:this.cap,path:this.path,type:this.type,warp:this.warp,virtualSize:100,mode:"differential",tooltip:!1,dev:this.src})},c.prototype.removeInteraction=function(){var e;return null!=(e=this.interaction)?e.remove():void 0},c.prototype.update=function(e){var n;if(!isNaN(e))return n=180*e-179,this.knob.firstChild.setAttribute("d",t.arcPathAttr(19,19,n,n+180,17.6,17.6))},c.prototype.remove=function(){return this.centerButton.remove(),c.__super__.remove.call(this)},c}(s.NumericControl),h.AuxPanKnob=function(e){function t(e){var n;this.dev=e.dev,this.strip=e.strip,e.type=new r("real:0:-1:1:pan".split(":")),e.path=this.getPath(this.dev),t.__super__.constructor.apply(this,arguments),new s.Function(this.dev,(n=this,function(e){var t;return t=n.getPath(e),n.readout.rewire(t),n.rewire(t)}))}return f(t,e),t.prototype.getPath=function(e){var t;return t=e.get("preferences/auxmix/current_id"),"mix/"+this.strip.id+"/matrix/"+t+"/pan"},t.prototype.shouldBeVisible=function(e){return c.forCurrentBus(e).inputsWillPan()&&t.__super__.shouldBeVisible.apply(this,arguments)},t}(h.PanKnob),h.HideableBandwidthKnob=function(e){function t(e){var n,r;t.__super__.constructor.call(this,e),n=(n=e.path.split("/")).slice(0,n.length-1),this.watcher=new s.Function(e.dev,(r=this,function(e){return r.block.style.visibility=+e.get(n.join("/")+"/mode")?"":"hidden"}))}return f(t,e),t.prototype.remove=function(){return this.watcher.remove(),t.__super__.remove.call(this)},t}(h.SmallKnob),h}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(2),n(3),n(32),n(34),n(30),n(1),n(5),n(16),n(21)],void 0===(i=function(e,t,n,r,i,o,a,s,l){var u,c,h,p,d,f=function(e,t){for(var n in t)v.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},v={}.hasOwnProperty;return(u={}).BaseToggleButton=function(e){function n(e){var t,r;n.__super__.constructor.call(this,e.dev),this.node=e.node,this.values=e.values,this.glideScope=e.glideScope,this.dev=e.dev,this.disabled=e.disabled,null==this.values&&(this.values=null!=(t=e.type)?t.values:void 0),null==this.values&&(this.values=null!=(r=e.dev.getParameterTypeForPath(e.path))?r.values:void 0),null==this.values&&(this.values=[1,0])}return f(n,e),n.prototype.addInteraction=function(){return this.interaction=new s.ToggleButton({node:this.node,path:this.path,values:this.values,src:this.src,glideScope:this.glideScope,disabled:this.disabled,glideIndex:this.glideIndex}),this.glideIndex=this.interaction.getGlideIndex()},n.prototype.removeInteraction=function(){var e;return null!=(e=this.interaction)?e.remove():void 0},n.prototype.update=function(e){return t.setClass(this.node,"active",e===this.values[0])},n.prototype.remove=function(){return t.remove(this.node),n.__super__.remove.call(this)},n}(a.Control),u.LTCToggleButton=function(e){function n(e){var t,r;n.__super__.constructor.call(this,e.dev),this.node=e.node,this.values=e.values,this.glideScope=e.glideScope,this.dev=e.dev,this.disabled=e.disabled,null==this.values&&(this.values=null!=(t=e.type)?t.values:void 0),null==this.values&&(this.values=null!=(r=e.dev.getParameterTypeForPath(e.path))?r.values:void 0),null==this.values&&(this.values=["yes","no"]),this.auxPath=e.auxPath}return f(n,e),n.prototype.addInteraction=function(){return this.interaction=new s.ToggleButton({node:this.node,path:this.path,values:this.values,src:this.src,glideScope:this.glideScope,disabled:this.disabled,glideIndex:this.glideIndex}),this.glideIndex=this.interaction.getGlideIndex()},n.prototype.removeInteraction=function(){var e;return null!=(e=this.interaction)?e.remove():void 0},n.prototype.update=function(e){if(t.setClass(this.node,"active",e===this.values[0]),"no"===e&&null!=this.dev.get("smpte/stopfreewheel"))return this.dev.set("smpte/stopfreewheel",0)},n.prototype.remove=function(){return t.remove(this.node),n.__super__.remove.call(this)},n}(a.Control),u.AuxMixLinkButton=function(){return function(e){var n;l.satisfies({dev:e.dev,cap:"mixer",check:"^1.1"})&&null==window.auxID&&(this.node=t.appendSpec(e.node,{type:"a",className:"utilityBtn "+(null!=(n=e.extraCss)?n:""),textContent:"View Personal Mix",target:"_blank",href:""+e.dev.baseURL+e.strip.type+(e.strip.num+1)+".html"}))}}(),h=function(e){var n,r,i;return r=e.node,i=e.text,n=e.extraCss,t.appendSpec(r,{className:"utilityBtn "+(null!=n?n:""),textContent:null!=i?i:""})},u.CheckBox=function(e){function n(e){var r;n.__super__.constructor.call(this,{dev:e.dev,glideScope:e.glideScope,values:e.values,disabled:e.disabled,node:t.appendSpec(e.node,{className:"checkBtn "+(null!=(r=e.extraCss)?r:"")})}),this.rewire(e.path)}return f(n,e),n}(u.BaseToggleButton),u.LTCCheckBox=function(e){function n(e){var r;n.__super__.constructor.call(this,{dev:e.dev,glideScope:e.glideScope,values:e.values,disabled:e.disabled,auxPath:e.auxPath,node:t.appendSpec(e.node,{className:"checkBtn "+(null!=(r=e.extraCss)?r:"")})}),this.rewire(e.path)}return f(n,e),n}(u.LTCToggleButton),u.ToggleButton=function(e){function t(e){t.__super__.constructor.call(this,{dev:e.dev,glideScope:e.glideScope,values:e.values,disabled:e.disabled,node:h(e)}),this.rewire(e.path)}return f(t,e),t}(u.BaseToggleButton),u.FunctionButton=function(e){function n(e){n.__super__.constructor.call(this,e.dev),this.dev=e.dev,this.callback=e.callback,this.node=h(e),new s.FunctionButton({node:this.node,f:this.callback})}return f(n,e),n.prototype.remove=function(){return t.remove(this.node),n.__super__.remove.call(this)},n}(a.Control),u.TalkbackButton=function(e){function n(e){n.__super__.constructor.call(this,e.dev),this.node=h(e),this.dev=e.dev,this.disabled=e.disabled,this.chIndex=+e.path.split("/")[2],this.path="mix/talkback/chan",this.rewire(this.path)}return f(n,e),n.prototype.addInteraction=function(){return this.interaction=new s.FunctionButton({node:this.node,f:(e=this,function(){return e.enableTalkback()})});var e},n.prototype.removeInteraction=function(){var e;return null!=(e=this.interaction)?e.remove():void 0},n.prototype.enableTalkback=function(){return+this.dev.get(this.path)==+this.chIndex?this.dev.set(this.path,-1):this.dev.set(this.path,this.chIndex)},n.prototype.update=function(e){return t.setClass(this.node,"active",e===this.chIndex)},n.prototype.remove=function(){return t.remove(this.node),n.__super__.remove.call(this)},n}(a.Control),u.TalkbackEnableButton=function(e){function n(e){n.__super__.constructor.call(this,e.dev),this.node=h(e),this.dev=e.dev,this.disabled=e.disabled,this.path="mix/talkback/enable",this.rewire(this.path)}return f(n,e),n.prototype.addInteraction=function(){return this.interaction=new s.MomentaryButton({node:this.node,f:(e=this,function(){return e.buttonDown()}),f2:function(e){return function(){return e.buttonUp()}}(this)});var e},n.prototype.removeInteraction=function(){var e;return null!=(e=this.interaction)?e.remove():void 0},n.prototype.buttonDown=function(){return this.dev.set(this.path,+!this.dev.get(this.path))},n.prototype.buttonUp=function(){if(0==+this.dev.get("mix/talkback/sticky"))return this.dev.set(this.path,0)},n.prototype.update=function(e){return t.setClass(this.node,"active",1===e)},n.prototype.remove=function(){return t.remove(this.node),n.__super__.remove.call(this)},n}(a.Control),p=function(e){return!+e.get("mix/monitor/0/auto")&&!(+e.get("mix/monitor/0/assign")<0)},d=function(e){return+e.get("mix/monitor/0/override")>=0},c=function(e){var n,i,o,a,l,c,h;return n=e.dev,a=e.path,h=e.values,o=e.node,i=!1,-1===a.indexOf("override")&&(i=d(n),n.set("mix/monitor/0/override",-1)),c=i?h[0]:s.chooseToggleValue(h,n.get(a)),h[0]!==c?c:p(n)?(l=new r({node:o,dev:n}),t.appendSpec(l.div,{type:"p",className:"tooltipWarning",textContent:"Solo is ignored"}),new u.ToggleButton({node:l.div,dev:l.dev,path:"mix/monitor/0/auto",text:"Follow Solo",extraCss:"smUtilityBtn autoBtn"}),l.remove(3e3),c):c},u.SoloButton=function(e){function n(e){var r;n.__super__.constructor.call(this,e),this.soloWatch=new a.Function(e.dev,(r=this,function(e){return t.setClass(r.node,"soloIgnored",p(e)),t.setClass(r.node,"soloOverridden",d(e))}))}return f(n,e),n.prototype.addInteraction=function(){var e;return this.interaction=new s.GlideButton({node:this.node,perf:this.dev.perf,glideScope:this.glideScope,f:(e=this,function(t){return e.dev.set(e.path,t)}),chooseValue:function(e){return function(){return e.chooseValue()}}(this),disabled:this.disabled,glideIndex:this.glideIndex}),this.glideIndex=this.interaction.getGlideIndex()},n.prototype.chooseValue=function(){return c({dev:this.dev,path:this.path,values:this.values,node:this.node})},n.prototype.remove=function(){return this.soloWatch.remove(),n.__super__.remove.call(this)},n}(u.ToggleButton),u.AutoSoloToggleButton=function(e){function n(e){var r;n.__super__.constructor.call(this,e),this.blinker=new a.Function(e.dev,(r=this,function(n){return t.setClass(r.node,"rude",+n.get("mix/"+e.strip.id+"/solocount")>0)}))}return f(n,e),n.prototype.remove=function(){return this.blinker.remove(),n.__super__.remove.call(this)},n}(u.ToggleButton),u.SoloClearButton=function(e){function n(e){n.__super__.constructor.call(this,e.dev),this.dev=e.dev,this.node=h(e),this.rewire("mix/"+e.strip.id+"/solocount"),this.paths=["matrix/solo","override"],this.values=[0,-1]}return f(n,e),n.prototype.addInteraction=function(){return this.interaction=new s.FunctionButton({node:this.node,f:(e=this,function(){return e.setAll()})});var e},n.prototype.removeInteraction=function(){var e;return null!=(e=this.interaction)?e.remove():void 0},n.prototype.setAll=function(){return this.dev.mixer.mapAllStrips((e=this,function(t){var n,r,i,o,a;for(a=[],n=r=0,o=e.paths.length;0<=o?r<o:r>o;n=0<=o?++r:--r)i="mix/"+t.id+"/"+e.paths[n],e.dev.valid(i)?a.push(e.dev.set(i,e.values[n])):a.push(void 0);return a}));var e},n.prototype.update=function(e){return t.setClass(this.node,"active",+e>0)},n}(a.Control),u.InputMeterPreFaderButton=function(e){function n(e){var r,i,o;e.values=[1,0],n.__super__.constructor.call(this,e),this.path="preferences/mix/inmeterprefader",this.rewire(this.path),null==e.dev.get(this.path)?e.dev.set(this.path,0):(r=e.dev.get(this.path),e.dev.set(this.path,null!=(i="true"===r||!0===r)?i:{1:0})),new a.Function(e.dev,(o=this,function(e){return t.setClass(o.node,"active",+e.get(o.path)===o.values[0])}))}return f(n,e),n.prototype.addInteraction=function(){return this.interaction=new s.FunctionButton({node:this.node,f:(e=this,function(){if(null!=e.dev.get(e.path))return e.dev.set(e.path,!e.dev.get(e.path))})});var e},n.prototype.removeInteraction=function(){var e;return null!=(e=this.interaction)?e.remove():void 0},n}(u.ToggleButton),u.EffectHeader=function(e){function n(e){var r,i,o;i=t.appendSpec(e.node,{className:"effectHeader"}),n.__super__.constructor.call(this,{dev:e.dev,glideScope:e.glideScope,node:t.appendSpec(i,{className:"enableBtn"})}),t.appendSpec(i,{className:"groupLabel "+(null!=(r=e.extraCss)?r:""),textContent:e.label}),this.availPath="mix/ctrls/"+e.effect+"/avail",this.availWatch=new a.Function(e.dev,(o=this,function(e){return t.setClass(o.node,"available",+e.get(o.availPath)>0)})),this.rewire(e.path)}return f(n,e),n.prototype.addInteraction=function(){var e;return this.interaction=new s.GlideButton({node:this.node,perf:this.dev.perf,glideScope:this.glideScope,f:(e=this,function(t){return e.setValue(t)}),chooseValue:function(e){return function(){return e.chooseValue()}}(this),disabled:this.disabled,glideIndex:this.glideIndex}),this.glideIndex=this.interaction.getGlideIndex()},n.prototype.getFailureMessage=function(){var e;return e=this.dev.get("uid"),192e3===this.dev.avb.getCurSampleRate(e)?"Effects are disabled at this sample rate":"Could not enable this effect because DSP is overloaded.  Please disable other effects."},n.prototype.dontEnable=function(){var e;return this.tooltip=new r({node:this.node}),e=this.getFailureMessage(),t.appendSpec(this.tooltip.div,{type:"p",className:"toolTipWarning",textContent:e}),this.tooltip.remove(3e3)},n.prototype.chooseValue=function(){return+this.dev.get(this.path)>0||+this.dev.get(this.availPath)>0?s.chooseToggleValue(this.values,this.dev.get(this.path)):(this.dontEnable(),null)},n.prototype.setValue=function(e){if(null!=e&&(0===e||+this.dev.get(this.availPath)>0))return this.dev.set(this.path,e)},n.prototype.remove=function(){return this.availWatch.remove(),n.__super__.remove.call(this)},n}(u.BaseToggleButton),u.AuxSoloButton=function(e){function n(e){var r,i,s,l,c,h,d,f,v,m;if(c=e.monitorStrip,null==u.AuxSoloButton.auxMonitorBase[c])for(r=s=0,f=(i=e.dev.get("mix/ctrls/assignids").split(":")).length;s<f;r=s+=2)if(h=i[r],v=i[r+1],"aux"===h){u.AuxSoloButton.auxMonitorBase[c]=+v;break}null!=(l=u.AuxSoloButton.auxMonitorBase[c])&&((d=o.pick(e,"node","dev","text","extraCss")).path="mix/"+c+"/override",d.values=[e.strip.num+l,-1],n.__super__.constructor.call(this,d),this.soloWatch=new a.Function(e.dev,(m=this,function(e){return t.setClass(m.node,"soloIgnored",p(e))})))}return f(n,e),n.auxMonitorBase={},n.prototype.addInteraction=function(){return this.interaction=new s.FunctionButton({node:this.node,f:(e=this,function(){return e.toggle()})});var e},n.prototype.removeInteraction=function(){var e;return null!=(e=this.interaction)?e.remove():void 0},n.prototype.toggle=function(){return this.dev.set(this.path,c({dev:this.dev,path:this.path,values:this.values,node:this.node}))},n.prototype.remove=function(){return this.soloWatch.remove(),n.__super__.remove.call(this)},n}(u.ToggleButton),u.AuxPanToggleButton=function(e){function t(e){var n;(this.busPair=e.busPair,this.busPair.panSupported())&&(e.disabled=(n=this,function(){return!n.busPair.inputsCanPan()}),t.__super__.constructor.call(this,e))}return f(t,e),t}(u.ToggleButton),u.ChannelFormatButton=function(e){function n(e){n.__super__.constructor.call(this,e.dev),this.node=t.appendSpec(e.node,{className:"chFormatDiv"}),this.strip=e.strip,this.editable=e.editable,this.path=e.path,this.dev=e.dev,this.glideScope=e.glideScope,null==this.editable&&(this.editable=!0),this.reallyEditable()||t.addClass(this.node,"noClick"),this.rewire(e.path)}return f(n,e),n.prototype.reallyEditable=function(){return this.editable&&this.dev.valid(this.path)},n.prototype.chooseValue=function(){var e,t;return e=(t=this.dev.get(this.path).split(":"))[0],t[1],2===(e=+e)?1:2},n.prototype.setValue=function(e){var t,n,r,i,o,a;if(r=this.dev.mixer.getOtherStereoCh(this.strip.num),a=e+":"+(t=1===e?0:1&this.strip.num),o=1===e?e+":0":e+":"+(1-t),this.dev.set(this.path,a),null!=(n=/^mix\/(\w+)\/(\d+)\/config\/format$/.exec(this.path)))return this.dev.set("mix/"+n[1]+"/"+r+"/config/format",o),"preferences/mix/"+this.strip.id+"/enabled",i="preferences/mix/"+this.strip.type+"/"+r+"/enabled",this.dev.set(i,1)},n.prototype.addInteraction=function(){if(this.reallyEditable())return this.interaction=new s.GlideButton({node:this.node,perf:this.dev.perf,glideIndex:this.glideIndex,glideScope:this.glideScope,f:(e=this,function(t){return e.setValue(t)}),chooseValue:function(e){return function(){return e.chooseValue()}}(this)}),this.glideIndex=this.interaction.getGlideIndex();var e},n.prototype.removeInteraction=function(){var e;return null!=(e=this.interaction)?e.remove():void 0},n.prototype.update=function(e){var n,r;return n=(null!=(r=null!=e?e.split(":"):void 0)?r:[2])[0],t.setClass(this.node,"active",2==+n)},n}(a.Control),u}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(2),n(3),n(27),n(32),n(1),n(373),n(87),n(372),n(157),n(370),n(177),n(369),n(44),n(22),n(21),n(5),n(85),n(68),n(365),n(176),n(107),n(362),n(16),n(105),n(34),n(96),n(360),n(104),n(38),n(33),n(359)],void 0===(i=function(e,t,n,r,i,o,a,s,l,u,c,h,p,d,f,v,m,g,b,y,C,x,_,w,S,k,T,E,P,I,B){var N,M,O,A,L=function(e,t){for(var n in t)D.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},D={}.hasOwnProperty;return M=function(){return function(e){var n,r,i;r=e.dev,i=e.node,n=t.appendSpec(i,{className:"clock devBtn"}),new v.Function(r,function(e){return t.setClass(n,"locked",e.get("ext/clockLocked"))})}}(),N=function(){return function(e){var r,i,o,a,s,l,u,c,p,d,f,m,g,b,y,_,w,S,k,T,E,P,I,B,N,O,A;u=e.dev,c=e.div,p=e.guid,k=u.get("uid")===p,this.section=t.appendSpec(c,{className:"devSection"}),t.appendSpec(this.section,{type:"h4",textContent:"Configuration"}),this.menuTable=new C(this.section),m=new h(u,p),_=this.menuTable.addRow("Configuration:"),w=m.getConfigurationNames(),y=new n.OptionListMenu({dev:u,extraCss:"deviceMenu",node:_,path:"avb/"+p+"/requested_configuration",showOpt:function(e){return w[e]},getOpts:function(){return m.getConfigurations()},forceNumeric:!0}),l=y.node.className,new v.Function(u,function(e){return e.get("avb/"+p+"/current_configuration")!==e.get("avb/"+p+"/requested_configuration")?y.node.className=l+" inProgress":y.node.className=l}),new v.Function(u,function(e){return m.getNumConfigurations()>1?t.show(_.parentNode.parentNode):t.hide(_.parentNode.parentNode)}),k&&(E=this.menuTable.addRow("USB Mode:"),T=[[24,"24 channels, 44.1 - 192kHz"],[32,"32 channels, 44.1 - 96kHz"],[64,"64 channels, 44.1 - 48kHz"]],new n.OptionListMenu({dev:u,extraCss:"deviceMenu",node:E,path:"host/maxUSBToHost",showOpt:n.MakeShowOpt(T),getOpts:n.MakeGetOpts(T),forceNumeric:!0}),new v.Function(u,function(e){var n,r;return r=e.avb.isMotuDev(e.get("uid"))&&"USB"===e.get("host_type")&&null!=e.get("host/maxUSBToHost"),null!=(n=e.get("host/mode"))&&(r="LegacyUAC"===n),t.setVisible(E.parentNode.parentNode,r)})),new v.Function(u,function(e){var t,n,r,i;return t=e.avb.getCurConfig(p),i=+e.get("host/maxUSBToHost"),r="",r=e.avb.isMotuDev(e.get("uid"))&&"USB"===e.get("host_type")&&null!=i&&k?["44100","48000","88200","96000","176400","192000"].slice(0,i<=24?6:i<=32?4:2).join(":"):null!=(n=e.get("avb/"+p+"/cfg/"+t+"/sample_rates"))?n:r,e.set("meta/sample_rates",r)}),b=this.menuTable.addRow("Sample Rate:"),g=new n.OptionListMenu({dev:u,extraCss:"deviceMenu",node:b,forceNumeric:!0}),new v.Function(u,function(e){var t;if(t=e.avb.getCurConfig(p),null!=e.get("meta/sample_rates"))return g.rewire("avb/"+p+"/cfg/"+t+"/current_sampling_rate","meta/sample_rates"),e.avb.isAcquired(p)?g.node.setAttribute("disabled",!0):g.node.removeAttribute("disabled")}),i=this.menuTable.addRow("Clock Mode:"),r=new x.Menu({dev:u,extraCss:"deviceMenu",node:i,guid:p}),new v.Function(u,function(e){var t;return t=e.avb.isAcquired(p),r.setAcquired(t)}),k&&(a=this.menuTable.addRow("Clock Status:"),new M({dev:u,node:a}),null!=u.get("smpte/ltcclocklocked")&&(o=this.menuTable.addRow(""),d=t.appendSpec(o,{type:"td",className:"menuLabel"}),t.appendSpec(d,{type:"p",textContent:"Clock Is Resolved to LTC"}),f=t.appendSpec(o,{type:"td",className:"LTCmenuLabelNotResolved"}),t.appendSpec(f,{type:"p",textContent:"Clock Not Resolved to LTC"}),new v.Function(u,function(e){return e.get("smpte/ltcclocklocked")?(t.show(d),t.hide(f)):(t.show(f),t.hide(d))}),s=o.parentNode.parentNode,new v.Function(u,function(e){var n,r,i;if(i="avb/"+(p=e.get("uid"))+"/cfg/0/clock_source_index",n=e.get(i),r="avb/"+p+"/cfg/0/clock_sources/"+n+"/object_name","LTC"===e.get(r)){if(null!=s)return t.show(s)}else if(null!=s)return t.hide(s)})),S=new x.SlaveButton({dev:u,node:this.section,guid:p}),new v.Function(u,function(e){return S.setVisible(S.wouldDoSomething(e))}),N=this.menuTable.addRow("Word Clock:"),B=[["out","Out"],["thru","Thru"]],new n.OptionListMenu({dev:u,extraCss:"deviceMenu",node:N,path:"ext/wordClockThru",showOpt:n.MakeShowOpt(B),getOpts:n.MakeGetOpts(B)}),O=this.menuTable.addRow("Word Clock Out:"),I=[["follow","Follow System Clock"],["1x","Force 1x Clock"]],P=new n.OptionListMenu({dev:u,extraCss:"deviceMenu",node:O,path:"ext/wordClockMode",showOpt:n.MakeShowOpt(I),getOpts:n.MakeGetOpts(I)}),new v.Function(u,function(e){return t.setClass(P.node,"irrelevantRow",e.get("ext/wordClockThru")===B[1][0])}),new v.Function(u,function(e){var n,r;return p=e.get("uid"),n=e.avb.isMotuDev(p)&&e.get("ext/wordClockMode"),r=e.avb.isMotuDev(p)&&e.get("ext/wordClockThru"),O.parentNode.parentNode.firstChild.textContent=r?"":"Word Clock Out:",t.setVisible(N.parentNode.parentNode,null!=r),t.setVisible(O.parentNode.parentNode,null!=n)})),new v.Function(u,(A=this,function(e){var r,i,o,a,s,l,u;if(p=e.get("uid"),s=e.get("avb/"+p+"/cfg/0/current_sampling_rate"),null!=(a=e.get("host/win/buffer_sizes_1x"))&&(r=a.split(":"),i=r.map(Number),l=(s/44100).toFixed(0),u=function(){var e,t,n;for(n=[],e=0,t=i.length;e<t;e++)o=i[e],n.push([o,l*o+" samples"]);return n}(),null!=A.winBufferSize&&t.remove(A.winBufferSize.parentNode.parentNode),A.winBufferSize=A.menuTable.addRow("Host Buffer Size:"),new n.OptionListMenu({dev:e,extraCss:"deviceMenu",node:A.winBufferSize,path:"host/win/current_buffer_size_1x",showOpt:n.MakeShowOpt(u),getOpts:n.MakeGetOpts(u),forceNumeric:!0})),"win"===e.get("host/os")){if(null!=A.winBufferSize)return t.show(A.winBufferSize.parentNode.parentNode)}else if(null!=A.winBufferSize)return t.hide(A.winBufferSize.parentNode.parentNode)})),new v.Function(u,function(e){return function(r){var i,o,a,s,l,u,c;if(p=r.get("uid"),u=r.get("avb/"+p+"/cfg/0/current_sampling_rate"),null!=(l=r.get("host/win/safety_offsets_1x"))&&(i=l.split(":"),o=i.map(Number),c=(u/44100).toFixed(0),a=function(){var e,t,n;for(n=[],e=0,t=o.length;e<t;e++)s=o[e],n.push([s,c*s+" samples"]);return n}(),null!=e.safetyOffsetSize&&t.remove(e.safetyOffsetSize.parentNode.parentNode),e.safetyOffsetSize=e.menuTable.addRow("Host Safety Offset:"),new n.OptionListMenu({dev:r,extraCss:"deviceMenu",node:e.safetyOffsetSize,path:"host/win/current_safety_offset_1x",showOpt:n.MakeShowOpt(a),getOpts:n.MakeGetOpts(a),forceNumeric:!0})),"win"===r.get("host/os")){if(null!=e.safetyOffsetSize)return t.show(e.safetyOffsetSize.parentNode.parentNode)}else if(null!=e.safetyOffsetSize)return t.hide(e.safetyOffsetSize.parentNode.parentNode)}}(this))}}(),A=function(e){function n(e){n.__super__.constructor.call(this,{node:t.appendSpec(e.node,{type:"div",className:"targBtn devBtn"}),dev:e.dev})}return L(n,e),n}(n.BaseToggleButton),O=function(){function e(e){var n,r,i,o;r=e.dev,o=e.node,i=e.guid,n=new A({dev:r,node:o}),new v.Function(r,function(e){var r;return r=e.avb.getCurConfig(i),n.rewire("avb/"+i+"/cfg/"+r+"/identify"),t.setClass(n.node,"disabled",e.avb.isAcquired(i))})}return e.tag=function(e){return this.tagInternal({node:e.node,tag:[]})},e}(),function(r){function i(r,c){var h,d,v,g,y,C,x,w,S,T;i.__super__.constructor.call(this,r),this.targetDevIsGuid=this.dev.get("uid")===this.guid,this.scroll=new p({node:this.div,spec:{className:"devDiv"},dev:this.dev,id:"deviceSetup"}),this.contentDiv=this.scroll.content,this.entDiv=t.appendSpec(this.contentDiv,{className:"entDiv"}),new n.String({dev:this.dev,node:this.entDiv,path:"avb/"+this.guid+"/entity_name",extraCss:"entityName"}),new O({dev:this.dev,node:this.entDiv,guid:this.guid}),this.targetDevIsGuid&&new m({scope:"device",node:this.entDiv,dev:this.dev,extraCss:"devBtn"}),this.avbValidationUI=new u({dev:this.dev,node:this.contentDiv,guid:this.guid}),this.avbConfigUI=new N({dev:this.dev,div:this.contentDiv,guid:this.guid}),this.targetDevIsGuid&&f.works({dev:this.dev,cap:"quick_setup"})&&(C=t.appendSpec(this.contentDiv,{className:"devSection"}),t.appendSpec(C,{type:"h4",textContent:"Quick Setup"}),new k({dev:this.dev,node:C,extraCss:"utilityBtn"})),this.targetDevIsGuid?(this.inputControls=new a.Input({dev:this.dev,div:this.contentDiv,glideBoundNode:this.scroll.contentWrapper}),this.outputControls=new a.Output({dev:this.dev,div:this.contentDiv,glideBoundNode:this.scroll.contentWrapper})):(new a.Controls17221({dev:this.dev,guid:this.guid,div:this.contentDiv}),this.streamRoutingUI=new s({dev:this.dev,guid:this.guid,div:this.contentDiv})),this.targetDevIsGuid&&(new l.Details({dev:this.dev,div:this.contentDiv}),this.dev.avb.requiresManualReboot(this.dev.get("uid"))||(x=t.appendSpec(this.contentDiv,{className:"devSection"}),t.appendSpec(x,{type:"h4",textContent:"Reboot Device"}),this.rebootButton=t.appendSpec(x,{className:"utilityBtn restoreBtn",textContent:"Reboot"}),new _.FunctionButton({node:this.rebootButton,f:(T=this,function(){return T.rebootDevice()})}))),this.targetDevIsGuid&&f.works({dev:this.dev,cap:"preset"})&&(y=t.appendSpec(this.contentDiv,{className:"devSection"}),t.appendSpec(y,{type:"h4",textContent:"Factory Presets"}),this.restoreButton=t.appendSpec(y,{className:"utilityBtn restoreBtn",textContent:"Restore Factory Presets"}),new _.FunctionButton({node:this.restoreButton,f:function(e){return function(){return e.restoreFactoryPresets()}}(this)})),this.targetDevIsGuid&&f.works({dev:this.dev,cap:"firmware_update"})&&(w=f.serviceTypeOK({type:this.serviceType,cap:"firmware_update"}),v=!1,S=function(e){var t;t=e.response,v="yes"===t},d=function(){return I.resolve()},this.dev.set("meta/hostCanUpdate",0),P({url:"/supports_usb_update"}).then(S,d).then(function(e){return function(){return!w&&v&&"1.0.0"===e.dev.get("ext/caps/firmware_update")&&e.dev.set("meta/hostCanUpdate",1),w||v&&"1.0.0"===e.dev.get("ext/caps/firmware_update")||t.remove(e.firmwareSection),b.checkForNewFirmware(e.dev)}}(this)).then(function(e){return function(n){var r,i,o,a,s,l;if(n)return i=t.specToNode({className:"banner-message nag"}),e.contentDiv.insertBefore(i,null!=(s=e.contentDiv.firstChild)?s.nextSibling:void 0),w||v?(t.appendSpec(i,{type:"span",className:"message",textContent:"New Update Available ("+n+")"}),new b({dev:e.dev,node:i,extraCss:"btn action",label:"More Info"})):v||"netiohost"!==e.serviceType?void 0:(t.appendSpec(i,{type:"span",className:"message",textContent:"New Update Available ("+n+") - Please run web app directly from device over ethernet to update"}),l=t.appendSpec(i,{className:"btn action",textContent:"Continue"}),t.hide(l),new _.FunctionButton({node:l,f:function(){var t;return t=e.dev.get("avb/"+e.guid+"/url"),window.location="http://"+t+"/"}}),a=function(){return t.show(l)},o=function(){return t.hide(l)},r=function(){var t;return(t=e.dev.get("avb/"+e.guid+"/url"))?P({url:"http://"+t+"/",timeout:6e3}).then(function(e){return!(e.status>=300)||I.reject()}):I.reject()},e.updateTransferCheck=new E.StateTracker({check:r,onSuccess:a,onFailure:o,checkInterval:3e3}))}}(this)).catch(function(){}),this.firmwareSection=t.appendSpec(this.contentDiv,{className:"devSection"}),t.appendSpec(this.firmwareSection,{type:"h4",textContent:"Update Device"}),new b({dev:this.dev,node:this.firmwareSection,extraCss:"utilityBtn firmwareButton"}),e.isMobile||new b.UpdateFromFileButton({dev:this.dev,node:this.firmwareSection,extraCss:"utilityBtn"}),h=t.appendSpec(this.contentDiv,{className:"devSection"}),t.appendSpec(h,{type:"h4",textContent:"Device Password"}),c.makeDevicePaneControls({node:h,extraCss:"utilityBtn firmwareButton"})),g=t.appendSpec(this.contentDiv,{className:"devSection info"}),t.appendSpec(g,{type:"h4",textContent:"System Information"}),new o({dev:this.dev,div:g,guid:this.guid})}return L(i,g),i.needsSpinner=e.isMobile,i.needsTarget=!1,i.ID="device",i.label="Device",i.prototype.doAfterConfirmTooltip=function(e){var n,r,i,o,a;return o=e.prompt,i=e.node,r=e.f,(a=new S({node:i,dev:this.dev})).remove("forever"),t.appendSpec(a.div,{type:"p",className:"toolTipWarning",textContent:o}),n=t.appendSpec(a.div,{className:"utilityBtn devOK",textContent:"OK"}),new _.FunctionButton({node:n,f:function(){return r(),a.keepAlive(),a.remove(0)}})},i.prototype.rebootDevice=function(){return this.doAfterConfirmTooltip({node:this.rebootButton,prompt:"Reboot Device?",f:(e=this,function(){return T(e.dev)})});var e},i.prototype.restoreFactoryPresets=function(){return this.doAfterConfirmTooltip({node:this.restoreButton,prompt:"Restore all factory presets?",f:(e=this,function(){return w.restoreFactoryPresets({dev:e.dev})})});var e},i.prototype.remove=function(){var e,t,n,r;return null!=(e=this.streamRoutingUI)&&e.remove(),this.dev.remove(),null!=(t=this.inputControls)&&t.remove(),null!=(n=this.outputControls)&&n.remove(),null!=(r=this.updateTransferCheck)&&r.remove(),i.__super__.remove.apply(this,arguments)},i}()}.apply(t,r))||(e.exports=i)},function(e,t,n){var r=n(10);n(161),n(159),n(14);var i="forge.task",o={},a=0;r.debug.set(i,"tasks",o);var s={};r.debug.set(i,"queues",s);var l="ready",u="running",c="blocked",h="sleeping",p="done",d="error",f={ready:{}};f.ready.stop=l,f.ready.start=u,f.ready.cancel=p,f.ready.fail=d,f.running={},f.running.stop=l,f.running.start=u,f.running.block=c,f.running.unblock=u,f.running.sleep=h,f.running.wakeup=u,f.running.cancel=p,f.running.fail=d,f.blocked={},f.blocked.stop=c,f.blocked.start=c,f.blocked.block=c,f.blocked.unblock=c,f.blocked.sleep=c,f.blocked.wakeup=c,f.blocked.cancel=p,f.blocked.fail=d,f.sleeping={},f.sleeping.stop=h,f.sleeping.start=h,f.sleeping.block=h,f.sleeping.unblock=h,f.sleeping.sleep=h,f.sleeping.wakeup=h,f.sleeping.cancel=p,f.sleeping.fail=d,f.done={},f.done.stop=p,f.done.start=p,f.done.block=p,f.done.unblock=p,f.done.sleep=p,f.done.wakeup=p,f.done.cancel=p,f.done.fail=d,f.error={},f.error.stop=d,f.error.start=d,f.error.block=d,f.error.unblock=d,f.error.sleep=d,f.error.wakeup=d,f.error.cancel=d,f.error.fail=d;var v=function(e){this.id=-1,this.name=e.name||"?",this.parent=e.parent||null,this.run=e.run,this.subtasks=[],this.error=!1,this.state=l,this.blocks=0,this.timeoutId=null,this.swapTime=null,this.userData=null,this.id=a++,o[this.id]=this};v.prototype.debug=function(e){e=e||"",r.log.debug(i,e,"[%s][%s] task:",this.id,this.name,this,"subtasks:",this.subtasks.length,"queue:",s)},v.prototype.next=function(e,t){"function"==typeof e&&(t=e,e=this.name);var n=new v({run:t,name:e,parent:this});return n.state=u,n.type=this.type,n.successCallback=this.successCallback||null,n.failureCallback=this.failureCallback||null,this.subtasks.push(n),this},v.prototype.parallel=function(e,t){return r.util.isArray(e)&&(t=e,e=this.name),this.next(e,function(n){var i=n;i.block(t.length);for(var o=function(e,n){r.task.start({type:e,run:function(e){t[n](e)},success:function(e){i.unblock()},failure:function(e){i.unblock()}})},a=0;a<t.length;a++){o(e+"__parallel-"+n.id+"-"+a,a)}})},v.prototype.stop=function(){this.state=f[this.state].stop},v.prototype.start=function(){this.error=!1,this.state=f[this.state].start,this.state===u&&(this.start=new Date,this.run(this),m(this,0))},v.prototype.block=function(e){e=void 0===e?1:e,this.blocks+=e,this.blocks>0&&(this.state=f[this.state].block)},v.prototype.unblock=function(e){return e=void 0===e?1:e,this.blocks-=e,0===this.blocks&&this.state!==p&&(this.state=u,m(this,0)),this.blocks},v.prototype.sleep=function(e){e=void 0===e?0:e,this.state=f[this.state].sleep;var t=this;this.timeoutId=setTimeout(function(){t.timeoutId=null,t.state=u,m(t,0)},e)},v.prototype.wait=function(e){e.wait(this)},v.prototype.wakeup=function(){this.state===h&&(cancelTimeout(this.timeoutId),this.timeoutId=null,this.state=u,m(this,0))},v.prototype.cancel=function(){this.state=f[this.state].cancel,this.permitsNeeded=0,null!==this.timeoutId&&(cancelTimeout(this.timeoutId),this.timeoutId=null),this.subtasks=[]},v.prototype.fail=function(e){if(this.error=!0,g(this,!0),e)e.error=this.error,e.swapTime=this.swapTime,e.userData=this.userData,m(e,0);else{if(null!==this.parent){for(var t=this.parent;null!==t.parent;)t.error=this.error,t.swapTime=this.swapTime,t.userData=this.userData,t=t.parent;g(t,!0)}this.failureCallback&&this.failureCallback(this)}};var m=function(e,t){var n=t>30||+new Date-e.swapTime>20,r=function(t){if(t++,e.state===u)if(n&&(e.swapTime=+new Date),e.subtasks.length>0){var r=e.subtasks.shift();r.error=e.error,r.swapTime=e.swapTime,r.userData=e.userData,r.run(r),r.error||m(r,t)}else g(e),e.error||null!==e.parent&&(e.parent.error=e.error,e.parent.swapTime=e.swapTime,e.parent.userData=e.userData,m(e.parent,t))};n?setTimeout(r,0):r(t)},g=function(e,t){e.state=p,delete o[e.id],null===e.parent&&(e.type in s?0===s[e.type].length?r.log.error(i,"[%s][%s] task queue empty [%s]",e.id,e.name,e.type):s[e.type][0]!==e?r.log.error(i,"[%s][%s] task not first in queue [%s]",e.id,e.name,e.type):(s[e.type].shift(),0===s[e.type].length?delete s[e.type]:s[e.type][0].start()):r.log.error(i,"[%s][%s] task queue missing [%s]",e.id,e.name,e.type),t||(e.error&&e.failureCallback?e.failureCallback(e):!e.error&&e.successCallback&&e.successCallback(e)))};e.exports=r.task=r.task||{},r.task.start=function(e){var t=new v({run:e.run,name:e.name||"?"});t.type=e.type,t.successCallback=e.success||null,t.failureCallback=e.failure||null,t.type in s?s[e.type].push(t):(s[t.type]=[t],function(e){e.error=!1,e.state=f[e.state].start,setTimeout(function(){e.state===u&&(e.swapTime=+new Date,e.run(e),m(e,0))},0)}(t))},r.task.cancel=function(e){e in s&&(s[e]=[s[e][0]])},r.task.createCondition=function(){var e={tasks:{},wait:function(t){t.id in e.tasks||(t.block(),e.tasks[t.id]=t)},notify:function(){var t=e.tasks;for(var n in e.tasks={},t)t[n].unblock()}};return e}},function(e,t,n){var r=n(10);n(53),n(71),n(111),n(70),n(14);var i=e.exports=r.ssh=r.ssh||{};function o(e,t){var n=t.toString(16);n[0]>="8"&&(n="00"+n);var i=r.util.hexToBytes(n);e.putInt32(i.length),e.putBytes(i)}function a(e,t){e.putInt32(t.length),e.putString(t)}function s(){for(var e=r.md.sha1.create(),t=arguments.length,n=0;n<t;++n)e.update(arguments[n]);return e.digest()}i.privateKeyToPutty=function(e,t,n){n=n||"";var i=""===(t=t||"")?"none":"aes256-cbc",l="PuTTY-User-Key-File-2: ssh-rsa\r\n";l+="Encryption: "+i+"\r\n",l+="Comment: "+n+"\r\n";var u=r.util.createBuffer();a(u,"ssh-rsa"),o(u,e.e),o(u,e.n);var c=r.util.encode64(u.bytes(),64),h=Math.floor(c.length/66)+1;l+="Public-Lines: "+h+"\r\n",l+=c;var p,d=r.util.createBuffer();if(o(d,e.d),o(d,e.p),o(d,e.q),o(d,e.qInv),t){var f=d.length()+16-1;f-=f%16;var v=s(d.bytes());v.truncate(v.length()-f+d.length()),d.putBuffer(v);var m=r.util.createBuffer();m.putBuffer(s("\0\0\0\0",t)),m.putBuffer(s("\0\0\0",t));var g=r.aes.createEncryptionCipher(m.truncate(8),"CBC");g.start(r.util.createBuffer().fillWithByte(0,16)),g.update(d.copy()),g.finish();var b=g.output;b.truncate(16),p=r.util.encode64(b.bytes(),64)}else p=r.util.encode64(d.bytes(),64);l+="\r\nPrivate-Lines: "+(h=Math.floor(p.length/66)+1)+"\r\n",l+=p;var y=s("putty-private-key-file-mac-key",t),C=r.util.createBuffer();a(C,"ssh-rsa"),a(C,i),a(C,n),C.putInt32(u.length()),C.putBuffer(u),C.putInt32(d.length()),C.putBuffer(d);var x=r.hmac.create();return x.start("sha1",y),x.update(C.bytes()),l+="\r\nPrivate-MAC: "+x.digest().toHex()+"\r\n"},i.publicKeyToOpenSSH=function(e,t){t=t||"";var n=r.util.createBuffer();return a(n,"ssh-rsa"),o(n,e.e),o(n,e.n),"ssh-rsa "+r.util.encode64(n.bytes())+" "+t},i.privateKeyToOpenSSH=function(e,t){return t?r.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):r.pki.privateKeyToPem(e)},i.getPublicKeyFingerprint=function(e,t){var n=(t=t||{}).md||r.md.md5.create(),i=r.util.createBuffer();a(i,"ssh-rsa"),o(i,e.e),o(i,e.n),n.start(),n.update(i.getBytes());var s=n.digest();if("hex"===t.encoding){var l=s.toHex();return t.delimiter?l.match(/.{2}/g).join(t.delimiter):l}if("binary"===t.encoding)return s.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".');return s}},function(e,t,n){var r=n(10);n(53),n(47),n(91),n(52),n(65),n(163),n(40),n(14),n(109);var i=r.asn1,o=e.exports=r.pkcs7=r.pkcs7||{};function a(e){var t={},n=[];if(!i.validate(e,o.asn1.recipientInfoValidator,t,n)){var a=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw a.errors=n,a}return{version:t.version.charCodeAt(0),issuer:r.pki.RDNAttributesAsArray(t.issuer),serialNumber:r.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:i.derToOid(t.encAlgorithm),parameter:t.encParameter.value,content:t.encKey}}}function s(e){var t=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[r.pki.distinguishedNameToAsn1({attributes:e.issuer}),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,r.util.hexToBytes(e.serialNumber))]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.digestAlgorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.signatureAlgorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])),t.value.push(i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var n=i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[]),o=0;o<e.unauthenticatedAttributes.length;++o){var a=e.unauthenticatedAttributes[o];n.values.push(l(a))}t.value.push(n)}return t}function l(e){var t;if(e.type===r.pki.oids.contentType)t=i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.value).getBytes());else if(e.type===r.pki.oids.messageDigest)t=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===r.pki.oids.signingTime){var n=new Date("1950-01-01T00:00:00Z"),o=new Date("2050-01-01T00:00:00Z"),a=e.value;if("string"==typeof a){var s=Date.parse(a);a=isNaN(s)?13===a.length?i.utcTimeToDate(a):i.generalizedTimeToDate(a):new Date(s)}t=a>=n&&a<o?i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(a)):i.create(i.Class.UNIVERSAL,i.Type.GENERALIZEDTIME,!1,i.dateToGeneralizedTime(a))}return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[t])])}function u(e,t,n){var o={};if(!i.validate(t,n,o,[])){var a=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw a.errors=a,a}if(i.derToOid(o.contentType)!==r.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(o.encryptedContent){var s="";if(r.util.isArray(o.encryptedContent))for(var l=0;l<o.encryptedContent.length;++l){if(o.encryptedContent[l].type!==i.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");s+=o.encryptedContent[l].value}else s=o.encryptedContent;e.encryptedContent={algorithm:i.derToOid(o.encAlgorithm),parameter:r.util.createBuffer(o.encParameter.value),content:r.util.createBuffer(s)}}if(o.content){s="";if(r.util.isArray(o.content))for(l=0;l<o.content.length;++l){if(o.content[l].type!==i.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");s+=o.content[l].value}else s=o.content;e.content=r.util.createBuffer(s)}return e.version=o.version.charCodeAt(0),e.rawCapture=o,o}function c(e){if(void 0===e.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===e.content){var t;switch(e.encryptedContent.algorithm){case r.pki.oids["aes128-CBC"]:case r.pki.oids["aes192-CBC"]:case r.pki.oids["aes256-CBC"]:t=r.aes.createDecryptionCipher(e.encryptedContent.key);break;case r.pki.oids.desCBC:case r.pki.oids["des-EDE3-CBC"]:t=r.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}o.messageFromPem=function(e){var t=r.pem.decode(e)[0];if("PKCS7"!==t.type){var n=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw n.headerType=t.type,n}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var a=i.fromDer(t.body);return o.messageFromAsn1(a)},o.messageToPem=function(e,t){var n={type:"PKCS7",body:i.toDer(e.toAsn1()).getBytes()};return r.pem.encode(n,{maxline:t})},o.messageFromAsn1=function(e){var t={},n=[];if(!i.validate(e,o.asn1.contentInfoValidator,t,n)){var a=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw a.errors=n,a}var s,l=i.derToOid(t.contentType);switch(l){case r.pki.oids.envelopedData:s=o.createEnvelopedData();break;case r.pki.oids.encryptedData:s=o.createEncryptedData();break;case r.pki.oids.signedData:s=o.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+l+" is not (yet) supported.")}return s.fromAsn1(t.content.value[0]),s},o.createSignedData=function(){var e=null;return e={type:r.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(t){if(u(e,t,o.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var n=e.rawCapture.certificates.value,i=0;i<n.length;++i)e.certificates.push(r.pki.certificateFromAsn1(n[i]))},toAsn1:function(){e.contentInfo||e.sign();for(var t=[],n=0;n<e.certificates.length;++n)t.push(r.pki.certificateToAsn1(e.certificates[n]));var o=[],a=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return t.length>0&&a.value[0].value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,t)),o.length>0&&a.value[0].value.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,o)),a.value[0].value.push(i.create(i.Class.UNIVERSAL,i.Type.SET,!0,e.signerInfos)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),a])},addSigner:function(t){var n=t.issuer,i=t.serialNumber;if(t.certificate){var o=t.certificate;"string"==typeof o&&(o=r.pki.certificateFromPem(o)),n=o.issuer.attributes,i=o.serialNumber}var a=t.key;if(!a)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof a&&(a=r.pki.privateKeyFromPem(a));var s=t.digestAlgorithm||r.pki.oids.sha1;switch(s){case r.pki.oids.sha1:case r.pki.oids.sha256:case r.pki.oids.sha384:case r.pki.oids.sha512:case r.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+s)}var l=t.authenticatedAttributes||[];if(l.length>0){for(var u=!1,c=!1,h=0;h<l.length;++h){var p=l[h];if(u||p.type!==r.pki.oids.contentType){if(c||p.type!==r.pki.oids.messageDigest);else if(c=!0,u)break}else if(u=!0,c)break}if(!u||!c)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:a,version:1,issuer:n,serialNumber:i,digestAlgorithm:s,signatureAlgorithm:r.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:l,unauthenticatedAttributes:[]})},sign:function(){var t;"object"==typeof e.content&&null!==e.contentInfo||(e.contentInfo=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(r.pki.oids.data).getBytes())]),"content"in e&&(e.content instanceof r.util.ByteBuffer?t=e.content.bytes():"string"==typeof e.content&&(t=r.util.encodeUtf8(e.content)),e.contentInfo.value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t)]))));0!==e.signers.length&&function(t){if(e.contentInfo.value.length<2)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var n=i.derToOid(e.contentInfo.value[0].value),o=e.contentInfo.value[1];o=o.value[0];var a=i.toDer(o);for(var u in a.getByte(),i.getBerValueLength(a),a=a.getBytes(),t)t[u].start().update(a);for(var c=new Date,h=0;h<e.signers.length;++h){var p=e.signers[h];if(0===p.authenticatedAttributes.length){if(n!==r.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{p.authenticatedAttributesAsn1=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var d=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[]),f=0;f<p.authenticatedAttributes.length;++f){var v=p.authenticatedAttributes[f];v.type===r.pki.oids.messageDigest?v.value=t[p.digestAlgorithm].digest():v.type===r.pki.oids.signingTime&&(v.value||(v.value=c)),d.value.push(l(v)),p.authenticatedAttributesAsn1.value.push(l(v))}a=i.toDer(d).getBytes(),p.md.start().update(a)}p.signature=p.key.sign(p.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=function(e){for(var t=[],n=0;n<e.length;++n)t.push(s(e[n]));return t}(e.signers)}(function(){for(var t={},n=0;n<e.signers.length;++n){var o=e.signers[n],a=o.digestAlgorithm;a in t||(t[a]=r.md[r.pki.oids[a]].create()),0===o.authenticatedAttributes.length?o.md=t[a]:o.md=r.md[r.pki.oids[a]].create()}for(var a in e.digestAlgorithmIdentifiers=[],t)e.digestAlgorithmIdentifiers.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]));return t}())},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(t){"string"==typeof t&&(t=r.pki.certificateFromPem(t)),e.certificates.push(t)},addCertificateRevokationList:function(e){throw new Error("PKCS#7 CRL support not yet implemented.")}}},o.createEncryptedData=function(){var e=null;return e={type:r.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:r.pki.oids["aes256-CBC"]},fromAsn1:function(t){u(e,t,o.asn1.encryptedDataValidator)},decrypt:function(t){void 0!==t&&(e.encryptedContent.key=t),c(e)}}},o.createEnvelopedData=function(){var e=null;return e={type:r.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:r.pki.oids["aes256-CBC"]},fromAsn1:function(t){var n=u(e,t,o.asn1.envelopedDataValidator);e.recipients=function(e){for(var t=[],n=0;n<e.length;++n)t.push(a(e[n]));return t}(n.recipientInfos.value)},toAsn1:function(){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,function(e){for(var t=[],n=0;n<e.length;++n)t.push((o=e[n],i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(o.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[r.pki.distinguishedNameToAsn1({attributes:o.issuer}),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,r.util.hexToBytes(o.serialNumber))]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(o.encryptedContent.algorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,o.encryptedContent.content)])));var o;return t}(e.recipients)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,(t=e.encryptedContent,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(r.pki.oids.data).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.algorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.parameter.getBytes())]),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.content.getBytes())])]))])])]);var t},findRecipient:function(t){for(var n=t.issuer.attributes,r=0;r<e.recipients.length;++r){var i=e.recipients[r],o=i.issuer;if(i.serialNumber===t.serialNumber&&o.length===n.length){for(var a=!0,s=0;s<n.length;++s)if(o[s].type!==n[s].type||o[s].value!==n[s].value){a=!1;break}if(a)return i}}return null},decrypt:function(t,n){if(void 0===e.encryptedContent.key&&void 0!==t&&void 0!==n)switch(t.encryptedContent.algorithm){case r.pki.oids.rsaEncryption:case r.pki.oids.desCBC:var i=n.decrypt(t.encryptedContent.content);e.encryptedContent.key=r.util.createBuffer(i);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}c(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:r.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,n){if(void 0===e.encryptedContent.content){var i,o,a;switch(n=n||e.encryptedContent.algorithm,t=t||e.encryptedContent.key,n){case r.pki.oids["aes128-CBC"]:i=16,o=16,a=r.aes.createEncryptionCipher;break;case r.pki.oids["aes192-CBC"]:i=24,o=16,a=r.aes.createEncryptionCipher;break;case r.pki.oids["aes256-CBC"]:i=32,o=16,a=r.aes.createEncryptionCipher;break;case r.pki.oids["des-EDE3-CBC"]:i=24,o=8,a=r.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+n)}if(void 0===t)t=r.util.createBuffer(r.random.getBytes(i));else if(t.length()!=i)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+i+".");e.encryptedContent.algorithm=n,e.encryptedContent.key=t,e.encryptedContent.parameter=r.util.createBuffer(r.random.getBytes(o));var s=a(t);if(s.start(e.encryptedContent.parameter.copy()),s.update(e.content),!s.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=s.output}for(var l=0;l<e.recipients.length;++l){var u=e.recipients[l];if(void 0===u.encryptedContent.content)switch(u.encryptedContent.algorithm){case r.pki.oids.rsaEncryption:u.encryptedContent.content=u.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+u.encryptedContent.algorithm)}}}}}},function(e,t,n){e.exports=n(46),n(111),n(70),n(169),n(160)},function(e,t,n){var r=n(10);n(14),n(40),n(89),e.exports=r.kem=r.kem||{};var i=r.jsbn.BigInteger;function o(e,t,n,i){e.generate=function(e,o){for(var a=new r.util.ByteBuffer,s=Math.ceil(o/i)+n,l=new r.util.ByteBuffer,u=n;u<s;++u){l.putInt32(u),t.start(),t.update(e+l.getBytes());var c=t.digest();a.putBytes(c.getBytes(i))}return a.truncate(a.length()-o),a.getBytes()}}r.kem.rsa={},r.kem.rsa.create=function(e,t){var n=(t=t||{}).prng||r.random,o={encrypt:function(t,o){var a,s=Math.ceil(t.n.bitLength()/8);do{a=new i(r.util.bytesToHex(n.getBytesSync(s)),16).mod(t.n)}while(a.equals(i.ZERO));var l=s-(a=r.util.hexToBytes(a.toString(16))).length;return l>0&&(a=r.util.fillString(String.fromCharCode(0),l)+a),{encapsulation:t.encrypt(a,"NONE"),key:e.generate(a,o)}},decrypt:function(t,n,r){var i=t.decrypt(n,"NONE");return e.generate(i,r)}};return o},r.kem.kdf1=function(e,t){o(this,e,0,t||e.digestLength)},r.kem.kdf2=function(e,t){o(this,e,1,t||e.digestLength)}},function(e,t,n){(function(t){var r=n(10);if(n(89),n(40),n(160),n(14),void 0===i)var i=r.jsbn.BigInteger;var o=r.util.ByteBuffer,a=void 0===t?Uint8Array:t;r.pki=r.pki||{},e.exports=r.pki.ed25519=r.ed25519=r.ed25519||{};var s=r.ed25519;function l(e){var n=e.message;if(n instanceof Uint8Array)return n;var r=e.encoding;if(void 0===n){if(!e.md)throw new TypeError('"options.message" or "options.md" not specified.');n=e.md.digest().getBytes(),r="binary"}if("string"==typeof n&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if("string"==typeof n){if(void 0!==t)return new t(n,r);n=new o(n,r)}else if(!(n instanceof o))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var i=new a(n.length()),s=0;s<i.length;++s)i[s]=n.at(s);return i}s.constants={},s.constants.PUBLIC_KEY_BYTE_LENGTH=32,s.constants.PRIVATE_KEY_BYTE_LENGTH=64,s.constants.SEED_BYTE_LENGTH=32,s.constants.SIGN_BYTE_LENGTH=64,s.constants.HASH_BYTE_LENGTH=64,s.generateKeyPair=function(e){var t=(e=e||{}).seed;if(void 0===t)t=r.random.getBytesSync(s.constants.SEED_BYTE_LENGTH);else if("string"==typeof t){if(t.length!==s.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+s.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=l({message:t,encoding:"binary"});for(var n=new a(s.constants.PUBLIC_KEY_BYTE_LENGTH),i=new a(s.constants.PRIVATE_KEY_BYTE_LENGTH),o=0;o<32;++o)i[o]=t[o];return function(e,t){var n,r=[M(),M(),M(),M()],i=g(t,32);for(i[0]&=248,i[31]&=127,i[31]|=64,P(r,i),_(e,r),n=0;n<32;++n)t[n+32]=e[n]}(n,i),{publicKey:n,privateKey:i}},s.publicKeyFromPrivateKey=function(e){var t=l({message:(e=e||{}).privateKey,encoding:"binary"});if(t.length!==s.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+s.constants.PRIVATE_KEY_BYTE_LENGTH);for(var n=new a(s.constants.PUBLIC_KEY_BYTE_LENGTH),r=0;r<n.length;++r)n[r]=t[32+r];return n},s.sign=function(e){var t=l(e=e||{}),n=l({message:e.privateKey,encoding:"binary"});if(n.length!==s.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+s.constants.PRIVATE_KEY_BYTE_LENGTH);var r=new a(s.constants.SIGN_BYTE_LENGTH+t.length);!function(e,t,n,r){var i,o,a=new Float64Array(64),s=[M(),M(),M(),M()],l=g(r,32);l[0]&=248,l[31]&=127,l[31]|=64;var u=n+64;for(i=0;i<n;++i)e[64+i]=t[i];for(i=0;i<32;++i)e[32+i]=l[32+i];var c=g(e.subarray(32),n+32);for(y(c),P(s,c),_(e,s),i=32;i<64;++i)e[i]=r[i];var h=g(e,n+64);for(y(h),i=32;i<64;++i)a[i]=0;for(i=0;i<32;++i)a[i]=c[i];for(i=0;i<32;++i)for(o=0;o<32;o++)a[i+o]+=h[i]*l[o];b(e.subarray(32),a)}(r,t,t.length,n);for(var i=new a(s.constants.SIGN_BYTE_LENGTH),o=0;o<i.length;++o)i[o]=r[o];return i},s.verify=function(e){var t=l(e=e||{});if(void 0===e.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var n=l({message:e.signature,encoding:"binary"});if(n.length!==s.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+s.constants.SIGN_BYTE_LENGTH);var r=l({message:e.publicKey,encoding:"binary"});if(r.length!==s.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+s.constants.PUBLIC_KEY_BYTE_LENGTH);var i,o=new a(s.constants.SIGN_BYTE_LENGTH+t.length),p=new a(s.constants.SIGN_BYTE_LENGTH+t.length);for(i=0;i<s.constants.SIGN_BYTE_LENGTH;++i)o[i]=n[i];for(i=0;i<t.length;++i)o[i+s.constants.SIGN_BYTE_LENGTH]=t[i];return function(e,t,n,r){var i,o=new a(32),s=[M(),M(),M(),M()],l=[M(),M(),M(),M()];if(-1,n<64)return-1;if(function(e,t){var n=M(),r=M(),i=M(),o=M(),a=M(),s=M(),l=M();I(e[2],c),function(e,t){var n;for(n=0;n<16;++n)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}(e[1],t),L(i,e[1]),D(o,i,h),A(i,i,e[2]),O(o,e[2],o),L(a,o),L(s,a),D(l,s,a),D(n,l,i),D(n,n,o),function(e,t){var n,r=M();for(n=0;n<16;++n)r[n]=t[n];for(n=250;n>=0;--n)L(r,r),1!==n&&D(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}(n,n),D(n,n,i),D(n,n,o),D(n,n,o),D(e[0],n,o),L(r,e[0]),D(r,r,o),S(r,i)&&D(e[0],e[0],m);if(L(r,e[0]),D(r,r,o),S(r,i))return-1;T(e[0])===t[31]>>7&&A(e[0],u,e[0]);return D(e[3],e[0],e[1]),0}(l,r))return-1;for(i=0;i<n;++i)e[i]=t[i];for(i=0;i<32;++i)e[i+32]=r[i];var p=g(e,n);if(y(p),E(s,l,p),P(l,t.subarray(32)),C(s,l),_(o,s),n-=64,k(t,0,o,0)){for(i=0;i<n;++i)e[i]=0;return-1}for(i=0;i<n;++i)e[i]=t[i+64];return n}(p,o,o.length,r)>=0};var u=M(),c=M([1]),h=M([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),p=M([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),d=M([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=M([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),v=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),m=M([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function g(e,n){var i=r.md.sha512.create(),l=new o(e);i.update(l.getBytes(n),"binary");var u=i.digest().getBytes();if(void 0!==t)return new t(u,"binary");for(var c=new a(s.constants.HASH_BYTE_LENGTH),h=0;h<64;++h)c[h]=u.charCodeAt(h);return c}function b(e,t){var n,r,i,o;for(r=63;r>=32;--r){for(n=0,i=r-32,o=r-12;i<o;++i)t[i]+=n-16*t[r]*v[i-(r-32)],n=t[i]+128>>8,t[i]-=256*n;t[i]+=n,t[r]=0}for(n=0,i=0;i<32;++i)t[i]+=n-(t[31]>>4)*v[i],n=t[i]>>8,t[i]&=255;for(i=0;i<32;++i)t[i]-=n*v[i];for(r=0;r<32;++r)t[r+1]+=t[r]>>8,e[r]=255&t[r]}function y(e){for(var t=new Float64Array(64),n=0;n<64;++n)t[n]=e[n],e[n]=0;b(e,t)}function C(e,t){var n=M(),r=M(),i=M(),o=M(),a=M(),s=M(),l=M(),u=M(),c=M();A(n,e[1],e[0]),A(c,t[1],t[0]),D(n,n,c),O(r,e[0],e[1]),O(c,t[0],t[1]),D(r,r,c),D(i,e[3],t[3]),D(i,i,p),D(o,e[2],t[2]),O(o,o,o),A(a,r,n),A(s,o,i),O(l,o,i),O(u,r,n),D(e[0],a,s),D(e[1],u,l),D(e[2],l,s),D(e[3],a,u)}function x(e,t,n){for(var r=0;r<4;++r)N(e[r],t[r],n)}function _(e,t){var n=M(),r=M(),i=M();!function(e,t){var n,r=M();for(n=0;n<16;++n)r[n]=t[n];for(n=253;n>=0;--n)L(r,r),2!==n&&4!==n&&D(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}(i,t[2]),D(n,t[0],i),D(r,t[1],i),w(e,r),e[31]^=T(n)<<7}function w(e,t){var n,r,i,o=M(),a=M();for(n=0;n<16;++n)a[n]=t[n];for(B(a),B(a),B(a),r=0;r<2;++r){for(o[0]=a[0]-65517,n=1;n<15;++n)o[n]=a[n]-65535-(o[n-1]>>16&1),o[n-1]&=65535;o[15]=a[15]-32767-(o[14]>>16&1),i=o[15]>>16&1,o[14]&=65535,N(a,o,1-i)}for(n=0;n<16;n++)e[2*n]=255&a[n],e[2*n+1]=a[n]>>8}function S(e,t){var n=new a(32),r=new a(32);return w(n,e),w(r,t),k(n,0,r,0)}function k(e,t,n,r){return function(e,t,n,r,i){var o,a=0;for(o=0;o<i;++o)a|=e[t+o]^n[r+o];return(1&a-1>>>8)-1}(e,t,n,r,32)}function T(e){var t=new a(32);return w(t,e),1&t[0]}function E(e,t,n){var r,i;for(I(e[0],u),I(e[1],c),I(e[2],c),I(e[3],u),i=255;i>=0;--i)x(e,t,r=n[i/8|0]>>(7&i)&1),C(t,e),C(e,e),x(e,t,r)}function P(e,t){var n=[M(),M(),M(),M()];I(n[0],d),I(n[1],f),I(n[2],c),D(n[3],d,f),E(e,n,t)}function I(e,t){var n;for(n=0;n<16;n++)e[n]=0|t[n]}function B(e){var t,n,r=1;for(t=0;t<16;++t)n=e[t]+r+65535,r=Math.floor(n/65536),e[t]=n-65536*r;e[0]+=r-1+37*(r-1)}function N(e,t,n){for(var r,i=~(n-1),o=0;o<16;++o)r=i&(e[o]^t[o]),e[o]^=r,t[o]^=r}function M(e){var t,n=new Float64Array(16);if(e)for(t=0;t<e.length;++t)n[t]=e[t];return n}function O(e,t,n){for(var r=0;r<16;++r)e[r]=t[r]+n[r]}function A(e,t,n){for(var r=0;r<16;++r)e[r]=t[r]-n[r]}function L(e,t){D(e,t,t)}function D(e,t,n){var r,i,o=0,a=0,s=0,l=0,u=0,c=0,h=0,p=0,d=0,f=0,v=0,m=0,g=0,b=0,y=0,C=0,x=0,_=0,w=0,S=0,k=0,T=0,E=0,P=0,I=0,B=0,N=0,M=0,O=0,A=0,L=0,D=n[0],R=n[1],F=n[2],V=n[3],U=n[4],j=n[5],H=n[6],z=n[7],G=n[8],q=n[9],W=n[10],K=n[11],Q=n[12],Y=n[13],X=n[14],$=n[15];o+=(r=t[0])*D,a+=r*R,s+=r*F,l+=r*V,u+=r*U,c+=r*j,h+=r*H,p+=r*z,d+=r*G,f+=r*q,v+=r*W,m+=r*K,g+=r*Q,b+=r*Y,y+=r*X,C+=r*$,a+=(r=t[1])*D,s+=r*R,l+=r*F,u+=r*V,c+=r*U,h+=r*j,p+=r*H,d+=r*z,f+=r*G,v+=r*q,m+=r*W,g+=r*K,b+=r*Q,y+=r*Y,C+=r*X,x+=r*$,s+=(r=t[2])*D,l+=r*R,u+=r*F,c+=r*V,h+=r*U,p+=r*j,d+=r*H,f+=r*z,v+=r*G,m+=r*q,g+=r*W,b+=r*K,y+=r*Q,C+=r*Y,x+=r*X,_+=r*$,l+=(r=t[3])*D,u+=r*R,c+=r*F,h+=r*V,p+=r*U,d+=r*j,f+=r*H,v+=r*z,m+=r*G,g+=r*q,b+=r*W,y+=r*K,C+=r*Q,x+=r*Y,_+=r*X,w+=r*$,u+=(r=t[4])*D,c+=r*R,h+=r*F,p+=r*V,d+=r*U,f+=r*j,v+=r*H,m+=r*z,g+=r*G,b+=r*q,y+=r*W,C+=r*K,x+=r*Q,_+=r*Y,w+=r*X,S+=r*$,c+=(r=t[5])*D,h+=r*R,p+=r*F,d+=r*V,f+=r*U,v+=r*j,m+=r*H,g+=r*z,b+=r*G,y+=r*q,C+=r*W,x+=r*K,_+=r*Q,w+=r*Y,S+=r*X,k+=r*$,h+=(r=t[6])*D,p+=r*R,d+=r*F,f+=r*V,v+=r*U,m+=r*j,g+=r*H,b+=r*z,y+=r*G,C+=r*q,x+=r*W,_+=r*K,w+=r*Q,S+=r*Y,k+=r*X,T+=r*$,p+=(r=t[7])*D,d+=r*R,f+=r*F,v+=r*V,m+=r*U,g+=r*j,b+=r*H,y+=r*z,C+=r*G,x+=r*q,_+=r*W,w+=r*K,S+=r*Q,k+=r*Y,T+=r*X,E+=r*$,d+=(r=t[8])*D,f+=r*R,v+=r*F,m+=r*V,g+=r*U,b+=r*j,y+=r*H,C+=r*z,x+=r*G,_+=r*q,w+=r*W,S+=r*K,k+=r*Q,T+=r*Y,E+=r*X,P+=r*$,f+=(r=t[9])*D,v+=r*R,m+=r*F,g+=r*V,b+=r*U,y+=r*j,C+=r*H,x+=r*z,_+=r*G,w+=r*q,S+=r*W,k+=r*K,T+=r*Q,E+=r*Y,P+=r*X,I+=r*$,v+=(r=t[10])*D,m+=r*R,g+=r*F,b+=r*V,y+=r*U,C+=r*j,x+=r*H,_+=r*z,w+=r*G,S+=r*q,k+=r*W,T+=r*K,E+=r*Q,P+=r*Y,I+=r*X,B+=r*$,m+=(r=t[11])*D,g+=r*R,b+=r*F,y+=r*V,C+=r*U,x+=r*j,_+=r*H,w+=r*z,S+=r*G,k+=r*q,T+=r*W,E+=r*K,P+=r*Q,I+=r*Y,B+=r*X,N+=r*$,g+=(r=t[12])*D,b+=r*R,y+=r*F,C+=r*V,x+=r*U,_+=r*j,w+=r*H,S+=r*z,k+=r*G,T+=r*q,E+=r*W,P+=r*K,I+=r*Q,B+=r*Y,N+=r*X,M+=r*$,b+=(r=t[13])*D,y+=r*R,C+=r*F,x+=r*V,_+=r*U,w+=r*j,S+=r*H,k+=r*z,T+=r*G,E+=r*q,P+=r*W,I+=r*K,B+=r*Q,N+=r*Y,M+=r*X,O+=r*$,y+=(r=t[14])*D,C+=r*R,x+=r*F,_+=r*V,w+=r*U,S+=r*j,k+=r*H,T+=r*z,E+=r*G,P+=r*q,I+=r*W,B+=r*K,N+=r*Q,M+=r*Y,O+=r*X,A+=r*$,C+=(r=t[15])*D,a+=38*(_+=r*F),s+=38*(w+=r*V),l+=38*(S+=r*U),u+=38*(k+=r*j),c+=38*(T+=r*H),h+=38*(E+=r*z),p+=38*(P+=r*G),d+=38*(I+=r*q),f+=38*(B+=r*W),v+=38*(N+=r*K),m+=38*(M+=r*Q),g+=38*(O+=r*Y),b+=38*(A+=r*X),y+=38*(L+=r*$),o=(r=(o+=38*(x+=r*R))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),C=(r=C+i+65535)-65536*(i=Math.floor(r/65536)),o=(r=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),C=(r=C+i+65535)-65536*(i=Math.floor(r/65536)),o+=i-1+37*(i-1),e[0]=o,e[1]=a,e[2]=s,e[3]=l,e[4]=u,e[5]=c,e[6]=h,e[7]=p,e[8]=d,e[9]=f,e[10]=v,e[11]=m,e[12]=g,e[13]=b,e[14]=y,e[15]=C}}).call(this,n(92).Buffer)},function(e,t,n){var r=n(10);n(162),e.exports=r.mgf=r.mgf||{},r.mgf.mgf1=r.mgf1},function(e,t,n){var r=n(10);n(53),n(173);var i=e.exports=r.tls;function o(e,t,n){var o=t.entity===r.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:r.cipher.createDecipher("AES-CBC",o?n.keys.server_write_key:n.keys.client_write_key),iv:o?n.keys.server_write_IV:n.keys.client_write_IV},e.write.cipherState={init:!1,cipher:r.cipher.createCipher("AES-CBC",o?n.keys.client_write_key:n.keys.server_write_key),iv:o?n.keys.client_write_IV:n.keys.server_write_IV},e.read.cipherFunction=u,e.write.cipherFunction=a,e.read.macLength=e.write.macLength=n.mac_length,e.read.macFunction=e.write.macFunction=i.hmac_sha1}function a(e,t){var n,o=!1,a=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(a),t.updateSequenceNumber(),n=e.version.minor===i.Versions.TLS_1_0.minor?t.cipherState.init?null:t.cipherState.iv:r.random.getBytesSync(16),t.cipherState.init=!0;var l=t.cipherState.cipher;return l.start({iv:n}),e.version.minor>=i.Versions.TLS_1_1.minor&&l.output.putBytes(n),l.update(e.fragment),l.finish(s)&&(e.fragment=l.output,e.length=e.fragment.length(),o=!0),o}function s(e,t,n){if(!n){var r=e-t.length()%e;t.fillWithByte(r-1,r)}return!0}function l(e,t,n){var r=!0;if(n){for(var i=t.length(),o=t.last(),a=i-1-o;a<i-1;++a)r=r&&t.at(a)==o;r&&t.truncate(o+1)}return r}i.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=i.BulkCipherAlgorithm.aes,e.cipher_type=i.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=i.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:o},i.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=i.BulkCipherAlgorithm.aes,e.cipher_type=i.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=i.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:o};function u(e,t){var n,o=!1;0,n=e.version.minor===i.Versions.TLS_1_0.minor?t.cipherState.init?null:t.cipherState.iv:e.fragment.getBytes(16),t.cipherState.init=!0;var a=t.cipherState.cipher;a.start({iv:n}),a.update(e.fragment),o=a.finish(l);var s=t.macLength,u=r.random.getBytesSync(s),c=a.output.length();c>=s?(e.fragment=a.output.getBytes(c-s),u=a.output.getBytes(s)):e.fragment=a.output.getBytes(),e.fragment=r.util.createBuffer(e.fragment),e.length=e.fragment.length();var h=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),o=function(e,t,n){var i=r.hmac.create();return i.start("SHA1",e),i.update(t),t=i.digest().getBytes(),i.start(null,null),i.update(n),n=i.digest().getBytes(),t===n}(t.macKey,u,h)&&o}},function(e,t,n){(function(t){var n={};e.exports=n;var r={};n.encode=function(e,t,n){if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');if(void 0!==n&&"number"!=typeof n)throw new TypeError('"maxline" must be a number.');var r="";if(e instanceof Uint8Array){var i=0,o=t.length,a=t.charAt(0),s=[0];for(i=0;i<e.length;++i){for(var l=0,u=e[i];l<s.length;++l)u+=s[l]<<8,s[l]=u%o,u=u/o|0;for(;u>0;)s.push(u%o),u=u/o|0}for(i=0;0===e[i]&&i<e.length-1;++i)r+=a;for(i=s.length-1;i>=0;--i)r+=t[s[i]]}else r=function(e,t){var n=0,r=t.length,i=t.charAt(0),o=[0];for(n=0;n<e.length();++n){for(var a=0,s=e.at(n);a<o.length;++a)s+=o[a]<<8,o[a]=s%r,s=s/r|0;for(;s>0;)o.push(s%r),s=s/r|0}var l="";for(n=0;0===e.at(n)&&n<e.length()-1;++n)l+=i;for(n=o.length-1;n>=0;--n)l+=t[o[n]];return l}(e,t);if(n){var c=new RegExp(".{1,"+n+"}","g");r=r.match(c).join("\r\n")}return r},n.decode=function(e,n){if("string"!=typeof e)throw new TypeError('"input" must be a string.');if("string"!=typeof n)throw new TypeError('"alphabet" must be a string.');var i=r[n];if(!i){i=r[n]=[];for(var o=0;o<n.length;++o)i[n.charCodeAt(o)]=o}e=e.replace(/\s/g,"");var a=n.length,s=n.charAt(0),l=[0];for(o=0;o<e.length;o++){var u=i[e.charCodeAt(o)];if(void 0===u)return;for(var c=0,h=u;c<l.length;++c)h+=l[c]*a,l[c]=255&h,h>>=8;for(;h>0;)l.push(255&h),h>>=8}for(var p=0;e[p]===s&&p<e.length-1;++p)l.push(0);return void 0!==t?t.from(l.reverse()):new Uint8Array(l.reverse())}}).call(this,n(92).Buffer)},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,h=n?i-1:0,p=n?-1:1,d=e[t+h];for(h+=p,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+e[t+h],h+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+h],h+=p,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=u}return(d?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,h=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,f=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+h>=1?p/l:p*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(t*l-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=f,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+d]=255&a,d+=f,a/=256,u-=8);e[n+d-f]|=128*v}},function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){for(var t,n=u(e),r=n[0],a=n[1],s=new o(function(e,t,n){return 3*(t+n)/4-n}(0,r,a)),l=0,c=a>0?r-4:r,h=0;h<c;h+=4)t=i[e.charCodeAt(h)]<<18|i[e.charCodeAt(h+1)]<<12|i[e.charCodeAt(h+2)]<<6|i[e.charCodeAt(h+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=255&t;2===a&&(t=i[e.charCodeAt(h)]<<2|i[e.charCodeAt(h+1)]>>4,s[l++]=255&t);1===a&&(t=i[e.charCodeAt(h)]<<10|i[e.charCodeAt(h+1)]<<4|i[e.charCodeAt(h+2)]>>2,s[l++]=t>>8&255,s[l++]=255&t);return s},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(c(e,a,a+16383>s?s:a+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,o,a,s,l=1,u={},c=!1,h=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){f(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){f(e.data)},r=function(e){o.port2.postMessage(e)}):h&&"onreadystatechange"in h.createElement("script")?(i=h.documentElement,r=function(e){var t=h.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(f,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&f(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}),p.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return u[l]=i,r(l),l++},p.clearImmediate=d}function d(e){delete u[e]}function f(e){if(c)setTimeout(f,0,e);else{var t=u[e];if(t){c=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{d(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(45),n(54))},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(392),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(45))},function(e,t,n){"use strict";var r,i;r=[n(5),n(3)],void 0===(i=function(e,t){return function(){function e(e,t){this.pane=e,this.ui=t}return"device",e.prototype.start=function(){if("device"!==this.pane)return this.ui.start()},e.prototype.stop=function(){return this.ui.stop()},e.prototype.switchPane=function(e){if(this.pane=e,"device"===this.pane)return this.ui.stop()},e}()}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(5),n(3)],void 0===(i=function(e,t){return function(){function e(e){this.nodes=e,Array.isArray(this.nodes)||(this.nodes=[this.nodes])}return"grab-attention",e.prototype.start=function(){return this.nodes.forEach(function(e){return t.addClass(e,"grab-attention")})},e.prototype.stop=function(){return this.nodes.forEach(function(e){return t.removeClass(e,"grab-attention")})},e}()}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(1),n(21)],void 0===(i=function(e,t){var n=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};return function(r){var i,o,a,s,l;return o=r.dev,s=r.uid,a=r.serviceType,null==(i=r.badURLs)&&(i=[]),s===o.get("uid")?{action:"use"}:null==(l=o.get("avb/"+s+"/url"))?{action:"use"}:(l="netiodevice"===a?"http://"+l+"/":s+"/",t.canTarget(e.mapValues({type:"motu.mdns.type",apiversion:"apiversion"},function(e){return o.get("avb/"+s+"/"+e)}))?n.call(i,l)>=0?{action:"use"}:{action:"retarget",url:l}:{action:"redirect",url:l})}}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(1),n(5),n(32),n(38),n(2),n(184),n(51),n(33),n(183),n(21),n(41),n(96),n(18)],void 0===(i=function(e,t,n,r,i,o,a,s,l,u,c,h,p){var d,f,v,m,g,b=function(e,t){for(var n in t)y.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},y={}.hasOwnProperty;return g=window,v=function(){function t(e){this.pollURL=e.pollURL,this.perf=e.perf,this.queryString=e.queryString,this.onReceivedServerData=e.onReceivedServerData,this.onError=e.onError,this.paused=e.paused,null==this.paused&&(this.paused=!1),this.errorCount=0,this.inflightReq=null,this.startGettingServerData()}return t.prototype.getURL=function(){return"function"==typeof this.getQueryString?this.getQueryString():void 0,this.queryString?this.pollURL+"?"+this.queryString:this.pollURL},t.prototype.pause=function(){var e;return this.paused=!0,null!=(e=this.inflightReq)&&e.cancel(),this.errorCount=0},t.prototype.unpause=function(){if(this.paused)return this.paused=!1,this.errorCount=0,this.startGettingServerData()},t.prototype.isPaused=function(){return this.paused},t.prototype.remove=function(){return this.pause()},t.prototype.setQueryString=function(e){var t;return this.queryString=e,null!=(t=this.inflightReq)&&t.cancel(),r.clearETag(this.getURL()),this.errorCount=0},t.prototype.startGettingServerData=function(){return r.clearETag(this.getURL()),this.getServerData()},t.prototype.errorDelay=5e3,t.prototype.getServerData=function(){var t,n,i,o,a,s,l;if(!this.paused)return s=this.getURL(),n=r({verb:"GET",url:s,ifNoneMatch:!0,timeout:15e3}),this.inflightReq=n,l=this,i=function(){var t;return l.inflightReq=null,l.errorCount>3?(r.clearETag(l.getURL()),l.paused||"function"==typeof l.onError&&l.onError(),l.errorCount=0,void e.delay(function(){return l.startGettingServerData()},l.errorDelay)):(t=l.perf.get("performance/fromServerThrottleTime"))>0?g.setTimeout(function(){return l.getServerData()},t):l.getServerData()},t=function(e){var t,n;return n=e.status,t=e.response,304===n?{}:g.JSON.parse(t)},a=function(e){return function(t){return e.paused||"function"==typeof e.onReceivedServerData&&e.onReceivedServerData(t),e.errorCount=0,i()}}(this),o=function(e){return function(){return e.errorCount++,i()}}(this),n.then(t).then(a,o).done()},t}(),f=function(t){function o(t){var n,r,i;this.baseURL=t.baseURL,this.onFirstData=t.onFirstData,this.perf=t.perf,this.onError=t.onError,this.onErrorRemoved=t.onErrorRemoved,o.__super__.constructor.call(this),this.getMixParameterTypeForKey=e.memoize(this.doGetMixParameterTypeForKey),this.setInternal=this.constructor.__super__.set,this.errorCount=0,this.sendPending=this.doSendPending,this.pending={},this.clientID=Math.floor(Math.random()*(Math.pow(2,31)-1)),i=this,n=function(){return null==i.alert&&(i.alert=new a("Could Not Communicate With Device")),"function"==typeof i.onError?i.onError():void 0},r=function(t){return function(n){if(t.processServerData(n),null!=t.alert&&(t.alert.remove(),("function"==typeof t.onErrorRemoved?t.onErrorRemoved():void 0)&&e.defer(function(){return t.onErrorRemoved()}),t.alert=null),null!=t.onFirstData)return t.onFirstData(),delete t.onFirstData}}(this),this.datastorePoller=new v({pollURL:this.baseURL+"datastore",queryString:"client="+g.encodeURIComponent(this.clientID),perf:this.perf,onReceivedServerData:r,onError:n})}return b(o,t),o.prototype.set=function(e,t){var n;if("authInfo"!==e&&this.setInternal(e,t),this.valid(e))return(n={})[e]=t,this.sendToServer(n)},o.prototype.setMultiple=function(e){var t,n,r;for(t in n={},e)r=e[t],this.setInternal(t,r),this.valid(t)&&(n[t]=r);return this.sendToServer(n)},o.prototype.valid=function(t){return e.has(this.data,t)},o.prototype.doGetMixParameterTypeForKey=function(e){var t,r;return/matrix\/.+\/send/.test(e)?new n(["real",0,0,4,"linear"]):/matrix\/.+\/pan/.test(e)?new n(["real",0,-1,1,"pan"]):(t=null!=(r=this.get("mix/ctrls/"+e))?r.split(":"):void 0)?new n(t):null},o.prototype.getParameterTypeForPath=function(e){var t,n;return null!=(t=null!=(n=/^mix\/(\w+)\/(\d+)\/(.+)$/.exec(e))?n[3]:void 0)?this.getMixParameterTypeForKey(t):null},o.prototype.sendToServer=function(t){return e.extend(this.pending,t),this.sendPending()},o.prototype.processServerData=function(e){var t,n,r;for(t in null==this.onFirstData||u.shipping||l.checkDatastore(e),n=[],e)r=e[t],this.data[t]=r,n.push(this.setInternal(t,r));return n},o.prototype.doSendPending=function(){var t,n,o,s,c,h,p;for(t in u.shipping||l.checkWrite(this.pending),s={},o=this.pending)h=o[t],e.isString(h)&&(c=i.truncateToUTF8(h,64))!==h&&(this.pending[t]=c,s[t]=c);if(e.size(s)&&e.defer((p=this,function(){for(t in s)h=s[t],p.setInternal(t,h)})),r({verb:"POST",url:this.baseURL+"datastore?client="+g.encodeURIComponent(this.clientID),data:{json:JSON.stringify(this.pending)},guid:this.get("uid")}).then(void 0,function(e){return function(t){return r.clearETag(e.getURL()),e.onError(t),null!=e.alert?e.alert:e.alert=new a("Could Not Communicate With Device")}}(this)).done(),this.pending={},(n=this.perf.get("performance/toServerThrottleTime"))!==this.currThrottleToServer)return this.sendPending=null!=n?e.throttle(function(e){return function(){return e.doSendPending()}}(this),n):this.doSendPending,this.currThrottleToServer=n},o.prototype.remove=function(){var e;return null!=(e=this.alert)&&e.remove(),this.datastorePoller.remove(),this.data={}},o}(t.Source),m=function(e){function t(e){var n;this.perf=e.perf,n=e.onReceivedServerData,this.baseURL=e.baseURL,t.__super__.constructor.call(this,"meters/"),this.meterRequests={},this.meterRequest="",this.lastMeterRequest="",this.meterPoller=new v({pollURL:this.baseURL+"meters",queryString:"",perf:this.perf,onReceivedServerData:n,paused:!0})}return b(t,e),t.prototype.getMeterForPath=function(e){var t;return this.valid(e)?null!=(t=/^meters\/((:?\w+)\/(:?\w+)).*$/.exec(e))?t[1]:void 0:null},t.prototype.addListener=function(e,n){var r,i;if(t.__super__.addListener.call(this,e,n),null!=(i=this.getMeterForPath(e))&&(null==(r=this.meterRequests)[i]&&(r[i]=0),this.meterRequests[i]++,1===this.meterRequests[i]))return this.recalcMeterRequest(this.meterRequests)},t.prototype.recalcMeterRequest=function(e){var t;for(t in this.meterRequest="",e)e[t]>0&&(this.meterRequest+=t+":");if(this.meterRequest.length&&(this.meterRequest=this.meterRequest.slice(0,this.meterRequest.length-1)),this.lastMeterRequest!==this.meterRequest)return this.meterRequest.length?(this.meterPoller.setQueryString("meters="+this.meterRequest),this.meterPoller.isPaused()&&this.meterPoller.unpause()):this.meterPoller.pause(),this.lastMeterRequest=this.meterRequest},t.prototype.removeListener=function(e,n){var r;if(t.__super__.removeListener.call(this,e,n),null!=(r=this.getMeterForPath(e))&&null!=this.meterRequests[r]&&(this.meterRequests[r]--,0===this.meterRequests[r]))return this.recalcMeterRequest(this.meterRequests)},t.prototype.remove=function(){return this.meterPoller.remove()},t}(t.ScopedSource),(d=function(n){function a(n){var r,o,s;this.baseURL=n.baseURL,this.prefs=n.prefs,this.perf=n.perf,this.creationDefer=n.creationDefer,o=n.onError,this.SubDevice=a.SubDevice,this.devSrc=new f({baseURL:this.baseURL,perf:this.perf,onError:o,onFirstData:(s=this,function(){return s.setup()}),onErrorRemoved:function(e){return function(){return h.showIfNecessary({dev:e})}}(this)}),this.meta=new t.ScopedSource("meta"),this.meters=new m({perf:this.perf,baseURL:this.baseURL,onReceivedServerData:function(e){return function(t){return e.receivedMeterData(t)}}(this)}),this.dispatcherSrc=new t.DispatcherSource({pref:this.prefs,perf:this.perf,meta:this.meta,mete:this.meters,"":this.devSrc}),this.alert=null,r=e.difference(t.Source.prototype.publicMethods,e.keys(a.prototype)),i.forwardMethods(this,"setMultiple",this.devSrc),i.forwardMethods(this,r,this.dispatcherSrc)}return b(a,n),a.prototype.deviceData=function(){return this.devSrc.data},a.prototype.mixer=null,a.prototype.router=null,a.prototype.preset=null,a.prototype.avb=null,a.prototype.enterReactiveContext=function(e){var t;return a.__super__.enterReactiveContext.call(this,e),null!=(t=this.utils)?t.reseat(e):void 0},a.prototype.leaveReactiveContext=function(e){var t;return a.__super__.leaveReactiveContext.call(this,e),null!=(t=this.utils)?t.reseat(e):void 0},a.prototype.remove=function(){var e,t,n;return null!=(e=this.utils)&&e.remove(),this.dispatcherSrc.remove(),this.devSrc.remove(),this.meters.remove(),null!=(t=this.presetReaction)&&t.remove(),null!=(n=this.alert)&&n.remove(),this.alert=null},a.prototype.setup=function(){return this.utils=new o(this),null!=this.creationDefer&&(this.creationDefer.resolve(this),delete this.creationDefer),this.presetReaction=new t.Function(this.devSrc,(e=this,function(t){var n,r,i;if(u.works({dev:t,cap:"preset"}))return null==(n=t.get("ext/presets/load"))&&(n=0),0===n?(null!=(r=e.alert)&&r.remove(),null!=e.alert?e.alert:e.alert=null):(null!=(i=e.alert)&&i.remove(),e.alert=new c({node:document.body}))}));var e},a.prototype.receivedMeterData=function(e){var t;return null!=(t=this.mixer)?t.receivedMeterData(e):void 0},a.prototype.checkAuth=function(e,t){return r({verb:"POST",url:this.baseURL+"auth",data:"",guid:this.devSrc.get("uid")}).then(function(e){return t()},function(t){if(401===t.status)return e()}).done()},a.prototype.setPassword=function(e,t,n){return r({verb:"POST",url:this.baseURL+"auth",data:{json:JSON.stringify({pwd:""+e})},guid:this.devSrc.get("uid")}).then(function(e){return n()},function(e){if(401===e.status)return t()}).done()},a.Make=function(e){var t,n,r,i,o;return t=e.baseURL,o=e.prefs,i=e.perf,r=e.onError,new a({baseURL:t,prefs:o,perf:i,creationDefer:n=s.defer(),onError:r}),n.promise},a.AddDataStoreListener=function(e){var t,n,r,i;return i=e.perf,t=e.baseURL,n=e.callback,r=e.id,new v({pollURL:t+"datastore",queryString:"client="+g.encodeURIComponent(r),perf:i,onReceivedServerData:n})},a.AddMeterListener=function(e){var t,n,r;return r=e.perf,t=e.baseURL,n=e.callback,new v({pollURL:t+"meters",queryString:"meters=mix/gate:mix/comp:mix/level:mix/leveler:ext/input",perf:r,onReceivedServerData:n,paused:!0})},a}(t.Source)).SubDevice=function(e){function t(e){var n,r,o,a,s;for(e=null!=(o=e.subDev)?o:e,t.__super__.constructor.call(this,e),this.subDev=e,this.SubDevice=d.SubDevice,n=0,r=(a=e.utils.all).length;n<r;n++)this[s=a[n]]=e[s];this.utils=e.utils,this.perf=e.perf,this.baseURL=e.baseURL,i.forwardMethods(this,["setMultiple","deviceData"],e)}return b(t,e),t}(t.SubSource),d}.apply(t,r))||(e.exports=i)},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,n){(function(e,r){var i=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(e).replace(i,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),l=r[n];n<o;l=r[++n])v(l)||!C(l)?a+=" "+l:a+=" "+s(l);return a},t.deprecate=function(n,i){if(b(e.process))return function(){return t.deprecate(n,i).apply(this,arguments)};if(!0===r.noDeprecation)return n;var o=!1;return function(){if(!o){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),o=!0}return n.apply(this,arguments)}};var o,a={};function s(e,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),f(n)?r.showHidden=n:n&&t._extend(r,n),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),c(r,e,r.depth)}function l(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function u(e,t){return e}function c(e,n,r){if(e.customInspect&&n&&w(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return g(i)||(i=c(e,i,r)),i}var o=function(e,t){if(b(t))return e.stylize("undefined","undefined");if(g(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(m(t))return e.stylize(""+t,"number");if(f(t))return e.stylize(""+t,"boolean");if(v(t))return e.stylize("null","null")}(e,n);if(o)return o;var a=Object.keys(n),s=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),_(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return h(n);if(0===a.length){if(w(n)){var l=n.name?": "+n.name:"";return e.stylize("[Function"+l+"]","special")}if(y(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(x(n))return e.stylize(Date.prototype.toString.call(n),"date");if(_(n))return h(n)}var u,C="",S=!1,k=["{","}"];(d(n)&&(S=!0,k=["[","]"]),w(n))&&(C=" [Function"+(n.name?": "+n.name:"")+"]");return y(n)&&(C=" "+RegExp.prototype.toString.call(n)),x(n)&&(C=" "+Date.prototype.toUTCString.call(n)),_(n)&&(C=" "+h(n)),0!==a.length||S&&0!=n.length?r<0?y(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),u=S?function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)E(t,String(a))?o.push(p(e,t,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(p(e,t,n,r,i,!0))}),o}(e,n,r,s,a):a.map(function(t){return p(e,n,r,s,t,S)}),e.seen.pop(),function(e,t,n){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(u,C,k)):k[0]+C+k[1]}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,i,o){var a,s,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),E(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(l.value)<0?(s=v(n)?c(e,l.value,null):c(e,l.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),b(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function d(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function v(e){return null===e}function m(e){return"number"==typeof e}function g(e){return"string"==typeof e}function b(e){return void 0===e}function y(e){return C(e)&&"[object RegExp]"===S(e)}function C(e){return"object"==typeof e&&null!==e}function x(e){return C(e)&&"[object Date]"===S(e)}function _(e){return C(e)&&("[object Error]"===S(e)||e instanceof Error)}function w(e){return"function"==typeof e}function S(e){return Object.prototype.toString.call(e)}function k(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(b(o)&&(o=Object({NODE_ENV:"production"}).NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var n=r.pid;a[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else a[e]=function(){};return a[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=f,t.isNull=v,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=g,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=b,t.isRegExp=y,t.isObject=C,t.isDate=x,t.isError=_,t.isFunction=w,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(399);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,n;console.log("%s - %s",(e=new Date,n=[k(e.getHours()),k(e.getMinutes()),k(e.getSeconds())].join(":"),[e.getDate(),T[e.getMonth()],n].join(" ")),t.format.apply(t,arguments))},t.inherits=n(398),t._extend=function(e,t){if(!t||!C(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,n(45),n(54))},function(e,t,n){"use strict";var r,i;r=[n(50),n(118),n(5),n(2)],void 0===(i=function(e,t,n,r){var i,o,a,s,l={}.hasOwnProperty,u=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};return o=function(){function e(e){this.dev=e.dev,this.path=e.path,this.levels=[]}return e.prototype.levels=null,e.prototype.update=function(e){return this.levels=e},e.prototype.doneWithUpdate=function(){return this.dev.set(this.path,this.levels)},e}(),i=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.doneWithUpdate()}return function(e,t){for(var n in t)l.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,o),t.prototype.update=function(){return t.__super__.update.apply(this,arguments),this.newVals.push(this.levels)},t.prototype.doneWithUpdate=function(){return this.dev.set(this.path,this.newVals),this.newVals=[]},t}(),a=function(){var e;function t(e){this.dev=e,this.meters={}}return e=/^((?:\w|(?:\/(?!\d)))+)(\/\d+)?$/,t.prototype.receivedMeterData=function(t){var n,r,a,s,l,c,h,p,d,f,v,m;for(d in s=[],t)t[d],null!=(p=null!=(v=e.exec(d))?v[1]:void 0)&&(h="meters/"+p,(null!=v?v[2]:void 0)?null==(n=this.meters)[h]&&(n[h]=new i({dev:this.dev,path:h})):null==(r=this.meters)[h]&&(r[h]=new o({dev:this.dev,path:h})),this.meters[h].update(t[d]),f=this.meters[h],u.call(s,f)<0&&s.push(this.meters[h]));for(m=[],l=0,c=s.length;l<c;l++)a=s[l],m.push(a.doneWithUpdate());return m},t}(),(s=function(){function t(e){this.dev=e,this.subDev=new this.dev.SubDevice(this.dev),this.StripInfo=t.StripInfo,this.subDev.mixer=this.dev.mixer=this,this.meterCalc=new a(this.dev),this.setupBusMap()}return t.prototype.setup=function(){return this.setupBusWatchers(),this.setupChanWatchers(),this.setupMeterIndexWatchers()},t.prototype.receivedMeterData=function(e){return this.meterCalc.receivedMeterData(e)},t.prototype.remove=function(){return this.subDev.remove()},t.prototype.getNumOfStripType=function(e){return"chan"===e?this.dev.router.getOBankMaxCh(this.mixOBn):this.dev.router.getIBankMaxCh(this.bus[e])},t.prototype.getOtherStereoStrip=function(e){var t,n,r;return r=(n=e.split("/"))[0],t=n[1],r+"/"+this.getOtherStereoCh(+t)},t.prototype.getMonoOrStereoName=function(t,n){var r,i;return r=(i=this.getStripFormat(t))[0],i[1],1===r?n(t):e.join([n(t),n(this.getOtherStereoStrip(t))])},t.prototype.getMonoDefaultStripName=function(e){var n,r,i,o,a;return a=new t.StripInfo(e),n=(o=this.getStripBnCn(e)).bn,r=o.cn,"chan"===a.type?((i=this.dev.router.getOBankChSrcName({bn:n,cn:r}))||(i=this.dev.router.getChNameFromBank({Bank:"OBank"},n,r)),i):this.dev.router.getChNameFromBank({Bank:"IBank"},n,r)},t.prototype.getDefaultStripName=function(e){return this.getMonoOrStereoName(e,(t=this,function(e){return t.getMonoDefaultStripName(e)}));var t},t.prototype.getMonoStripNameNoDefault=function(e){var n,r,i,o;return o=new t.StripInfo(e),n=(i=this.getStripBnCn(e)).bn,r=i.cn,"chan"===o.type?this.dev.get("ext/obank/"+n+"/ch/"+r+"/name"):this.dev.get("ext/ibank/"+n+"/ch/"+r+"/name")},t.prototype.getStripNameNoDefault=function(e){var t,n,r,i;return r=(i=this.getStripFormat(e))[0],i[1],1===r?this.getMonoStripNameNoDefault(e):(t=this.getMonoStripNameNoDefault(e),n=this.getMonoStripNameNoDefault(this.getOtherStereoStrip(e)),t||n?this.getStripName(e):"")},t.prototype.getStripName=function(e){var n;return"chan"===(n=new t.StripInfo(e)).type?this.getNthInChName(n.num):this.getBusName(e)},t.prototype.getNthInChNameImpl=function(e){var t,n,r,i;return t=(r=this.getNthChanBnCn(e)).bn,n=r.cn,(i=this.dev.get("ext/obank/"+t+"/ch/"+n+"/name"))||(i=this.dev.router.getOBankChSrcName({bn:t,cn:n})),i||(i=this.dev.router.getOBankChName({bn:t,cn:n})),i},t.prototype.getBusName=function(e){var n,r,i;return i=new t.StripInfo(e),n=(r=this.getStripFormat(e))[0],r[1],2===n?this.getInStereoChName({bn:this.bus[i.type],cn:i.num}):this.dev.router.getIBankChName({bn:this.bus[i.type],cn:i.num})},t.prototype.getOtherStereoCh=function(t){return e.getOtherStereoCh(t)},t.prototype.getNthInStereoChName=function(t){var n,r;return n=[this.getOtherStereoCh(t),t].sort().map((r=this,function(e){return r.getNthInChNameImpl(e)})),e.join(n)},t.prototype.getNthInChName=function(e){return 2==+this.dev.get("mix/chan/"+e+"/config/format").split(":")[0]?this.getNthInStereoChName(e):this.getNthInChNameImpl(e)},t.prototype.getNthChanBnCn=function(e){return{bn:this.mixOBn,cn:e}},t.prototype.getStripBnCn=function(e){var n;return"chan"===(n=new t.StripInfo(e)).type?this.getNthChanBnCn(n.num):{bn:this.getBnForStripType(n.type),cn:n.num}},t.prototype.getStripFormat=function(e){var n;return n="mix/"+e+"/config/format",this.dev.valid(n)?this.dev.get(n).split(":").map(function(e){return+e}):[2,1&new t.StripInfo(e).num]},t.prototype.getBnForStripType=function(e){return"chan"===e?this.mixOBn:this.getBnForBusType(e)},t.prototype.getBnForBusType=function(e){return this.bus[e]},t.prototype.stripIsAvail=function(e){var t;return t=this.dev.valid(e.formatPath)?this.dev.get(e.formatPath).split(":"):[2,0],e.num<this.getNumOfAvailStripType(e.type)&&0==+t[1]},t.prototype.stripIsEnabled=function(e,t){return null==t&&(t="mix"),0!=+this.dev.get("preferences/"+t+"/"+e.id+"/enabled")},t.prototype.setStripEnabled=function(e,t,n){return this.dev.set("preferences/"+t+"/"+e.id+"/enabled",n?1:0)},t.prototype.stripIsAvailAndEnabled=function(e,t){return null==t&&(t="mix"),this.stripIsAvail(e)&&this.stripIsEnabled(e,t)},t.prototype.getNumOfAvailStripType=function(e){return"chan"===e?this.dev.router.getOBankCalcCh(this.mixOBn):this.dev.router.getIBankCalcCh(this.bus[e])},t.prototype.getNthInChSrc=function(e){return this.dev.router.getOBankChSrc(this.getNthChanBnCn(e))},t.prototype.setNthInChSrc=function(e,t){var n;return n=null!=t?t.bn+":"+t.cn:"",this.dev.router.setOBankChSrc(this.getNthChanBnCn(e),n)},t.prototype.getFirstStereoCh=function(e){return 2*Math.floor(+e/2)},t.prototype.getInStereoChName=function(t){var n,r,i,o,a;return r=t.bn,i=t.cn,null==(n=t.Bank)&&(n="IBank"),o=[this.getOtherStereoCh(i),i].sort().map(function(e){return{bn:r,cn:e}}).map((a=this,function(e){return a.dev.router["get"+n+"ChName"](e)})),e.join(o)},t.prototype.calcChPathForStripType=function(e){var t;return"chan"===e?"meta/obank/"+this.mixOBn+"/calcCh":null==(t=this.bus[e])?null:"meta/ibank/"+t+"/calcCh"},t.prototype.stripAvailable=function(e){var n,r;return r=new t.StripInfo(e),null==(n=this.calcChPathForStripType(r.type))||(!this.dev.valid(n)||r.num<+this.dev.get(n))},t.prototype.getStripNamePath=function(e){var n;return"chan"===(n=new t.StripInfo(e)).type?"ext/obank/"+this.mixOBn+"/ch/"+n.num+"/name":"ext/ibank/"+this.bus[n.type]+"/ch/"+n.num+"/name"},t.prototype.setMixChanSrcIBankName=function(e,t){var n,r,i;return n=(i=this.dev.router.getOBankChSrc(this.getNthChanBnCn(e)).split(":"))[0],r=i[1],this.setNameImpl({bn:n,cn:r},"chan/"+e,t)},t.prototype.setStripName=function(n,r){var i,o,a,s;return s=new t.StripInfo(n),o=(a=this.getStripFormat(s.id))[0],a[1],2===o?(i=e.split(r),this.dev.set(this.getStripNamePath(s.type+"/"+this.getFirstStereoCh(s.num)),i[0]),this.dev.set(this.getStripNamePath(s.type+"/"+(1+this.getFirstStereoCh(s.num))),i[1])):this.dev.set(this.getStripNamePath(n),r)},t.prototype.mapAllStrips=function(e){var t,n;for(n in this.mapStripType("chan",e),t=[],this.bus)t.push(this.mapStripType(n,e));return t},t.prototype.mapStripType=function(e,n){var r,i,o,a,s,l;for(l=this.dev.valid("mix/"+e+"/0/config/format")?1:2,s=[],r=i=0,o=this.getNumOfStripType(e),a=l;a>0?i<o:i>o;r=i+=a)s.push(n(new t.StripInfo(e+"/"+r)));return s},t.prototype.updateName=function(e){return this.dev.set("meta/"+e+"/name",this.getStripName(e)),this.dev.set("meta/"+e+"/displayName",this.getStripNameNoDefault(e))},t.prototype.setupChanWatchers=function(){return this.mapStripType("chan",(e=this,function(t){return new n.Function(e.subDev,function(e){return e.mixer.updateName(t.id)})}));var e},t.prototype.setupBusMap=function(){var e;this.bus={},this.dev.router.mapIBanks((e=this,function(t,n){var r;if(null!=(r={"Mix Monitor":"monitor","Mix Main":"main","Mix Aux":"aux","Mix Group":"group","Mix Reverb":"reverb"})[t])return e.bus[r[t]]=n})),this.dev.router.mapOBanks(function(e){return function(t,n){if("Mix In"===t)return e.mixOBn=n}}(this))},t.prototype.setupBusWatchers=function(){var e,t,r,i,o;for(t in o=[],i=this.bus)l.call(i,t)&&(e=i[t],o.push(function(){var i,o,a;for(a=[],r=i=0,o=this.dev.router.getIBankMaxCh(e);0<=o?i<o:i>o;r=0<=o?++i:--i)a.push(function(e){return function(t,r){return new n.Function(e.subDev,function(e){return e.mixer.updateName(t+"/"+r)})}}(this)(t,r));return a}.call(this)));return o},t.prototype.setupMeterIndexWatchers=function(){var e,t,r,i,o;for(o=[],e=0,t=(i=["comp","leveler","gate","level"]).length;e<t;e++)r=i[e],o.push(function(e){return function(t){var r;return r=function(e,n){return"level"===t||u.call(n.get("mix/ctrls/"+e).split(":"),t)>=0},new n.Function(e.subDev,function(e){var n,i,o,a,s,l,u;if(i=0,null!=e.get("mix/meterStripOrder")){for(l=[],o=0,a=(s=e.get("mix/meterStripOrder").split(":")).length;o<a;o++)u=s[o],e.set("meta/meterIndex/"+t+"/"+u,i),r(u,e)?(n=e.mixer.getNumOfAvailStripType(u),e.valid("mix/"+u+"/0/config/format")||"level"===t||(n/=2),l.push(i+=n)):l.push(void 0);return l}})}}(this)(r));return o},t.prototype.setNameImpl=function(t,n,r){var i,o,a,s;if(i=t.bn,o=t.cn,a="mix/"+n+"/config/format",this.dev.valid(a)&&2!==this.dev.get(a).split(":")[0]){if(null!=i&&null!=o)return this.dev.router.setIBankChName({bn:i,cn:o},r)}else s=e.split(r),this.dev.router.setIBankChName({bn:i,cn:o},s[0]),this.dev.router.setIBankChName({bn:i,cn:+o+1},s[1])},t}()).StripInfo=t,s}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";t.__esModule=!0;var r=n(73),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return e.prototype.register=function(e){var t="ID_"+this._lastID++;return this._callbacks[t]=e,t},e.prototype.unregister=function(e){this._callbacks[e]||r(!1),delete this._callbacks[e]},e.prototype.waitFor=function(e){this._isDispatching||r(!1);for(var t=0;t<e.length;t++){var n=e[t];this._isPending[n]?this._isHandled[n]||r(!1):(this._callbacks[n]||r(!1),this._invokeCallback(n))}},e.prototype.dispatch=function(e){this._isDispatching&&r(!1),this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},e.prototype.isDispatching=function(){return this._isDispatching},e.prototype._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},e.prototype._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},e.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}();e.exports=i},function(e,t,n){e.exports.Dispatcher=n(402)},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i,o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(e,t,n){(t=e.exports=n(8)(!1)).push([e.i,'@font-face{font-family:iec_symbols_unicoderegular;src:url("font/Unicode_IEC_symbol.ttf") format("truetype");font-weight:400;font-style:normal}._1nz1h_Button{font-family:Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;font-style:normal;font-variant:normal;font-weight:400;font-size:10px;line-height:17px;font-weight:700;letter-spacing:.2em;background-color:transparent;border:1px solid #6c6c6c;color:#6c6c6c;cursor:pointer;display:block;line-height:1em;margin:0;outline:none;padding:6px;width:100%;box-sizing:border-box;border-radius:20px;touch-action:none}._2inF__switch{position:relative;display:inline-block}._2inF__switch input{display:none}._6h7T5_slider{cursor:pointer;top:0;right:0;background-color:#ccc}._6h7T5_slider,._6h7T5_slider:before{position:absolute;left:0;bottom:0;-webkit-transition:.4s;transition:.4s}._6h7T5_slider:before{content:"";height:100%;width:50%;background-color:#fff}input:checked+._6h7T5_slider{background-color:#2196f3}input:focus+._6h7T5_slider{box-shadow:0 0 1px #2196f3}input:checked+._6h7T5_slider:before{-webkit-transform:translateX(100%);-ms-transform:translateX(100%);transform:translateX(100%)}.slider.round{border-radius:34px}.slider.round:before{border-radius:50%}._2LUaI_PowerButton{-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;-moz-background-clip:padding;-webkit-background-clip:padding-box;background-clip:padding-box;font-family:Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;font-style:normal;font-variant:normal;font-weight:400;font-size:10px;line-height:17px;font-weight:700;letter-spacing:.2em;background-color:transparent;border:1px solid #6c6c6c;color:#6c6c6c;cursor:pointer;display:inline-block;flex-grow:1;line-height:1.4em;margin:0;outline:none}._1eqJX_PowerButtonPowerToggle{font-family:iec_symbols_unicoderegular;border-right-width:1px;border-right-style:solid;border-right-color:inherit}._1eqJX_PowerButtonPowerToggle,._2qC5A_PowerButtonText{color:inherit;display:inline-block;padding:4px 8px;text-decoration:none}._2qC5A_PowerButtonText{flex-grow:1;max-width:80px;text-align:center;white-space:nowrap}._2fCBl_ButtonRed{color:#c21720;border-color:#c21720}._2pAyU_ButtonYellow{color:#ffa600;border-color:#ffa600}._2HR-u_ButtonPurple{color:#ae53cd;border-color:#ae53cd}._BcIDN_ButtonBlue{color:#348ee8;border-color:#348ee8}._1zIkp_ButtonTeal{color:#1f9e9d;border-color:#1f9e9d}._3F7Tw_ButtonLightGray{color:#d7d7d7;border-color:#d7d7d7}._3nviI_ButtonBlack{color:#1d1d20;border-color:#1d1d20}',""]),t.locals={Button:"_1nz1h_Button",switch:"_2inF__switch",slider:"_6h7T5_slider",PowerButton:"_2LUaI_PowerButton",PowerButtonPowerToggle:"_1eqJX_PowerButtonPowerToggle",PowerButtonText:"_2qC5A_PowerButtonText",ButtonRed:"_2fCBl_ButtonRed",ButtonYellow:"_2pAyU_ButtonYellow",ButtonPurple:"_2HR-u_ButtonPurple",ButtonBlue:"_BcIDN_ButtonBlue",ButtonTeal:"_1zIkp_ButtonTeal",ButtonLightGray:"_3F7Tw_ButtonLightGray",ButtonBlack:"_3nviI_ButtonBlack"}},function(e,t,n){var r=n(405);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){"use strict";e.exports=function(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"==typeof t.Node?e instanceof t.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}},function(e,t,n){"use strict";var r=n(407);e.exports=function(e){return r(e)&&3==e.nodeType}},function(e,t,n){"use strict";var r=n(408);e.exports=function e(t,n){return!(!t||!n)&&(t===n||!r(t)&&(r(n)?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}},function(e,t,n){"use strict";e.exports=function(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in n=Object(arguments[l]))i.call(n,u)&&(s[u]=n[u]);if(r){a=r(n);for(var c=0;c<a.length;c++)o.call(n,a[c])&&(s[a[c]]=n[a[c]])}}return s}},function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=i},function(e,t,n){"use strict";
/** @license React v16.4.0
 * react-dom.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(73),i=n(0),o=n(412),a=n(411),s=n(94),l=n(410),u=n(179),c=n(409),h=n(180);function p(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=0;i<t;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);r(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}i||p("227");var d={_caughtError:null,_hasCaughtError:!1,_rethrowError:null,_hasRethrowError:!1,invokeGuardedCallback:function(e,t,n,r,i,o,a,s,l){(function(e,t,n,r,i,o,a,s,l){this._hasCaughtError=!1,this._caughtError=null;var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this._caughtError=e,this._hasCaughtError=!0}}).apply(d,arguments)},invokeGuardedCallbackAndCatchFirstError:function(e,t,n,r,i,o,a,s,l){if(d.invokeGuardedCallback.apply(this,arguments),d.hasCaughtError()){var u=d.clearCaughtError();d._hasRethrowError||(d._hasRethrowError=!0,d._rethrowError=u)}},rethrowCaughtError:function(){return function(){if(d._hasRethrowError){var e=d._rethrowError;throw d._rethrowError=null,d._hasRethrowError=!1,e}}.apply(d,arguments)},hasCaughtError:function(){return d._hasCaughtError},clearCaughtError:function(){if(d._hasCaughtError){var e=d._caughtError;return d._caughtError=null,d._hasCaughtError=!1,e}p("198")}};var f=null,v={};function m(){if(f)for(var e in v){var t=v[e],n=f.indexOf(e);if(-1<n||p("96",e),!b[n])for(var r in t.extractEvents||p("97",e),b[n]=t,n=t.eventTypes){var i=void 0,o=n[r],a=t,s=r;y.hasOwnProperty(s)&&p("99",s),y[s]=o;var l=o.phasedRegistrationNames;if(l){for(i in l)l.hasOwnProperty(i)&&g(l[i],a,s);i=!0}else o.registrationName?(g(o.registrationName,a,s),i=!0):i=!1;i||p("98",r,e)}}}function g(e,t,n){C[e]&&p("100",e),C[e]=t,x[e]=t.eventTypes[n].dependencies}var b=[],y={},C={},x={};function _(e){f&&p("101"),f=Array.prototype.slice.call(e),m()}function w(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];v.hasOwnProperty(t)&&v[t]===r||(v[t]&&p("102",t),v[t]=r,n=!0)}n&&m()}var S={plugins:b,eventNameDispatchConfigs:y,registrationNameModules:C,registrationNameDependencies:x,possibleRegistrationNames:null,injectEventPluginOrder:_,injectEventPluginsByName:w},k=null,T=null,E=null;function P(e,t,n,r){t=e.type||"unknown-event",e.currentTarget=E(r),d.invokeGuardedCallbackAndCatchFirstError(t,n,void 0,e),e.currentTarget=null}function I(e,t){return null==t&&p("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function B(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var N=null;function M(e,t){if(e){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)P(e,t,n[i],r[i]);else n&&P(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function O(e){return M(e,!0)}function A(e){return M(e,!1)}var L={injectEventPluginOrder:_,injectEventPluginsByName:w};function D(e,t){var n=e.stateNode;if(!n)return null;var r=k(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&p("231",t,typeof n),n)}function R(e,t){null!==e&&(N=I(N,e)),e=N,N=null,e&&(B(e,t?O:A),N&&p("95"),d.rethrowCaughtError())}function F(e,t,n,r){for(var i=null,o=0;o<b.length;o++){var a=b[o];a&&(a=a.extractEvents(e,t,n,r))&&(i=I(i,a))}R(i,!1)}var V={injection:L,getListener:D,runEventsInBatch:R,runExtractedEventsInBatch:F},U=Math.random().toString(36).slice(2),j="__reactInternalInstance$"+U,H="__reactEventHandlers$"+U;function z(e){if(e[j])return e[j];for(;!e[j];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[j]).tag||6===e.tag?e:null}function G(e){if(5===e.tag||6===e.tag)return e.stateNode;p("33")}function q(e){return e[H]||null}var W={precacheFiberNode:function(e,t){t[j]=e},getClosestInstanceFromNode:z,getInstanceFromNode:function(e){return!(e=e[j])||5!==e.tag&&6!==e.tag?null:e},getNodeFromInstance:G,getFiberCurrentPropsFromNode:q,updateFiberProps:function(e,t){e[H]=t}};function K(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Q(e,t,n){for(var r=[];e;)r.push(e),e=K(e);for(e=r.length;0<e--;)t(r[e],"captured",n);for(e=0;e<r.length;e++)t(r[e],"bubbled",n)}function Y(e,t,n){(t=D(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=I(n._dispatchListeners,t),n._dispatchInstances=I(n._dispatchInstances,e))}function X(e){e&&e.dispatchConfig.phasedRegistrationNames&&Q(e._targetInst,Y,e)}function $(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;Q(t=t?K(t):null,Y,e)}}function Z(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=D(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=I(n._dispatchListeners,t),n._dispatchInstances=I(n._dispatchInstances,e))}function J(e){e&&e.dispatchConfig.registrationName&&Z(e._targetInst,null,e)}function ee(e){B(e,X)}function te(e,t,n,r){if(n&&r)e:{for(var i=n,o=r,a=0,s=i;s;s=K(s))a++;s=0;for(var l=o;l;l=K(l))s++;for(;0<a-s;)i=K(i),a--;for(;0<s-a;)o=K(o),s--;for(;a--;){if(i===o||i===o.alternate)break e;i=K(i),o=K(o)}i=null}else i=null;for(o=i,i=[];n&&n!==o&&(null===(a=n.alternate)||a!==o);)i.push(n),n=K(n);for(n=[];r&&r!==o&&(null===(a=r.alternate)||a!==o);)n.push(r),r=K(r);for(r=0;r<i.length;r++)Z(i[r],"bubbled",e);for(e=n.length;0<e--;)Z(n[e],"captured",t)}var ne={accumulateTwoPhaseDispatches:ee,accumulateTwoPhaseDispatchesSkipTarget:function(e){B(e,$)},accumulateEnterLeaveDispatches:te,accumulateDirectDispatches:function(e){B(e,J)}};function re(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}var ie={animationend:re("Animation","AnimationEnd"),animationiteration:re("Animation","AnimationIteration"),animationstart:re("Animation","AnimationStart"),transitionend:re("Transition","TransitionEnd")},oe={},ae={};function se(e){if(oe[e])return oe[e];if(!ie[e])return e;var t,n=ie[e];for(t in n)if(n.hasOwnProperty(t)&&t in ae)return oe[e]=n[t];return e}o.canUseDOM&&(ae=document.createElement("div").style,"AnimationEvent"in window||(delete ie.animationend.animation,delete ie.animationiteration.animation,delete ie.animationstart.animation),"TransitionEvent"in window||delete ie.transitionend.transition);var le=se("animationend"),ue=se("animationiteration"),ce=se("animationstart"),he=se("transitionend"),pe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),de=null;function fe(){return!de&&o.canUseDOM&&(de="textContent"in document.documentElement?"textContent":"innerText"),de}var ve={_root:null,_startText:null,_fallbackText:null};function me(){if(ve._fallbackText)return ve._fallbackText;var e,t,n=ve._startText,r=n.length,i=ge(),o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return ve._fallbackText=i.slice(e,1<t?1-t:void 0),ve._fallbackText}function ge(){return"value"in ve._root?ve._root.value:ve._root[fe()]}var be="dispatchConfig _targetInst nativeEvent isDefaultPrevented isPropagationStopped _dispatchListeners _dispatchInstances".split(" "),ye={type:null,target:null,currentTarget:s.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};function Ce(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?s.thatReturnsTrue:s.thatReturnsFalse,this.isPropagationStopped=s.thatReturnsFalse,this}function xe(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function _e(e){e instanceof this||p("223"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function we(e){e.eventPool=[],e.getPooled=xe,e.release=_e}a(Ce.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=s.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=s.thatReturnsTrue)},persist:function(){this.isPersistent=s.thatReturnsTrue},isPersistent:s.thatReturnsFalse,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;for(t=0;t<be.length;t++)this[be[t]]=null}}),Ce.Interface=ye,Ce.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return a(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=a({},r.Interface,e),n.extend=r.extend,we(n),n},we(Ce);var Se=Ce.extend({data:null}),ke=Ce.extend({data:null}),Te=[9,13,27,32],Ee=o.canUseDOM&&"CompositionEvent"in window,Pe=null;o.canUseDOM&&"documentMode"in document&&(Pe=document.documentMode);var Ie=o.canUseDOM&&"TextEvent"in window&&!Pe,Be=o.canUseDOM&&(!Ee||Pe&&8<Pe&&11>=Pe),Ne=String.fromCharCode(32),Me={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Oe=!1;function Ae(e,t){switch(e){case"keyup":return-1!==Te.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Le(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var De=!1;var Re={eventTypes:Me,extractEvents:function(e,t,n,r){var i=void 0,o=void 0;if(Ee)e:{switch(e){case"compositionstart":i=Me.compositionStart;break e;case"compositionend":i=Me.compositionEnd;break e;case"compositionupdate":i=Me.compositionUpdate;break e}i=void 0}else De?Ae(e,n)&&(i=Me.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=Me.compositionStart);return i?(Be&&(De||i!==Me.compositionStart?i===Me.compositionEnd&&De&&(o=me()):(ve._root=r,ve._startText=ge(),De=!0)),i=Se.getPooled(i,t,n,r),o?i.data=o:null!==(o=Le(n))&&(i.data=o),ee(i),o=i):o=null,(e=Ie?function(e,t){switch(e){case"compositionend":return Le(t);case"keypress":return 32!==t.which?null:(Oe=!0,Ne);case"textInput":return(e=t.data)===Ne&&Oe?null:e;default:return null}}(e,n):function(e,t){if(De)return"compositionend"===e||!Ee&&Ae(e,t)?(e=me(),ve._root=null,ve._startText=null,ve._fallbackText=null,De=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Be?null:t.data;default:return null}}(e,n))?((t=ke.getPooled(Me.beforeInput,t,n,r)).data=e,ee(t)):t=null,null===o?t:null===t?o:[o,t]}},Fe=null,Ve={injectFiberControlledHostComponent:function(e){Fe=e}},Ue=null,je=null;function He(e){if(e=T(e)){Fe&&"function"==typeof Fe.restoreControlledState||p("194");var t=k(e.stateNode);Fe.restoreControlledState(e.stateNode,e.type,t)}}function ze(e){Ue?je?je.push(e):je=[e]:Ue=e}function Ge(){return null!==Ue||null!==je}function qe(){if(Ue){var e=Ue,t=je;if(je=Ue=null,He(e),t)for(e=0;e<t.length;e++)He(t[e])}}var We={injection:Ve,enqueueStateRestore:ze,needsStateRestore:Ge,restoreStateIfNeeded:qe};function Ke(e,t){return e(t)}function Qe(e,t,n){return e(t,n)}function Ye(){}var Xe=!1;function $e(e,t){if(Xe)return e(t);Xe=!0;try{return Ke(e,t)}finally{Xe=!1,Ge()&&(Ye(),qe())}}var Ze={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Je(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ze[e.type]:"textarea"===t}function et(e){return(e=e.target||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function tt(e,t){return!(!o.canUseDOM||t&&!("addEventListener"in document))&&((t=(e="on"+e)in document)||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t)}function nt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function rt(e){e._valueTracker||(e._valueTracker=function(e){var t=nt(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function it(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=nt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}var ot=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,at="function"==typeof Symbol&&Symbol.for,st=at?Symbol.for("react.element"):60103,lt=at?Symbol.for("react.portal"):60106,ut=at?Symbol.for("react.fragment"):60107,ct=at?Symbol.for("react.strict_mode"):60108,ht=at?Symbol.for("react.profiler"):60114,pt=at?Symbol.for("react.provider"):60109,dt=at?Symbol.for("react.context"):60110,ft=at?Symbol.for("react.async_mode"):60111,vt=at?Symbol.for("react.forward_ref"):60112,mt=at?Symbol.for("react.timeout"):60113,gt="function"==typeof Symbol&&Symbol.iterator;function bt(e){return null===e||void 0===e?null:"function"==typeof(e=gt&&e[gt]||e["@@iterator"])?e:null}function yt(e){var t=e.type;if("function"==typeof t)return t.displayName||t.name;if("string"==typeof t)return t;switch(t){case ft:return"AsyncMode";case dt:return"Context.Consumer";case ut:return"ReactFragment";case lt:return"ReactPortal";case ht:return"Profiler("+e.pendingProps.id+")";case pt:return"Context.Provider";case ct:return"StrictMode";case mt:return"Timeout"}if("object"==typeof t&&null!==t)switch(t.$$typeof){case vt:return""!==(e=t.render.displayName||t.render.name||"")?"ForwardRef("+e+")":"ForwardRef"}return null}function Ct(e){var t="";do{e:switch(e.tag){case 0:case 1:case 2:case 5:var n=e._debugOwner,r=e._debugSource,i=yt(e),o=null;n&&(o=yt(n)),n=r,i="\n    in "+(i||"Unknown")+(n?" (at "+n.fileName.replace(/^.*[\\\/]/,"")+":"+n.lineNumber+")":o?" (created by "+o+")":"");break e;default:i=""}t+=i,e=e.return}while(e);return t}var xt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_t={},wt={};function St(e,t,n,r,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){kt[e]=new St(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];kt[t]=new St(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){kt[e]=new St(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","preserveAlpha"].forEach(function(e){kt[e]=new St(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){kt[e]=new St(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){kt[e]=new St(e,3,!0,e.toLowerCase(),null)}),["capture","download"].forEach(function(e){kt[e]=new St(e,4,!1,e.toLowerCase(),null)}),["cols","rows","size","span"].forEach(function(e){kt[e]=new St(e,6,!1,e.toLowerCase(),null)}),["rowSpan","start"].forEach(function(e){kt[e]=new St(e,5,!1,e.toLowerCase(),null)});var Tt=/[\-:]([a-z])/g;function Et(e){return e[1].toUpperCase()}function Pt(e,t,n,r){var i=kt.hasOwnProperty(t)?kt[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||void 0===t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!wt.hasOwnProperty(e)||!_t.hasOwnProperty(e)&&(xt.test(e)?wt[e]=!0:(_t[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function It(e,t){var n=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Bt(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Lt(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Nt(e,t){null!=(t=t.checked)&&Pt(e,"checked",t,!1)}function Mt(e,t){Nt(e,t);var n=Lt(t.value);null!=n&&("number"===t.type?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n)),t.hasOwnProperty("value")?At(e,t.type,n):t.hasOwnProperty("defaultValue")&&At(e,t.type,Lt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ot(e,t){(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue"))&&(""===e.value&&(e.value=""+e._wrapperState.initialValue),e.defaultValue=""+e._wrapperState.initialValue),""!==(t=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!e.defaultChecked,""!==t&&(e.name=t)}function At(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Lt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Tt,Et);kt[t]=new St(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Tt,Et);kt[t]=new St(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Tt,Et);kt[t]=new St(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),kt.tabIndex=new St("tabIndex",1,!1,"tabindex",null);var Dt={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Rt(e,t,n){return(e=Ce.getPooled(Dt.change,e,t,n)).type="change",ze(n),ee(e),e}var Ft=null,Vt=null;function Ut(e){R(e,!1)}function jt(e){if(it(G(e)))return e}function Ht(e,t){if("change"===e)return t}var zt=!1;function Gt(){Ft&&(Ft.detachEvent("onpropertychange",qt),Vt=Ft=null)}function qt(e){"value"===e.propertyName&&jt(Vt)&&$e(Ut,e=Rt(Vt,e,et(e)))}function Wt(e,t,n){"focus"===e?(Gt(),Vt=n,(Ft=t).attachEvent("onpropertychange",qt)):"blur"===e&&Gt()}function Kt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return jt(Vt)}function Qt(e,t){if("click"===e)return jt(t)}function Yt(e,t){if("input"===e||"change"===e)return jt(t)}o.canUseDOM&&(zt=tt("input")&&(!document.documentMode||9<document.documentMode));var Xt={eventTypes:Dt,_isInputEventSupported:zt,extractEvents:function(e,t,n,r){var i=t?G(t):window,o=void 0,a=void 0,s=i.nodeName&&i.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===i.type?o=Ht:Je(i)?zt?o=Yt:(o=Kt,a=Wt):(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Qt),o&&(o=o(e,t)))return Rt(o,n,r);a&&a(e,i,t),"blur"===e&&null!=t&&(e=t._wrapperState||i._wrapperState)&&e.controlled&&"number"===i.type&&At(i,"number",i.value)}},$t=Ce.extend({view:null,detail:null}),Zt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Zt[e])&&!!t[e]}function en(){return Jt}var tn=$t.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:en,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)}}),nn=tn.extend({pointerId:null,width:null,height:null,pressure:null,tiltX:null,tiltY:null,pointerType:null,isPrimary:null}),rn={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},on={eventTypes:rn,extractEvents:function(e,t,n,r){var i="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(i&&(n.relatedTarget||n.fromElement)||!o&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=t,t=(t=n.relatedTarget||n.toElement)?z(t):null):o=null,o===t)return null;var a=void 0,s=void 0,l=void 0,u=void 0;return"mouseout"===e||"mouseover"===e?(a=tn,s=rn.mouseLeave,l=rn.mouseEnter,u="mouse"):"pointerout"!==e&&"pointerover"!==e||(a=nn,s=rn.pointerLeave,l=rn.pointerEnter,u="pointer"),e=null==o?i:G(o),i=null==t?i:G(t),(s=a.getPooled(s,o,n,r)).type=u+"leave",s.target=e,s.relatedTarget=i,(n=a.getPooled(l,t,n,r)).type=u+"enter",n.target=i,n.relatedTarget=e,te(s,n,o,t),[s,n]}};function an(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function sn(e){2!==an(e)&&p("188")}function ln(e){var t=e.alternate;if(!t)return 3===(t=an(e))&&p("188"),1===t?null:e;for(var n=e,r=t;;){var i=n.return,o=i?i.alternate:null;if(!i||!o)break;if(i.child===o.child){for(var a=i.child;a;){if(a===n)return sn(i),e;if(a===r)return sn(i),t;a=a.sibling}p("188")}if(n.return!==r.return)n=i,r=o;else{a=!1;for(var s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}a||p("189")}}n.alternate!==r&&p("190")}return 3!==n.tag&&p("188"),n.stateNode.current===n?e:t}function un(e){if(!(e=ln(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var cn=Ce.extend({animationName:null,elapsedTime:null,pseudoElement:null}),hn=Ce.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pn=$t.extend({relatedTarget:null});function dn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn=$t.extend({key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=dn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?vn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:en,charCode:function(e){return"keypress"===e.type?dn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?dn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),gn=tn.extend({dataTransfer:null}),bn=$t.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:en}),yn=Ce.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Cn=tn.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),xn=[["abort","abort"],[le,"animationEnd"],[ue,"animationIteration"],[ce,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[he,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],_n={},wn={};function Sn(e,t){var n=e[0],r="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},_n[e]=t,wn[n]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){Sn(e,!0)}),xn.forEach(function(e){Sn(e,!1)});var kn={eventTypes:_n,isInteractiveTopLevelEventType:function(e){return void 0!==(e=wn[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var i=wn[e];if(!i)return null;switch(e){case"keypress":if(0===dn(n))return null;case"keydown":case"keyup":e=mn;break;case"blur":case"focus":e=pn;break;case"click":if(2===n.button)return null;case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=bn;break;case le:case ue:case ce:e=cn;break;case he:e=yn;break;case"scroll":e=$t;break;case"wheel":e=Cn;break;case"copy":case"cut":case"paste":e=hn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=nn;break;default:e=Ce}return ee(t=e.getPooled(i,t,n,r)),t}},Tn=kn.isInteractiveTopLevelEventType,En=[];function Pn(e){var t=e.targetInst;do{if(!t){e.ancestors.push(t);break}var n;for(n=t;n.return;)n=n.return;if(!(n=3!==n.tag?null:n.stateNode.containerInfo))break;e.ancestors.push(t),t=z(n)}while(t);for(n=0;n<e.ancestors.length;n++)t=e.ancestors[n],F(e.topLevelType,t,e.nativeEvent,et(e.nativeEvent))}var In=!0;function Bn(e){In=!!e}function Nn(e,t){if(!t)return null;var n=(Tn(e)?On:An).bind(null,e);t.addEventListener(e,n,!1)}function Mn(e,t){if(!t)return null;var n=(Tn(e)?On:An).bind(null,e);t.addEventListener(e,n,!0)}function On(e,t){Qe(An,e,t)}function An(e,t){if(In){var n=et(t);if(null===(n=z(n))||"number"!=typeof n.tag||2===an(n)||(n=null),En.length){var r=En.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{$e(Pn,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>En.length&&En.push(e)}}}var Ln={get _enabled(){return In},setEnabled:Bn,isEnabled:function(){return In},trapBubbledEvent:Nn,trapCapturedEvent:Mn,dispatchEvent:An},Dn={},Rn=0,Fn="_reactListenersID"+(""+Math.random()).slice(2);function Vn(e){return Object.prototype.hasOwnProperty.call(e,Fn)||(e[Fn]=Rn++,Dn[e[Fn]]={}),Dn[e[Fn]]}function Un(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jn(e,t){var n,r=Un(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Un(r)}}function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)}var zn=o.canUseDOM&&"documentMode"in document&&11>=document.documentMode,Gn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu focus keydown keyup mousedown mouseup selectionchange".split(" ")}},qn=null,Wn=null,Kn=null,Qn=!1;function Yn(e,t){if(Qn||null==qn||qn!==l())return null;var n=qn;return"selectionStart"in n&&Hn(n)?n={start:n.selectionStart,end:n.selectionEnd}:window.getSelection?n={anchorNode:(n=window.getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}:n=void 0,Kn&&u(Kn,n)?null:(Kn=n,(e=Ce.getPooled(Gn.select,Wn,e,t)).type="select",e.target=qn,ee(e),e)}var Xn={eventTypes:Gn,extractEvents:function(e,t,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){e:{o=Vn(o),i=x.onSelect;for(var a=0;a<i.length;a++){var s=i[a];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break e}}o=!0}i=!o}if(i)return null;switch(o=t?G(t):window,e){case"focus":(Je(o)||"true"===o.contentEditable)&&(qn=o,Wn=t,Kn=null);break;case"blur":Kn=Wn=qn=null;break;case"mousedown":Qn=!0;break;case"contextmenu":case"mouseup":return Qn=!1,Yn(n,r);case"selectionchange":if(zn)break;case"keydown":case"keyup":return Yn(n,r)}return null}};L.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin TapEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),k=W.getFiberCurrentPropsFromNode,T=W.getInstanceFromNode,E=W.getNodeFromInstance,L.injectEventPluginsByName({SimpleEventPlugin:kn,EnterLeaveEventPlugin:on,ChangeEventPlugin:Xt,SelectEventPlugin:Xn,BeforeInputEventPlugin:Re});var $n=void 0;$n="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};var Zn=void 0,Jn=void 0;if(o.canUseDOM){var er=[],tr=0,nr={},rr=-1,ir=!1,or=!1,ar=0,sr=33,lr=33,ur={didTimeout:!1,timeRemaining:function(){var e=ar-$n();return 0<e?e:0}},cr=function(e,t){if(nr[t])try{e(ur)}finally{delete nr[t]}},hr="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){if(e.source===window&&e.data===hr&&(ir=!1,0!==er.length)){if(0!==er.length&&(e=$n(),!(-1===rr||rr>e))){rr=-1,ur.didTimeout=!0;for(var t=0,n=er.length;t<n;t++){var r=er[t],i=r.timeoutTime;-1!==i&&i<=e?cr(r.scheduledCallback,r.callbackId):-1!==i&&(-1===rr||i<rr)&&(rr=i)}}for(e=$n();0<ar-e&&0<er.length;)e=er.shift(),ur.didTimeout=!1,cr(e.scheduledCallback,e.callbackId),e=$n();0<er.length&&!or&&(or=!0,requestAnimationFrame(pr))}},!1);var pr=function(e){or=!1;var t=e-ar+lr;t<lr&&sr<lr?(8>t&&(t=8),lr=t<sr?sr:t):sr=t,ar=e+lr,ir||(ir=!0,window.postMessage(hr,"*"))};Zn=function(e,t){var n=-1;return null!=t&&"number"==typeof t.timeout&&(n=$n()+t.timeout),(-1===rr||-1!==n&&n<rr)&&(rr=n),t=++tr,er.push({scheduledCallback:e,callbackId:t,timeoutTime:n}),nr[t]=!0,or||(or=!0,requestAnimationFrame(pr)),t},Jn=function(e){delete nr[e]}}else{var dr=0,fr={};Zn=function(e){var t=dr++,n=setTimeout(function(){e({timeRemaining:function(){return 1/0},didTimeout:!1})});return fr[t]=n,t},Jn=function(e){var t=fr[e];delete fr[e],clearTimeout(t)}}function vr(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return i.Children.forEach(e,function(e){null==e||"string"!=typeof e&&"number"!=typeof e||(t+=e)}),t}(t.children))&&(e.children=t),e}function mr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+n,t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function gr(e,t){var n=t.value;e._wrapperState={initialValue:null!=n?n:t.defaultValue,wasMultiple:!!t.multiple}}function br(e,t){return null!=t.dangerouslySetInnerHTML&&p("91"),a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yr(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&p("92"),Array.isArray(t)&&(1>=t.length||p("93"),t=t[0]),n=""+t),null==n&&(n="")),e._wrapperState={initialValue:""+n}}function Cr(e,t){var n=t.value;null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&(e.defaultValue=n)),null!=t.defaultValue&&(e.defaultValue=t.defaultValue)}function xr(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}var _r={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function wr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sr(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?wr(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var kr,Tr=void 0,Er=(kr=function(e,t){if(e.namespaceURI!==_r.svg||"innerHTML"in e)e.innerHTML=t;else{for((Tr=Tr||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=Tr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return kr(e,t)})}:kr);function Pr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ir={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Br=["Webkit","ms","Moz","O"];function Nr(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=n,o=t[n];i=null==o||"boolean"==typeof o||""===o?"":r||"number"!=typeof o||0===o||Ir.hasOwnProperty(i)&&Ir[i]?(""+o).trim():o+"px","float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Ir).forEach(function(e){Br.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ir[t]=Ir[e]})});var Mr=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Or(e,t,n){t&&(Mr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&p("137",e,n()),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&p("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||p("61")),null!=t.style&&"object"!=typeof t.style&&p("62",n()))}function Ar(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lr=s.thatReturns("");function Dr(e,t){var n=Vn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=x[t];for(var r=0;r<t.length;r++){var i=t[r];if(!n.hasOwnProperty(i)||!n[i]){switch(i){case"scroll":Mn("scroll",e);break;case"focus":case"blur":Mn("focus",e),Mn("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":tt(i,!0)&&Mn(i,e);break;case"invalid":case"submit":case"reset":break;default:-1===pe.indexOf(i)&&Nn(i,e)}n[i]=!0}}}function Rr(e,t,n,r){return n=9===n.nodeType?n:n.ownerDocument,r===_r.html&&(r=wr(e)),r===_r.html?"script"===e?((e=n.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):e="string"==typeof t.is?n.createElement(e,{is:t.is}):n.createElement(e):e=n.createElementNS(r,e),e}function Fr(e,t){return(9===t.nodeType?t:t.ownerDocument).createTextNode(e)}function Vr(e,t,n,r){var i=Ar(t,n);switch(t){case"iframe":case"object":Nn("load",e);var o=n;break;case"video":case"audio":for(o=0;o<pe.length;o++)Nn(pe[o],e);o=n;break;case"source":Nn("error",e),o=n;break;case"img":case"image":case"link":Nn("error",e),Nn("load",e),o=n;break;case"form":Nn("reset",e),Nn("submit",e),o=n;break;case"details":Nn("toggle",e),o=n;break;case"input":Bt(e,n),o=It(e,n),Nn("invalid",e),Dr(r,"onChange");break;case"option":o=vr(e,n);break;case"select":gr(e,n),o=a({},n,{value:void 0}),Nn("invalid",e),Dr(r,"onChange");break;case"textarea":yr(e,n),o=br(e,n),Nn("invalid",e),Dr(r,"onChange");break;default:o=n}Or(t,o,Lr);var l,u=o;for(l in u)if(u.hasOwnProperty(l)){var c=u[l];"style"===l?Nr(e,c):"dangerouslySetInnerHTML"===l?null!=(c=c?c.__html:void 0)&&Er(e,c):"children"===l?"string"==typeof c?("textarea"!==t||""!==c)&&Pr(e,c):"number"==typeof c&&Pr(e,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(C.hasOwnProperty(l)?null!=c&&Dr(r,l):null!=c&&Pt(e,l,c,i))}switch(t){case"input":rt(e),Ot(e,n);break;case"textarea":rt(e),xr(e);break;case"option":null!=n.value&&e.setAttribute("value",n.value);break;case"select":e.multiple=!!n.multiple,null!=(t=n.value)?mr(e,!!n.multiple,t,!1):null!=n.defaultValue&&mr(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=s)}}function Ur(e,t,n,r,i){var o=null;switch(t){case"input":n=It(e,n),r=It(e,r),o=[];break;case"option":n=vr(e,n),r=vr(e,r),o=[];break;case"select":n=a({},n,{value:void 0}),r=a({},r,{value:void 0}),o=[];break;case"textarea":n=br(e,n),r=br(e,r),o=[];break;default:"function"!=typeof n.onClick&&"function"==typeof r.onClick&&(e.onclick=s)}Or(t,r,Lr),t=e=void 0;var l=null;for(e in n)if(!r.hasOwnProperty(e)&&n.hasOwnProperty(e)&&null!=n[e])if("style"===e){var u=n[e];for(t in u)u.hasOwnProperty(t)&&(l||(l={}),l[t]="")}else"dangerouslySetInnerHTML"!==e&&"children"!==e&&"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&"autoFocus"!==e&&(C.hasOwnProperty(e)?o||(o=[]):(o=o||[]).push(e,null));for(e in r){var c=r[e];if(u=null!=n?n[e]:void 0,r.hasOwnProperty(e)&&c!==u&&(null!=c||null!=u))if("style"===e)if(u){for(t in u)!u.hasOwnProperty(t)||c&&c.hasOwnProperty(t)||(l||(l={}),l[t]="");for(t in c)c.hasOwnProperty(t)&&u[t]!==c[t]&&(l||(l={}),l[t]=c[t])}else l||(o||(o=[]),o.push(e,l)),l=c;else"dangerouslySetInnerHTML"===e?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(e,""+c)):"children"===e?u===c||"string"!=typeof c&&"number"!=typeof c||(o=o||[]).push(e,""+c):"suppressContentEditableWarning"!==e&&"suppressHydrationWarning"!==e&&(C.hasOwnProperty(e)?(null!=c&&Dr(i,e),o||u===c||(o=[])):(o=o||[]).push(e,c))}return l&&(o=o||[]).push("style",l),o}function jr(e,t,n,r,i){"input"===n&&"radio"===i.type&&null!=i.name&&Nt(e,i),Ar(n,r),r=Ar(n,i);for(var o=0;o<t.length;o+=2){var a=t[o],s=t[o+1];"style"===a?Nr(e,s):"dangerouslySetInnerHTML"===a?Er(e,s):"children"===a?Pr(e,s):Pt(e,a,s,r)}switch(n){case"input":Mt(e,i);break;case"textarea":Cr(e,i);break;case"select":e._wrapperState.initialValue=void 0,t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!i.multiple,null!=(n=i.value)?mr(e,!!i.multiple,n,!1):t!==!!i.multiple&&(null!=i.defaultValue?mr(e,!!i.multiple,i.defaultValue,!0):mr(e,!!i.multiple,i.multiple?[]:"",!1))}}function Hr(e,t,n,r,i){switch(t){case"iframe":case"object":Nn("load",e);break;case"video":case"audio":for(r=0;r<pe.length;r++)Nn(pe[r],e);break;case"source":Nn("error",e);break;case"img":case"image":case"link":Nn("error",e),Nn("load",e);break;case"form":Nn("reset",e),Nn("submit",e);break;case"details":Nn("toggle",e);break;case"input":Bt(e,n),Nn("invalid",e),Dr(i,"onChange");break;case"select":gr(e,n),Nn("invalid",e),Dr(i,"onChange");break;case"textarea":yr(e,n),Nn("invalid",e),Dr(i,"onChange")}for(var o in Or(t,n,Lr),r=null,n)if(n.hasOwnProperty(o)){var a=n[o];"children"===o?"string"==typeof a?e.textContent!==a&&(r=["children",a]):"number"==typeof a&&e.textContent!==""+a&&(r=["children",""+a]):C.hasOwnProperty(o)&&null!=a&&Dr(i,o)}switch(t){case"input":rt(e),Ot(e,n);break;case"textarea":rt(e),xr(e);break;case"select":case"option":break;default:"function"==typeof n.onClick&&(e.onclick=s)}return r}function zr(e,t){return e.nodeValue!==t}var Gr={createElement:Rr,createTextNode:Fr,setInitialProperties:Vr,diffProperties:Ur,updateProperties:jr,diffHydratedProperties:Hr,diffHydratedText:zr,warnForUnmatchedText:function(){},warnForDeletedHydratableElement:function(){},warnForDeletedHydratableText:function(){},warnForInsertedHydratedElement:function(){},warnForInsertedHydratedText:function(){},restoreControlledState:function(e,t,n){switch(t){case"input":if(Mt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=q(r);i||p("90"),it(r),Mt(r,i)}}}break;case"textarea":Cr(e,n);break;case"select":null!=(t=n.value)&&mr(e,!!n.multiple,t,!1)}}},qr=null,Wr=null;function Kr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Qr(e,t){return"textarea"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&"string"==typeof t.dangerouslySetInnerHTML.__html}var Yr=$n,Xr=Zn,$r=Jn;function Zr(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function Jr(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var ei=[],ti=-1;function ni(e){return{current:e}}function ri(e){0>ti||(e.current=ei[ti],ei[ti]=null,ti--)}function ii(e,t){ei[++ti]=e.current,e.current=t}var oi=ni(h),ai=ni(!1),si=h;function li(e){return ci(e)?si:oi.current}function ui(e,t){var n=e.type.contextTypes;if(!n)return h;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ci(e){return 2===e.tag&&null!=e.type.childContextTypes}function hi(e){ci(e)&&(ri(ai),ri(oi))}function pi(e){ri(ai),ri(oi)}function di(e,t,n){oi.current!==h&&p("168"),ii(oi,t),ii(ai,n)}function fi(e,t){var n=e.stateNode,r=e.type.childContextTypes;if("function"!=typeof n.getChildContext)return t;for(var i in n=n.getChildContext())i in r||p("108",yt(e)||"Unknown",i);return a({},t,n)}function vi(e){if(!ci(e))return!1;var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||h,si=oi.current,ii(oi,t),ii(ai,ai.current),!0}function mi(e,t){var n=e.stateNode;if(n||p("169"),t){var r=fi(e,si);n.__reactInternalMemoizedMergedChildContext=r,ri(ai),ri(oi),ii(oi,r)}else ri(ai);ii(ai,t)}function gi(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=null,this.index=0,this.ref=null,this.pendingProps=t,this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.expirationTime=0,this.alternate=null}function bi(e,t,n){var r=e.alternate;return null===r?((r=new gi(e.tag,t,e.key,e.mode)).type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.expirationTime=n,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function yi(e,t,n){var r=e.type,i=e.key;if(e=e.props,"function"==typeof r)var o=r.prototype&&r.prototype.isReactComponent?2:0;else if("string"==typeof r)o=5;else switch(r){case ut:return Ci(e.children,t,n,i);case ft:o=11,t|=3;break;case ct:o=11,t|=2;break;case ht:return(r=new gi(15,e,i,4|t)).type=ht,r.expirationTime=n,r;case mt:o=16,t|=2;break;default:e:{switch("object"==typeof r&&null!==r?r.$$typeof:null){case pt:o=13;break e;case dt:o=12;break e;case vt:o=14;break e;default:p("130",null==r?r:typeof r,"")}o=void 0}}return(t=new gi(o,e,i,t)).type=r,t.expirationTime=n,t}function Ci(e,t,n,r){return(e=new gi(10,e,r,t)).expirationTime=n,e}function xi(e,t,n){return(e=new gi(6,e,null,t)).expirationTime=n,e}function _i(e,t,n){return(t=new gi(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function wi(e,t,n){return e={current:t=new gi(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,pendingCommitExpirationTime:0,finishedWork:null,context:null,pendingContext:null,hydrate:n,remainingExpirationTime:0,firstBatch:null,nextScheduledRoot:null},t.stateNode=e}var Si=null,ki=null;function Ti(e){return function(t){try{return e(t)}catch(e){}}}function Ei(e){"function"==typeof Si&&Si(e)}function Pi(e){"function"==typeof ki&&ki(e)}var Ii=!1;function Bi(e){return{expirationTime:0,baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Ni(e){return{expirationTime:e.expirationTime,baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Mi(e){return{expirationTime:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Oi(e,t,n){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t),(0===e.expirationTime||e.expirationTime>n)&&(e.expirationTime=n)}function Ai(e,t,n){var r=e.alternate;if(null===r){var i=e.updateQueue,o=null;null===i&&(i=e.updateQueue=Bi(e.memoizedState))}else i=e.updateQueue,o=r.updateQueue,null===i?null===o?(i=e.updateQueue=Bi(e.memoizedState),o=r.updateQueue=Bi(r.memoizedState)):i=e.updateQueue=Ni(o):null===o&&(o=r.updateQueue=Ni(i));null===o||i===o?Oi(i,t,n):null===i.lastUpdate||null===o.lastUpdate?(Oi(i,t,n),Oi(o,t,n)):(Oi(i,t,n),o.lastUpdate=t)}function Li(e,t,n){var r=e.updateQueue;null===(r=null===r?e.updateQueue=Bi(e.memoizedState):Di(e,r)).lastCapturedUpdate?r.firstCapturedUpdate=r.lastCapturedUpdate=t:(r.lastCapturedUpdate.next=t,r.lastCapturedUpdate=t),(0===r.expirationTime||r.expirationTime>n)&&(r.expirationTime=n)}function Di(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Ni(t)),t}function Ri(e,t,n,r,i,o){switch(n.tag){case 1:return"function"==typeof(e=n.payload)?e.call(o,r,i):e;case 3:e.effectTag=-1025&e.effectTag|64;case 0:if(null===(i="function"==typeof(e=n.payload)?e.call(o,r,i):e)||void 0===i)break;return a({},r,i);case 2:Ii=!0}return r}function Fi(e,t,n,r,i){if(Ii=!1,!(0===t.expirationTime||t.expirationTime>i)){for(var o=(t=Di(e,t)).baseState,a=null,s=0,l=t.firstUpdate,u=o;null!==l;){var c=l.expirationTime;c>i?(null===a&&(a=l,o=u),(0===s||s>c)&&(s=c)):(u=Ri(e,0,l,u,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=l:(t.lastEffect.nextEffect=l,t.lastEffect=l))),l=l.next}for(c=null,l=t.firstCapturedUpdate;null!==l;){var h=l.expirationTime;h>i?(null===c&&(c=l,null===a&&(o=u)),(0===s||s>h)&&(s=h)):(u=Ri(e,0,l,u,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=l:(t.lastCapturedEffect.nextEffect=l,t.lastCapturedEffect=l))),l=l.next}null===a&&(t.lastUpdate=null),null===c?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===c&&(o=u),t.baseState=o,t.firstUpdate=a,t.firstCapturedUpdate=c,t.expirationTime=s,e.memoizedState=u}}function Vi(e,t){"function"!=typeof e&&p("191",e),e.call(t)}function Ui(e,t,n){for(null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),e=t.firstEffect,t.firstEffect=t.lastEffect=null;null!==e;){var r=e.callback;null!==r&&(e.callback=null,Vi(r,n)),e=e.nextEffect}for(e=t.firstCapturedEffect,t.firstCapturedEffect=t.lastCapturedEffect=null;null!==e;)null!==(t=e.callback)&&(e.callback=null,Vi(t,n)),e=e.nextEffect}function ji(e,t){return{value:e,source:t,stack:Ct(t)}}var Hi=ni(null),zi=ni(null),Gi=ni(0);function qi(e){var t=e.type._context;ii(Gi,t._changedBits),ii(zi,t._currentValue),ii(Hi,e),t._currentValue=e.pendingProps.value,t._changedBits=e.stateNode}function Wi(e){var t=Gi.current,n=zi.current;ri(Hi),ri(zi),ri(Gi),(e=e.type._context)._currentValue=n,e._changedBits=t}var Ki={},Qi=ni(Ki),Yi=ni(Ki),Xi=ni(Ki);function $i(e){return e===Ki&&p("174"),e}function Zi(e,t){ii(Xi,t),ii(Yi,e),ii(Qi,Ki);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Sr(null,"");break;default:t=Sr(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}ri(Qi),ii(Qi,t)}function Ji(e){ri(Qi),ri(Yi),ri(Xi)}function eo(e){Yi.current===e&&(ri(Qi),ri(Yi))}function to(e,t,n){var r=e.memoizedState;r=null===(t=t(n,r))||void 0===t?r:a({},r,t),e.memoizedState=r,null!==(e=e.updateQueue)&&0===e.expirationTime&&(e.baseState=r)}var no={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===an(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=va(),i=Mi(r=da(r,e));i.payload=t,void 0!==n&&null!==n&&(i.callback=n),Ai(e,i,r),fa(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=va(),i=Mi(r=da(r,e));i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),Ai(e,i,r),fa(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=va(),r=Mi(n=da(n,e));r.tag=2,void 0!==t&&null!==t&&(r.callback=t),Ai(e,r,n),fa(e,n)}};function ro(e,t,n,r,i,o){var a=e.stateNode;return e=e.type,"function"==typeof a.shouldComponentUpdate?a.shouldComponentUpdate(n,i,o):!e.prototype||!e.prototype.isPureReactComponent||(!u(t,n)||!u(r,i))}function io(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&no.enqueueReplaceState(t,t.state,null)}function oo(e,t){var n=e.type,r=e.stateNode,i=e.pendingProps,o=li(e);r.props=i,r.state=e.memoizedState,r.refs=h,r.context=ui(e,o),null!==(o=e.updateQueue)&&(Fi(e,o,i,r,t),r.state=e.memoizedState),"function"==typeof(o=e.type.getDerivedStateFromProps)&&(to(e,o,i),r.state=e.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(n=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),n!==r.state&&no.enqueueReplaceState(r,r.state,null),null!==(o=e.updateQueue)&&(Fi(e,o,i,r,t),r.state=e.memoizedState)),"function"==typeof r.componentDidMount&&(e.effectTag|=4)}var ao=Array.isArray;function so(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){var r=void 0;(n=n._owner)&&(2!==n.tag&&p("110"),r=n.stateNode),r||p("147",e);var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs===h?r.refs={}:r.refs;null===e?delete t[i]:t[i]=e})._stringRef=i,t)}"string"!=typeof e&&p("148"),n._owner||p("254",e)}return e}function lo(e,t){"textarea"!==e.type&&p("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function uo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,n){return(e=bi(e,t,n)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function a(t){return e&&null===t.alternate&&(t.effectTag=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=xi(n,e.mode,r)).return=e,t):((t=i(t,n,r)).return=e,t)}function l(e,t,n,r){return null!==t&&t.type===n.type?((r=i(t,n.props,r)).ref=so(e,t,n),r.return=e,r):((r=yi(n,e.mode,r)).ref=so(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=_i(n,e.mode,r)).return=e,t):((t=i(t,n.children||[],r)).return=e,t)}function c(e,t,n,r,o){return null===t||10!==t.tag?((t=Ci(n,e.mode,r,o)).return=e,t):((t=i(t,n,r)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=xi(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case st:return(n=yi(t,e.mode,n)).ref=so(e,null,t),n.return=e,n;case lt:return(t=_i(t,e.mode,n)).return=e,t}if(ao(t)||bt(t))return(t=Ci(t,e.mode,n,null)).return=e,t;lo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case st:return n.key===i?n.type===ut?c(e,t,n.props.children,r,i):l(e,t,n,r):null;case lt:return n.key===i?u(e,t,n,r):null}if(ao(n)||bt(n))return null!==i?null:c(e,t,n,r,null);lo(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case st:return e=e.get(null===r.key?n:r.key)||null,r.type===ut?c(t,e,r.props.children,i,r.key):l(t,e,r,i);case lt:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(ao(r)||bt(r))return c(t,e=e.get(n)||null,r,i,null);lo(t,r)}return null}function v(i,a,s,l){for(var u=null,c=null,p=a,v=a=0,m=null;null!==p&&v<s.length;v++){p.index>v?(m=p,p=null):m=p.sibling;var g=d(i,p,s[v],l);if(null===g){null===p&&(p=m);break}e&&p&&null===g.alternate&&t(i,p),a=o(g,a,v),null===c?u=g:c.sibling=g,c=g,p=m}if(v===s.length)return n(i,p),u;if(null===p){for(;v<s.length;v++)(p=h(i,s[v],l))&&(a=o(p,a,v),null===c?u=p:c.sibling=p,c=p);return u}for(p=r(i,p);v<s.length;v++)(m=f(p,i,v,s[v],l))&&(e&&null!==m.alternate&&p.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?u=m:c.sibling=m,c=m);return e&&p.forEach(function(e){return t(i,e)}),u}function m(i,a,s,l){var u=bt(s);"function"!=typeof u&&p("150"),null==(s=u.call(s))&&p("151");for(var c=u=null,v=a,m=a=0,g=null,b=s.next();null!==v&&!b.done;m++,b=s.next()){v.index>m?(g=v,v=null):g=v.sibling;var y=d(i,v,b.value,l);if(null===y){v||(v=g);break}e&&v&&null===y.alternate&&t(i,v),a=o(y,a,m),null===c?u=y:c.sibling=y,c=y,v=g}if(b.done)return n(i,v),u;if(null===v){for(;!b.done;m++,b=s.next())null!==(b=h(i,b.value,l))&&(a=o(b,a,m),null===c?u=b:c.sibling=b,c=b);return u}for(v=r(i,v);!b.done;m++,b=s.next())null!==(b=f(v,i,m,b.value,l))&&(e&&null!==b.alternate&&v.delete(null===b.key?m:b.key),a=o(b,a,m),null===c?u=b:c.sibling=b,c=b);return e&&v.forEach(function(e){return t(i,e)}),u}return function(e,r,o,s){"object"==typeof o&&null!==o&&o.type===ut&&null===o.key&&(o=o.props.children);var l="object"==typeof o&&null!==o;if(l)switch(o.$$typeof){case st:e:{var u=o.key;for(l=r;null!==l;){if(l.key===u){if(10===l.tag?o.type===ut:l.type===o.type){n(e,l.sibling),(r=i(l,o.type===ut?o.props.children:o.props,s)).ref=so(e,l,o),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}o.type===ut?((r=Ci(o.props.children,e.mode,s,o.key)).return=e,e=r):((s=yi(o,e.mode,s)).ref=so(e,r,o),s.return=e,e=s)}return a(e);case lt:e:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[],s)).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=_i(o,e.mode,s)).return=e,e=r}return a(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o,s)).return=e,e=r):(n(e,r),(r=xi(o,e.mode,s)).return=e,e=r),a(e);if(ao(o))return v(e,r,o,s);if(bt(o))return m(e,r,o,s);if(l&&lo(e,o),void 0===o)switch(e.tag){case 2:case 1:p("152",(s=e.type).displayName||s.name||"Component")}return n(e,r)}}var co=uo(!0),ho=uo(!1),po=null,fo=null,vo=!1;function mo(e,t){var n=new gi(5,null,null,0);n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function go(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function bo(e){if(vo){var t=fo;if(t){var n=t;if(!go(e,t)){if(!(t=Zr(n))||!go(e,t))return e.effectTag|=2,vo=!1,void(po=e);mo(po,n)}po=e,fo=Jr(t)}else e.effectTag|=2,vo=!1,po=e}}function yo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag;)e=e.return;po=e}function Co(e){if(e!==po)return!1;if(!vo)return yo(e),vo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Qr(t,e.memoizedProps))for(t=fo;t;)mo(e,t),t=Zr(t);return yo(e),fo=po?Zr(e.stateNode):null,!0}function xo(){fo=po=null,vo=!1}function _o(e,t,n){wo(e,t,n,t.expirationTime)}function wo(e,t,n,r){t.child=null===e?ho(t,null,n,r):co(t,e.child,n,r)}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function ko(e,t,n,r,i){So(e,t);var o=0!=(64&t.effectTag);if(!n&&!o)return r&&mi(t,!1),Po(e,t);n=t.stateNode,ot.current=t;var a=o?null:n.render();return t.effectTag|=1,o&&(wo(e,t,null,i),t.child=null),wo(e,t,a,i),t.memoizedState=n.state,t.memoizedProps=n.props,r&&mi(t,!0),t.child}function To(e){var t=e.stateNode;t.pendingContext?di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&di(0,t.context,!1),Zi(e,t.containerInfo)}function Eo(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){switch(i.tag){case 12:var o=0|i.stateNode;if(i.type===t&&0!=(o&n)){for(o=i;null!==o;){var a=o.alternate;if(0===o.expirationTime||o.expirationTime>r)o.expirationTime=r,null!==a&&(0===a.expirationTime||a.expirationTime>r)&&(a.expirationTime=r);else{if(null===a||!(0===a.expirationTime||a.expirationTime>r))break;a.expirationTime=r}o=o.return}o=null}else o=i.child;break;case 13:o=i.type===e.type?null:i.child;break;default:o=i.child}if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function Po(e,t){if(null!==e&&t.child!==e.child&&p("153"),null!==t.child){var n=bi(e=t.child,e.pendingProps,e.expirationTime);for(t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=bi(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function Io(e,t,n){if(0===t.expirationTime||t.expirationTime>n){switch(t.tag){case 3:To(t);break;case 2:vi(t);break;case 4:Zi(t,t.stateNode.containerInfo);break;case 13:qi(t)}return null}switch(t.tag){case 0:null!==e&&p("155");var r=t.type,i=t.pendingProps,o=li(t);return r=r(i,o=ui(t,o)),t.effectTag|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof?(o=t.type,t.tag=2,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,"function"==typeof(o=o.getDerivedStateFromProps)&&to(t,o,i),i=vi(t),r.updater=no,t.stateNode=r,r._reactInternalFiber=t,oo(t,n),e=ko(e,t,!0,i,n)):(t.tag=1,_o(e,t,r),t.memoizedProps=i,e=t.child),e;case 1:return i=t.type,n=t.pendingProps,ai.current||t.memoizedProps!==n?(i=i(n,r=ui(t,r=li(t))),t.effectTag|=1,_o(e,t,i),t.memoizedProps=n,e=t.child):e=Po(e,t),e;case 2:if(i=vi(t),null===e)if(null===t.stateNode){var a=t.pendingProps,s=t.type;r=li(t);var l=2===t.tag&&null!=t.type.contextTypes;a=new s(a,o=l?ui(t,r):h),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=no,t.stateNode=a,a._reactInternalFiber=t,l&&((l=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,l.__reactInternalMemoizedMaskedChildContext=o),oo(t,n),r=!0}else{s=t.type,r=t.stateNode,l=t.memoizedProps,o=t.pendingProps,r.props=l;var u=r.context;a=ui(t,a=li(t));var c=s.getDerivedStateFromProps;(s="function"==typeof c||"function"==typeof r.getSnapshotBeforeUpdate)||"function"!=typeof r.UNSAFE_componentWillReceiveProps&&"function"!=typeof r.componentWillReceiveProps||(l!==o||u!==a)&&io(t,r,o,a),Ii=!1;var d=t.memoizedState;u=r.state=d;var f=t.updateQueue;null!==f&&(Fi(t,f,o,r,n),u=t.memoizedState),l!==o||d!==u||ai.current||Ii?("function"==typeof c&&(to(t,c,o),u=t.memoizedState),(l=Ii||ro(t,l,o,d,u,a))?(s||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||("function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"==typeof r.componentDidMount&&(t.effectTag|=4)):("function"==typeof r.componentDidMount&&(t.effectTag|=4),t.memoizedProps=o,t.memoizedState=u),r.props=o,r.state=u,r.context=a,r=l):("function"==typeof r.componentDidMount&&(t.effectTag|=4),r=!1)}else s=t.type,r=t.stateNode,o=t.memoizedProps,l=t.pendingProps,r.props=o,u=r.context,a=ui(t,a=li(t)),(s="function"==typeof(c=s.getDerivedStateFromProps)||"function"==typeof r.getSnapshotBeforeUpdate)||"function"!=typeof r.UNSAFE_componentWillReceiveProps&&"function"!=typeof r.componentWillReceiveProps||(o!==l||u!==a)&&io(t,r,l,a),Ii=!1,u=t.memoizedState,d=r.state=u,null!==(f=t.updateQueue)&&(Fi(t,f,l,r,n),d=t.memoizedState),o!==l||u!==d||ai.current||Ii?("function"==typeof c&&(to(t,c,l),d=t.memoizedState),(c=Ii||ro(t,o,l,u,d,a))?(s||"function"!=typeof r.UNSAFE_componentWillUpdate&&"function"!=typeof r.componentWillUpdate||("function"==typeof r.componentWillUpdate&&r.componentWillUpdate(l,d,a),"function"==typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(l,d,a)),"function"==typeof r.componentDidUpdate&&(t.effectTag|=4),"function"==typeof r.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof r.componentDidUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof r.getSnapshotBeforeUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=l,t.memoizedState=d),r.props=l,r.state=d,r.context=a,r=c):("function"!=typeof r.componentDidUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof r.getSnapshotBeforeUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return ko(e,t,r,i,n);case 3:return To(t),null!==(i=t.updateQueue)?(r=null!==(r=t.memoizedState)?r.element:null,Fi(t,i,t.pendingProps,null,n),(i=t.memoizedState.element)===r?(xo(),e=Po(e,t)):(r=t.stateNode,(r=(null===e||null===e.child)&&r.hydrate)&&(fo=Jr(t.stateNode.containerInfo),po=t,r=vo=!0),r?(t.effectTag|=2,t.child=ho(t,null,i,n)):(xo(),_o(e,t,i)),e=t.child)):(xo(),e=Po(e,t)),e;case 5:return $i(Xi.current),(i=$i(Qi.current))!==(r=Sr(i,t.type))&&(ii(Yi,t),ii(Qi,r)),null===e&&bo(t),i=t.type,l=t.memoizedProps,r=t.pendingProps,o=null!==e?e.memoizedProps:null,ai.current||l!==r||((l=1&t.mode&&!!r.hidden)&&(t.expirationTime=1073741823),l&&1073741823===n)?(l=r.children,Qr(i,r)?l=null:o&&Qr(i,o)&&(t.effectTag|=16),So(e,t),1073741823!==n&&1&t.mode&&r.hidden?(t.expirationTime=1073741823,t.memoizedProps=r,e=null):(_o(e,t,l),t.memoizedProps=r,e=t.child)):e=Po(e,t),e;case 6:return null===e&&bo(t),t.memoizedProps=t.pendingProps,null;case 16:return null;case 4:return Zi(t,t.stateNode.containerInfo),i=t.pendingProps,ai.current||t.memoizedProps!==i?(null===e?t.child=co(t,null,i,n):_o(e,t,i),t.memoizedProps=i,e=t.child):e=Po(e,t),e;case 14:return i=t.type.render,n=t.pendingProps,r=t.ref,ai.current||t.memoizedProps!==n||r!==(null!==e?e.ref:null)?(_o(e,t,i=i(n,r)),t.memoizedProps=n,e=t.child):e=Po(e,t),e;case 10:return n=t.pendingProps,ai.current||t.memoizedProps!==n?(_o(e,t,n),t.memoizedProps=n,e=t.child):e=Po(e,t),e;case 11:return n=t.pendingProps.children,ai.current||null!==n&&t.memoizedProps!==n?(_o(e,t,n),t.memoizedProps=n,e=t.child):e=Po(e,t),e;case 15:return n=t.pendingProps,t.memoizedProps===n?e=Po(e,t):(_o(e,t,n.children),t.memoizedProps=n,e=t.child),e;case 13:return function(e,t,n){var r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=!0;if(ai.current)a=!1;else if(o===i)return t.stateNode=0,qi(t),Po(e,t);var s=i.value;if(t.memoizedProps=i,null===o)s=1073741823;else if(o.value===i.value){if(o.children===i.children&&a)return t.stateNode=0,qi(t),Po(e,t);s=0}else{var l=o.value;if(l===s&&(0!==l||1/l==1/s)||l!=l&&s!=s){if(o.children===i.children&&a)return t.stateNode=0,qi(t),Po(e,t);s=0}else if(s="function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,s):1073741823,0==(s|=0)){if(o.children===i.children&&a)return t.stateNode=0,qi(t),Po(e,t)}else Eo(t,r,s,n)}return t.stateNode=s,qi(t),_o(e,t,i.children),t.child}(e,t,n);case 12:e:if(r=t.type,o=t.pendingProps,l=t.memoizedProps,i=r._currentValue,a=r._changedBits,ai.current||0!==a||l!==o){if(t.memoizedProps=o,void 0!==(s=o.unstable_observedBits)&&null!==s||(s=1073741823),t.stateNode=s,0!=(a&s))Eo(t,r,a,n);else if(l===o){e=Po(e,t);break e}n=(n=o.children)(i),t.effectTag|=1,_o(e,t,n),e=t.child}else e=Po(e,t);return e;default:p("156")}}function Bo(e){e.effectTag|=4}var No=void 0,Mo=void 0,Oo=void 0;function Ao(e,t){var n=t.pendingProps;switch(t.tag){case 1:return null;case 2:return hi(t),null;case 3:Ji(),pi();var r=t.stateNode;return r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Co(t),t.effectTag&=-3),No(t),null;case 5:eo(t),r=$i(Xi.current);var i=t.type;if(null!==e&&null!=t.stateNode){var o=e.memoizedProps,a=t.stateNode,s=$i(Qi.current);a=Ur(a,i,o,n,r),Mo(e,t,a,i,o,n,r,s),e.ref!==t.ref&&(t.effectTag|=128)}else{if(!n)return null===t.stateNode&&p("166"),null;if(e=$i(Qi.current),Co(t))n=t.stateNode,i=t.type,o=t.memoizedProps,n[j]=t,n[H]=o,r=Hr(n,i,o,e,r),t.updateQueue=r,null!==r&&Bo(t);else{(e=Rr(i,n,r,e))[j]=t,e[H]=n;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)e.appendChild(o.stateNode);else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}Vr(e,i,n,r),Kr(i,n)&&Bo(t),t.stateNode=e}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Oo(e,t,e.memoizedProps,n);else{if("string"!=typeof n)return null===t.stateNode&&p("166"),null;r=$i(Xi.current),$i(Qi.current),Co(t)?(r=t.stateNode,n=t.memoizedProps,r[j]=t,zr(r,n)&&Bo(t)):((r=Fr(n,r))[j]=t,t.stateNode=r)}return null;case 14:case 16:case 10:case 11:case 15:return null;case 4:return Ji(),No(t),null;case 13:return Wi(t),null;case 12:return null;case 0:p("167");default:p("156")}}function Lo(e,t){var n=t.source;null===t.stack&&null!==n&&Ct(n),null!==n&&yt(n),t=t.value,null!==e&&2===e.tag&&yt(e);try{t&&t.suppressReactErrorLogging||console.error(t)}catch(e){e&&e.suppressReactErrorLogging||console.error(e)}}function Do(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){ha(e,t)}else t.current=null}function Ro(e){switch(Pi(e),e.tag){case 2:Do(e);var t=e.stateNode;if("function"==typeof t.componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){ha(e,t)}break;case 5:Do(e);break;case 4:Uo(e)}}function Fo(e){return 5===e.tag||3===e.tag||4===e.tag}function Vo(e){e:{for(var t=e.return;null!==t;){if(Fo(t)){var n=t;break e}t=t.return}p("160"),n=void 0}var r=t=void 0;switch(n.tag){case 5:t=n.stateNode,r=!1;break;case 3:case 4:t=n.stateNode.containerInfo,r=!0;break;default:p("161")}16&n.effectTag&&(Pr(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Fo(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var i=e;;){if(5===i.tag||6===i.tag)if(n)if(r){var o=t,a=i.stateNode,s=n;8===o.nodeType?o.parentNode.insertBefore(a,s):o.insertBefore(a,s)}else t.insertBefore(i.stateNode,n);else r?(o=t,a=i.stateNode,8===o.nodeType?o.parentNode.insertBefore(a,o):o.appendChild(a)):t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function Uo(e){for(var t=e,n=!1,r=void 0,i=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&p("160"),n.tag){case 5:r=n.stateNode,i=!1;break e;case 3:case 4:r=n.stateNode.containerInfo,i=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag){e:for(var o=t,a=o;;)if(Ro(a),null!==a.child&&4!==a.tag)a.child.return=a,a=a.child;else{if(a===o)break;for(;null===a.sibling;){if(null===a.return||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}i?(o=r,a=t.stateNode,8===o.nodeType?o.parentNode.removeChild(a):o.removeChild(a)):r.removeChild(t.stateNode)}else if(4===t.tag?r=t.stateNode.containerInfo:Ro(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function jo(e,t){switch(t.tag){case 2:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&(n[H]=r,jr(n,o,i,e,r))}break;case 6:null===t.stateNode&&p("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 15:case 16:break;default:p("163")}}function Ho(e,t,n){(n=Mi(n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qa(r),Lo(e,t)},n}function zo(e,t,n){(n=Mi(n)).tag=3;var r=e.stateNode;return null!==r&&"function"==typeof r.componentDidCatch&&(n.callback=function(){null===aa?aa=new Set([this]):aa.add(this);var n=t.value,r=t.stack;Lo(e,t),this.componentDidCatch(n,{componentStack:null!==r?r:""})}),n}function Go(e,t,n,r,i,o){n.effectTag|=512,n.firstEffect=n.lastEffect=null,r=ji(r,n),e=t;do{switch(e.tag){case 3:return e.effectTag|=1024,void Li(e,r=Ho(e,r,o),o);case 2:if(t=r,n=e.stateNode,0==(64&e.effectTag)&&null!==n&&"function"==typeof n.componentDidCatch&&(null===aa||!aa.has(n)))return e.effectTag|=1024,void Li(e,r=zo(e,t,o),o)}e=e.return}while(null!==e)}function qo(e){switch(e.tag){case 2:hi(e);var t=e.effectTag;return 1024&t?(e.effectTag=-1025&t|64,e):null;case 3:return Ji(),pi(),1024&(t=e.effectTag)?(e.effectTag=-1025&t|64,e):null;case 5:return eo(e),null;case 16:return 1024&(t=e.effectTag)?(e.effectTag=-1025&t|64,e):null;case 4:return Ji(),null;case 13:return Wi(e),null;default:return null}}No=function(){},Mo=function(e,t,n){(t.updateQueue=n)&&Bo(t)},Oo=function(e,t,n,r){n!==r&&Bo(t)};var Wo=Yr(),Ko=2,Qo=Wo,Yo=0,Xo=0,$o=!1,Zo=null,Jo=null,ea=0,ta=-1,na=!1,ra=null,ia=!1,oa=!1,aa=null;function sa(){if(null!==Zo)for(var e=Zo.return;null!==e;){var t=e;switch(t.tag){case 2:hi(t);break;case 3:Ji(),pi();break;case 5:eo(t);break;case 4:Ji();break;case 13:Wi(t)}e=e.return}Jo=null,ea=0,ta=-1,na=!1,Zo=null,oa=!1}function la(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(0==(512&e.effectTag)){t=Ao(t,e);var i=e;if(1073741823===ea||1073741823!==i.expirationTime){var o=0;switch(i.tag){case 3:case 2:var a=i.updateQueue;null!==a&&(o=a.expirationTime)}for(a=i.child;null!==a;)0!==a.expirationTime&&(0===o||o>a.expirationTime)&&(o=a.expirationTime),a=a.sibling;i.expirationTime=o}if(null!==t)return t;if(null!==n&&0==(512&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e)),null!==r)return r;if(null===n){oa=!0;break}e=n}else{if(null!==(e=qo(e)))return e.effectTag&=511,e;if(null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=512),null!==r)return r;if(null===n)break;e=n}}return null}function ua(e){var t=Io(e.alternate,e,ea);return null===t&&(t=la(e)),ot.current=null,t}function ca(e,t,n){$o&&p("243"),$o=!0,t===ea&&e===Jo&&null!==Zo||(sa(),ea=t,ta=-1,Zo=bi((Jo=e).current,null,ea),e.pendingCommitExpirationTime=0);var r=!1;for(na=!n||ea<=Ko;;){try{if(n)for(;null!==Zo&&!Ka();)Zo=ua(Zo);else for(;null!==Zo;)Zo=ua(Zo)}catch(t){if(null===Zo)r=!0,Qa(t);else{null===Zo&&p("271");var i=(n=Zo).return;if(null===i){r=!0,Qa(t);break}Go(e,i,n,t,0,ea),Zo=la(n)}}break}if($o=!1,r)return null;if(null===Zo){if(oa)return e.pendingCommitExpirationTime=t,e.current.alternate;na&&p("262"),0<=ta&&setTimeout(function(){var t=e.current.expirationTime;0!==t&&(0===e.remainingExpirationTime||e.remainingExpirationTime<t)&&Fa(e,t)},ta),function(e){null===wa&&p("246"),wa.remainingExpirationTime=e}(e.current.expirationTime)}return null}function ha(e,t){var n;e:{for($o&&!ia&&p("263"),n=e.return;null!==n;){switch(n.tag){case 2:var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromCatch||"function"==typeof r.componentDidCatch&&(null===aa||!aa.has(r))){Ai(n,e=zo(n,e=ji(t,e),1),1),fa(n,1),n=void 0;break e}break;case 3:Ai(n,e=Ho(n,e=ji(t,e),1),1),fa(n,1),n=void 0;break e}n=n.return}3===e.tag&&(Ai(e,n=Ho(e,n=ji(t,e),1),1),fa(e,1)),n=void 0}return n}function pa(){var e=2+25*(1+((va()-2+500)/25|0));return e<=Yo&&(e=Yo+1),Yo=e}function da(e,t){return e=0!==Xo?Xo:$o?ia?1:ea:1&t.mode?Ma?2+10*(1+((e-2+15)/10|0)):2+25*(1+((e-2+500)/25|0)):1,Ma&&(0===ka||e>ka)&&(ka=e),e}function fa(e,t){for(;null!==e;){if((0===e.expirationTime||e.expirationTime>t)&&(e.expirationTime=t),null!==e.alternate&&(0===e.alternate.expirationTime||e.alternate.expirationTime>t)&&(e.alternate.expirationTime=t),null===e.return){if(3!==e.tag)break;var n=e.stateNode;!$o&&0!==ea&&t<ea&&sa();var r=n.current.expirationTime;$o&&!ia&&Jo===n||Fa(n,r),La>Aa&&p("185")}e=e.return}}function va(){return Qo=Yr()-Wo,Ko=2+(Qo/10|0)}function ma(e){var t=Xo;Xo=2+25*(1+((va()-2+500)/25|0));try{return e()}finally{Xo=t}}function ga(e,t,n,r,i){var o=Xo;Xo=1;try{return e(t,n,r,i)}finally{Xo=o}}var ba=null,ya=null,Ca=0,xa=-1,_a=!1,wa=null,Sa=0,ka=0,Ta=!1,Ea=!1,Pa=null,Ia=null,Ba=!1,Na=!1,Ma=!1,Oa=null,Aa=1e3,La=0,Da=1;function Ra(e){if(0!==Ca){if(e>Ca)return;$r(xa)}var t=Yr()-Wo;Ca=e,xa=Xr(Ua,{timeout:10*(e-2)-t})}function Fa(e,t){if(null===e.nextScheduledRoot)e.remainingExpirationTime=t,null===ya?(ba=ya=e,e.nextScheduledRoot=e):(ya=ya.nextScheduledRoot=e).nextScheduledRoot=ba;else{var n=e.remainingExpirationTime;(0===n||t<n)&&(e.remainingExpirationTime=t)}_a||(Ba?Na&&(wa=e,Sa=1,qa(e,1,!1)):1===t?ja():Ra(t))}function Va(){var e=0,t=null;if(null!==ya)for(var n=ya,r=ba;null!==r;){var i=r.remainingExpirationTime;if(0===i){if((null===n||null===ya)&&p("244"),r===r.nextScheduledRoot){ba=ya=r.nextScheduledRoot=null;break}if(r===ba)ba=i=r.nextScheduledRoot,ya.nextScheduledRoot=i,r.nextScheduledRoot=null;else{if(r===ya){(ya=n).nextScheduledRoot=ba,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if((0===e||i<e)&&(e=i,t=r),r===ya)break;n=r,r=r.nextScheduledRoot}}null!==(n=wa)&&n===t&&1===e?La++:La=0,wa=t,Sa=e}function Ua(e){Ha(0,!0,e)}function ja(){Ha(1,!1,null)}function Ha(e,t,n){if(Ia=n,Va(),t)for(;null!==wa&&0!==Sa&&(0===e||e>=Sa)&&(!Ta||va()>=Sa);)va(),qa(wa,Sa,!Ta),Va();else for(;null!==wa&&0!==Sa&&(0===e||e>=Sa);)qa(wa,Sa,!1),Va();null!==Ia&&(Ca=0,xa=-1),0!==Sa&&Ra(Sa),Ia=null,Ta=!1,Ga()}function za(e,t){_a&&p("253"),wa=e,Sa=t,qa(e,t,!1),ja(),Ga()}function Ga(){if(La=0,null!==Oa){var e=Oa;Oa=null;for(var t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){Ea||(Ea=!0,Pa=e)}}}if(Ea)throw e=Pa,Pa=null,Ea=!1,e}function qa(e,t,n){_a&&p("245"),_a=!0,n?null!==(n=e.finishedWork)?Wa(e,n,t):(e.finishedWork=null,null!==(n=ca(e,t,!0))&&(Ka()?e.finishedWork=n:Wa(e,n,t))):null!==(n=e.finishedWork)?Wa(e,n,t):(e.finishedWork=null,null!==(n=ca(e,t,!1))&&Wa(e,n,t)),_a=!1}function Wa(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime<=n&&(null===Oa?Oa=[r]:Oa.push(r),r._defer))return e.finishedWork=t,void(e.remainingExpirationTime=0);if(e.finishedWork=null,ia=$o=!0,(n=t.stateNode).current===t&&p("177"),0===(r=n.pendingCommitExpirationTime)&&p("261"),n.pendingCommitExpirationTime=0,va(),ot.current=null,1<t.effectTag)if(null!==t.lastEffect){t.lastEffect.nextEffect=t;var i=t.firstEffect}else i=t;else i=t.firstEffect;qr=In;var o=l();if(Hn(o)){if("selectionStart"in o)var a={start:o.selectionStart,end:o.selectionEnd};else e:{var s=window.getSelection&&window.getSelection();if(s&&0!==s.rangeCount){a=s.anchorNode;var u=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{a.nodeType,h.nodeType}catch(e){a=null;break e}var d=0,f=-1,v=-1,m=0,g=0,b=o,y=null;t:for(;;){for(var C;b!==a||0!==u&&3!==b.nodeType||(f=d+u),b!==h||0!==s&&3!==b.nodeType||(v=d+s),3===b.nodeType&&(d+=b.nodeValue.length),null!==(C=b.firstChild);)y=b,b=C;for(;;){if(b===o)break t;if(y===a&&++m===u&&(f=d),y===h&&++g===s&&(v=d),null!==(C=b.nextSibling))break;y=(b=y).parentNode}b=C}a=-1===f||-1===v?null:{start:f,end:v}}else a=null}a=a||{start:0,end:0}}else a=null;for(Wr={focusedElem:o,selectionRange:a},Bn(!1),ra=i;null!==ra;){o=!1,a=void 0;try{for(;null!==ra;){if(256&ra.effectTag){var x=ra.alternate;switch((u=ra).tag){case 2:if(256&u.effectTag&&null!==x){var _=x.memoizedProps,w=x.memoizedState,S=u.stateNode;S.props=u.memoizedProps,S.state=u.memoizedState;var k=S.getSnapshotBeforeUpdate(_,w);S.__reactInternalSnapshotBeforeUpdate=k}break;case 3:case 5:case 6:case 4:break;default:p("163")}}ra=ra.nextEffect}}catch(e){o=!0,a=e}o&&(null===ra&&p("178"),ha(ra,a),null!==ra&&(ra=ra.nextEffect))}for(ra=i;null!==ra;){x=!1,_=void 0;try{for(;null!==ra;){var T=ra.effectTag;if(16&T&&Pr(ra.stateNode,""),128&T){var E=ra.alternate;if(null!==E){var P=E.ref;null!==P&&("function"==typeof P?P(null):P.current=null)}}switch(14&T){case 2:Vo(ra),ra.effectTag&=-3;break;case 6:Vo(ra),ra.effectTag&=-3,jo(ra.alternate,ra);break;case 4:jo(ra.alternate,ra);break;case 8:Uo(w=ra),w.return=null,w.child=null,w.alternate&&(w.alternate.child=null,w.alternate.return=null)}ra=ra.nextEffect}}catch(e){x=!0,_=e}x&&(null===ra&&p("178"),ha(ra,_),null!==ra&&(ra=ra.nextEffect))}if(P=Wr,E=l(),T=P.focusedElem,x=P.selectionRange,E!==T&&c(document.documentElement,T)){Hn(T)&&(E=x.start,void 0===(P=x.end)&&(P=E),"selectionStart"in T?(T.selectionStart=E,T.selectionEnd=Math.min(P,T.value.length)):window.getSelection&&(E=window.getSelection(),_=T[fe()].length,P=Math.min(x.start,_),x=void 0===x.end?P:Math.min(x.end,_),!E.extend&&P>x&&(_=x,x=P,P=_),_=jn(T,P),w=jn(T,x),_&&w&&(1!==E.rangeCount||E.anchorNode!==_.node||E.anchorOffset!==_.offset||E.focusNode!==w.node||E.focusOffset!==w.offset)&&((S=document.createRange()).setStart(_.node,_.offset),E.removeAllRanges(),P>x?(E.addRange(S),E.extend(w.node,w.offset)):(S.setEnd(w.node,w.offset),E.addRange(S))))),E=[];for(P=T;P=P.parentNode;)1===P.nodeType&&E.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(T.focus(),T=0;T<E.length;T++)(P=E[T]).element.scrollLeft=P.left,P.element.scrollTop=P.top}for(Wr=null,Bn(qr),qr=null,n.current=t,ra=i;null!==ra;){i=!1,T=void 0;try{for(E=r;null!==ra;){var I=ra.effectTag;if(36&I){var B=ra.alternate;switch(x=E,(P=ra).tag){case 2:var N=P.stateNode;if(4&P.effectTag)if(null===B)N.props=P.memoizedProps,N.state=P.memoizedState,N.componentDidMount();else{var M=B.memoizedProps,O=B.memoizedState;N.props=P.memoizedProps,N.state=P.memoizedState,N.componentDidUpdate(M,O,N.__reactInternalSnapshotBeforeUpdate)}var A=P.updateQueue;null!==A&&(N.props=P.memoizedProps,N.state=P.memoizedState,Ui(P,A,N));break;case 3:var L=P.updateQueue;if(null!==L){if(_=null,null!==P.child)switch(P.child.tag){case 5:_=P.child.stateNode;break;case 2:_=P.child.stateNode}Ui(P,L,_)}break;case 5:var D=P.stateNode;null===B&&4&P.effectTag&&Kr(P.type,P.memoizedProps)&&D.focus();break;case 6:case 4:case 15:case 16:break;default:p("163")}}if(128&I){P=void 0;var R=ra.ref;if(null!==R){var F=ra.stateNode;switch(ra.tag){case 5:P=F;break;default:P=F}"function"==typeof R?R(P):R.current=P}}var V=ra.nextEffect;ra.nextEffect=null,ra=V}}catch(e){i=!0,T=e}i&&(null===ra&&p("178"),ha(ra,T),null!==ra&&(ra=ra.nextEffect))}$o=ia=!1,Ei(t.stateNode),0===(t=n.current.expirationTime)&&(aa=null),e.remainingExpirationTime=t}function Ka(){return!(null===Ia||Ia.timeRemaining()>Da)&&(Ta=!0)}function Qa(e){null===wa&&p("246"),wa.remainingExpirationTime=0,Ea||(Ea=!0,Pa=e)}function Ya(e,t){var n=Ba;Ba=!0;try{return e(t)}finally{(Ba=n)||_a||ja()}}function Xa(e,t){if(Ba&&!Na){Na=!0;try{return e(t)}finally{Na=!1}}return e(t)}function $a(e,t){_a&&p("187");var n=Ba;Ba=!0;try{return ga(e,t)}finally{Ba=n,ja()}}function Za(e){var t=Ba;Ba=!0;try{ga(e)}finally{(Ba=t)||_a||Ha(1,!1,null)}}function Ja(e,t,n,r,i){var o=t.current;if(n){var a;n=n._reactInternalFiber;e:{for(2===an(n)&&2===n.tag||p("170"),a=n;3!==a.tag;){if(ci(a)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}(a=a.return)||p("171")}a=a.stateNode.context}n=ci(n)?fi(n,a):a}else n=h;return null===t.context?t.context=n:t.pendingContext=n,t=i,(i=Mi(r)).payload={element:e},null!==(t=void 0===t?null:t)&&(i.callback=t),Ai(o,i,r),fa(o,r),r}function es(e){var t=e._reactInternalFiber;return void 0===t&&("function"==typeof e.render?p("188"):p("268",Object.keys(e))),null===(e=un(t))?null:e.stateNode}function ts(e,t,n,r){var i=t.current;return Ja(e,t,n,i=da(va(),i),r)}function ns(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function rs(e){var t=e.findFiberByHostInstance;return function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Si=Ti(function(e){return t.onCommitFiberRoot(n,e)}),ki=Ti(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}return!0}(a({},e,{findHostInstanceByFiber:function(e){return null===(e=un(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}var is=Ya,os=function(e,t,n){if(Ma)return e(t,n);Ba||_a||0===ka||(Ha(ka,!1,null),ka=0);var r=Ma,i=Ba;Ba=Ma=!0;try{return e(t,n)}finally{Ma=r,(Ba=i)||_a||ja()}},as=function(){_a||0===ka||(Ha(ka,!1,null),ka=0)};function ss(e){this._expirationTime=pa(),this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function ls(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function us(e,t,n){this._internalRoot=wi(e,t,n)}function cs(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function hs(e,t,n,r,i){cs(n)||p("200");var o=n._reactRootContainer;if(o){if("function"==typeof i){var a=i;i=function(){var e=ns(o._internalRoot);a.call(e)}}null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new us(e,!1,t)}(n,r),"function"==typeof i){var s=i;i=function(){var e=ns(o._internalRoot);s.call(e)}}Xa(function(){null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)})}return ns(o._internalRoot)}function ps(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return cs(t)||p("200"),function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:lt,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Ve.injectFiberControlledHostComponent(Gr),ss.prototype.render=function(e){this._defer||p("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new ls;return Ja(e,t,null,n,r._onCommit),r},ss.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},ss.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||p("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,i=t;i!==this;)r=i,i=i._next;null===r&&p("251"),r._next=i._next,this._next=t,e.firstBatch=this}this._defer=!1,za(e,n),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},ss.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},ls.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},ls.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n&&p("191",n),n()}}},us.prototype.render=function(e,t){var n=this._internalRoot,r=new ls;return null!==(t=void 0===t?null:t)&&r.then(t),ts(e,n,null,r._onCommit),r},us.prototype.unmount=function(e){var t=this._internalRoot,n=new ls;return null!==(e=void 0===e?null:e)&&n.then(e),ts(null,t,null,n._onCommit),n},us.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,i=new ls;return null!==(n=void 0===n?null:n)&&i.then(n),ts(t,r,e,i._onCommit),i},us.prototype.createBatch=function(){var e=new ss(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime<=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},Ke=is,Qe=os,Ye=as;var ds={createPortal:ps,findDOMNode:function(e){return null==e?null:1===e.nodeType?e:es(e)},hydrate:function(e,t,n){return hs(null,e,t,!0,n)},render:function(e,t,n){return hs(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return(null==e||void 0===e._reactInternalFiber)&&p("38"),hs(e,t,n,!1,r)},unmountComponentAtNode:function(e){return cs(e)||p("40"),!!e._reactRootContainer&&(Xa(function(){hs(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return ps.apply(void 0,arguments)},unstable_batchedUpdates:Ya,unstable_deferredUpdates:ma,flushSync:$a,unstable_flushControlled:Za,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{EventPluginHub:V,EventPluginRegistry:S,EventPropagators:ne,ReactControlledComponent:We,ReactDOMComponentTree:W,ReactDOMEventListener:Ln},unstable_createRoot:function(e,t){return new us(e,!0,null!=t&&!0===t.hydrate)}};rs({findFiberByHostInstance:z,bundleType:0,version:"16.4.0",rendererPackageName:"react-dom"});var fs={default:ds},vs=fs&&ds||fs;e.exports=vs.default?vs.default:vs},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in n=Object(arguments[l]))i.call(n,u)&&(s[u]=n[u]);if(r){a=r(n);for(var c=0;c<a.length;c++)o.call(n,a[c])&&(s[a[c]]=n[a[c]])}}return s}},function(e,t,n){"use strict";
/** @license React v16.4.0
 * react.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(414),i=n(73),o=n(180),a=n(94),s="function"==typeof Symbol&&Symbol.for,l=s?Symbol.for("react.element"):60103,u=s?Symbol.for("react.portal"):60106,c=s?Symbol.for("react.fragment"):60107,h=s?Symbol.for("react.strict_mode"):60108,p=s?Symbol.for("react.profiler"):60114,d=s?Symbol.for("react.provider"):60109,f=s?Symbol.for("react.context"):60110,v=s?Symbol.for("react.async_mode"):60111,m=s?Symbol.for("react.forward_ref"):60112;s&&Symbol.for("react.timeout");var g="function"==typeof Symbol&&Symbol.iterator;function b(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);i(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function C(e,t,n){this.props=e,this.context=t,this.refs=o,this.updater=n||y}function x(){}function _(e,t,n){this.props=e,this.context=t,this.refs=o,this.updater=n||y}C.prototype.isReactComponent={},C.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&b("85"),this.updater.enqueueSetState(this,e,t,"setState")},C.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=C.prototype;var w=_.prototype=new x;w.constructor=_,r(w,C.prototype),w.isPureReactComponent=!0;var S={current:null},k=Object.prototype.hasOwnProperty,T={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r=void 0,i={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)k.call(t,r)&&!T.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:l,type:e,key:o,ref:a,props:i,_owner:S.current}}function P(e){return"object"==typeof e&&null!==e&&e.$$typeof===l}var I=/\/+/g,B=[];function N(e,t,n,r){if(B.length){var i=B.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function M(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>B.length&&B.push(e)}function O(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case l:case u:o=!0}}if(o)return n(r,e,""===t?"."+A(e,0):t),1;if(o=0,t=""===t?".":t+":",Array.isArray(e))for(var a=0;a<e.length;a++){var s=t+A(i=e[a],a);o+=O(i,s,n,r)}else if(null===e||void 0===e?s=null:s="function"==typeof(s=g&&e[g]||e["@@iterator"])?s:null,"function"==typeof s)for(e=s.call(e),a=0;!(i=e.next()).done;)o+=O(i=i.value,s=t+A(i,a++),n,r);else"object"===i&&b("31","[object Object]"===(n=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":n,"");return o}function A(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function L(e,t){e.func.call(e.context,t,e.count++)}function D(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?R(e,r,n,a.thatReturnsArgument):null!=e&&(P(e)&&(t=i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(I,"$&/")+"/")+n,e={$$typeof:l,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}),r.push(e))}function R(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(I,"$&/")+"/"),t=N(t,o,r,i),null==e||O(e,"",D,t),M(t)}var F={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return R(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;t=N(null,null,t,n),null==e||O(e,"",L,t),M(t)},count:function(e){return null==e?0:O(e,"",a.thatReturnsNull,null)},toArray:function(e){var t=[];return R(e,t,null,a.thatReturnsArgument),t},only:function(e){return P(e)||b("143"),e}},createRef:function(){return{current:null}},Component:C,PureComponent:_,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_defaultValue:e,_currentValue:e,_currentValue2:e,_changedBits:0,_changedBits2:0,Provider:null,Consumer:null}).Provider={$$typeof:d,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:m,render:e}},Fragment:c,StrictMode:h,unstable_AsyncMode:v,unstable_Profiler:p,createElement:E,cloneElement:function(e,t,n){(null===e||void 0===e)&&b("267",e);var i=void 0,o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){void 0!==t.ref&&(s=t.ref,u=S.current),void 0!==t.key&&(a=""+t.key);var c=void 0;for(i in e.type&&e.type.defaultProps&&(c=e.type.defaultProps),t)k.call(t,i)&&!T.hasOwnProperty(i)&&(o[i]=void 0===t[i]&&void 0!==c?c[i]:t[i])}if(1===(i=arguments.length-2))o.children=n;else if(1<i){c=Array(i);for(var h=0;h<i;h++)c[h]=arguments[h+2];o.children=c}return{$$typeof:l,type:e.type,key:a,ref:s,props:o,_owner:u}},createFactory:function(e){var t=E.bind(null,e);return t.type=e,t},isValidElement:P,version:"16.4.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:S,assign:r}},V={default:F},U=V&&F||V;e.exports=U.default?U.default:U},function(e,t,n){"use strict";var r,i;r=[n(38),n(1),n(117)],void 0===(i=function(e,t,n){var r,i;return i=function(e,t){var n;return(n=new window.Error(e)).name=t,n},r=function(){function e(e){if(this.title=e.title,this.description=e.description,this.snapshotLink=e.snapshotLink,!t.all([this.title,this.description,this.snapshotLink],function(e){return t.isString(e)}))throw i("Could not complete operation","SyntaxError")}return e.prototype.title="",e.prototype.description="",e}(),new(function(){function t(){}return t.prototype.getAvailableSetups=function(t){var n,o,a;return n=t.dev,o=n.avb.getModelName(n.get("uid")),a=n.baseURL+"quick_setup/index.json",e({url:a}).then(function(e){var t;return t=e.response,JSON.parse(t)}).catch(function(e){return"SyntaxError"===e.name},function(){throw i("Could not complete operation","SyntaxError")}).then(function(e){var t,n,i,a,s,l,u,c;for(l=[],n=0,i=e.length;n<i;n++)if(null!=(u=null!=(s=(a=e[n]).snapshot_links)?s[o]:void 0)){c=a.title,t=a.description;try{l.push(new r({title:c,description:t,snapshotLink:u}))}catch(e){}}return l})},t.prototype.apply=function(t){var r,i,o,a;return r=t.dev,o=t.setup,i=(i=window.encodeURIComponent(o.snapshotLink)).replace(new RegExp("%2F","g"),"/"),a=""+r.baseURL+i,e({url:a}).then(function(e){var t;return t=e.response,n.unserialize(t)}).then(function(e){return e.apply(r,{})})},t}())}.apply(t,r))||(e.exports=i)},function(e,t,n){(function(e){var t={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_f:String.fromCharCode,compressToBase64:function(e){if(null==e)return"";var n,r,i,o,a,s,l,u="",c=0;for(e=t.compress(e);c<2*e.length;)c%2==0?(n=e.charCodeAt(c/2)>>8,r=255&e.charCodeAt(c/2),i=c/2+1<e.length?e.charCodeAt(c/2+1)>>8:NaN):(n=255&e.charCodeAt((c-1)/2),(c+1)/2<e.length?(r=e.charCodeAt((c+1)/2)>>8,i=255&e.charCodeAt((c+1)/2)):r=i=NaN),c+=3,o=n>>2,a=(3&n)<<4|r>>4,s=(15&r)<<2|i>>6,l=63&i,isNaN(r)?s=l=64:isNaN(i)&&(l=64),u=u+t._keyStr.charAt(o)+t._keyStr.charAt(a)+t._keyStr.charAt(s)+t._keyStr.charAt(l);return u},decompressFromBase64:function(e){if(null==e)return"";var n,r,i,o,a,s,l,u="",c=0,h=0,p=t._f;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");h<e.length;)r=t._keyStr.indexOf(e.charAt(h++))<<2|(a=t._keyStr.indexOf(e.charAt(h++)))>>4,i=(15&a)<<4|(s=t._keyStr.indexOf(e.charAt(h++)))>>2,o=(3&s)<<6|(l=t._keyStr.indexOf(e.charAt(h++))),c%2==0?(n=r<<8,64!=s&&(u+=p(n|i)),64!=l&&(n=o<<8)):(u+=p(n|r),64!=s&&(n=i<<8),64!=l&&(u+=p(n|o))),c+=3;return t.decompress(u)},compressToUTF16:function(e){if(null==e)return"";var n,r,i,o="",a=0,s=t._f;for(e=t.compress(e),n=0;n<e.length;n++)switch(r=e.charCodeAt(n),a++){case 0:o+=s(32+(r>>1)),i=(1&r)<<14;break;case 1:o+=s(i+(r>>2)+32),i=(3&r)<<13;break;case 2:o+=s(i+(r>>3)+32),i=(7&r)<<12;break;case 3:o+=s(i+(r>>4)+32),i=(15&r)<<11;break;case 4:o+=s(i+(r>>5)+32),i=(31&r)<<10;break;case 5:o+=s(i+(r>>6)+32),i=(63&r)<<9;break;case 6:o+=s(i+(r>>7)+32),i=(127&r)<<8;break;case 7:o+=s(i+(r>>8)+32),i=(255&r)<<7;break;case 8:o+=s(i+(r>>9)+32),i=(511&r)<<6;break;case 9:o+=s(i+(r>>10)+32),i=(1023&r)<<5;break;case 10:o+=s(i+(r>>11)+32),i=(2047&r)<<4;break;case 11:o+=s(i+(r>>12)+32),i=(4095&r)<<3;break;case 12:o+=s(i+(r>>13)+32),i=(8191&r)<<2;break;case 13:o+=s(i+(r>>14)+32),i=(16383&r)<<1;break;case 14:o+=s(i+(r>>15)+32,32+(32767&r)),a=0}return o+s(i+32)},decompressFromUTF16:function(e){if(null==e)return"";for(var n,r,i="",o=0,a=0,s=t._f;a<e.length;){switch(r=e.charCodeAt(a)-32,o++){case 0:n=r<<1;break;case 1:i+=s(n|r>>14),n=(16383&r)<<2;break;case 2:i+=s(n|r>>13),n=(8191&r)<<3;break;case 3:i+=s(n|r>>12),n=(4095&r)<<4;break;case 4:i+=s(n|r>>11),n=(2047&r)<<5;break;case 5:i+=s(n|r>>10),n=(1023&r)<<6;break;case 6:i+=s(n|r>>9),n=(511&r)<<7;break;case 7:i+=s(n|r>>8),n=(255&r)<<8;break;case 8:i+=s(n|r>>7),n=(127&r)<<9;break;case 9:i+=s(n|r>>6),n=(63&r)<<10;break;case 10:i+=s(n|r>>5),n=(31&r)<<11;break;case 11:i+=s(n|r>>4),n=(15&r)<<12;break;case 12:i+=s(n|r>>3),n=(7&r)<<13;break;case 13:i+=s(n|r>>2),n=(3&r)<<14;break;case 14:i+=s(n|r>>1),n=(1&r)<<15;break;case 15:i+=s(n|r),o=0}a++}return t.decompress(i)},compress:function(e){if(null==e)return"";var n,r,i,o={},a={},s="",l="",u="",c=2,h=3,p=2,d="",f=0,v=0,m=t._f;for(i=0;i<e.length;i+=1)if(s=e.charAt(i),Object.prototype.hasOwnProperty.call(o,s)||(o[s]=h++,a[s]=!0),l=u+s,Object.prototype.hasOwnProperty.call(o,l))u=l;else{if(Object.prototype.hasOwnProperty.call(a,u)){if(u.charCodeAt(0)<256){for(n=0;n<p;n++)f<<=1,15==v?(v=0,d+=m(f),f=0):v++;for(r=u.charCodeAt(0),n=0;n<8;n++)f=f<<1|1&r,15==v?(v=0,d+=m(f),f=0):v++,r>>=1}else{for(r=1,n=0;n<p;n++)f=f<<1|r,15==v?(v=0,d+=m(f),f=0):v++,r=0;for(r=u.charCodeAt(0),n=0;n<16;n++)f=f<<1|1&r,15==v?(v=0,d+=m(f),f=0):v++,r>>=1}0==--c&&(c=Math.pow(2,p),p++),delete a[u]}else for(r=o[u],n=0;n<p;n++)f=f<<1|1&r,15==v?(v=0,d+=m(f),f=0):v++,r>>=1;0==--c&&(c=Math.pow(2,p),p++),o[l]=h++,u=String(s)}if(""!==u){if(Object.prototype.hasOwnProperty.call(a,u)){if(u.charCodeAt(0)<256){for(n=0;n<p;n++)f<<=1,15==v?(v=0,d+=m(f),f=0):v++;for(r=u.charCodeAt(0),n=0;n<8;n++)f=f<<1|1&r,15==v?(v=0,d+=m(f),f=0):v++,r>>=1}else{for(r=1,n=0;n<p;n++)f=f<<1|r,15==v?(v=0,d+=m(f),f=0):v++,r=0;for(r=u.charCodeAt(0),n=0;n<16;n++)f=f<<1|1&r,15==v?(v=0,d+=m(f),f=0):v++,r>>=1}0==--c&&(c=Math.pow(2,p),p++),delete a[u]}else for(r=o[u],n=0;n<p;n++)f=f<<1|1&r,15==v?(v=0,d+=m(f),f=0):v++,r>>=1;0==--c&&(c=Math.pow(2,p),p++)}for(r=2,n=0;n<p;n++)f=f<<1|1&r,15==v?(v=0,d+=m(f),f=0):v++,r>>=1;for(;;){if(f<<=1,15==v){d+=m(f);break}v++}return d},decompress:function(e){if(null==e)return"";if(""==e)return null;var n,r,i,o,a,s,l,u=[],c=4,h=4,p=3,d="",f="",v=t._f,m={string:e,val:e.charCodeAt(0),position:32768,index:1};for(n=0;n<3;n+=1)u[n]=n;for(i=0,a=Math.pow(2,2),s=1;s!=a;)o=m.val&m.position,m.position>>=1,0==m.position&&(m.position=32768,m.val=m.string.charCodeAt(m.index++)),i|=(o>0?1:0)*s,s<<=1;switch(i){case 0:for(i=0,a=Math.pow(2,8),s=1;s!=a;)o=m.val&m.position,m.position>>=1,0==m.position&&(m.position=32768,m.val=m.string.charCodeAt(m.index++)),i|=(o>0?1:0)*s,s<<=1;l=v(i);break;case 1:for(i=0,a=Math.pow(2,16),s=1;s!=a;)o=m.val&m.position,m.position>>=1,0==m.position&&(m.position=32768,m.val=m.string.charCodeAt(m.index++)),i|=(o>0?1:0)*s,s<<=1;l=v(i);break;case 2:return""}for(u[3]=l,r=f=l;;){if(m.index>m.string.length)return"";for(i=0,a=Math.pow(2,p),s=1;s!=a;)o=m.val&m.position,m.position>>=1,0==m.position&&(m.position=32768,m.val=m.string.charCodeAt(m.index++)),i|=(o>0?1:0)*s,s<<=1;switch(l=i){case 0:for(i=0,a=Math.pow(2,8),s=1;s!=a;)o=m.val&m.position,m.position>>=1,0==m.position&&(m.position=32768,m.val=m.string.charCodeAt(m.index++)),i|=(o>0?1:0)*s,s<<=1;u[h++]=v(i),l=h-1,c--;break;case 1:for(i=0,a=Math.pow(2,16),s=1;s!=a;)o=m.val&m.position,m.position>>=1,0==m.position&&(m.position=32768,m.val=m.string.charCodeAt(m.index++)),i|=(o>0?1:0)*s,s<<=1;u[h++]=v(i),l=h-1,c--;break;case 2:return f}if(0==c&&(c=Math.pow(2,p),p++),u[l])d=u[l];else{if(l!==h)return null;d=r+r.charAt(0)}f+=d,u[h++]=r+d.charAt(0),r=d,0==--c&&(c=Math.pow(2,p),p++)}}};void 0!==e&&null!=e&&(e.exports=t)}).call(this,n(120)(e))},function(e,t,n){"use strict";var r,i;r=[n(117),n(5),n(1)],void 0===(i=function(e,t,n){return function(){function r(t){var r,i,o,a;for(this.dev=t,this.subDev=new this.dev.SubDevice(this.dev),this.subDev.preset=this.dev.preset=this,this.presetWatchers={},r=0,o=(a=n.keys(e.scopeSpecs)).length;r<o;r++)i=a[r],this.startWatchingPresetScope(i)}return r.prototype.remove=function(){return this.subDev.remove()},r.prototype.mapDeviceScope=function(e){var t,n,r,i,o,a;if(n=e.dev,r=e.f,(t=n.get("ext/presets/device").split(":")).length%2==0)for(i=o=0,a=t.length;o<a;i=o+=2)r({id:+t[i],name:t[i+1]})},r.prototype.mapUserScope=function(e){var t,n,r,i,o,a,s;if(n=e.dev,r=e.f,s=e.scope,(t=n.get("ext/presets/user").split(":")).length%3==0)for(i=o=0,a=t.length;o<a;i=o+=3)s===t[i+2]&&r({id:+t[i],name:t[i+1]})},r.prototype.mapScope=function(e){var t,n,r;t=e.dev,r=e.scope,n=e.f,"device"===r&&this.mapDeviceScope({dev:t,f:n}),this.mapUserScope({dev:t,f:n,scope:r})},r.prototype.startWatchingPresetScope=function(e){var n;return new t.Function(this.subDev,(n=this,function(t){var r,i;return i=0,r=function(n){var r,o;return r=n.id,o=n.name,t.set("meta/presets/"+e+"/names/"+r,o),t.set("meta/presets/"+e+"/"+i+"/id",r),i+=1},n.mapScope({dev:t,scope:e,f:r}),t.set("meta/presets/"+e+"/numPresets",i)})),new t.Function(this.subDev,function(t){return function(n){var r,i,o,a;if(null!=(o=n.get("preferences/presets/"+e+"/current")))return r=null,i=Infinity,o=+o,a=function(e){var t,n;if(t=e.id,(n=Math.abs(t-o)*(t>o?1e4:1))<i)return i=n,r=t},t.mapScope({dev:n,scope:e,f:a}),null!=r?n.set("meta/presets/"+e+"/current",r):n.set("meta/presets/"+e+"/current","");n.set("meta/presets/"+e+"/current","")}}(this))},r}()}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(50),n(5),n(1)],void 0===(i=function(e,t,n){return function(){function r(e){this.dev=e,this.subDev=new this.dev.SubDevice(this.dev),this.subDev.router=this.dev.router=this}return r.prototype.setup=function(){return this.setupOBanks(),this.setupIBanks()},r.prototype.remove=function(){return this.subDev.remove()},r.prototype.getAVBStreamIndex=function(e){if(-1!==e.indexOf("AVB Stream "))return+e.split("AVB Stream ")[1]-1},r.prototype.getHostConnectionTitle=function(){var e;return null==(e=this.dev.get("host_type"))&&(e="Computer"),e},r.prototype.getHostConnectionAbbrev=function(){var e;return null==(e=this.dev.get("host_type"))?"":"Thunderbolt"===e?"TB":e},r.prototype.getIBankTitle=function(e){var t,n,r,i;return"Computer"===(t=this.getIBankName(e))?"From Computer ("+this.getHostConnectionAbbrev()+")":t.indexOf(!1)&&"toslink"===this.dev.get("ext/ibank/"+e+"/mode")?t.replace("ADAT","TOSLink"):null!=(n=this.getAVBStreamIndex(t))&&(null!=(r=this.dev.avb.getNthInputStreamTalker(this.dev.get("uid"),n))&&(i=this.dev.avb.getTalkerTitle(this.dev.get("uid"),r)),null!=i)?i:t},r.prototype.getIBankName=function(e){return this.dev.get("ext/ibank/"+e+"/name")},r.prototype.getIBankMaxCh=function(e){return this.dev.get("ext/ibank/"+e+"/maxCh")},r.prototype.getIBankNumCh=function(e){return this.dev.get("ext/ibank/"+e+"/numCh")},r.prototype.getIBankUserCh=function(e){return this.dev.get("ext/ibank/"+e+"/userCh")},r.prototype.getIBankCalcCh=function(e){return+this.dev.get("meta/ibank/"+e+"/calcCh")},r.prototype.getIBankChName=function(e){var t,n;return t=e.bn,n=e.cn,this.dev.get("ext/ibank/"+t+"/ch/"+n+"/name")||this.getChNameFromBank({Bank:"IBank"},t,n)},r.prototype.setIBankChName=function(e,t){var n,r;return n=e.bn,r=e.cn,this.dev.set("ext/ibank/"+n+"/ch/"+r+"/name",t)},r.prototype.getOBankName=function(e){return this.dev.get("ext/obank/"+e+"/name")},r.prototype.getOBankTitle=function(e){var t;return"Computer"===(t=this.getOBankName(e))?"To Computer ("+this.getHostConnectionAbbrev()+")":t.indexOf(!1)&&"toslink"===this.dev.get("ext/obank/"+e+"/mode")?t.replace("ADAT","TOSLink"):t},r.prototype.getOBankMaxCh=function(e){return this.dev.get("ext/obank/"+e+"/maxCh")},r.prototype.getOBankNumCh=function(e){return this.dev.get("ext/obank/"+e+"/numCh")},r.prototype.getOBankUserCh=function(e){return this.dev.get("ext/obank/"+e+"/userCh")},r.prototype.getOBankCalcCh=function(e){return+this.dev.get("meta/obank/"+e+"/calcCh")},r.prototype.getOBankChName=function(e){var t,n;return t=e.bn,n=e.cn,this.dev.get("ext/obank/"+t+"/ch/"+n+"/name")||this.getChNameFromBank({Bank:"OBank"},t,n)},r.prototype.setOBankChName=function(e,t){var n,r;return n=e.bn,r=e.cn,this.dev.set("ext/obank/"+n+"/ch/"+r+"/name",t)},r.prototype.setOBankUserCh=function(e,t){return this.dev.set("ext/obank/"+e+"/userCh",t)},r.prototype.setIBankUserCh=function(e,t){return this.dev.set("ext/ibank/"+e+"/userCh",t)},r.prototype.getOBankChSrc=function(e){var t,n;return t=e.bn,n=e.cn,this.dev.get("meta/obank/"+t+"/ch/"+n+"/src")},r.prototype.setOBankChSrc=function(e,t){var n,r;return n=e.bn,r=e.cn,this.dev.set("ext/obank/"+n+"/ch/"+r+"/src",t)},r.prototype.getOBankChSrcName=function(e){var t,n,r;return t=e.bn,n=e.cn,2===(r=this.getOBankChSrc({bn:t,cn:n}).split(":")).length?this.getIBankChName({bn:r[0],cn:r[1]}):""},r.prototype.getNthOutputStreamOBank=function(e){return this.streamOBanks[e]},r.prototype.getNthInputStreamIBank=function(e){return this.streamIBanks[e]},r.prototype.getIBankChMeterIndex=function(e){var t,n,r,i,o,a;if(t=e.bn,n=e.cn,0===this.getIBankCalcCh(t))return null;for(i=+n,r=o=0,a=+t;0<=a?o<a:o>a;r=0<=a?++o:--o)i+=this.getIBankCalcCh(r);return i},r.prototype.getOBankChMeterIndex=function(e){var t,n,r,i,o,a;return t=e.bn,n=e.cn,0===this.getOBankCalcCh(t)?null:(a=this.getOBankChSrc({bn:t,cn:n}))?(r=(o=a.split(":"))[0],i=o[1],this.getIBankChMeterIndex({bn:r,cn:i})):null},r.prototype.updateBankChName=function(e){var t,n,r;return r=e.io,t=e.bn,n=e.cn,this.dev.set("meta/"+r.bank+"/"+t+"/ch/"+n+"/name",this["get"+r.Bank+"ChName"]({bn:t,cn:n}))},r.prototype.updateOBankRouting=function(e){var t,n,r,i,o,a,s,l;if(t=e.bn,n=e.cn,i=(l=this.dev.get("ext/obank/"+t+"/ch/"+n+"/src").split(":"))[0],s="meta/obank/"+t+"/ch/"+n+"/src",null!=(o=l[1]))return r=o<+this.getIBankCalcCh(i),a=n<+this.getOBankCalcCh(t),r&&a?this.dev.set(s,i+":"+o):this.dev.set(s,"");this.dev.set(s,"")},r.prototype.mapIOBanks=function(e,t){var n,r,i,o,a,s,l,u,c,h,p,d,f,v,m,g,b;for(n=0,f=[];d=this["get"+t.Bank+"Name"](n);)f.push(d),n++;for(g=this.dev.get("ext/"+t.bank+"DisplayOrder"),m={},v={},i={},r=o=0,l=f.length;o<l;r=++o)a=f[r],m[a]=[1,r],v[r]=a,i[a]=r;if(g)for(r=s=0,u=(b=g.split(":")).length;s<u;r=++s)a=b[r],m[v[a]]=[0,r];for(f.sort(function(e,t){return m[e][0]>m[t][0]?1:m[e][0]<m[t][0]?-1:m[e][1]>m[t][1]?1:-1}),h=0,c=f.length;h<c;h++)e(p=f[h],i[p])},r.prototype.mapOBanks=function(e){return this.mapIOBanks(e,{Bank:"OBank",bank:"obank"})},r.prototype.mapIBanks=function(e){return this.mapIOBanks(e,{Bank:"IBank",bank:"ibank"})},r.prototype.getChNameFromBank=function(t,r,i){var o,a,s,l,u,c,h,p,d;return a=this.getIBankName(r),"IBank"===t.Bank&&"AVB"===(s=a.split(" "))[0]&&(p=+s[2]-1,d=this.dev.get("uid"),l=this.dev.get("avb/"+d+"/current_configuration"),void 0!==(o=this.dev.get("avb/"+d+"/cfg/"+l+"/input_streams/"+p+"/ch/"+i+"/name"))&&""!==o)?o:"Mix Post FX"===(a=this["get"+t.Bank+"Title"](r))&&null!=this.dev.mixer?this.dev.mixer.getStripName("chan/"+i)+" Post FX":(0===a.lastIndexOf("Mix ",0)&&(a=a.slice(4)),null!==(c=/^(.*) (\d+)-(\d+)$/.exec(a))?c[1]+" "+(+i+ +c[2]):((c=/(From|To) Computer/.exec(a))&&(a=c[1]+" Computer"),h=["Main","Monitor","Aux","Phones","Mix Main","Mix Monitor","Mix Reverb","SPDIF","TOSLink"],u=2===this["get"+t.Bank+"NumCh"](r)&&n.some(h,function(e){return a.slice(0,e.length)===e})?e.wouldBeFirstChannel(i)?"L":"R":""+(+i+1),a+" "+u))},r.prototype.setupOBanks=function(){return this.streamOBanks={},this.mapOBanks((e=this,function(n,r){var i,o,a,s;for(new t.Function(e.subDev,function(e){var t,n;return t=e.get("ext/obank/"+r+"/numCh"),n=e.get("ext/obank/"+r+"/userCh"),e.set("meta/obank/"+r+"/calcCh",Math.min(t,n))}),-1!==n.indexOf("AVB Stream ")&&(e.streamOBanks[+n.split("AVB Stream ")[1]-1]=r),s=[],i=o=0,a=e.getOBankMaxCh(r);0<=a?o<a:o>a;i=0<=a?++o:--o)s.push(function(n,r){return new t.Function(e.subDev,function(e){return e.router.updateOBankRouting({bn:n,cn:r})}),new t.Function(e.subDev,function(e){return e.router.updateBankChName({io:{bank:"obank",Bank:"OBank"},bn:n,cn:r})})}(r,i));return s}));var e},r.prototype.setupIBanks=function(){return this.streamIBanks={},this.mapIBanks((e=this,function(n,r){var i,o,a,s;for(new t.Function(e.subDev,function(e){var t,n;return t=e.get("ext/ibank/"+r+"/numCh"),n=e.get("ext/ibank/"+r+"/userCh"),e.set("meta/ibank/"+r+"/calcCh",Math.min(t,n))}),-1!==n.indexOf("AVB Stream ")&&(e.streamIBanks[+n.split("AVB Stream ")[1]-1]=r),s=[],i=o=0,a=e.getIBankMaxCh(r);0<=a?o<a:o>a;i=0<=a?++o:--o)s.push(function(n,r){return new t.Function(e.subDev,function(e){return e.router.updateBankChName({io:{bank:"ibank",Bank:"IBank"},bn:n,cn:r})})}(r,i));return s}));var e},r}()}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(1)],void 0===(i=function(e){var t,n,r=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};return n=function(e,t){return 0===e.indexOf(t)?e.substr(t.length):e},t=function(e,t){var n,r,i;for(n=0,i=[];r=e(n);)t(r,n),i.push(n++);return i},function(){function i(e){this.dev=e,this.dev.avb=this}return i.prototype.remove=function(){},i.prototype.getDevs=function(){var e;return this.dev.valid("avb/devs")&&(e=this.dev.get("avb/devs"))?e.split(":"):[]},i.prototype.getName=function(e){return this.dev.get("avb/"+e+"/entity_name")},i.prototype.isMotuDev=function(e){return"MOTU"===this.dev.get("avb/"+e+"/vendor_name")},i.prototype.isControllerIgnore=function(e){var t;return null!=(t=this.dev.get("avb/"+e+"/controller_ignore"))&&0!=+t},i.prototype.getVendorID=function(e){return this.dev.get("avb/"+e+"/entity_model_id_h32")},i.prototype.getHostname=function(e){return this.dev.get("avb/"+e+"/hostname")},i.prototype.getModelID=function(e){return this.dev.get("avb/"+e+"/entity_model_id_l32")},i.prototype.getAcquiredId=function(e){return this.dev.get("avb/"+e+"/acquired_id")},i.prototype.isAcquired=function(e){return""!==this.dev.get("avb/"+e+"/acquired_id")},i.prototype.getNumClockSources=function(e){return this.dev.get("avb/"+e+"/cfg/"+this.getCurConfig(e)+"/clock_sources/num")},i.prototype.getClockSourceIndex=function(e){return this.dev.get("avb/"+e+"/cfg/"+this.getCurConfig(e)+"/clock_source_index")},i.prototype.setClockSourceIndex=function(e,t){return this.dev.set("avb/"+e+"/cfg/"+this.getCurConfig(e)+"/clock_source_index",t)},i.prototype.getNthClockSourceType=function(e,t){return this.dev.get("avb/"+e+"/cfg/"+this.getCurConfig(e)+"/clock_sources/"+t+"/type")},i.prototype.getNthClockSourceStreamID=function(e,t){return this.dev.get("avb/"+e+"/cfg/"+this.getCurConfig(e)+"/clock_sources/"+t+"/stream_id")},i.prototype.getNthClockSourceName=function(e,t){return this.dev.get("avb/"+e+"/cfg/"+this.getCurConfig(e)+"/clock_sources/"+t+"/object_name")},i.prototype.getSampleRates=function(t){var n;return e.map((null!=(n=this.dev.get("avb/"+t+"/cfg/"+this.getCurConfig(t)+"/sample_rates"))?n:"").split(":"),function(e){return+e})},i.prototype.getCurSampleRate=function(e){return+this.dev.get("avb/"+e+"/cfg/"+this.getCurConfig(e)+"/current_sampling_rate")},i.prototype.setCurSampleRate=function(e,t){return this.dev.set("avb/"+e+"/cfg/"+this.getCurConfig(e)+"/current_sampling_rate",t)},i.prototype.hasMasterClockSupport=function(e){return 0!==this.dev.get("avb/"+e+"/master_clock/capable")},i.prototype.getMasterClockUid=function(e){return this.dev.get("avb/"+e+"/master_clock/uid")},i.prototype.setMasterClockUid=function(e,t){return this.dev.set("avb/"+e+"/master_clock/uid",t)},i.prototype.getVendorName=function(e){return this.dev.get("avb/"+e+"/vendor_name")},i.prototype.getModelName=function(e){return this.dev.get("avb/"+e+"/model_name")},i.prototype.getFirmwareVersion=function(e){return this.dev.get("avb/"+e+"/firmware_version").split("\n")[0]},i.prototype.getSerialNumber=function(e){return this.dev.get("avb/"+e+"/serial_number")},i.prototype.getCurConfig=function(e){return this.dev.get("avb/"+e+"/current_configuration")},i.prototype.getNthConfigName=function(e,t){return this.dev.get("avb/"+e+"/cfg/"+t+"/object_name")},i.prototype.getIdentify=function(e){return+this.dev.get("avb/"+e+"/cfg/"+this.getCurConfig(e)+"/identify")},i.prototype.getNumInputStreams=function(e){return this.dev.get("avb/"+e+"/cfg/"+this.getCurConfig(e)+"/input_streams/num")},i.prototype.getNthInputStreamChCount=function(e,t){return this.dev.get("avb/"+e+"/cfg/"+this.getCurConfig(e)+"/input_streams/"+t+"/num_ch")},i.prototype.getNthInputStreamName=function(e,t){return this.dev.get("avb/"+e+"/cfg/"+this.getCurConfig(e)+"/input_streams/"+t+"/object_name")},i.prototype.getNthInputStreamConnectionStatus=function(e,t){return this.dev.get("avb/"+e+"/cfg/"+this.getCurConfig(e)+"/input_streams/"+t+"/connection_status")},i.prototype.getNthInputStreamTalker=function(e,t){return this.dev.get("avb/"+e+"/cfg/"+this.getCurConfig(e)+"/input_streams/"+t+"/talker")},i.prototype.getNumOutputStreams=function(e){return this.dev.get("avb/"+e+"/cfg/"+this.getCurConfig(e)+"/output_streams/num")},i.prototype.getNthOutputStreamChCount=function(e,t){return this.dev.get("avb/"+e+"/cfg/"+this.getCurConfig(e)+"/output_streams/"+t+"/num_ch")},i.prototype.getNthOutputStreamName=function(e,t){return this.dev.get("avb/"+e+"/cfg/"+this.getCurConfig(e)+"/output_streams/"+t+"/object_name")},i.prototype.getNthOutputStreamSampleRates=function(t,n){var r;return e.map((null!=(r=this.dev.get("avb/"+t+"/cfg/"+this.getCurConfig(t)+"/output_streams/"+n+"/sample_rates"))?r:"").split(":"),function(e){return+e})},i.prototype.getValidationResults=function(e){return this.dev.get("avb/"+e+"/cfg/"+this.getCurConfig(e)+"/validation_result")},i.prototype.requiresManualReboot=function(e){return this.getModelName(e).indexOf("UltraLite")>-1},i.prototype.mapIOStreams=function(e,t,n){var r,i,o,a;for(a=[],r=i=0,o=this["getNum"+e+"Streams"](t);0<=o?i<o:i>o;r=0<=o?++i:--i)a.push(n(this["getNth"+e+"StreamName"](t,r),r));return a},i.prototype.mapInputStreams=function(e,t){return this.mapIOStreams("Input",e,t)},i.prototype.mapOutputStreams=function(e,t){return this.mapIOStreams("Output",e,t)},i.prototype.mapConfigurations=function(e,n){return t((r=this,function(t){return r.getNthConfigName(e,t)}),n);var r},i.prototype.getTalkerTitle=function(e,t){var i,o,a,s,l;return 2!==(t=t.split(":")).length||"0000000000000000"===t[0]?null:(o=t[0],r.call(this.getDevs(),o)<0?null:this.getCurSampleRate(t[0])!==(a=this.getCurSampleRate(e))?null:0!==(s=this.getNthOutputStreamSampleRates(t[0],+t[1]))[0]&&r.call(s,a)<0?null:(i=this.getName(t[0]),(l=this.getNthOutputStreamName(t[0],+t[1]))?(l=n(l,"Output Stream "),i+":"+(l=n(l,"Input Stream "))):null))},i}()}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(1),n(5),n(32),n(38),n(2),n(184),n(51),n(33),n(183),n(21),n(41),n(96),n(18)],void 0===(i=function(e,t,n,r,i,o,a,s,l,u,c,h,p){var d,f,v,m,g,b=function(e,t){for(var n in t)y.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},y={}.hasOwnProperty;return g=window,v=function(){function t(e){this.pollURL=e.pollURL,this.perf=e.perf,this.queryString=e.queryString,this.onReceivedServerData=e.onReceivedServerData,this.onError=e.onError,this.paused=e.paused,null==this.paused&&(this.paused=!1),this.errorCount=0,this.inflightReq=null,this.startGettingServerData()}return t.prototype.getURL=function(){return"function"==typeof this.getQueryString?this.getQueryString():void 0,this.queryString?this.pollURL+"?"+this.queryString:this.pollURL},t.prototype.pause=function(){var e;return this.paused=!0,null!=(e=this.inflightReq)&&e.cancel(),this.errorCount=0},t.prototype.unpause=function(){if(this.paused)return this.paused=!1,this.errorCount=0,this.startGettingServerData()},t.prototype.isPaused=function(){return this.paused},t.prototype.remove=function(){return this.pause()},t.prototype.setQueryString=function(e){var t;return this.queryString=e,null!=(t=this.inflightReq)&&t.cancel(),r.clearETag(this.getURL()),this.errorCount=0},t.prototype.startGettingServerData=function(){return r.clearETag(this.getURL()),this.getServerData()},t.prototype.errorDelay=5e3,t.prototype.getServerData=function(){var t,n,i,o,a,s,l;if(!this.paused)return s=this.getURL(),n=r({verb:"GET",url:s,ifNoneMatch:!0,timeout:15e3}),this.inflightReq=n,l=this,i=function(){var t;return l.inflightReq=null,l.errorCount>3?(r.clearETag(l.getURL()),l.paused||"function"==typeof l.onError&&l.onError(),l.errorCount=0,void e.delay(function(){return l.startGettingServerData()},l.errorDelay)):(t=l.perf.get("performance/fromServerThrottleTime"))>0?g.setTimeout(function(){return l.getServerData()},t):l.getServerData()},t=function(e){var t,n;return n=e.status,t=e.response,304===n?{}:g.JSON.parse(t)},a=function(e){return function(t){return e.paused||"function"==typeof e.onReceivedServerData&&e.onReceivedServerData(t),e.errorCount=0,i()}}(this),o=function(e){return function(){return e.errorCount++,i()}}(this),n.then(t).then(a,o).done()},t}(),f=function(t){function o(t){var n,r,i;this.baseURL=t.baseURL,this.onFirstData=t.onFirstData,this.perf=t.perf,this.onError=t.onError,this.onErrorRemoved=t.onErrorRemoved,o.__super__.constructor.call(this),this.getMixParameterTypeForKey=e.memoize(this.doGetMixParameterTypeForKey),this.setInternal=this.constructor.__super__.set,this.errorCount=0,this.sendPending=this.doSendPending,this.pending={},this.clientID=Math.floor(Math.random()*(Math.pow(2,31)-1)),i=this,n=function(){return null==i.alert&&(i.alert=new a("Could Not Communicate With Device")),"function"==typeof i.onError?i.onError():void 0},r=function(t){return function(n){if(t.processServerData(n),null!=t.alert&&(t.alert.remove(),("function"==typeof t.onErrorRemoved?t.onErrorRemoved():void 0)&&e.defer(function(){return t.onErrorRemoved()}),t.alert=null),null!=t.onFirstData)return t.onFirstData(),delete t.onFirstData}}(this),this.datastorePoller=new v({pollURL:this.baseURL+"datastore",queryString:"client="+g.encodeURIComponent(this.clientID),perf:this.perf,onReceivedServerData:r,onError:n})}return b(o,t),o.prototype.set=function(e,t){var n;if("authInfo"!==e&&this.setInternal(e,t),this.valid(e))return(n={})[e]=t,this.sendToServer(n)},o.prototype.setMultiple=function(e){var t,n,r;for(t in n={},e)r=e[t],this.setInternal(t,r),this.valid(t)&&(n[t]=r);return this.sendToServer(n)},o.prototype.valid=function(t){return e.has(this.data,t)},o.prototype.doGetMixParameterTypeForKey=function(e){var t,r;return/matrix\/.+\/send/.test(e)?new n(["real",0,0,4,"linear"]):/matrix\/.+\/pan/.test(e)?new n(["real",0,-1,1,"pan"]):(t=null!=(r=this.get("mix/ctrls/"+e))?r.split(":"):void 0)?new n(t):null},o.prototype.getParameterTypeForPath=function(e){var t,n;return null!=(t=null!=(n=/^mix\/(\w+)\/(\d+)\/(.+)$/.exec(e))?n[3]:void 0)?this.getMixParameterTypeForKey(t):null},o.prototype.sendToServer=function(t){return e.extend(this.pending,t),this.sendPending()},o.prototype.processServerData=function(e){var t,n,r;for(t in null==this.onFirstData||u.shipping||l.checkDatastore(e),n=[],e)r=e[t],this.data[t]=r,n.push(this.setInternal(t,r));return n},o.prototype.doSendPending=function(){var t,n,o,s,c,h,p;for(t in u.shipping||l.checkWrite(this.pending),s={},o=this.pending)h=o[t],e.isString(h)&&(c=i.truncateToUTF8(h,64))!==h&&(this.pending[t]=c,s[t]=c);if(e.size(s)&&e.defer((p=this,function(){for(t in s)h=s[t],p.setInternal(t,h)})),r({verb:"POST",url:this.baseURL+"datastore?client="+g.encodeURIComponent(this.clientID),data:{json:JSON.stringify(this.pending)},guid:this.get("uid")}).then(void 0,function(e){return function(t){return r.clearETag(e.getURL()),e.onError(t),null!=e.alert?e.alert:e.alert=new a("Could Not Communicate With Device")}}(this)).done(),this.pending={},(n=this.perf.get("performance/toServerThrottleTime"))!==this.currThrottleToServer)return this.sendPending=null!=n?e.throttle(function(e){return function(){return e.doSendPending()}}(this),n):this.doSendPending,this.currThrottleToServer=n},o.prototype.remove=function(){var e;return null!=(e=this.alert)&&e.remove(),this.datastorePoller.remove(),this.data={}},o}(t.Source),m=function(e){function t(e){var n;this.perf=e.perf,n=e.onReceivedServerData,this.baseURL=e.baseURL,t.__super__.constructor.call(this,"meters/"),this.meterRequests={},this.meterRequest="",this.lastMeterRequest="",this.meterPoller=new v({pollURL:this.baseURL+"meters",queryString:"",perf:this.perf,onReceivedServerData:n,paused:!0})}return b(t,e),t.prototype.getMeterForPath=function(e){var t;return this.valid(e)?null!=(t=/^meters\/((:?\w+)\/(:?\w+)).*$/.exec(e))?t[1]:void 0:null},t.prototype.addListener=function(e,n){var r,i;if(t.__super__.addListener.call(this,e,n),null!=(i=this.getMeterForPath(e))&&(null==(r=this.meterRequests)[i]&&(r[i]=0),this.meterRequests[i]++,1===this.meterRequests[i]))return this.recalcMeterRequest(this.meterRequests)},t.prototype.recalcMeterRequest=function(e){var t;for(t in this.meterRequest="",e)e[t]>0&&(this.meterRequest+=t+":");if(this.meterRequest.length&&(this.meterRequest=this.meterRequest.slice(0,this.meterRequest.length-1)),this.lastMeterRequest!==this.meterRequest)return this.meterRequest.length?(this.meterPoller.setQueryString("meters="+this.meterRequest),this.meterPoller.isPaused()&&this.meterPoller.unpause()):this.meterPoller.pause(),this.lastMeterRequest=this.meterRequest},t.prototype.removeListener=function(e,n){var r;if(t.__super__.removeListener.call(this,e,n),null!=(r=this.getMeterForPath(e))&&null!=this.meterRequests[r]&&(this.meterRequests[r]--,0===this.meterRequests[r]))return this.recalcMeterRequest(this.meterRequests)},t.prototype.remove=function(){return this.meterPoller.remove()},t}(t.ScopedSource),(d=function(n){function a(n){var r,o,s;this.baseURL=n.baseURL,this.prefs=n.prefs,this.perf=n.perf,this.creationDefer=n.creationDefer,o=n.onError,this.SubDevice=a.SubDevice,this.devSrc=new f({baseURL:this.baseURL,perf:this.perf,onError:o,onFirstData:(s=this,function(){return s.setup()}),onErrorRemoved:function(e){return function(){return h.showIfNecessary({dev:e})}}(this)}),this.meta=new t.ScopedSource("meta"),this.meters=new m({perf:this.perf,baseURL:this.baseURL,onReceivedServerData:function(e){return function(t){return e.receivedMeterData(t)}}(this)}),this.dispatcherSrc=new t.DispatcherSource({pref:this.prefs,perf:this.perf,meta:this.meta,mete:this.meters,"":this.devSrc}),this.alert=null,r=e.difference(t.Source.prototype.publicMethods,e.keys(a.prototype)),i.forwardMethods(this,"setMultiple",this.devSrc),i.forwardMethods(this,r,this.dispatcherSrc)}return b(a,n),a.prototype.deviceData=function(){return this.devSrc.data},a.prototype.mixer=null,a.prototype.router=null,a.prototype.preset=null,a.prototype.avb=null,a.prototype.enterReactiveContext=function(e){var t;return a.__super__.enterReactiveContext.call(this,e),null!=(t=this.utils)?t.reseat(e):void 0},a.prototype.leaveReactiveContext=function(e){var t;return a.__super__.leaveReactiveContext.call(this,e),null!=(t=this.utils)?t.reseat(e):void 0},a.prototype.remove=function(){var e,t,n;return null!=(e=this.utils)&&e.remove(),this.dispatcherSrc.remove(),this.devSrc.remove(),this.meters.remove(),null!=(t=this.presetReaction)&&t.remove(),null!=(n=this.alert)&&n.remove(),this.alert=null},a.prototype.setup=function(){return this.utils=new o(this),null!=this.creationDefer&&(this.creationDefer.resolve(this),delete this.creationDefer),this.presetReaction=new t.Function(this.devSrc,(e=this,function(t){var n,r,i;if(u.works({dev:t,cap:"preset"}))return null==(n=t.get("ext/presets/load"))&&(n=0),0===n?(null!=(r=e.alert)&&r.remove(),null!=e.alert?e.alert:e.alert=null):(null!=(i=e.alert)&&i.remove(),e.alert=new c({node:document.body}))}));var e},a.prototype.receivedMeterData=function(e){var t;return null!=(t=this.mixer)?t.receivedMeterData(e):void 0},a.prototype.checkAuth=function(e,t){return r({verb:"POST",url:this.baseURL+"auth",data:"",guid:this.devSrc.get("uid")}).then(function(e){return t()},function(t){if(401===t.status)return e()}).done()},a.prototype.setPassword=function(e,t,n){return r({verb:"POST",url:this.baseURL+"auth",data:{json:JSON.stringify({pwd:""+e})},guid:this.devSrc.get("uid")}).then(function(e){return n()},function(e){if(401===e.status)return t()}).done()},a.Make=function(e){var t,n,r,i,o;return t=e.baseURL,o=e.prefs,i=e.perf,r=e.onError,new a({baseURL:t,prefs:o,perf:i,creationDefer:n=s.defer(),onError:r}),n.promise},a.AddDataStoreListener=function(e){var t,n,r,i;return i=e.perf,t=e.baseURL,n=e.callback,r=e.id,new v({pollURL:t+"datastore",queryString:"client="+g.encodeURIComponent(r),perf:i,onReceivedServerData:n})},a.AddMeterListener=function(e){var t,n,r;return r=e.perf,t=e.baseURL,n=e.callback,new v({pollURL:t+"meters",queryString:"meters=mix/gate:mix/comp:mix/level:mix/leveler:ext/input",perf:r,onReceivedServerData:n,paused:!0})},a}(t.Source)).SubDevice=function(e){function t(e){var n,r,o,a,s;for(e=null!=(o=e.subDev)?o:e,t.__super__.constructor.call(this,e),this.subDev=e,this.SubDevice=d.SubDevice,n=0,r=(a=e.utils.all).length;n<r;n++)this[s=a[n]]=e[s];this.utils=e.utils,this.perf=e.perf,this.baseURL=e.baseURL,i.forwardMethods(this,["setMultiple","deviceData"],e)}return b(t,e),t}(t.SubSource),d}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(3),n(16),n(1),n(5),n(51),n(41),n(421),n(21),n(396)],void 0===(i=function(e,t,n,r,i,o,a,s,l){var u,c=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},h=function(e,t){return function(){return e.apply(t,arguments)}};return u=function(){var u;function h(e){var t,n,r;this.baseURL=e.baseURL,this.prefs=e.prefs,this.perf=e.perf,this.serviceType=e.serviceType,this.node=e.node,this.retarget=e.retarget,this.onSwitchDevice=e.onSwitchDevice,t=this.baseURL,c.call(u,t)>=0&&(this.baseURL=null),u=[],this.spinner=new o({node:document.body}),this.eventHandlers=[],a.Make({baseURL:null!=(n=this.baseURL)?n:"",prefs:this.prefs,perf:this.perf,onError:(r=this,function(){return r.onDeviceError()})}).then(function(e){return function(t){return e.init(t)}}(this)).done()}return h.prototype.curDevPref="preferences/currdevice",h.prototype.devListPath="avb/devs",u=[],h.prototype.failWithMessage=function(e){var t,r;if(!this.failed&&(null!=(t=this.alert)&&t.remove(),this.alert=new i(e),this.baseURL))return this.failed=!0,this.baseURL?n.defer((r=this,function(){return r.retarget(null)})):void 0},h.prototype.blacklistURL=function(){var e;if(null!=this.baseURL&&(e=this.baseURL,!(c.call(u,e)>=0)))return u.push(this.baseURL)},h.prototype.unblacklistURL=function(e){return u=n.without(u,e)},h.prototype.onDeviceError=function(){if(null!=this.baseURL)return this.blacklistURL(),this.failWithMessage("Could Not Communicate With Device")},h.prototype.init=function(i){var o;if(this.dev=i,!this.dead)return this.reaction=new r.Function(this.dev,(o=this,function(i){var a,h,p,d,f,v,m,g,b;if(!s.works({dev:i,cap:"avb"}))return o.failWithMessage("Could not communicate with the device because it is the wrong version"),void o.blacklistURL();if(!(h=n.filter(i.avb.getDevs(),function(e){return!i.avb.isControllerIgnore(e)})).length)return o.failWithMessage("No AVB Devices Available"),void o.blacklistURL();if(g=i.get(o.curDevPref),c.call(h,g)<0)n.defer(function(){var e;return e=o.dev.get("uid"),c.call(h,e)>=0?o.dev.set(o.curDevPref,o.dev.get("uid")):o.dev.set(o.curDevPref,h[0])});else if(a=(p=l({dev:i,uid:g,serviceType:o.serviceType,badURLs:u})).action,b=p.url,o.unblacklistURL(b),"retarget"!==a)if("redirect"!==a){if(null!=(d=o.alert)&&d.remove(),null!=(f=o.listReaction)&&f.remove(),o.listReaction=new r.Function(o.dev,function(i){var a,s,l,u,c,p,d;for(s=0,u=(p=o.eventHandlers).length;s<u;s++)p[s].remove();for(o.eventHandlers=[],e.removeChildren(o.node),d=[],l=0,c=(h=n.sortBy(h,function(e){return i.avb.getName(e)+" "+e})).length;l<c;l++)a=h[l],d.push(function(n){var i,a;return i=e.appendSpec(o.node,{type:"li",className:"item"}),a=e.appendSpec(i,{type:"span",className:"dev-list-item"}),e.setClass(i,"selected",n===g),o.eventHandlers.push(new r.Function(o.dev,function(t){return e.setClass(a,"identify",t.avb.getIdentify(n)),e.setClass(a,"acquired",t.avb.isAcquired(n)),a.textContent=t.avb.getName(n)})),o.eventHandlers.push(new t.FunctionButton({node:i,f:function(){return o.setGuid(n)}}))}(a));return d}),null!=(v=o.spinner)&&v.remove(),m={guid:g,action:a,url:b},!n.isEqual(o.lastTarget,m))return o.lastTarget=m,n.defer(function(){return o.onSwitchDevice(g)})}else n.defer(function(){return window.location=b});else n.defer(function(){return o.retarget(b)})}))},h.prototype.setGuid=function(e){if(e!==this.dev.get(this.curDevPref))return this.dev.set(this.curDevPref,e)},h.prototype.remove=function(){var e,t,n,r,i,o,a,s;for(this.dead=!0,null!=(n=this.listReaction)&&n.remove(),null!=(r=this.dev)&&r.remove(),null!=(i=this.alert)&&i.remove(),null!=(o=this.reaction)&&o.remove(),null!=(a=this.spinner)&&a.remove(),e=0,t=(s=this.eventHandlers).length;e<t;e++)s[e].remove();return this.eventHandlers=[]},h}(),function(){function e(e){this.prefs=e.prefs,this.perf=e.perf,this.serviceType=e.serviceType,this.onSwitchDevice=e.onSwitchDevice,this.node=e.node,this.retarget=h(this.retarget,this),this.retarget(null)}return e.prototype.retarget=function(e){var t;return null!=(t=this.deviceList)&&t.remove(),this.deviceList=new u({prefs:this.prefs,perf:this.perf,serviceType:this.serviceType,onSwitchDevice:this.onSwitchDevice,node:this.node,baseURL:e,retarget:this.retarget})},e.prototype.getDevice=function(){return this.deviceList.dev},e.prototype.remove=function(){var e;return null!=(e=this.deviceList)?e.remove():void 0},e}()}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(1),n(2),n(186)],void 0===(i=function(e,t,n){var r={}.hasOwnProperty;return function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(t,n),t.prototype.yell=!0,t.prototype.get=function(e){return this.yell&&(alert("IF YOU ARE USING THIS IN IMPLEMENTATION I WILL FIND YOU"),this.yell=!1),t.__super__.get.apply(this,arguments)},t.prototype.set=function(e,n){return this.yell&&(alert("IF YOU ARE USING THIS IN IMPLEMENTATION I WILL FIND YOU"),this.yell=!1),t.__super__.set.apply(this,arguments)},t}()}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(30),n(55),n(185)],void 0===(i=function(e,t,n){var r,i={}.hasOwnProperty;return r={Hz:"Octave"},function(t){function o(e){this.fixedType=e.type,this.fixedWarpType=e.warptype,this.nowarp=e.nowarp,o.__super__.constructor.call(this,e.src)}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(o,n),o.prototype.resolveType=function(){return null!=this.fixedType?this.fixedType:this.src.getParameterTypeForPath(this.path)},o.prototype.resolveWarpType=function(){var e,t;return null!=this.fixedWarpType?this.fixedWarpType:(null!=(null!=(e=this.type)?e.unit:void 0)&&(t=r[this.type.unit]),null!=t?t:"Identity")},o.prototype.doAddValue=function(){return this.type=this.resolveType(),this.warptype=this.resolveWarpType(),this.nowarp||(this.warper=new e[this.warptype](this.type)),o.__super__.doAddValue.call(this)},o.prototype.doRemoveValue=function(){return this.warp=null,o.__super__.doRemoveValue.call(this)},o.prototype.doUpdate=function(e){return null!=e.value&&null!=this.warper&&(e.value=this.warper.warp(this.type.toNormalizedValue(+e.value))),o.__super__.doUpdate.call(this,e)},o}()}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(1),n(2),n(55),n(119)],void 0===(i=function(e,t,n,r){var i={}.hasOwnProperty,o=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};return function(a){function s(r,i){s.__super__.constructor.call(this,{slots:{},src:r,f:i}),this.lastSlots=[],this.callIfNothingChanged=!0,null==s.toForward&&(s.toForward=e.difference(n.prototype.publicMethods,e.keys(s.prototype))),t.forwardMethods(this,s.toForward,this.src),this.inval()}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(s,r),s.prototype.valid=function(e){return this.src.valid(e)},s.prototype.hasSlot=function(e){var t,n,r,i;for(t=!1,n=0,r=(i=this.slots).length;n<r;n++)if(i[n].key===e){t=!0;break}return t},s.prototype.addLastSlot=function(e){return this.lastSlots.push(e)},s.prototype.get=function(e){return this.hasSlot(e)||this.addSlot(e,e),this.addLastSlot(e),this.src.get(e)},s.prototype.set=function(e,t){return this.hasSlot(e)&&this.removeSlot(e),this.src.set(e,t)},s.prototype.enterReactiveContext=function(e){return this.src.enterReactiveContext(e)},s.prototype.leaveReactiveContext=function(e){return this.src.leaveReactiveContext(e)},s.prototype.removeListener=function(e,t){return this.src.removeListener(e,t)},s.prototype.addListener=function(e,t){return this.src.addListener(e,t)},s.prototype.getParameterTypeForPath=function(e){return this.src.getParameterTypeForPath(e)},s.prototype.removeIfNecessary=function(){var e,t,n,r,i,a,s,l;for(l=[],e=0,n=(i=this.slots).length;e<n;e++)a=(s=i[e]).key,o.call(this.lastSlots,a)<0&&l.push(s.key);for(t=0,r=l.length;t<r;t++)s=l[t],this.removeSlot(s)},s.prototype.inval=function(){var e;return t.clearArray(this.lastSlots),e=this.src.enterReactiveContext(this),this.f(this),this.src.leaveReactiveContext(e),this.removeIfNecessary()},s}()}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(55)],void 0===(i=function(e){var t={}.hasOwnProperty;return function(n){function r(e){var t,n,r;for(t in this.listeners={},this.lengths=[],this.sourcesByLength={},e)r=e[t],n=t.length,null==this.sourcesByLength[n]&&(this.lengths.push(n),this.sourcesByLength[n]={}),this.sourcesByLength[n][t]=r;this.lengths.sort().reverse()}return function(e,n){for(var r in n)t.call(n,r)&&(e[r]=n[r]);function i(){this.constructor=e}i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype}(r,e),r.prototype.get=function(e){var t;return null!=(t=this.getSrc(e))?t.get(e):void 0},r.prototype.set=function(e,t){var n;return null!=(n=this.getSrc(e))?n.set(e,t):void 0},r.prototype.getParameterTypeForPath=function(e){var t;return null!=(t=this.getSrc(e))?t.getParameterTypeForPath(e):void 0},r.prototype.enterReactiveContext=function(){},r.prototype.leaveReactiveContext=function(){},r.prototype.addListener=function(e,t){var n;return r.__super__.addListener.apply(this,arguments),null!=(n=this.getSrc(e))?n.addListener(e,t):void 0},r.prototype.removeListener=function(e,t){var n;return r.__super__.removeListener.apply(this,arguments),null!=(n=this.getSrc(e))?n.removeListener(e,t):void 0},r.prototype.valid=function(e){var t,n;return null!=(t=null!=(n=this.getSrc(e))?n.valid(e):void 0)&&t},r.prototype.getSrc=function(e){var t,n,r,i,o,a;if(null==(null!=e?e.substring:void 0))return null;for(t=0,n=(o=this.lengths).length;t<n;t++)if(r=o[t],i=e.substring(0,r),null!=(a=this.sourcesByLength[r][i]))return a;return null},r.prototype.remove=function(){var e,n,r,i,o,a,s;for(o in a=this.listeners)if(t.call(a,o))for(e=0,n=(i=a[o]).length;e<n;e++)r=i[e],null!=(s=this.getSrc(o))&&s.removeListener(o,r);return this.listeners={}},r}()}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(55)],void 0===(i=function(e){var t={}.hasOwnProperty;return function(n){function r(e){this.prefix=e,r.__super__.constructor.call(this)}return function(e,n){for(var r in n)t.call(n,r)&&(e[r]=n[r]);function i(){this.constructor=e}i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype}(r,e),r.prototype.valid=function(e){return(null!=e&&"function"==typeof e.substring?e.substring(0,this.prefix.length):void 0)===this.prefix},r}()}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict";var r,i;r=[n(1),n(187),n(379),n(341),n(336),n(199),n(194),n(3),n(149),n(66),n(190),n(22),n(38),n(188)],void 0===(i=function(e,t,n,r,i,o,a,s,l,u,c,h,p){var d,f,v;return window.onerror=function(){var e,t;if(null!=(e=document.getElementById("loading")))return t=document.querySelector("#loading .spinner"),s.remove(t),s.appendSpec(e,{type:"span",textContent:"An error occurred during loading"})},v=function(e){return(new window.Image).src=e},f=["img/disclosure-arrows.png","img/dot-grid-blue.png","img/gradient-top-bg.png","img/guitar.svg","img/header-grip.png","img/headphones.svg","img/iconset.png","img/input-tab-btn.png","img/knob-cap.png","img/mains.svg","img/meter-label-tick.png","img/meter-labels.png","img/monitors.svg","img/motu-logo.png","img/noise-bg.png","img/pan-knob-cap.png","img/power-btn.png","img/radiocheckbox.png","img/reverb.svg","img/spdif.svg","img/tabicons.png"],(d={}).run=function(){var e,d,m,g,b,y,C;if(!c)return(g=document.getElementById("loading")).removeChild(g.firstChild),void s.appendSpec(g,{type:"div",className:"browser-error",innerHTML:'This browser is not supported. Please <a href="http://whatbrowser.org">click here to learn more and to upgrade to a more modern browser.</a>'});for(d=0,m=f.length;d<m;d++)v(f[d]);return null!=(y=window.localStorage.getItem("themeURL"))&&p({url:y}).then(function(e){var t;return t=e.response,s.appendSpec(window.document.body,{type:"style",textContent:t})}).catch(function(){}),window.scrollTo(0,0),h.createGlobalListener(),C=this,b=function(e){var c,h;return"netiodevice"===(c=!(h=e.response))||"netiohost"===c?(s.remove(document.getElementById("loading")),void new Alert("Could not recognize server version.")):(C.regex=/(aux|group|reverb)([0-9]|10|11|12|13|14).html$/i,C.path=window.location.pathname,C.page=C.path.split("/").pop(),C.page.match(C.regex)?new t({panes:[i],prefs:l,perf:new u.PerformanceSettings,defaultPane:"aux-mixing",serviceType:h}):new t({panes:[n,r,o,i,a],prefs:l,perf:new u.PerformanceSettings,defaultPane:"device",serviceType:h}))},e=function(){s.remove(document.getElementById("loading")),new Alert("Could not communicate with server")},p({url:"/servicetype"}).then(b,e).done()},d}.apply(t,r))||(e.exports=i)},function(e,t,n){"use strict"},function(e,t,n){"use strict";Promise.resolve().then(function(){var e=[n(429)];(function(){Promise.resolve().then(function(){var e=[n(428)];(function(e){e.run()}).apply(null,e)}).catch(n.oe)}).apply(null,e)}).catch(n.oe)}]);